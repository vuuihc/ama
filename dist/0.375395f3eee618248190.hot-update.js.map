{"version":3,"sources":["webpack:///0.375395f3eee618248190.hot-update.js","webpack:///./src/javascripts/containers/lists/AskedMeList.js?88ea"],"names":["webpackHotUpdate","103","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactRouter","_Modal","_Modal2","_reactRedux","_QuestionItemAskedMe","_QuestionItemAskedMe2","_account","_Loading","_Loading2","_config","AskedMeList","_Component","this","_this","getPrototypeOf","state","afford","inviteCode","isTeacher","handleScroll","bind","data","getAskedMe","document","addEventListener","removeEventListener","requestBecomeTeacher","refs","modal","close","_props","completed","page","window","scrollY","innerHeight","body","clientHeight","_this2","_props2","userInfo","createElement","className","is_teacher","Link","to","baseUrl","user_id","map","item","index","question","onClick","e","open","left","top","ref","type","style","width","placeholder","onChange","setState","handleSubmit","Component","mapStateToProps","loading","account","askedMe","connect"],"mappings":"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","file":"0.375395f3eee618248190.hot-update.js","sourcesContent":["webpackHotUpdate(0,{\n\n/***/ 103:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(6);\n\t\n\t__webpack_require__(159);\n\t\n\tvar _Modal = __webpack_require__(95);\n\t\n\tvar _Modal2 = _interopRequireDefault(_Modal);\n\t\n\tvar _reactRedux = __webpack_require__(7);\n\t\n\tvar _QuestionItemAskedMe = __webpack_require__(101);\n\t\n\tvar _QuestionItemAskedMe2 = _interopRequireDefault(_QuestionItemAskedMe);\n\t\n\tvar _account = __webpack_require__(12);\n\t\n\tvar _Loading = __webpack_require__(16);\n\t\n\tvar _Loading2 = _interopRequireDefault(_Loading);\n\t\n\tvar _config = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AskedMeList = function (_Component) {\n\t  _inherits(AskedMeList, _Component);\n\t\n\t  function AskedMeList() {\n\t    _classCallCheck(this, AskedMeList);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AskedMeList).call(this));\n\t\n\t    _this.state = {\n\t      afford: '',\n\t      inviteCode: '',\n\t      isTeacher: true\n\t    };\n\t    _this.handleScroll = _this.handleScroll.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AskedMeList, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      if (this.props.data.length === 0) {\n\t        this.props.getAskedMe(1, 10);\n\t      }\n\t      document.addEventListener('scroll', this.handleScroll);\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      document.removeEventListener('scroll', this.handleScroll);\n\t    }\n\t  }, {\n\t    key: 'handleSubmit',\n\t    value: function handleSubmit() {\n\t      (0, _account.requestBecomeTeacher)(this.state.inviteCode, this.state.afford);\n\t      this.refs.modal.close();\n\t    }\n\t  }, {\n\t    key: 'handleScroll',\n\t    value: function handleScroll() {\n\t      var _props = this.props;\n\t      var completed = _props.completed;\n\t      var page = _props.page;\n\t\n\t      if (window.scrollY + window.innerHeight == document.body.clientHeight && !completed) {\n\t        this.props.getAskedMe(page, 10);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var _props2 = this.props;\n\t      var userInfo = _props2.userInfo;\n\t      var completed = _props2.completed;\n\t      var data = _props2.data;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'askedMeList' },\n\t        userInfo.is_teacher === '1' ?\n\t        //this.state.isTeacher ? (\n\t        data.length === 0 && completed ? _react2.default.createElement(\n\t          'div',\n\t          null,\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'hint' },\n\t            '还没有人问你'\n\t          ),\n\t          _react2.default.createElement(\n\t            _reactRouter.Link,\n\t            { to: _config.baseUrl + 'tutor/share/' + userInfo.user_id },\n\t            _react2.default.createElement(\n\t              'button',\n\t              { className: 'becomeTutor' },\n\t              '让更多人了解你'\n\t            )\n\t          )\n\t        ) : _react2.default.createElement(\n\t          'div',\n\t          null,\n\t          data.map(function (item, index) {\n\t            return _react2.default.createElement(_QuestionItemAskedMe2.default, { question: item, key: index });\n\t          }),\n\t          _react2.default.createElement(_Loading2.default, { completed: completed })\n\t        ) : _react2.default.createElement(\n\t          'div',\n\t          null,\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'hint' },\n\t            '您还不是导师哦~'\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'email' },\n\t            '发送个人简历到renzheng@7dyk.com'\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'next' },\n\t            '审核通过后我们会以邮件的形式发放邀请码'\n\t          ),\n\t          _react2.default.createElement(\n\t            'button',\n\t            { className: 'becomeTutor', onClick: function onClick(e) {\n\t                _this2.refs.modal.open();\n\t              } },\n\t            '成为导师'\n\t          ),\n\t          _react2.default.createElement(\n\t            _Modal2.default,\n\t            { left: '22', top: '225', ref: 'modal' },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'invitation' },\n\t              _react2.default.createElement(\n\t                'span',\n\t                null,\n\t                '邀请码'\n\t              ),\n\t              _react2.default.createElement('input', {\n\t                type: 'text',\n\t                className: 'no-underline',\n\t                style: { width: '4rem' },\n\t                value: this.state.inviteCode,\n\t                placeholder: '请输入您的邀请码',\n\t                onChange: function onChange(e) {\n\t                  _this2.setState({ inviteCode: e.target.value });\n\t                }\n\t              })\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'afford' },\n\t              _react2.default.createElement(\n\t                'span',\n\t                null,\n\t                '向我提问需要支付'\n\t              ),\n\t              _react2.default.createElement('input', {\n\t                type: 'text',\n\t                style: { width: '1.2rem' },\n\t                className: 'no-underline',\n\t                value: this.state.afford,\n\t                onChange: function onChange(e) {\n\t                  _this2.setState({ afford: e.target.value });\n\t                }\n\t              }),\n\t              _react2.default.createElement(\n\t                'span',\n\t                null,\n\t                '元'\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'submit', onClick: this.handleSubmit.bind(this) },\n\t              '确定'\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return AskedMeList;\n\t}(_react.Component);\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    loading: state.account.askedMe.loading,\n\t    data: state.account.askedMe.data,\n\t    completed: state.account.askedMe.completed,\n\t    userInfo: state.account.userInfo,\n\t    page: state.account.askedMe.page\n\t  };\n\t};\n\t\n\tAskedMeList = (0, _reactRedux.connect)(mapStateToProps, { getAskedMe: _account.getAskedMe, requestBecomeTeacher: _account.requestBecomeTeacher })(AskedMeList);\n\t\n\texports.default = AskedMeList;\n\n/***/ }\n\n})\n\n\n/** WEBPACK FOOTER **\n ** 0.375395f3eee618248190.hot-update.js\n **/","import React, {Component} from 'react';\r\nimport {Link} from 'react-router';\r\nimport '../../../stylesheets/partials/modules/AskedMeList.scss';\r\nimport Modal from '../Modal';\r\nimport {connect} from 'react-redux'\r\nimport QuestionItemAskedMe from '../blocks/QuestionItemAskedMe';\r\nimport {getAskedMe, requestBecomeTeacher} from '../../actions/account'\r\nimport Loading from '../Loading2'\r\nimport { baseUrl } from \"../../api/config\"\r\nclass AskedMeList extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      afford: '',\r\n      inviteCode: '',\r\n      isTeacher: true\r\n    }\r\n    this.handleScroll = this.handleScroll.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.data.length === 0) {\r\n      this.props.getAskedMe(1, 10);\r\n    }\r\n    document.addEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n  handleSubmit() {\r\n    requestBecomeTeacher(this.state.inviteCode, this.state.afford);\r\n    this.refs.modal.close();\r\n  }\r\n  handleScroll() {\r\n    const {completed, page} = this.props;\r\n    if (window.scrollY + window.innerHeight == document.body.clientHeight && !completed) {\r\n      this.props.getAskedMe(page, 10);\r\n    }\r\n  }\r\n  render() {\r\n    const {userInfo, completed, data} = this.props;\r\n    return (\r\n      <div className=\"askedMeList\">\r\n        {\r\n          userInfo.is_teacher === '1' ? (\r\n          //this.state.isTeacher ? (\r\n            (data.length === 0) && completed\r\n              ? (\r\n              <div>\r\n                <div className=\"hint\">\r\n                  还没有人问你\r\n                </div>\r\n                <Link to={`${baseUrl}tutor/share/${userInfo.user_id}`}>\r\n                    <button className=\"becomeTutor\">\r\n                        让更多人了解你\r\n                    </button>\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {\r\n                  data.map((item, index)=> {\r\n                    return <QuestionItemAskedMe question={item} key={index} />;\r\n                  })\r\n                }\r\n                {/*<div onClick={e=>{this.setState({isTeacher: !this.state.isTeacher});}}>切换</div>*/}\r\n                {\r\n                  <Loading completed = {completed} />\r\n                }\r\n              </div>\r\n            )\r\n          ) : (\r\n            <div>\r\n              <div className=\"hint\">\r\n                您还不是导师哦~\r\n              </div>\r\n              <div className=\"email\">\r\n                发送个人简历到renzheng@7dyk.com\r\n              </div>\r\n              <div className=\"next\">\r\n                审核通过后我们会以邮件的形式发放邀请码\r\n              </div>\r\n              <button className=\"becomeTutor\" onClick={(e)=>{this.refs.modal.open()}}>\r\n                成为导师\r\n              </button>\r\n              <Modal left=\"22\" top=\"225\" ref=\"modal\">\r\n                <div className=\"invitation\">\r\n                  <span>邀请码</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"no-underline\"\r\n                    style={{width:`4rem`}}\r\n                    value={this.state.inviteCode}\r\n                    placeholder=\"请输入您的邀请码\"\r\n                    onChange={(e)=>{this.setState({inviteCode:e.target.value})}}\r\n                  />\r\n                </div>\r\n                <div className=\"afford\">\r\n                  <span>向我提问需要支付</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    style={{width:`1.2rem`}}\r\n                    className=\"no-underline\"\r\n                    value={this.state.afford}\r\n                    onChange={(e)=>{this.setState({afford:e.target.value})}}\r\n                  />\r\n                  <span>元</span>\r\n                </div>\r\n                <div className=\"submit\" onClick={this.handleSubmit.bind(this)}>确定</div>\r\n              </Modal>\r\n              {/* */ }\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.account.askedMe.loading,\r\n    data: state.account.askedMe.data,\r\n    completed: state.account.askedMe.completed,\r\n    userInfo: state.account.userInfo,\r\n    page: state.account.askedMe.page\r\n  }\r\n}\r\n\r\nAskedMeList = connect(mapStateToProps, {getAskedMe, requestBecomeTeacher})(AskedMeList);\r\n\r\nexport default AskedMeList;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/javascripts/containers/lists/AskedMeList.js\n **/"],"sourceRoot":""}