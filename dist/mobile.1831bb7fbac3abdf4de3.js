!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=d.p+""+e+"."+b+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var t=new XMLHttpRequest,n=d.p+""+b+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(t){return e(t)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(t.responseText)}catch(t){return void e(t)}e(null,r)}}}function r(e){function t(e,t){"ready"===O&&a("prepare"),S++,d.e(e,function(){function n(){S--,"prepare"===O&&(R[e]||c(e),0===S&&0===A&&l())}try{t.call(null,r)}finally{n()}})}var n=T[e];if(!n)return d;var r=function(t){return n.hot.active?T[t]?(T[t].parents.indexOf(e)<0&&T[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):_=[e]:(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),_=[]),d(t)};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(h?Object.defineProperty(r,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return d[e]},set:function(t){d[e]=t}}}(o)):r[o]=d[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:t}):r.e=t,r}function o(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:u,apply:f,status:function(e){return e?void w.push(e):O},addStatusHandler:function(e){w.push(e)},removeStatusHandler:function(e){var t=w.indexOf(e);t>=0&&w.splice(t,1)},data:g[e]};return t}function a(e){O=e;for(var t=0;t<w.length;t++)w[t].call(null,e)}function i(e){var t=+e+""===e;return t?+e:e}function u(e,t){if("idle"!==O)throw new Error("check() is only allowed in idle status");"function"==typeof e?(E=!1,t=e):(E=e,t=t||function(e){if(e)throw e}),a("check"),n(function(e,n){if(e)return t(e);if(!n)return a("idle"),void t(null,null);P={},N={},R={};for(var r=0;r<n.c.length;r++)N[n.c[r]]=!0;v=n.h,a("prepare"),m=t,y={};var o=0;c(o),"prepare"===O&&0===S&&0===A&&l()})}function s(e,t){if(N[e]&&P[e]){P[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0===--A&&0===S&&l()}}function c(e){N[e]?(P[e]=!0,A++,t(e)):R[e]=!0}function l(){a("ready");var e=m;if(m=null,e)if(E)f(E,e);else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(i(n));e(null,t)}}function f(t,n){function r(e){for(var t=[e],n={},r=t.slice();r.length>0;){var a=r.pop(),e=T[a];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return new Error("Aborted because of self decline: "+a);if(0===a)return;for(var i=0;i<e.parents.length;i++){var u=e.parents[i],s=T[u];if(s.hot._declinedDependencies[a])return new Error("Aborted because of declined dependency: "+a+" in "+u);t.indexOf(u)>=0||(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),o(n[u],[a])):(delete n[u],t.push(u),r.push(u)))}}}return[t,n]}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==O)throw new Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var u={},s=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=i(l),p=r(f);if(!p){if(t.ignoreUnaccepted)continue;return a("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(p instanceof Error)return a("abort"),n(p);c[f]=y[f],o(s,p[0]);for(var f in p[1])Object.prototype.hasOwnProperty.call(p[1],f)&&(u[f]||(u[f]=[]),o(u[f],p[1][f]))}for(var h=[],m=0;m<s.length;m++){var f=s[m];T[f]&&T[f].hot._selfAccepted&&h.push({module:f,errorHandler:T[f].hot._selfAccepted})}a("dispose");for(var E=s.slice();E.length>0;){var f=E.pop(),w=T[f];if(w){for(var A={},S=w.hot._disposeHandlers,R=0;R<S.length;R++){var P=S[R];P(A)}g[f]=A,w.hot.active=!1,delete T[f];for(var R=0;R<w.children.length;R++){var N=T[w.children[R]];if(N){var C=N.parents.indexOf(f);C>=0&&N.parents.splice(C,1)}}}}for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f))for(var w=T[f],j=u[f],R=0;R<j.length;R++){var I=j[R],C=w.children.indexOf(I);C>=0&&w.children.splice(C,1)}a("apply"),b=v;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e[f]=c[f]);var k=null;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){for(var w=T[f],j=u[f],x=[],m=0;m<j.length;m++){var I=j[m],P=w.hot._acceptedDependencies[I];x.indexOf(P)>=0||x.push(P)}for(var m=0;m<x.length;m++){var P=x[m];try{P(u)}catch(e){k||(k=e)}}}for(var m=0;m<h.length;m++){var M=h[m],f=M.module;_=[f];try{d(f)}catch(e){if("function"==typeof M.errorHandler)try{M.errorHandler(e)}catch(e){k||(k=e)}else k||(k=e)}}return k?(a("fail"),n(k)):(a("idle"),void n(null,s))}function d(t){if(T[t])return T[t].exports;var n=T[t]={exports:{},id:t,loaded:!1,hot:o(t),parents:_,children:[]};return e[t].call(n.exports,n,n.exports,r(t)),n.loaded=!0,n.exports}var p=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){s(e,t),p&&p(e,t)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(e){}var m,y,v,E=!0,b="1831bb7fbac3abdf4de3",g={},_=[],w=[],O="idle",A=0,S=0,R={},P={},N={},T={};return d.m=e,d.c=T,d.p="http://h5app.7dyk.com/ama/7dyk/dist/",d.h=function(){return b},r(0)(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(151);var o=n(1),a=r(o),i=n(24),u=r(i),s=n(5),c=n(4);n(!function(){var e=new Error('Cannot find module "../stylesheets/style.scss"');throw e.code="MODULE_NOT_FOUND",e}());var l=n(72),f=r(l),d=n(73),p=r(d),h=n(76),m=r(h),y=n(71),v=r(y),E=n(92),b=r(E),g=n(90),_=r(g),w=n(91),O=r(w),A=n(77),S=r(A),R=n(80),P=r(R),N=n(84),T=r(N),C=n(86),j=r(C),I=n(87),k=r(I),x=n(93),M=r(x),D=n(75),U=r(D),L=n(46),H=r(L),V=n(82),B=r(V),q=n(81),F=r(q),Q=n(74),W=r(Q),X=n(83),G=r(X),J=n(104),Z=r(J),Y=n(3),z=(0,Z.default)();c.browserHistory.listen(function(e){console.log("发送当前网址到谷歌统计"),console.log(window.location),window.landPage||(window.landPage=window.location.pathname),ga&&ga("send","pageview",{page:window.location.href,title:window.location.pathname})}),u.default.render(a.default.createElement(s.Provider,{store:z},a.default.createElement(c.Router,{history:c.browserHistory},a.default.createElement(c.Route,{path:"/ama/7dyk/test",component:G.default}),a.default.createElement(c.Route,{path:Y.baseUrl,component:f.default},a.default.createElement(c.IndexRoute,{component:p.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"pay",component:W.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"tutor",component:m.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"account",component:v.default},a.default.createElement(c.IndexRoute,{component:b.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"account/AskedMeList",component:_.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"account/IAskedList",component:O.default})),a.default.createElement(c.Route,{path:Y.baseUrl+"answer/:id",component:M.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"edit",component:S.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"question/:id",component:P.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"tutor"},a.default.createElement(c.Route,{path:Y.baseUrl+"tutor/:id",component:T.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"tutor/share/:id",component:j.default})),a.default.createElement(c.Route,{path:Y.baseUrl+"user/:id",component:k.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"search",component:U.default},a.default.createElement(c.Route,{path:Y.baseUrl+"search/result/:query",component:B.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"search/list/:type/:query",component:F.default}),a.default.createElement(c.Route,{path:Y.baseUrl+"search/tips",component:H.default}))))),document.getElementById("root"))},function(e,t){e.exports=React},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){m&&p&&(m=!1,p.length?h=p.concat(h):y=-1,h.length&&u())}function u(){if(!m){var e=o(i);m=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,m=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||m||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.domain="http://h5app.7dyk.com/ama/api/public",t.baseUrl="/ama/7dyk/",t.domainPath="http://h5app.7dyk.com/ama/7dyk/"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.PropTypes=t.RoutingContext=t.RouterContext=t.createRoutes=t.useRoutes=t.RouteContext=t.Lifecycle=t.History=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var o=n(11);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return o.createRoutes}});var a=n(42);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return a.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return a.routerShape}});var i=n(20);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return i.formatPattern}});var u=n(125),s=r(u),c=n(56),l=r(c),f=n(119),d=r(f),p=n(138),h=r(p),m=n(120),y=r(m),v=n(121),E=r(v),b=n(57),g=r(b),_=n(123),w=r(_),O=n(118),A=r(O),S=n(122),R=r(S),P=n(124),N=r(P),T=n(137),C=r(T),j=n(31),I=r(j),k=n(126),x=r(k),M=r(a),D=n(135),U=r(D),L=n(62),H=r(L),V=n(128),B=r(V),q=n(129),F=r(q),Q=n(133),W=r(Q),X=n(59),G=r(X);t.Router=s.default,t.Link=l.default,t.IndexLink=d.default,t.withRouter=h.default,t.IndexRedirect=y.default,t.IndexRoute=E.default,t.Redirect=g.default,t.Route=w.default,t.History=A.default,t.Lifecycle=R.default,t.RouteContext=N.default,t.useRoutes=C.default,t.RouterContext=I.default,t.RoutingContext=x.default,t.PropTypes=M.default,t.match=U.default,t.useRouterHistory=H.default,t.applyRouterMiddleware=B.default,t.browserHistory=F.default,t.hashHistory=W.default,t.createMemoryHistory=G.default},function(e,t,n){!function(t,r){e.exports=r(n(1),n(33))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(5),a=r(o),i=n(6),u=r(i);t.Provider=a.default,t.connect=u.default},function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){var r=n(17),o=r.Symbol;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var u=n(1),s=n(2),c=r(s),l=n(3),f=(r(l),function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return u.Children.only(this.props.children)},t}(u.Component));t.default=f,f.propTypes={store:c.default.isRequired,children:u.PropTypes.element.isRequired},f.childContextTypes={store:c.default.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e,t){try{return e.apply(t)}catch(e){return P.value=e,P}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=!!e,d=e||A,h=void 0;h="function"==typeof t?t:t?(0,v.default)(t):S;var y=n||R,E=r.pure,b=void 0===E||E,g=r.withRef,w=void 0!==g&&g,T=b&&y!==R,C=N++;return function(e){function t(e,t,n){var r=y(e,t,n);return r}var n="Connect("+u(e)+")",r=function(r){function u(e,t){o(this,u);var i=a(this,r.call(this,e,t));i.version=C,i.store=e.store||t.store,(0,O.default)(i.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var s=i.store.getState();return i.state={storeState:s},i.clearCache(),i}return i(u,r),u.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},u.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},u.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},u.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},u.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return!(this.stateProps&&(0,m.default)(e,this.stateProps)||(this.stateProps=e,0))},u.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return!(this.dispatchProps&&(0,m.default)(e,this.dispatchProps)||(this.dispatchProps=e,0))},u.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&T&&(0,m.default)(e,this.mergedProps)||(this.mergedProps=e,0))},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(e){b&&(0,m.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=s(this.updateStatePropsIfNeeded,this);if(!n)return;n===P&&(this.statePropsPrecalculationError=P.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},u.prototype.getWrappedInstance=function(){return(0,O.default)(w,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var i=!0,u=!0;b&&a&&(i=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var s=!1,c=!1;r?s=!0:i&&(s=this.updateStatePropsIfNeeded()),u&&(c=this.updateDispatchPropsIfNeeded());var d=!0;return d=!!(s||c||t)&&this.updateMergedPropsIfNeeded(),!d&&a?a:this.renderedElement=w?(0,f.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):(0,f.createElement)(e,this.mergedProps)},u}(f.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:p.default},r.propTypes={store:p.default},(0,_.default)(r,e)}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var f=n(1),d=n(2),p=r(d),h=n(7),m=r(h),y=n(8),v=r(y),E=n(3),b=(r(E),n(19)),g=(r(b),n(9)),_=r(g),w=n(10),O=r(w),A=function(e){return{}},S=function(e){return{dispatch:e}},R=function(e,t,n){return l({},n,e,t)},P={value:null},N=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;n.length>a;a++)if(!o.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var o=n(20)},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var u=0;i.length>u;++u)if(!(n[i[u]]||r[i[u]]||a&&a[i[u]]))try{e[i[u]]=t[i[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,a,i,u){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,u],l=0;s=Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:u:(e=Object(e),c&&c in e?a(e):i(e))}var o=n(4),a=n(14),i=n(15),u="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}()||Function("return this")())},function(e,t,n){var r=n(16),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){function r(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(4),a=Object.prototype,i=a.hasOwnProperty,u=a.toString,s=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(12),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){if(!i(e)||o(e)!=u)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(11),a=n(13),i=n(18),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object);e.exports=r},function(e,n){e.exports=t}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(t.indexOf("deprecated")!==-1){if(s[t])return;s[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];u.default.apply(void 0,[e,t].concat(r))}function a(){s={}}t.__esModule=!0,t.default=o,t._resetWarned=a;var i=n(149),u=r(i),s={}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,o,a,i,u,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,a,i,u,s],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(2))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WX_CONFIG_SUCCESS="WX_CONFIG_SUCCESS",t.RECEIVE_WX_CONFIG="RECEIVE_WX_CONFIG",t.SET_LAND_PAGE="SET_LAND_PAGE",t.RECEIVE_HOT_QUESTION_LIST="RECEIVE_HOT_QUESTION_LIST",t.HOT_QUESTION_LIST_COMPLETED="HOT_QUESTION_LIST_COMPLETED",t.RECEIVE_QUESTION_INFO="RECEIVE_QUESTION_INFO",t.REQUEST_LISTEN_INFO="REQUEST_LISTEN_INFO",t.RECEIVE_LISTEN_INFO="RECEIVE_LISTEN_INFO",t.RECEIVE_SAVE_VOICE="RECEIVE_SAVE_VOICE",t.RECEIVE_PRISE_QUESTION="RECEIVE_PRISE_QUESTION",t.RECEIVE_CANCEL_PRISE_QUESTION="RECEIVE_CANCEL_PRISE_QUESTION",t.RECEIVE_PAID="RECEIVE_PAID",t.CLEAR_QUESTION="CLEAR_QUESTION",t.RECEIVE_TUTOR_LIST="RECEIVE_TUTOR_LIST",t.RECEIVE_TUTOR_INFO="RECEIVE_TUTOR_INFO",t.RECEIVE_TUTOR_ANSWER_LIST="RECEIVE_TUTOR_ANSWER_LIST",t.REQUEST_PREPAY_INFO="REQUEST_PREPAY_INFO",t.RECEIVE_PREPAY_INFO="RECEIVE_PREPAY_INFO",t.CLEAR_TUTOR_INDEX="CLEAR_TUTOR_INDEX",t.REQUEST_HISTORY_SEARCH="REQUEST_HISTORY_SEARCH",t.RECEIVE_HISTORY_SEARCH="RECEIVE_HISTORY_SEARCH",t.REQUEST_HOT_SEARCH="REQUEST_HOT_SEARCH",t.RECEIVE_HOT_SEARCH="RECEIVE_HOT_SEARCH",t.SET_CUR_SEARCH="SET_CUR_SEARCH",t.REQUEST_SEARCH_QUESTION="REQUEST_SEARCH_QUESTION",t.REQUEST_SEARCH_TUTOR="REQUEST_SEARCH_TUTOR",t.DELETE_HISTORY_SUCCESS="DELETE_HISTORY_SUCCESS",t.RECEIVE_USER_INFO="RECEIVE_USER_INFO",t.RECEIVE_OTHER_USER_INFO="RECEIVE_OTHER_USER_INFO",t.REQUEST_LISTENED="REQUEST_LISTENED",t.LISTENED_COMPLETED="LISTENED_COMPLETED",t.RECEIVE_LISTENED="RECEIVE_LISTENED",t.CLEAR_I_ASKED="CLEAR_I_ASKED",t.REQUEST_I_ASKED="REQUEST_I_ASKED",t.RECEIVE_I_ASKED="RECEIVE_I_ASKED",t.I_ASKED_COMPLETED="I_ASKED_COMPLETED",t.REQUEST_ASKED_ME="REQUEST_ASKED_ME",t.CLEAR_ASKED_ME="CLEAR_ASKED_ME",t.RECEIVE_ASKED_ME="RECEIVE_ASKED_ME",t.ASKED_ME_COMPLETED="ASKED_ME_COMPLETED"},function(e,t,n){(function(t){"use strict";var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var a=0,i="Warning: "+t.replace(/%s/g,function(){return n[a++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}}),e.exports=n}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e){p.default.getUserInfo(function(t){e({type:h.RECEIVE_USER_INFO,data:t})})}}function a(e){return function(t){p.default.getOtherUserInfo(e,function(e){t({type:h.RECEIVE_OTHER_USER_INFO,data:e})})}}function i(e,t,n,r,o){return function(a){p.default.editUserInfo(e,t,n,r,o,function(e){a({type:h.RECEIVE_USER_INFO,data:e})})}}function u(e,t){return function(n){n({type:h.REQUEST_LISTENED}),p.default.getListened(e,t,function(r){n({type:h.RECEIVE_LISTENED,data:r,page:e,num:t})})}}function s(e,t){return function(n){1==e&&n({type:h.CLEAR_I_ASKED}),n({type:h.REQUEST_I_ASKED}),p.default.getIAsked(e,t,function(r){n({type:h.RECEIVE_I_ASKED,data:r,page:e,num:t})})}}function c(e,t){return function(n){1==e&&n({type:h.CLEAR_ASKED_ME}),n({type:h.REQUEST_ASKED_ME}),p.default.getAskedMe(e,t,function(r){n({type:h.RECEIVE_ASKED_ME,data:r,page:e,num:t})})}}function l(){return function(e){e({type:h.CLEAR_ASKED_ME})}}function f(e,t){return function(n){p.default.requestBecomeTeacher(e,t,function(e){y.default.success("申请成功!",1.5,function(){window.location.reload()}),n({type:h.RECEIVE_USER_INFO,data:e})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=o,t.getOtherUserInfo=a,t.editUserInfo=i,t.getListened=u,t.getIAsked=s,t.getAskedMe=c,t.clearAskedMe=l,t.requestBecomeTeacher=f;var d=n(66),p=r(d),h=n(8),m=n(12),y=r(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return null==e||d.default.isValidElement(e)}function a(e){return o(e)||Array.isArray(e)&&e.every(o)}function i(e,t){return l({},e,t)}function u(e){var t=e.type,n=i(t.defaultProps,e.props);if(n.children){var r=s(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function s(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(u(e))}),n}function c(e){return a(e)?e=s(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=a,t.createRouteFromReactElement=u,t.createRoutesFromReactChildren=s,t.createRoutes=c;var f=n(1),d=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(18),f=r(l),d=n(17),p=r(d),h=n(49),m=r(h),y=n(24),v=r(y),E=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hideAlert=e.hideAlert.bind(e),e.state={showAlert:!0,buttons:[{type:"default",label:"确定",onClick:e.hideAlert}]},e}return i(t,e),u(t,[{key:"hideAlert",value:function(){this.setState({showAlert:!1}),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){return c.default.createElement(p.default,{show:this.state.showAlert,title:"提示",buttons:this.state.buttons},this.props.content)}}]),t}(c.default.Component),b=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={show:!0},e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),setTimeout(function(){e.setState({show:!1}),console.log(e.props),"function"==typeof e.props.onClose&&e.props.onClose()},1e3*this.props.duration)}},{key:"render",value:function(){return c.default.createElement(f.default,{show:this.state.show,children:this.props.content})}}]),t}(c.default.Component),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showConfirm:!0},n}return i(t,e),u(t,[{key:"confirm",value:function(){this.setState({showConfirm:!1}),"function"==typeof this.props.onConfirm&&this.props.onConfirm()}},{key:"cancel",value:function(){this.setState({showConfirm:!1}),"function"==typeof this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){return c.default.createElement(m.default,{buttons:[{type:"primary",label:this.props.confirmText,onClick:this.confirm.bind(this)},{type:"default",label:this.props.cancelText,onClick:this.cancel.bind(this)}],title:"提示",show:this.state.showConfirm},this.props.content)}}]),t}(s.Component),_={};_.success=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=document.createElement("div");r.id="message-success",document.body.appendChild(r),v.default.render(c.default.createElement(b,{content:e,onClose:n,duration:t}),r)},_.alert=function(e,t){var n=document.createElement("div");n.id="message-alert",document.body.appendChild(n),v.default.render(c.default.createElement(E,{content:e,onClose:t}),n)},_.confirm=function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"确定",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"取消",r=arguments[3],o=arguments[4],a=document.createElement("div");a.id="message-confirm",document.body.appendChild(a),v.default.render(c.default.createElement(g,{content:e,onConfirm:r,onCancel:o,confirmText:t,cancelText:n}),a)},t.default=_},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function a(t){var n=o(t),r="",a="";"production"!==e.env.NODE_ENV?u.default(t===n,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',t):void 0;var i=n.indexOf("#");i!==-1&&(a=n.substring(i),n=n.substring(0,i));var s=n.indexOf("?");return s!==-1&&(r=n.substring(s),n=n.substring(0,s)),""===n&&(n="/"),{pathname:n,search:r,hash:a}}t.__esModule=!0,t.extractPath=o,t.parsePath=a;var i=n(9),u=r(i)}).call(t,n(2))},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var o=n(1),a=o.PropTypes.func,i=o.PropTypes.object,u=o.PropTypes.arrayOf,s=o.PropTypes.oneOfType,c=o.PropTypes.element,l=o.PropTypes.shape,f=o.PropTypes.string,d=(t.history=l({listen:a.isRequired,push:a.isRequired,replace:a.isRequired,go:a.isRequired,goBack:a.isRequired,goForward:a.isRequired}),t.component=s([a,f])),p=(t.components=s([d,i]),t.route=s([i,c]));t.routes=s([p,u(p)])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/common.scss"');throw e.code="MODULE_NOT_FOUND",e}());var l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.completed;return c.default.createElement("div",{className:"loading"},e?"加载完成！":"正在加载……")}}]),t}(s.Component);t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={handleResponse:function(e,t){switch(e.errCode){case 0:return t(e.data);case 101:var n=location.href;location.href=e.data.login_url+"?redirect_url="+n;break;default:console.error(e.msg)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),d=n(23),p=r(d),h=n(37),m=r(h);n(!function(){var e=new Error('Cannot find module "./weui_mask.css"');throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error('Cannot find module "./weui_dialog.scss"');throw e.code="MODULE_NOT_FOUND",e}());var y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"_renderButtons",value:function(){return this.props.buttons.map(function(e,t){var n=e.type,r=e.label,a=o(e,["type","label"]),i=(0,p.default)({weui_btn_dialog:!0,default:"default"===n,primary:"primary"===n});return f.default.createElement("a",s({key:t,href:"javascript:;"},a,{className:i}),r)})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.show,r=e.children;return f.default.createElement("div",{className:"weui_dialog_alert",style:{display:n?"block":"none"}},f.default.createElement(m.default,null),f.default.createElement("div",{className:"weui_dialog"},f.default.createElement("div",{className:"weui_dialog_hd"},f.default.createElement("strong",{className:"weui_dialog_title"},t)),f.default.createElement("div",{className:"weui_dialog_bd"},r),f.default.createElement("div",{className:"weui_dialog_ft"},this._renderButtons())))}}]),t}(f.default.Component);y.propTypes={buttons:f.default.PropTypes.array,show:f.default.PropTypes.bool,title:f.default.PropTypes.string},y.defaultProps={buttons:[],show:!1,title:""},t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(23),f=(r(l),n(37)),d=r(f),p=n(105),h=r(p);n(!function(){var e=new Error('Cannot find module "./weui_mask.css"');throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error('Cannot find module "./weui_toast.css"');throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error('Cannot find module "./weui_icon_font.css"');throw e.code="MODULE_NOT_FOUND",e}());var m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.show,r=e.children,o=e.iconSize;return c.default.createElement("div",{className:"loading"===t?"weui_loading_toast":"",style:{display:n?"block":"none"}},c.default.createElement(d.default,{transparent:!0}),c.default.createElement("div",{className:"weui_toast"},c.default.createElement(h.default,{value:t,size:o}),c.default.createElement("p",{className:"weui_toast_content"},r)))}}]),t}(s.Component);m.propTypes={icon:c.default.PropTypes.string,iconSize:c.default.PropTypes.string,show:c.default.PropTypes.bool},m.defaultProps={icon:"toast",show:!1},t.default=m},function(e,t){"use strict";t.__esModule=!0;var n="PUSH";t.PUSH=n;var r="REPLACE";t.REPLACE=r;var o="POP";t.POP=o,t.default={PUSH:n,REPLACE:r,POP:o}},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){for(var t="",n=[],r=[],a=void 0,i=0,u=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;a=u.exec(e);)a.index!==i&&(r.push(e.slice(i,a.index)),t+=o(e.slice(i,a.index))),a[1]?(t+="([^/]+)",n.push(a[1])):"**"===a[0]?(t+="(.*)",n.push("splat")):"*"===a[0]?(t+="(.*?)",n.push("splat")):"("===a[0]?t+="(?:":")"===a[0]&&(t+=")?"),r.push(a[0]),i=u.lastIndex;return i!==e.length&&(r.push(e.slice(i,e.length)),t+=o(e.slice(i,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function i(e){return p[e]||(p[e]=a(e)),p[e]}function u(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=i(e),r=n.regexpSource,o=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var u=t.match(new RegExp("^"+r,"i"));if(null==u)return null;var s=u[0],c=t.substr(s.length);if(c){if("/"!==s.charAt(s.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:o,paramValues:u.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function s(e){return i(e).paramNames}function c(e,t){var n=u(e,t);if(!n)return null;var r=n.paramNames,o=n.paramValues,a={};return r.forEach(function(e,t){a[e]=o[t]}),a}function l(t,n){n=n||{};for(var r=i(t),o=r.tokens,a=0,u="",s=0,c=void 0,l=void 0,f=void 0,p=0,h=o.length;p<h;++p)c=o[p],"*"===c||"**"===c?(f=Array.isArray(n.splat)?n.splat[s++]:n.splat,null!=f||a>0?void 0:"production"!==e.env.NODE_ENV?(0,d.default)(!1,'Missing splat #%s for path "%s"',s,t):(0,d.default)(!1),null!=f&&(u+=encodeURI(f))):"("===c?a+=1:")"===c?a-=1:":"===c.charAt(0)?(l=c.substring(1),f=n[l],null!=f||a>0?void 0:"production"!==e.env.NODE_ENV?(0,d.default)(!1,'Missing "%s" parameter for path "%s"',l,t):(0,d.default)(!1),null!=f&&(u+=encodeURIComponent(f))):u+=c;return u.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=i,t.matchPattern=u,t.getParamNames=s,t.getParams=c,t.formatPattern=l;var f=n(7),d=r(f),p=Object.create(null)}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return function(r){r({type:h.SET_CUR_SEARCH,curSearch:n||""}),r({type:h.REQUEST_SEARCH_QUESTION}),p.default.getHotQuestionList(e,t,n,function(n){r({type:h.RECEIVE_HOT_QUESTION_LIST,data:n,page:e,num:t})})}}function a(e){return function(t){p.default.getQuestionInfo(e,function(e){t({type:h.RECEIVE_QUESTION_INFO,questionInfo:e})})}}function i(e){return function(t){t({type:h.REQUEST_LISTEN_INFO}),p.default.getListenInfo(e,function(e){t({type:h.RECEIVE_LISTEN_INFO,data:e})})}}function u(e,t){return function(n){p.default.saveVoice(e,t,function(e){n({type:h.RECEIVE_SAVE_VOICE,data:e})})}}function s(e){return function(t){p.default.priseQuestion(e,function(e){t({type:h.RECEIVE_PRISE_QUESTION,data:e})})}}function c(e){return function(t){p.default.cancelPriseQuestion(e,function(e){t({type:h.RECEIVE_CANCEL_PRISE_QUESTION,data:e})})}}function l(e){return function(t){t({type:h.RECEIVE_PAID,index:e})}}function f(){return{type:h.CLEAR_QUESTION}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHotQuestionList=o,t.getQuestionInfo=a,t.getListenInfo=i,t.saveVoice=u,t.priseQuestion=s,t.cancelPriseQuestion=c,t.handlePaid=l,t.clearQuesiton=f;var d=n(67),p=r(d),h=n(8)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/common.scss"');throw e.code="MODULE_NOT_FOUND",e}());var l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"loading"},"正在加载……")}}]),t}(s.Component);t.default=l},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return function(r){r({type:f.REQUEST_SEARCH_TUTOR}),l.default.getTutorList(e,t,n,function(n){r({type:f.RECEIVE_TUTOR_LIST,data:n,page:e,num:t})})}}function a(e){return function(t){l.default.getTutorInfo(e,function(e){t({type:f.RECEIVE_TUTOR_INFO,tutorInfo:e})})}}function i(e,t,n){return function(r){l.default.getTutorAnswerList(e,t,n,function(e){r({type:f.RECEIVE_TUTOR_ANSWER_LIST,data:e,page:t,num:n})})}}function u(e,t){return function(n){n({type:f.REQUEST_PREPAY_INFO}),l.default.getPrepayInfo(e,t,function(e){n({type:f.RECEIVE_PREPAY_INFO,data:e})})}}function s(){return{type:f.CLEAR_TUTOR_INDEX}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTutorList=o,t.getTutorInfo=a,t.getTutorAnswerList=i,t.getPrepayInfo=u,t.clearTutorIndex=s;var c=n(69),l=r(c),f=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(5),a=n(3),i=function(e){var t=e.curSearch,o=location.href.split("/");o.indexOf("search")>0&&t&&document.querySelector("input#search-input")&&document.querySelector("input#search-input").value!=t&&(document.querySelector("input#search-input").value=t);var i=function(){r.browserHistory.push(a.baseUrl+"search/tips")},u=function(){var e=document.querySelector("input#search-input").value;console.log("query is "+e),""!=e&&r.browserHistory.push(a.baseUrl+"search/result/"+e)},s=function(){var e=document.querySelector("input#search-input");e.value="",e.focus()};return React.createElement("div",{className:"search-bar"},React.createElement("div",{className:"search-icon"},React.createElement("img",{src:n(148)})),React.createElement("input",{type:"search",onFocus:i,id:"search-input",placeholder:"输入关键词搜索问题和导师"}),React.createElement("img",{className:"close",onClick:s,src:n(146)}),React.createElement("button",{onClick:u},"搜索"))};t.default=(0,o.connect)(function(e){return{curSearch:e.curSearch}})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(5),d=n(18),p=r(d),h=n(3),m=n(16),y=(r(m),n(21));n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/QuestionItemWithAvatar.scss"');throw e.code="MODULE_NOT_FOUND",e}());var v=n(17),E=r(v),b=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={loading:!1,showAlert:!1,alert:{title:"提示",buttons:[{type:"default",label:"确定",onClick:e.hideAlert.bind(e)}]},alertContent:""},e}return i(t,e),u(t,[{key:"bubbleClick",value:function(e,t,n){var r=h.baseUrl+"question/"+t;n?l.browserHistory.push(r):l.browserHistory.push(h.baseUrl+"pay?answerId="+e+"&type=question&successUrl="+encodeURIComponent(r)+"&failUrl="+encodeURIComponent(location.href))}},{key:"hideAlert",value:function(){this.setState({showAlert:!1})}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.userId;return c.default.createElement("article",{className:"question-item-with-avatar"},c.default.createElement(E.default,{show:this.state.showAlert,title:this.state.alert.title,buttons:this.state.alert.buttons},this.state.alertContent),c.default.createElement(p.default,{icon:"loading",show:this.state.loading},"正在请求……"),c.default.createElement(l.Link,{to:h.baseUrl+"question/"+t.question_id},c.default.createElement("div",{className:"question-content"},c.default.createElement("h4",null,t.question_content))),c.default.createElement(l.Link,{to:n==t.teacher_id?h.baseUrl+"account":h.baseUrl+"tutor/"+t.teacher_id},c.default.createElement("div",{className:"mentor"},c.default.createElement("img",{src:t.teacher_face.slice(0,-1)+"132"}),c.default.createElement("div",{className:"mentor-info"},c.default.createElement("span",{className:"name"},t.teacher_name),c.default.createElement("span",null,t.teacher_position)))),c.default.createElement("div",{className:"answer"},c.default.createElement("span",{className:"bubble",onClick:this.bubbleClick.bind(this,t.answer_id,t.question_id,t.answer_ispayed)},c.default.createElement("span",{className:"bubble-tail"}),c.default.createElement("span",{className:"bubble-voice"}),c.default.createElement("span",{className:"bubble-text"},t.answer_ispayed?"点击偷偷听":"1元偷偷听"))),c.default.createElement(l.Link,{to:h.baseUrl+"question/"+t.question_id},c.default.createElement("div",{className:"remark"},c.default.createElement("div",{className:"value"},"￥ ",t.question_prize),c.default.createElement("div",{className:"remark-info"},c.default.createElement("span",null,t.answer_listen,"人偷听"),c.default.createElement("span",{className:"kui"},t.answer_like,"人觉得赞")))))}}]),t}(s.Component);b.defaultProps={question:{},index:0},b=(0,f.connect)(void 0,{handlePaid:y.handlePaid})(b),t.default=b},function(e,t){"use strict";t.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=n},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return f.stringify(e).replace(/%20/g,"+")}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"object"==typeof e[t]&&!Array.isArray(e[t])&&null!==e[t])return!0;return!1}function u(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=S(t.substring(1)),e[v]={search:t,searchBase:""}}return e}function n(e,t){var n,o=e[v],u=t?A(t):"";if(!o&&!u)return e;"production"!==r.env.NODE_ENV?l.default(A!==a||!i(t),"useQueries does not stringify nested query objects by default; use a custom stringifyQuery function"):void 0,"string"==typeof e&&(e=h.parsePath(e));var c=void 0;c=o&&e.search===o.search?o.searchBase:e.search||"";var f=c;return u&&(f+=(f?"&":"?")+u),s({},e,(n={search:f},n[v]={search:f,searchBase:c},n))}function o(e){return O.listenBefore(function(n,r){p.default(e,t(n),r)})}function u(e){return O.listen(function(n){e(t(n))})}function c(e){O.push(n(e,e.query))}function f(e){O.replace(n(e,e.query))}function d(e,t){return"production"!==r.env.NODE_ENV?l.default(!t,"the query argument to createPath is deprecated; use a location descriptor instead"):void 0,O.createPath(n(e,t||e.query))}function m(e,t){return"production"!==r.env.NODE_ENV?l.default(!t,"the query argument to createHref is deprecated; use a location descriptor instead"):void 0,O.createHref(n(e,t||e.query))}function b(e){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var i=O.createLocation.apply(O,[n(e,e.query)].concat(o));return e.query&&(i.query=e.query),t(i)}function g(e,t,n){"string"==typeof t&&(t=h.parsePath(t)),c(s({state:e},t,{query:n}))}function _(e,t,n){"string"==typeof t&&(t=h.parsePath(t)),f(s({state:e},t,{query:n}))}var w=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],O=e(w),A=w.stringifyQuery,S=w.parseQueryString;return"function"!=typeof A&&(A=a),"function"!=typeof S&&(S=E),s({},O,{listenBefore:o,listen:u,push:c,replace:f,createPath:d,createHref:m,createLocation:b,pushState:y.default(g,"pushState is deprecated; use push instead"),replaceState:y.default(_,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(9),l=o(c),f=n(117),d=n(40),p=o(d),h=n(13),m=n(39),y=o(m),v="$searchBase",E=f.parse;t.default=u,e.exports=t.default}).call(t,n(2))},function(e,t,n){n(150),e.exports=self.fetch.bind(self)},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(7),s=o(u),c=n(1),l=o(c),f=n(32),d=o(f),p=n(132),h=o(p),m=n(11),y=n(6),v=o(y),E=l.default.PropTypes,b=E.array,g=E.func,_=E.object,w=l.default.createClass({displayName:"RouterContext",propTypes:{history:_,router:_.isRequired,location:_.isRequired,routes:b.isRequired,params:_.isRequired,components:b.isRequired,createElement:g.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{history:_,location:_.isRequired,router:_.isRequired},getChildContext:function(){var e=this.props,t=e.router,n=e.history,o=e.location;return t||("production"!==r.env.NODE_ENV?(0,v.default)(!1,"`<RouterContext>` expects a `router` rather than a `history`"):void 0,t=i({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),"production"!==r.env.NODE_ENV&&(o=(0,d.default)(o,"`context.location` is deprecated, please use a route component's `props.location` instead. http://tiny.cc/router-accessinglocation")),{history:n,location:o,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.history,o=t.location,u=t.routes,c=t.params,f=t.components,d=null;return f&&(d=f.reduceRight(function(t,r,s){if(null==r)return t;var l=u[s],f=(0,h.default)(l,c),d={history:n,location:o,params:c,route:l,routeParams:f,routes:u};if((0,m.isReactChildren)(t))d.children=t;else if(t)for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(d[p]=t[p]);if("object"===("undefined"==typeof r?"undefined":a(r))){var y={};for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&(y[v]=e.createElement(r[v],i({key:v},d)));return y}return e.createElement(r,d)},d)),null===d||d===!1||l.default.isValidElement(d)?void 0:"production"!==r.env.NODE_ENV?(0,s.default)(!1,"The root route must render a single element"):(0,s.default)(!1),d}});t.default=w,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.canUseMembrane=void 0;var o=n(6),a=r(o),i=t.canUseMembrane=!1,u=function(e){return e};if("production"!==e.env.NODE_ENV){try{Object.defineProperty({},"x",{get:function(){return!0}}).x&&(t.canUseMembrane=i=!0)}catch(e){}i&&(u=function(t,n){var r={},o=function(o){return Object.prototype.hasOwnProperty.call(t,o)?"function"==typeof t[o]?(r[o]=function(){return"production"!==e.env.NODE_ENV?(0,a.default)(!1,n):void 0,t[o].apply(t,arguments)},"continue"):void Object.defineProperty(r,o,{get:function(){return"production"!==e.env.NODE_ENV?(0,a.default)(!1,n):void 0,t[o]}}):"continue"};for(var i in t){o(i)}return r})}t.default=u}).call(t,n(2))},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(2),a=r(o),i=n(7),u=r(i),s=n(6),c=r(s),l=n(5),f=r(l),d=n(1),p=r(d),h=n(3);r(h),t.createStore=a.default,t.combineReducers=u.default,t.bindActionCreators=c.default,t.applyMiddleware=f.default,t.compose=p.default},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){v===y&&(v=y.slice())}function a(){return m}function u(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),v.push(e),function(){if(t){t=!1,r();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!(0,i.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(E)throw Error("Reducers may not dispatch actions.");try{E=!0,m=h(m,e)}finally{E=!1}for(var t=y=v,n=0;t.length>n;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[s.default]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var h=e,m=t,y=[],v=y,E=!1;return l({type:c.INIT}),p={dispatch:l,subscribe:u,getState:a,replaceReducer:f},p[s.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var a=n(4),i=r(a),u=n(12),s=r(u),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){function r(e){if(!i(e)||p.call(e)!=u||a(e))return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(8),a=n(9),i=n(11),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=l.call(Object),p=c.toString;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i=e(n,r,o),s=i.dispatch,c=[],l={getState:i.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=u.default.apply(void 0,c)(i.dispatch),a({},i,{dispatch:s})}}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(1),u=r(i)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},a=0;r.length>a;a++){var i=r[a],u=e[i];"function"==typeof u&&(o[i]=n(u,t))}return o}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var u,s=Object.keys(n);try{a(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},i=0;s.length>i;i++){var c=s[i],l=n[c],f=e[c],d=l(f,t);if(void 0===d){var p=o(c,t);throw Error(p)}a[c]=d,r=r||d!==f}return r?a:e}}t.__esModule=!0,t.default=i;var u=n(2),s=n(4),c=(r(s),n(3));r(c)},function(e,t,n){var r=n(10),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),a=r(o),i=void 0;void 0!==e?i=e:"undefined"!=typeof window&&(i=window);var u=(0,a.default)(i);t.default=u}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){s.default.getWXConfig(e,function(e){t({type:c.RECEIVE_WX_CONFIG,data:e})})}}function a(e){return function(t){t({type:c.SET_LAND_PAGE,landPage:e})}}function i(){return function(e){e({type:c.WX_CONFIG_SUCCESS})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getWXConfig=o,t.setLandPage=a,t.configSuccess=i;var u=n(70),s=r(u),c=n(8)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(4),u=n(3);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/TutorItem.scss"');throw e.code="MODULE_NOT_FOUND",e}());var s=function(e){var t=e.tutor,n=e.index,r=e.userId;return a.default.createElement(i.Link,{key:n,to:t.user_id==r?u.baseUrl+"account":u.baseUrl+"tutor/"+t.user_id},a.default.createElement("article",{className:"tutor-item"},a.default.createElement("div",{className:"tutor-info"},a.default.createElement("img",{src:t.user_face.slice(0,-1)+"132"}),a.default.createElement("div",{className:"tutor-intro"},a.default.createElement("h3",null,t.user_name),a.default.createElement("h4",null,a.default.createElement("span",null,t.user_title)))),a.default.createElement("div",{className:"answer-info"},t.answer_number,"个回答")))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),a=n(100),i=n(102),u=n(101),s=n(103),c=n(96),l=r(c),f=n(99),d=r(f),p=(0,o.combineReducers)({hotQuestionList:a.hotQuestionList,questionInfo:a.questionInfo,listenInfo:a.listenInfo,saveVoiceInfo:a.saveVoiceInfo,tutorList:i.tutorList,tutorInfo:i.tutorInfo,tutorAnswerList:i.tutorAnswerList,prepayInfo:i.prepayInfo,historySearch:u.historySearch,hotSearch:u.hotSearch,curSearch:u.curSearch,account:l.default,otherUserInfo:d.default,WXConfig:s.WXConfig,landPage:s.landPage});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),d=n(23),p=r(d),h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.transparent,n=o(e,["transparent"]),r=(0,p.default)({weui_mask:!t,weui_mask_transparent:t});return f.default.createElement("div",s({className:r},n))}}]),t}(l.Component);h.propTypes={transparent:f.default.PropTypes.bool},h.defaultProps={transparent:!1},t.default=h},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function o(){return window.location.href.split("#")[1]||""}function a(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function i(){return window.location.pathname+window.location.search+window.location.hash}function u(e){e&&window.history.go(e)}function s(e,t){t(window.confirm(e))}function c(){var e=navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function l(){var e=navigator.userAgent;return e.indexOf("Firefox")===-1}t.__esModule=!0,t.addEventListener=n,t.removeEventListener=r,t.getHashPath=o,t.replaceHashPath=a,t.getWindowPath=i,t.go=u,t.getUserConfirmation=s,t.supportsHistory=c,t.supportsGoWithoutReloadUsingHash=l},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(){return"production"!==r.env.NODE_ENV?u.default(!1,"[history] "+t):void 0,e.apply(this,arguments)}}t.__esModule=!0;var i=n(9),u=o(i);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=e(t,n);e.length<2?n(o):"production"!==r.env.NODE_ENV?u.default(void 0===o,'You should not "return" in a transition hook with a callback argument; call the callback instead'):void 0}t.__esModule=!0;var i=n(9),u=o(i);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t){"use strict";function n(e,t,n){function r(){return i=!0,u?void(c=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function o(){if(!i&&(s=!0,!u)){for(u=!0;!i&&a<e&&s;)s=!1,t.call(this,a++,o,r);return u=!1,i?void n.apply(this,c):void(a>=e&&s&&(i=!0,n()))}}var a=0,i=!1,u=!1,s=!1,c=void 0;o()}function r(e,t,n){function r(e,t,r){i||(t?(i=!0,n(t)):(a[e]=r,i=++u===o,i&&n(null,a)))}var o=e.length,a=[];if(0===o)return n(null,a);var i=!1,u=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.router=t.routes=t.route=t.components=t.component=t.location=t.history=t.falsy=t.locationShape=t.routerShape=void 0;var a=n(1),i=n(32),u=o(i),s=n(14),c=r(s),l=n(6),f=o(l),d=a.PropTypes.func,p=a.PropTypes.object,h=a.PropTypes.shape,m=a.PropTypes.string,y=t.routerShape=h({push:d.isRequired,replace:d.isRequired,go:d.isRequired,goBack:d.isRequired,goForward:d.isRequired,setRouteLeaveHook:d.isRequired,isActive:d.isRequired}),v=t.locationShape=h({pathname:m.isRequired,search:m.isRequired,state:p,action:m.isRequired,key:m}),E=t.falsy=c.falsy,b=t.history=c.history,g=t.location=v,_=t.component=c.component,w=t.components=c.components,O=t.route=c.route,A=t.routes=c.routes,S=t.router=y;"production"!==e.env.NODE_ENV&&!function(){var n=function(t,n){return function(){return"production"!==e.env.NODE_ENV?(0,f.default)(!1,n):void 0,t.apply(void 0,arguments)}},r=function(e){return n(e,"This prop type is not intended for external use, and was previously exported by mistake. These internal prop types are deprecated for external use, and will be removed in a later version.")},o=function(e,t){return n(e,"The `"+t+"` prop type is now exported as `"+t+"Shape` to avoid name conflicts. This export is deprecated and will be removed in a later version.")};t.falsy=E=r(E),t.history=b=r(b),t.component=_=r(_),t.components=w=r(w),t.route=O=r(O),t.routes=A=r(A),t.location=g=o(g,"location"),t.router=S=o(S,"router")}();var R={falsy:E,history:b,location:g,component:_,components:w,route:O,router:S};"production"!==e.env.NODE_ENV&&(R=(0,u.default)(R,"The default export from `react-router/lib/PropTypes` is deprecated. Please use the named exports instead.")),t.default=R}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e,t){function n(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=arguments.length<=2||void 0===arguments[2]?null:arguments[2],a=void 0;return n&&n!==!0||null!==o?("production"!==r.env.NODE_ENV?(0,c.default)(!1,"`isActive(pathname, query, indexOnly) is deprecated; use `isActive(location, indexOnly)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"):void 0,t={pathname:t,query:n},a=o||!1):(t=e.createLocation(t),a=n),(0,h.default)(t,a,_.location,_.routes,_.params)}function o(e,n){w&&w.location===e?i(w,n):(0,E.default)(t,e,function(t,r){t?n(t):r?i(u({},r,{location:e}),n):n()})}function i(e,t){function n(n,o){return n||o?r(n,o):void(0,y.default)(e,function(n,r){n?t(n):t(null,null,_=u({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var o=(0,f.default)(_,e),a=o.leaveRoutes,i=o.changeRoutes,s=o.enterRoutes;(0,d.runLeaveHooks)(a,_),a.filter(function(e){return s.indexOf(e)===-1}).forEach(v),(0,d.runChangeHooks)(i,_,e,function(t,o){return t||o?r(t,o):void(0,d.runEnterHooks)(s,e,n)})}function s(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return e.__id__||t&&(e.__id__=O++)}function l(e){return e.reduce(function(e,t){return e.push.apply(e,A[s(t)]),e},[])}function p(e,n){(0,E.default)(t,e,function(t,r){if(null==r)return void n();w=u({},r,{location:e});for(var o=l((0,f.default)(_,w).leaveRoutes),a=void 0,i=0,s=o.length;null==a&&i<s;++i)a=o[i](e);n(a)})}function m(){if(_.routes){for(var e=l(_.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function v(e){var t=s(e,!1);t&&(delete A[t],a(A)||(S&&(S(),S=null),R&&(R(),R=null)))}function b(t,n){var o=s(t),i=A[o];if(i)i.indexOf(n)===-1&&("production"!==r.env.NODE_ENV?(0,c.default)(!1,"adding multiple leave hooks for the same route is deprecated; manage multiple confirmations in your own code instead"):void 0,i.push(n));else{var u=!a(A);A[o]=[n],u&&(S=e.listenBefore(p),e.listenBeforeUnload&&(R=e.listenBeforeUnload(m)))}return function(){var e=A[o];if(e){var r=e.filter(function(e){return e!==n});0===r.length?v(t):A[o]=r}}}function g(t){return e.listen(function(n){_.location===n?t(null,_):o(n,function(o,a,i){o?t(o):a?e.replace(a):i?t(null,i):"production"!==r.env.NODE_ENV?(0,c.default)(!1,'Location "%s" did not match any routes',n.pathname+n.search+n.hash):void 0})})}var _={},w=void 0,O=1,A=Object.create(null),S=void 0,R=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:b,listen:g}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var s=n(6),c=o(s),l=n(130),f=o(l),d=n(127),p=n(134),h=o(p),m=n(131),y=o(m),v=n(136),E=o(v);e.exports=t.default}).call(t,n(2))},function(e,t,n){e.exports=n.p+"images/logo.jpg"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/VoiceWave.scss"');throw e.code="MODULE_NOT_FOUND",e}());var l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"voice-waves"},[1,2,3].map(function(e){return c.default.createElement("span",{key:e,className:"voice-wave voice-wave-"+e})}))}}]),t}(s.Component);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,
r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(5),f=n(4),d=n(3),p=n(22),h=r(p),m=n(65),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.historySearch,n=(e.hotSearch,e.getHistory),r=e.getHot;t.loading||n(1,100),t.loading||r()}},{key:"deleteHistory",value:function(){this.props.deleteHistory()}},{key:"render",value:function(){var e=this.props,t=e.historySearch,r=e.hotSearch;return c.default.createElement("div",{className:"search-tips"},c.default.createElement("div",{className:"tip-title"},"历史记录"),t.data.length>0?c.default.createElement("img",{className:"delete-icon",onClick:this.deleteHistory.bind(this),src:n(147)}):"",c.default.createElement("div",{className:"tag-list"},t.data.length>0?t.data.map(function(e,t){return c.default.createElement(f.Link,{key:t,to:d.baseUrl+"search/result/"+e.search},c.default.createElement("div",{className:"history-item"},e.search))}):t.loading?c.default.createElement(h.default,null):c.default.createElement("div",{className:"empty"},"暂无记录")),c.default.createElement("div",{className:"tip-title"},"热门搜索"),c.default.createElement("div",{className:"tag-list"},r.data.length>0?r.data.map(function(e,t){return c.default.createElement(f.Link,{key:t,to:d.baseUrl+"search/result/"+e.search},c.default.createElement("div",{className:"hot-item"},e.search))}):r.loading?c.default.createElement(h.default,null):c.default.createElement("div",{className:"empty"},"暂无记录")))}}]),t}(s.Component);t.default=(0,l.connect)(function(e){return{historySearch:e.historySearch,hotSearch:e.hotSearch}},function(e){return{getHistory:function(t,n){e((0,m.getHistorySearch)(t,n))},getHot:function(){e((0,m.getHotSearch)())},deleteHistory:function(){e((0,m.deleteHistory)())}}})(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(48),d=r(f);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/QuestionItemWithoutAvatar.scss"');throw e.code="MODULE_NOT_FOUND",e}());var p=n(3),h=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.head;return c.default.createElement("article",{className:"question-without-avatar"},c.default.createElement(l.Link,{to:p.baseUrl+"question/"+t.id},c.default.createElement("div",{className:"question-content"},c.default.createElement("h4",null,t.content)),c.default.createElement("div",{className:"answer"},c.default.createElement("img",{src:n}),c.default.createElement("span",{className:"bubble"},c.default.createElement("span",{className:"bubble-tail"}),c.default.createElement("span",{className:"bubble-voice"}),c.default.createElement("span",{className:"bubble-text"},t.is_payed?"点击偷偷听":"1 元偷偷听"))),c.default.createElement("div",{className:"remark"},c.default.createElement("div",{className:"time"},d.default.getTimeSpan(t.time),"前回答"),c.default.createElement("div",{className:"remark-info"},c.default.createElement("span",null,t.listen," 人偷听"),c.default.createElement("span",{className:"zan"},t.like," 人觉得赞")))))}}]),t}(s.Component);t.default=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getTimeSpan:function(e){var t=new Date,n=new Date(e).getTime();13==n.toString().length&&(n/=1e3);var r=t.getTime()/1e3-n;return r<60?parseInt(r)+" 秒":r<3600?parseInt(r/60)+" 分钟":r<86400?parseInt(r/3600)+" 小时":r<2592e3?parseInt(r/86400)+" 天":r<31536e3?parseInt(r/2592e3)+" 个月":parseInt(r/31536e3)+" 年"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),d=n(23),p=r(d),h=n(37),m=r(h);n(!function(){var e=new Error('Cannot find module "./weui_mask.css"');throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error('Cannot find module "./weui_dialog.scss"');throw e.code="MODULE_NOT_FOUND",e}());var y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"renderButtons",value:function(){return this.props.buttons.map(function(e,t){var n=e.type,r=e.label,a=o(e,["type","label"]),i=(0,p.default)({weui_btn_dialog:!0,default:"default"===n,primary:"primary"===n});return f.default.createElement("a",s({key:t,href:"javascript:;"},a,{className:i}),r)})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.show,r=e.children;return f.default.createElement("div",{className:"weui_dialog_confirm",style:{display:n?"block":"none"}},f.default.createElement(m.default,null),f.default.createElement("div",{className:"weui_dialog"},f.default.createElement("div",{className:"weui_dialog_hd"},f.default.createElement("strong",{className:"weui_dialog_title"},t)),f.default.createElement("div",{className:"weui_dialog_bd"},r),f.default.createElement("div",{className:"weui_dialog_ft"},this.renderButtons())))}}]),t}(f.default.Component);y.propTypes={buttons:f.default.PropTypes.array,show:f.default.PropTypes.bool,title:f.default.PropTypes.string},y.defaultProps={buttons:[],show:!1,title:""},t.default=y},,function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return c+e}function a(t,n){try{null==n?window.sessionStorage.removeItem(o(t)):window.sessionStorage.setItem(o(t),JSON.stringify(n))}catch(t){if(t.name===f)return void("production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to save state; sessionStorage is not available due to security settings"):void 0);if(l.indexOf(t.name)>=0&&0===window.sessionStorage.length)return void("production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to save state; sessionStorage is not available in Safari private mode"):void 0);throw t}}function i(t){var n=void 0;try{n=window.sessionStorage.getItem(o(t))}catch(t){if(t.name===f)return"production"!==e.env.NODE_ENV?s.default(!1,"[history] Unable to read state; sessionStorage is not available due to security settings"):void 0,null}if(n)try{return JSON.parse(n)}catch(e){}return null}t.__esModule=!0,t.saveState=a,t.readState=i;var u=n(9),s=r(u),c="@@History/",l=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],f="SecurityError"}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e){return c.canUseDOM?void 0:"production"!==r.env.NODE_ENV?s.default(!1,"DOM history needs a DOM"):s.default(!1),n.listen(e)}var n=d.default(i({getUserConfirmation:l.getUserConfirmation},e,{go:l.go}));return i({},n,{listen:t})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(7),s=o(u),c=n(28),l=n(38),f=n(54),d=o(f);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return"string"==typeof e&&"/"===e.charAt(0)}function i(){var e=b.getHashPath();return!!a(e)||(b.replaceHashPath("/"+e),!1)}function u(e,t,n){return e+(e.indexOf("?")===-1?"?":"&")+(t+"="+n)}function s(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function c(e,t){var n=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return n&&n[1]}function l(){function e(){var e=b.getHashPath(),t=void 0,n=void 0;T?(t=c(e,T),e=s(e,T),t?n=g.readState(t):(n=null,t=C.createKey(),b.replaceHashPath(u(e,T,t)))):t=n=null;var r=v.parsePath(e);return C.createLocation(f({},r,{state:n}),void 0,t)}function t(t){function n(){i()&&r(e())}var r=t.transitionTo;return i(),b.addEventListener(window,"hashchange",n),function(){b.removeEventListener(window,"hashchange",n)}}function n(e){var t=e.basename,n=e.pathname,o=e.search,a=e.state,i=e.action,s=e.key;if(i!==y.POP){var c=(t||"")+n+o;T?(c=u(c,T,s),g.saveState(s,a)):e.key=e.state=null;var l=b.getHashPath();i===y.PUSH?l!==c?window.location.hash=c:"production"!==r.env.NODE_ENV?p.default(!1,"You cannot PUSH the same path using hash history"):void 0:l!==c&&b.replaceHashPath(c)}}function o(e){1===++j&&(I=t(C));var n=C.listenBefore(e);return function(){n(),0===--j&&I()}}function a(e){1===++j&&(I=t(C));var n=C.listen(e);return function(){n(),0===--j&&I()}}function l(e){"production"!==r.env.NODE_ENV?p.default(T||null==e.state,"You cannot use state without a queryKey it will be dropped"):void 0,C.push(e)}function d(e){"production"!==r.env.NODE_ENV?p.default(T||null==e.state,"You cannot use state without a queryKey it will be dropped"):void 0,C.replace(e)}function h(e){"production"!==r.env.NODE_ENV?p.default(k,"Hash history go(n) causes a full page reload in this browser"):void 0,C.go(e)}function _(e){return"#"+C.createHref(e)}function A(e){1===++j&&(I=t(C)),C.registerTransitionHook(e)}function S(e){C.unregisterTransitionHook(e),0===--j&&I()}function R(e,t){"production"!==r.env.NODE_ENV?p.default(T||null==e,"You cannot use state without a queryKey it will be dropped"):void 0,C.pushState(e,t)}function P(e,t){"production"!==r.env.NODE_ENV?p.default(T||null==e,"You cannot use state without a queryKey it will be dropped"):void 0,C.replaceState(e,t)}var N=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];E.canUseDOM?void 0:"production"!==r.env.NODE_ENV?m.default(!1,"Hash history needs a DOM"):m.default(!1);var T=N.queryKey;(void 0===T||T)&&(T="string"==typeof T?T:O);var C=w.default(f({},N,{getCurrentLocation:e,finishTransition:n,saveState:g.saveState})),j=0,I=void 0,k=b.supportsGoWithoutReloadUsingHash();return f({},C,{listenBefore:o,listen:a,push:l,replace:d,go:h,createHref:_,registerTransitionHook:A,unregisterTransitionHook:S,pushState:R,replaceState:P})}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=n(9),p=o(d),h=n(7),m=o(h),y=n(19),v=n(13),E=n(28),b=n(38),g=n(51),_=n(52),w=o(_),O="_k";t.default=l,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return Math.random().toString(36).substr(2,e)}function i(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&d.default(e.state,t.state)}function u(){function e(e){return V.push(e),function(){V=V.filter(function(t){return t!==e})}}function t(){return Q&&Q.action===m.POP?B.indexOf(Q.key):F?B.indexOf(F.key):-1}function n(e){var n=t();F=e,F.action===m.PUSH?B=[].concat(B.slice(0,n+1),[F.key]):F.action===m.REPLACE&&(B[n]=F.key),q.forEach(function(e){e(F)})}function o(e){if(q.push(e),F)e(F);else{var t=x();B=[t.key],n(t)}return function(){q=q.filter(function(t){return t!==e})}}function u(e,t){h.loopAsync(V.length,function(t,n,r){b.default(V[t],e,function(e){null!=e?r(e):n()})},function(e){L&&"string"==typeof e?L(e,function(e){t(e!==!1)}):t(e!==!1)})}function c(e){F&&i(F,e)||(Q=e,u(e,function(t){if(Q===e)if(t){if(e.action===m.PUSH){var r=A(F),o=A(e);o===r&&d.default(F.state,e.state)&&(e.action=m.REPLACE)}M(e)!==!1&&n(e)}else if(F&&e.action===m.POP){var a=B.indexOf(F.key),i=B.indexOf(e.key);a!==-1&&i!==-1&&U(a-i)}}))}function f(e){c(R(e,m.PUSH,O()))}function y(e){c(R(e,m.REPLACE,O()))}function E(){U(-1)}function g(){U(1)}function O(){return a(H)}function A(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,n=e.search,r=e.hash,o=t;return n&&(o+=n),r&&(o+=r),o}function S(e){return A(e)}function R(e,t){var n=arguments.length<=2||void 0===arguments[2]?O():arguments[2];return"object"==typeof t&&("production"!==r.env.NODE_ENV?l.default(!1,"The state (2nd) argument to history.createLocation is deprecated; use a location descriptor instead"):void 0,"string"==typeof e&&(e=p.parsePath(e)),e=s({},e,{state:t}),t=n,n=arguments[3]||O()),v.default(e,t,n)}function P(e){F?(N(F,e),n(F)):N(x(),e)}function N(e,t){e.state=s({},e.state,t),D(e.key,e.state)}function T(e){V.indexOf(e)===-1&&V.push(e)}function C(e){V=V.filter(function(t){return t!==e})}function j(e,t){"string"==typeof t&&(t=p.parsePath(t)),f(s({state:e},t))}function I(e,t){"string"==typeof t&&(t=p.parsePath(t)),y(s({state:e},t))}var k=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],x=k.getCurrentLocation,M=k.finishTransition,D=k.saveState,U=k.go,L=k.getUserConfirmation,H=k.keyLength;"number"!=typeof H&&(H=w);var V=[],B=[],q=[],F=void 0,Q=void 0;return{listenBefore:e,listen:o,transitionTo:c,push:f,replace:y,go:U,goBack:E,goForward:g,createKey:O,createPath:A,createHref:S,createLocation:R,setState:_.default(P,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:_.default(T,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:_.default(C,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:_.default(j,"pushState is deprecated; use push instead"),replaceState:_.default(I,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(9),l=o(c),f=n(107),d=o(f),p=n(13),h=n(112),m=n(19),y=n(114),v=o(y),E=n(40),b=o(E),g=n(39),_=o(g),w=6;t.default=u,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){function t(){if(!O){if(null==w&&c.canUseDOM){var e=document.getElementsByTagName("base")[0],t=e&&e.getAttribute("href");null!=t&&(w=t,"production"!==r.env.NODE_ENV?s.default(!1,"Automatically setting basename using <base href> is deprecated and will be removed in the next major release. The semantics of <base href> are subtly different from basename. Please pass the basename explicitly in the options to createHistory"):void 0)}O=!0}}function n(e){return t(),w&&null==e.basename&&(0===e.pathname.indexOf(w)?(e.pathname=e.pathname.substring(w.length),e.basename=w,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function o(e){if(t(),!w)return e;"string"==typeof e&&(e=l.parsePath(e));var n=e.pathname,r="/"===w.slice(-1)?w:w+"/",o="/"===n.charAt(0)?n.slice(1):n,a=r+o;return i({},e,{pathname:a})}function a(e){return _.listenBefore(function(t,r){d.default(e,n(t),r)})}function u(e){return _.listen(function(t){e(n(t))})}function f(e){_.push(o(e))}function p(e){_.replace(o(e))}function m(e){return _.createPath(o(e))}function y(e){return _.createHref(o(e))}function v(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return n(_.createLocation.apply(_,[o(e)].concat(r)))}function E(e,t){"string"==typeof t&&(t=l.parsePath(t)),f(i({state:e},t))}function b(e,t){"string"==typeof t&&(t=l.parsePath(t)),p(i({state:e},t))}var g=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_=e(g),w=g.basename,O=!1;return i({},_,{listenBefore:a,listen:u,push:f,replace:p,createPath:m,createHref:y,createLocation:v,pushState:h.default(E,"pushState is deprecated; use push instead"),replaceState:h.default(b,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(9),s=o(u),c=n(28),l=n(13),f=n(40),d=o(f),p=n(39),h=o(p);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return 0===e.button}function u(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function c(e,t){var n=t.query,r=t.hash,o=t.state;return n||r||o?{pathname:e,query:n,hash:r,state:o}:e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(1),d=o(f),p=n(6),h=o(p),m=n(7),y=o(m),v=n(42),E=d.default.PropTypes,b=E.bool,g=E.object,_=E.string,w=E.func,O=E.oneOfType,A=d.default.createClass({displayName:"Link",contextTypes:{router:v.routerShape},propTypes:{to:O([_,g]),query:g,hash:_,state:g,activeStyle:g,activeClassName:_,onlyActiveOnIndex:b.isRequired,onClick:w,target:_},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&(this.context.router?void 0:"production"!==r.env.NODE_ENV?(0,y.default)(!1,"<Link>s rendered outside of a router context cannot navigate."):(0,y.default)(!1),!u(e)&&i(e)&&!this.props.target)){e.preventDefault();var t=this.props,n=t.to,o=t.query,a=t.hash,s=t.state,l=c(n,{query:o,hash:a,state:s});this.context.router.push(l)}},render:function(){var e=this.props,t=e.to,n=e.query,o=e.hash,i=e.state,u=e.activeClassName,f=e.activeStyle,p=e.onlyActiveOnIndex,m=a(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]);"production"!==r.env.NODE_ENV?(0,h.default)(!(n||o||i),"the `query`, `hash`, and `state` props on `<Link>` are deprecated, use `<Link to={{ pathname, query, hash, state }}/>. http://tiny.cc/router-isActivedeprecated"):void 0;var y=this.context.router;if(y){if(null==t)return d.default.createElement("a",m);var v=c(t,{query:n,hash:o,state:i});m.href=y.createHref(v),(u||null!=f&&!s(f))&&y.isActive(v,p)&&(u&&(m.className?m.className+=" "+u:m.className=u),f&&(m.style=l({},m.style,f)))}return d.default.createElement("a",l({},m,{onClick:this.handleClick}))}});t.default=A,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),i=o(a),u=n(7),s=o(u),c=n(11),l=n(20),f=n(14),d=i.default.PropTypes,p=d.string,h=d.object,m=i.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,c.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,o=e.params,a=void 0;if("/"===t.to.charAt(0))a=(0,l.formatPattern)(t.to,o);else if(t.to){var i=e.routes.indexOf(t),u=m.getRoutePattern(e.routes,i-1),s=u.replace(/\/*$/,"/")+t.to;a=(0,l.formatPattern)(s,o)}else a=r.pathname;n({pathname:a,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var o=e[r],a=o.path||"";if(n=a.replace(/\/*$/,"/")+n,0===a.indexOf("/"))break}return"/"+n}},propTypes:{path:p,from:p,to:p.isRequired,query:h,state:h,onEnter:f.falsy,children:f.falsy},render:function(){"production"!==r.env.NODE_ENV?(0,s.default)(!1,"<Redirect> elements are for router configuration only and should not be rendered"):(0,s.default)(!1)}});t.default=m,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function a(t,n){return t=i({},t,n),"production"!==e.env.NODE_ENV&&(t=(0,s.default)(t,"`props.history` and `context.history` are deprecated. Please use `context.router`. http://tiny.cc/router-contextchanges")),t}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=o,t.createRoutingHistory=a;var u=n(32),s=r(u)}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,l.default)(e),n=function(){return t},r=(0,i.default)((0,s.default)(n))(e);return r.__v2_compatible__=!0,r}t.__esModule=!0,t.default=o;var a=n(29),i=r(a),u=n(55),s=r(u),c=n(115),l=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return i&&(t=(0,a.default)(e)()),t};var o=n(62),a=r(o),i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if("production"!==r.env.NODE_ENV&&u.canUseMembrane){var n=i({},e),o=function(e){return Object.prototype.hasOwnProperty.call(t,e)?void Object.defineProperty(n,e,{get:function(){return"production"!==r.env.NODE_ENV?(0,c.default)(!1,"Accessing location properties directly from the first argument to `getComponent`, `getComponents`, `getChildRoutes`, and `getIndexRoute` is deprecated. That argument is now the router state (`nextState` or `partialNextState`) rather than the location. To access the location, use `nextState.location` or `partialNextState.location`."):void 0,t[e]}}):"continue"};for(var a in t){o(a)}return n}return i({},e,t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var u=n(32),s=n(6),c=o(s);e.exports=t.default}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=(0,i.default)((0,s.default)(e))(t);return n.__v2_compatible__=!0,n}}t.__esModule=!0,t.default=o;var a=n(29),i=r(a),u=n(55),s=r(u);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return n("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAmCAYAAACsyDmTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkQ0Q0YyNzM4RTAxMUU2OUFERUI5OEIyREEyOEEyMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkQ0Q0YyODM4RTAxMUU2OUFERUI5OEIyREEyOEEyMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGRDRDRjI1MzhFMDExRTY5QURFQjk4QjJEQTI4QTIwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGRDRDRjI2MzhFMDExRTY5QURFQjk4QjJEQTI4QTIwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+t/H8FAAAArpJREFUeNrsWEtrFEEQ7t1MHupGUDQExQeePIkHLxI85B+IaEDUm2ZVRBSMN8GLFyHGoIddQogiiiSHmEPQmwh6EjwbURFB0CCi0UXz2B2/glppmunntMklBd/O7nRtTXVV12sKlUplnxDiFrAJWBJ2agF+A3eAIQ3PQeAKsN5DZg24luBjFNgj/OkGMAl8yFirAl0BMseK+CiIcOrU3K8FyvuRsPmbdBl4ZTHtfXYv0aKGb775AOAosGCQuRZ4yNeFRFmcAt5YdlGTFLLRH+CxiaFcLotqtfpvY0VlfZvD4Us8XED8HSYGKNMp62ESPgzsAurAJeCtyEf00AqwFfgEnAYaKpNJobPS+lAkhU4p8htZTMtFqeW31UIngW522UwEhcga/RwQX7OsY1Po7n+w0IiLX2V6b+GvG3JPFi1x6JvC/qdsLdVCA8BrzdlKOYw3eGbyAU6MWRUhRdivkVNDojzgjKcb2jT3S3xdB1z3kFciS7zLcS6+aO7PBcqrkYWOAVfZUouO+YT4HhgUOgKcY0u5th9U/4YL6IfEShLVspVKjM7pfFWhVYXyUMJZ8gSwUWo9bSFKofwkRtFFpm7jhEyZfIIUugccDpA1z93A95w6Uem42ewwyGV7AwW1A9sjtSW/+Hs3WeibtEhu+Ai0av5I7urjCUFYpomQ5m1OrfYXHM5FL7BjuaJsi4W/4Dl1BEWZTsH9kmtecgXPkyZoMz189iggXmT11abdTku90gHgeQRvPONrg3upuk9iLCm5J+YRKbq6TKZxYCebdTZSJE3yW5HZkDHoeOTzSm465Btlnx2mjnrkBs04dfRwNLQYpo4Oh+fsZr7UZjV+2ZDICrXLtc5zg62a+0+5znmnoaKikPeUYJjHQmgzWegiMMhV1zXBUfvxyDDp0pu487zZ1FEmTTK3/wowAInPkVWQS7x4AAAAAElFTkSuQmCC"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return function(e){e({type:c.REQUEST_HOT_SEARCH}),s.default.getHotSearch(function(t){e({type:c.RECEIVE_HOT_SEARCH,data:t})})}}function a(e,t){return function(n){n({type:c.REQUEST_HISTORY_SEARCH}),s.default.getHistorySearch(e,t,function(r){n({type:c.RECEIVE_HISTORY_SEARCH,data:r.result,page:e,num:t})})}}function i(){return function(e){s.default.deleteHistory(function(t){e({type:c.DELETE_HISTORY_SUCCESS})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHotSearch=o,t.getHistorySearch=a,t.deleteHistory=i;var u=n(68),s=r(u),c=n(8)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(16),i=r(a),u=n(12),s=r(u);t.default={getUserInfo:function(e){fetch(o.domain+"/api/v1/user/getusernow",{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){return i.default.handleResponse(t,e)})},getOtherUserInfo:function(e,t){fetch(o.domain+("/api/v1/user/getuserinfo?id="+e),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return i.default.handleResponse(e,t)})},editUserInfo:function(e,t,n,r,a,u){fetch(o.domain+"/api/v1/user/editusernow",{credentials:"same-origin",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({company:e,position:t,experience:n,prize:r,introduction:a})}).then(function(e){return e.json()}).then(function(e){return i.default.handleResponse(e,u)})},getListened:function(e,t,n){return fetch(o.domain+("/api/v1/question/mylisten?page="+e+"&number="+t),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return i.default.handleResponse(e,n)})},getIAsked:function(e,t,n){return fetch(o.domain+("/api/v1/question/myquestion?page="+e+"&number="+t),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return i.default.handleResponse(e,n)})},getAskedMe:function(e,t,n){return fetch(o.domain+("/api/v1/question/myanswer?page="+e+"&number="+t),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return i.default.handleResponse(e,n)})},requestBecomeTeacher:function(e,t,n){return fetch(o.domain+"/api/v1/user/beteacher",{credentials:"same-origin",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({invite:e,prize:t})}).then(function(e){return e.json()}).then(function(e){return 0!=e.errCode&&s.default.alert("您输入的邀请码有误，请核对后填写",function(){console.log("hide")}),i.default.handleResponse(e,n)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),i=r(a),u=n(3),s=n(16),c=r(s);t.default={getHotQuestionList:function(e,t,n,r){var o=u.domain+"/api/v1/question/gettopic?page="+e+"&number="+t;n&&(o+="&search="+n),(0,i.default)(o,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return c.default.handleResponse(e,r)})},getQuestionInfo:function(e,t){var n=u.domain+"/api/v1/question/getquestion?id="+e;(0,i.default)(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return c.default.handleResponse(e,t)})},getListenInfo:function(e,t){(0,i.default)(u.domain+"/api/v1/answer/listen?answer_id="+e,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return c.default.handleResponse(e,t)})},saveVoice:function(e,t,n){var r;(0,i.default)(u.domain+"/api/v1/answer/answer",(r={credentials:"same-origin",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}},o(r,"credentials","same-origin"),o(r,"body",JSON.stringify({server_id:e,question_id:t})),r)).then(function(e){return e.json()}).then(function(e){switch(e.errCode){case 0:n(e.data);break;default:c.default.handleResponse(e,n)}})},priseQuestion:function(e,t){(0,i.default)(u.domain+"/api/v1/question/like?answer_id="+e,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return c.default.handleResponse(e,t)})},cancelPriseQuestion:function(e,t){(0,i.default)(u.domain+"/api/v1/question/cancelLike?answer_id="+e,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return c.default.handleResponse(e,t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=r(o),i=n(3),u=n(16),s=r(u);t.default={getHotSearch:function(e){var t=i.domain+"/api/v1/hot";(0,a.default)(t,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){return s.default.handleResponse(t,e)})},getHistorySearch:function(e,t,n){var r=i.domain+"/api/v1/history?page="+e+"&number="+t;(0,a.default)(r,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return s.default.handleResponse(e,n)})},deleteHistory:function(e){var t=i.domain+"/api/v1/history/delete";(0,a.default)(t,{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){return s.default.handleResponse(t,e)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=r(o),i=n(3),u=n(16),s=r(u);t.default={getTutorList:function(e,t,n,r){var o=i.domain+"/api/v1/user/getteacher?page="+e+"&number="+t;n&&(o+="&search="+n),(0,a.default)(o,{credentials:"same-origin"}).then(function(e){
return e.json()}).then(function(e){return s.default.handleResponse(e,r)})},getTutorInfo:function(e,t){var n=i.domain+"/api/v1/user/getuserinfo?id="+e;(0,a.default)(n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return s.default.handleResponse(e,t)})},getTutorAnswerList:function(e,t,n,r){var o=i.domain+("/api/v1/user/getteacheranswer?user_id="+e+"&page="+t+"&number="+n);(0,a.default)(o,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return s.default.handleResponse(e,r)})},getPrepayInfo:function(e,t,n){var r=i.domain+("/api/v1/question/testquestion?content="+e+"&answer_user_id="+t);(0,a.default)(r,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return s.default.handleResponse(e,n)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),i=n(3);t.default={getWXConfig:function(e,t){fetch(i.domain+"/api/v1/question/test",{credentials:"same-origin",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:e})}).then(function(e){return e.json()}).then(function(e){return a.default.handleResponse(e,t)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/Account.scss"');throw e.code="MODULE_NOT_FOUND",e}());var f=n(5),d=n(10),p=n(3),h=n(22),m=r(h),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:1},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.getUserInfo()}},{key:"handleClick",value:function(e,t){this.setState({index:e})}},{key:"render",value:function(){return this.props.userInfo.user_face?c.default.createElement("div",{id:"accountIndex"},"1"===this.props.userInfo.is_teacher?c.default.createElement(l.Link,{className:"entry-left",to:p.baseUrl+("tutor/share/"+this.props.userInfo.user_id)},c.default.createElement("img",{className:"QREntry",src:n(64)})):"",c.default.createElement(l.Link,{className:"entry-right",to:p.baseUrl+"edit"},c.default.createElement("img",{className:"editEntry",src:n(145)})),c.default.createElement("div",{className:"head"},c.default.createElement("div",{className:"headOuter"},c.default.createElement("img",{src:this.props.userInfo.user_face.slice(0,-1)+"132"}))),c.default.createElement("div",{className:"name"},this.props.userInfo.user_name),c.default.createElement("div",{className:"position"},this.props.userInfo.user_company," ",this.props.userInfo.user_position),c.default.createElement("div",{className:"description"},this.props.userInfo.user_introduction),this.props.userInfo.answer_num?c.default.createElement("div",{className:"divider top"}):"",this.props.userInfo.answer_num?c.default.createElement("div",{className:"statics"},c.default.createElement("ul",null,c.default.createElement("li",null,this.props.userInfo.answer_num,"题"),c.default.createElement("li",null,this.props.userInfo.listen_num,"次"),c.default.createElement("li",null,"￥",this.props.userInfo.teacher_prize)),c.default.createElement("ul",null,c.default.createElement("li",null,"回答过"),c.default.createElement("li",null,"被偷听"),c.default.createElement("li",null,"身价"))):"",c.default.createElement("div",{className:"dividerWide"}),c.default.createElement("div",{className:"nav"},c.default.createElement(l.IndexLink,{to:p.baseUrl+"account/",activeClassName:"active"},"听过的"),c.default.createElement(l.Link,{to:p.baseUrl+"account/IAskedList",activeClassName:"active"},"我问的"),c.default.createElement(l.Link,{to:p.baseUrl+"account/AskedMeList",activeClassName:"active"},"问我的")),c.default.createElement("div",{className:"divider"}),c.default.createElement("div",null,this.props.children)):c.default.createElement(m.default,null)}}]),t}(s.Component),v=function(e){return{userInfo:e.account.userInfo}};y=(0,f.connect)(v,{getUserInfo:d.getUserInfo})(y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(5);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/App.scss"');throw e.code="MODULE_NOT_FOUND",e}());var d=n(3),p=n(34),h=n(26),m=(r(h),n(46)),y=(r(m),n(34)),v=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.configUrlList=[],e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){null==this.props.landPage&&this.props.dispatch((0,p.setLandPage)(location.href)),this.configUrlList.push("http://h5app.7dyk.com/ama/7dyk/",this.props.landPage,location.href),this.props.WXConfig.success||this.refreshWXConfig(),wx.error(function(t){e.refreshWXConfig()});var e=this;wx.ready(function(){e.props.WXConfig.success||e.props.dispatch((0,y.configSuccess)()),wx.onMenuShareAppMessage({title:"［7点问答］问师兄，问师姐，问前辈",desc:"大学生职场问答平台，对于即将到来的秋招，你的问题都可以在这里解决。",link:location.href,imgUrl:n(44),success:function(){},fail:function(e){},cancel:function(){}})})}},{key:"refreshWXConfig",value:function(){var e=this.configUrlList.pop();void 0!==e&&this.props.dispatch((0,y.getWXConfig)(e))}},{key:"componentWillReceiveProps",value:function(e){if(e.WXConfig.data.timestamp){var t=(new Date).valueOf();if(t/1e3-e.WXConfig.data.timestamp<3){var n=["startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage"],r={};r.debug=!1,r.appId=e.WXConfig.data.appId,r.timestamp=e.WXConfig.data.timestamp.toString(),r.nonceStr=e.WXConfig.data.nonceStr,r.signature=e.WXConfig.data.signature,r.jsApiList=n,wx.config(r)}}}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("div",{className:"app-container",ref:"content"},this.props.children),c.default.createElement("div",{className:"footer"},c.default.createElement("ul",null,c.default.createElement("li",null,c.default.createElement(l.IndexLink,{activeClassName:"active",to:d.baseUrl},"热点")),c.default.createElement("li",null,c.default.createElement(l.Link,{activeClassName:"active",to:d.baseUrl+"tutor"},"导师")),c.default.createElement("li",null,c.default.createElement(l.Link,{activeClassName:"active",to:d.baseUrl+"account"},"我的")))))}}]),t}(s.Component);v=(0,f.connect)(function(e){return{landPage:e.landPage,WXConfig:e.WXConfig}})(v),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(78),u=r(i),s=function(){return a.default.createElement(u.default,null)};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(3),d=n(12),p=r(d),h=n(18),m=r(h),y=n(30),v=r(y),E=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={loading:!0},e}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.query,n=t.type,r=t.successUrl,o=t.failUrl,a=navigator.userAgent,i=(a.indexOf("Android")>-1||a.indexOf("Adr")>-1,!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));console.log(window.landPage.indexOf("pay")),i&&window.landPage.indexOf("pay")==-1&&(console.log("刷新"),location.reload(!0));var u=void 0;if("question"===n){var s=this.props.location.query.answerId;u=f.domain+"/api/v1/answer/listen?answer_id="+s}else if("tutor"===n){var c=this.props.location.query,d=c.content,h=c.tutorId;u=f.domain+"/api/v1/question/testquestion?content="+d+"&answer_user_id="+h}(0,v.default)(u,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){if(0==t.errCode){e.setState({loading:!1});var n=new Date;n.valueOf()/1e3-t.data.timeStamp<30?!function(){var e=function e(){WeixinJSBridge.invoke("getBrandWCPayRequest",t.data,function(t){"get_brand_wcpay_request:ok"==t.err_msg?p.default.success("支付成功",1,function(){l.browserHistory.push(r)}):(console.log(t),p.default.alert("支付失败，请重试",function(){l.browserHistory.push(o)})),document.removeEventListener?document.removeEventListener("WeixinJSBridgeReady",e):document.attachEvent&&(document.detachEvent("WeixinJSBridgeReady",e),document.detachEvent("onWeixinJSBridgeReady",e))})};console.log("进入微信支付"),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()}():(console.log("时间戳不一致"),console.log("time "+n.valueOf()/1e3+" timeStamp "+t.data.timeStamp+" diff "+(n.valueOf()/1e3-t.data.timeStamp)),location.reload(!0))}})}},{key:"render",value:function(){return c.default.createElement(m.default,{icon:"loading",show:this.state.loading},"请求支付中")}}]),t}(s.Component);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(3),n(26)),a=r(o),i=function(e){var t=e.children;return React.createElement("div",null,React.createElement(a.default,null),t)};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(85),f=r(l),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement(f.default,null)}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{userInfo:e.account.userInfo}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(4),d=n(3),p=n(5),h=n(10),m=n(17),y=r(m),v=n(12),E=r(v);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/AccountEdit.scss"');throw e.code="MODULE_NOT_FOUND",e}());var b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={company:n.props.userInfo.user_company,job:n.props.userInfo.user_position,experience:n.props.userInfo.user_experience,introduction:n.props.userInfo.user_introduction,teacher_prize:n.props.userInfo.teacher_prize,showAlert:!1,alertContent:"",alert:{title:"提示",buttons:[{type:"default",label:"确定",onClick:n.hideAlert.bind(n)}]},canLeave:!1},n.handleSubmit=n.handleSubmit.bind(n),n.routerWillLeave=n.routerWillLeave.bind(n),n}return i(t,e),s(t,[{key:"hideAlert",value:function(){this.setState({showAlert:!1})}},{key:"routerWillLeave",value:function(e){var t=this;if("okay"==e.state)return!0;var n=this.state,r=this.props.userInfo;return this.state.canLeave||n.company==r.user_company&&n.job==r.user_position&&n.introduction==r.user_introduction?void 0:(t.setState({canLeave:!0}),E.default.confirm("您所编辑的页面尚未保存，确认离开?","接着编辑","放弃修改",function(){t.setState({canLeave:!1})},function(){f.browserHistory.push(e.pathname)}),!1)}},{key:"componentDidMount",value:function(){console.log("questionInfo==="+this.props.tutorInfo),this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)}},{key:"handleSubmit",value:function(){return/^[1-9]+[0-9]*]*$/.test(this.state.teacher_prize)?(this.props.editUserInfo(this.state.company,this.state.job,this.state.experience,this.state.teacher_prize,this.state.introduction),void f.browserHistory.push({pathname:d.baseUrl+"account/IAskedList",state:"okay"})):void this.setState({alertContent:'请在"提问价格"中填入整数',showAlert:!0,teacher_prize:""})}},{key:"render",value:function(){var e=this,t=this.props.userInfo;return l.default.createElement("main",{className:"user edit"},l.default.createElement(y.default,{show:this.state.showAlert,title:"提示",buttons:this.state.alert.buttons},this.state.alertContent),l.default.createElement("div",{className:"user-card-bg"},l.default.createElement("img",{src:t.user_face.slice(0,-1)+"132"})),"1"===t.is_teacher?l.default.createElement("div",{className:"user-card"},l.default.createElement("img",{className:"avatar",src:t.user_face.slice(0,-1)+"132"}),l.default.createElement("h3",{className:"name"},t.user_name),l.default.createElement("div",{className:"form-group"},l.default.createElement("label",null,"姓名："),l.default.createElement("input",{placeholder:"您的姓名",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}})),l.default.createElement("div",{className:"form-group"},l.default.createElement("label",null,"头衔/职位"),l.default.createElement("input",{placeholder:"某公司某职位",value:this.state.company,onChange:function(t){e.setState({company:t.target.value})}})),l.default.createElement("div",{className:"form-group"},l.default.createElement("label",null,"提问价格："),l.default.createElement("input",{type:"number",placeholder:"输入您的提问价格",value:this.state.teacher_prize,onChange:function(t){e.setState({teacher_prize:t.target.value})}})),l.default.createElement("div",{className:"form-group self-intro-text"},l.default.createElement("label",null,"介绍一下自己（100字以内）： "),l.default.createElement("div",{className:"count"},this.state.introduction.length," / 100"),l.default.createElement("textarea",{placeholder:"简单介绍一下自己，写一些自己的经历和擅长回答的问题",value:this.state.introduction,onChange:function(t){(t.target.value.length<101||t.target.value.length-e.state.introduction.length<0)&&e.setState({introduction:t.target.value})}}))):l.default.createElement("div",{className:"user-card"},l.default.createElement("img",{className:"avatar",src:t.user_face.slice(0,-1)+"132"}),l.default.createElement("h3",{className:"name"},t.user_name),l.default.createElement("div",{className:"form-group"},l.default.createElement("label",null,"学校/年级："),l.default.createElement("input",{placeholder:"某学校大（研）*学生",value:this.state.job,onChange:function(t){e.setState({company:t.target.value})}})),l.default.createElement("div",{className:"form-group"},l.default.createElement("label",null,"头衔/职位："),l.default.createElement("input",{placeholder:"某公司某职位",value:this.state.company,onChange:function(t){e.setState({job:t.target.value})}})),l.default.createElement("div",{className:"form-group self-intro-text"},l.default.createElement("label",null,"介绍一下自己（100字以内）："),l.default.createElement("div",{className:"count"},this.state.introduction.length," / 100"),l.default.createElement("textarea",{placeholder:"写一些关于自己的情况和需求，让导师可以更好的帮助你解决问题",value:this.state.introduction,onChange:function(t){(t.target.value.length<101||t.target.value.length-e.state.introduction.length<0)&&e.setState({introduction:t.target.value})}}))),l.default.createElement("a",{className:"bottom-btn",onClick:this.handleSubmit},"完成"))}}]),t}(c.Component);b=(0,f.withRouter)(b),t.default=(0,p.connect)(u,{editUserInfo:h.editUserInfo})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{hotQuestionList:e.hotQuestionList,listenInfo:e.listenInfo,userId:e.account.userInfo.user_id}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(5),d=n(21),p=n(15),h=r(p),m=n(27),y=r(m),v=n(26),E=r(v);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/HotQuestionList.scss"');throw e.code="MODULE_NOT_FOUND",e}());var b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={curAudio:"",curPage:1},n.handleScroll=n.handleScroll.bind(n),n}return i(t,e),s(t,[{key:"handleScroll",value:function(){var e=document.getElementsByClassName("app-container")[0];if(e.clientHeight+e.scrollTop+1>=e.scrollHeight&&!this.props.hotQuestionList.completed){var t=++this.state.curPage;this.setState({curPage:t}),this.props.dispatch((0,d.getHotQuestionList)(t,20))}}},{key:"componentDidMount",value:function(){this.props.dispatch((0,d.getHotQuestionList)(1,10)),$(".app-container").on("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){$(".app-container").off("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.hotQuestionList,n=e.userId;return l.default.createElement("main",{className:"hot-question-list"},l.default.createElement(E.default,null),t.data.map(function(e,t){return l.default.createElement(y.default,{userId:n,question:e,key:t,index:t})}),l.default.createElement(h.default,{completed:t.completed}))}}]),t}(c.Component);b.propTypes={hotQuestionList:c.PropTypes.shape({}).isRequired,listenInfo:c.PropTypes.shape({data:c.PropTypes.shape({}).isRequired}).isRequired},b.contextTypes={router:c.PropTypes.object},t.default=(0,f.connect)(u)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s);n(4),n(5);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/Modal.scss"');throw e.code="MODULE_NOT_FOUND",e}());var l=n(24),f=r(l),d=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.modalElement=f.default.findDOMNode(this)}},{key:"open",value:function(){this.modalElement.style.display="block"}},{key:"close",value:function(){this.modalElement.style.display="none"}},{key:"confirm",value:function(){this.props.confirm()}},{key:"render",value:function(){var e=this,t=this.props.left?this.props.left/75:22/75,n=this.props.top?this.props.top/75:200/75,r=this.props.bottom?this.props.bottom/75:void 0;return c.default.createElement("div",{className:"modal-package-blur",id:"modal"},c.default.createElement("div",{className:"modal-content",style:{left:t+"rem",right:t+"rem",top:n+"rem",bottom:r+"rem"}},c.default.createElement("div",{className:"modal-header"},c.default.createElement("h4",{className:"title"},this.props.title),c.default.createElement("div",{className:"close",onClick:this.close.bind(this)},"x")),c.default.createElement("div",{className:"modal-body"},this.props.children),c.default.createElement("div",{className:"modal-footer"})),c.default.createElement("div",{className:"modal-background",onClick:function(){e.close()}}))}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{questionInfo:e.questionInfo,listenInfo:e.listenInfo}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=n(4),d=n(5),p=n(21),h=n(45),m=r(h),y=n(18),v=r(y),E=n(3);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/Question.scss"');throw e.code="MODULE_NOT_FOUND",e}());var b=n(22),g=r(b),_=n(17),w=r(_),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={playing:0,answerAudio:null,curAnswerId:null,playNow:!0,listenTimer:null,showAlert:!1,alert:{title:"提示",buttons:[{type:"default",label:"确定",onClick:n.hideAlert.bind(n)}]},alertContent:"",notRegShare:!0},n.handlePrise=n.handlePrise.bind(n),n.handleCanclePrise=n.handleCanclePrise.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.params.id;this.props.getQuestionInfo(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.questionInfo;t.user_face&&this.state.notRegShare&&(wx.onMenuShareAppMessage({title:t.question_content,desc:t.teacher_name+"用1分钟的语音就解决了这个问题",link:location.href,imgUrl:t.teacher_face,success:function(){},fail:function(e){},cancel:function(){}}),this.setState({notRegShare:!1}))}},{key:"componentWillUnmount",value:function(){var e=this;clearTimeout(e.state.listenTimer),null!=this.state.answerAudio&&(this.state.answerAudio.pause(),this.state.answerAudio.currentTime=0),this.setState({answerAudio:null,playing:0}),this.props.clearQuesiton(),wx.onMenuShareAppMessage({title:"［7点问答］问师兄，问师姐，问前辈",desc:"大学生职场问答平台，对于即将到来的秋招，你的问题都可以在这里解决。",link:location.href,imgUrl:n(44),success:function(){},fail:function(e){},cancel:function(){}})}},{key:"getListenInfo",value:function(e,t){fetch(E.domain+"/api/v1/answer/listen?answer_id="+e,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return t(e)})}},{key:"payForAnswer",value:function(e){f.browserHistory.push(E.baseUrl+"pay?answerId="+e+"&type=question&successUrl="+encodeURIComponent(location.href)+"&failUrl="+encodeURIComponent(location.href))}},{key:"getAudio",value:function(e){var t=this,n=this;this.setState({loading:!0}),this.getListenInfo(e,function(r){if(t.setState({loading:!1}),r.data.timeStamp)setTimeout(function(){n.getAudio(e)},500);else if(r.data.url){var o=t.props.params.id;if(r.data.question_id==o){var a=new Audio(r.data.url);n.setState({answerAudio:a}),n.playAudio(a)}}})}},{key:"playAudio",value:function(e,t){var n=this.state.answerAudio||t,r=this;n?(console.log("audio.src===="+n.src),n.play(),n.addEventListener("ended",function(){r.setState({playing:0})})):this.getAudio(e)}},{key:"bubbleClick",value:function(e,t){this.state.paySuccess||t?(this.setState({playing:1}),this.playAudio(e)):this.payForAnswer(e)}},{key:"handlePrise",value:function(e){this.props.questionInfo.answer_ispayed||this.state.paySuccess?this.props.priseQuestion(e):this.setState({alertContent:"您还没有听过该问题",showAlert:!0})}},{key:"handleCanclePrise",value:function(e){this.props.cancelPriseQuestion(e)}},{key:"hideAlert",value:function(){this.setState({showAlert:!1})}},{key:"render",value:function(){var e=this,t=this.props.questionInfo,n={0:" ",1:" playing"};return t.user_face?l.default.createElement("main",{className:"question"},l.default.createElement(w.default,{show:this.state.showAlert,title:this.state.alert.title,buttons:this.state.alert.buttons},this.state.alertContent),l.default.createElement(v.default,{icon:"loading",show:this.state.loading},t.answer_ispayed||this.state.paySuccess?"加载声音中……":"请求支付中……"),l.default.createElement(f.Link,{to:E.baseUrl+"user/"+t.user_id},l.default.createElement("div",{className:"userInfo"},l.default.createElement("img",{src:t.user_face.slice(0,-1)+"132"}),l.default.createElement("span",null,t.user_name))),l.default.createElement("div",{className:"question-content"},t.question_content),l.default.createElement("div",{className:"tutor"},l.default.createElement("img",{src:t.teacher_face.slice(0,-1)+"132"}),l.default.createElement("h3",null,t.teacher_name),l.default.createElement("h4",null,t.teacher_company+"　"+t.teacher_position,"  ")),"1"==t.isanswered?l.default.createElement("div",null,l.default.createElement("div",{className:"answer",onClick:this.bubbleClick.bind(this,t.answer_id,t.answer_ispayed)},l.default.createElement("span",{className:"bubble"+n[this.state.playing]},l.default.createElement("span",{className:"bubble-tail"}),l.default.createElement(m.default,null),l.default.createElement("span",{className:"bubble-voice"}),l.default.createElement("span",{className:"bubble-text"},t.answer_ispayed||this.state.paySuccess?1==this.state.playing?"正在播放":"点击播放":t.question_prize+"元偷偷听"))),l.default.createElement("div",{className:"remark"},l.default.createElement("span",null,t.answer_listen,"人偷听"),l.default.createElement("span",{className:"kui"},t.answer_like,"人觉得赞"),0===t.answer_isliked?l.default.createElement("div",{className:"prise",onClick:function(){e.handlePrise(t.answer_id)}},l.default.createElement("div",null,l.default.createElement("i",{className:"iconfont icon-zanNo"}))):l.default.createElement("div",{className:"prise",onClick:function(){e.handleCanclePrise(t.answer_id)}},l.default.createElement("div",null,l.default.createElement("i",{className:"iconfont icon-zanYes"}))))):l.default.createElement("div",{className:"not-answer"},"等待老师回答……"),l.default.createElement("div",{className:"ask"},l.default.createElement("div",{className:"value"},"￥",t.teacher_prize),l.default.createElement(f.Link,{className:"bottom-btn",to:E.baseUrl+"tutor/"+t.teacher_id},"向TA提问"))):l.default.createElement(g.default,null)}}]),t}(c.Component);O.propTypes={questionInfo:c.PropTypes.shape({}).isRequired,listenInfo:c.PropTypes.shape({}).isRequired},t.default=(0,d.connect)(u,{priseQuestion:p.priseQuestion,getQuestionInfo:p.getQuestionInfo,cancelPriseQuestion:p.cancelPriseQuestion,clearQuesiton:p.clearQuesiton})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=(n(4),n(3),n(27)),i=r(a),u=n(35),s=r(u),c=function(e){var t=e.questions,n=e.tutors,r=e.userId,o=location.href.split("/"),a=(o.pop(),o.pop());return"question"==a?React.createElement("div",{className:"search-results"},React.createElement("div",{className:"result-title"},"在问题中搜索的结果"),React.createElement("div",{className:"question-list"},t.map(function(e,t){return React.createElement(i.default,{userId:r,question:e,key:t})}))):React.createElement("div",{className:"search-results"},React.createElement("div",{className:"result-title"},"在导师中搜索的结果"),React.createElement("div",{className:"tutor-list"},n.map(function(e,t){return React.createElement(s.default,{key:t,tutor:e})})))};t.default=(0,o.connect)(function(e){return{questions:e.hotQuestionList.data,tutors:e.tutorList.data,userId:e.account.userInfo.user_id}})(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(5),u=n(4),s=n(3),c=n(21),l=n(25),f=n(27),d=r(f),p=n(35),h=r(p);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/SearchResult.scss"');
throw e.code="MODULE_NOT_FOUND",e}());var m=function(e){var t=e.questions,n=e.tutors,r=e.curSearch,o=e.userId,i=e.questionSearchStatus,c=e.tutorSearchStatus,l=e.getQuestionList,f=e.getTutorList,p=location.href.split("/").pop();return p=decodeURI(p),p!==r&&(l(1,10,p),f(1,10,p)),a.default.createElement("div",{className:"search-results"},a.default.createElement("div",{className:"result-title"},a.default.createElement("h5",{className:"title"},"内容"),"complete"==i&&t.length>2?a.default.createElement(u.Link,{to:s.baseUrl+"search/list/question/"+p},a.default.createElement("h5",{className:"more"},"更多")):""),a.default.createElement("div",{className:"question-list"},"complete"==i&&t.length>0?t.map(function(e,t){if(t<2)return a.default.createElement(d.default,{userId:o,question:e,key:t})}):a.default.createElement("div",{className:"empty"},"暂无相关结果")),a.default.createElement("div",{className:"result-title"},a.default.createElement("h5",{className:"title"},"导师"),"complete"==c&&n.length>2?a.default.createElement(u.Link,{to:s.baseUrl+"search/list/tutor/"+p},a.default.createElement("h5",{className:"more"},"更多")):""),a.default.createElement("div",{className:"tutor-list"},"complete"==c&&n.length>0?n.map(function(e,t){if(t<2)return a.default.createElement(h.default,{tutor:e,key:t})}):a.default.createElement("div",{className:"empty"},"暂无相关结果")))};t.default=(0,i.connect)(function(e){return{questions:e.hotQuestionList.data,tutors:e.tutorList.data,curSearch:e.curSearch,userId:e.account.userInfo.user_id,questionSearchStatus:e.hotQuestionList.searchStatus,tutorSearchStatus:e.tutorList.searchStatus}},function(e){return{getQuestionList:function(t,n,r){e((0,c.getHotQuestionList)(t,n,r))},getTutorList:function(t,n,r){e((0,l.getTutorList)(t,n,r))}}})(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(12),f=r(l),d=n(24),p=(r(d),function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={show:!0},e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){f.default.success("chenggongle",2,function(){alert("234")}),f.default.info("chenggongle",2,function(){alert("234")}),f.default.cancel("chenggongle",2,function(){alert("234")})}},{key:"render",value:function(){return c.default.createElement("div",null,"test")}}]),t}(c.default.Component));t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{tutorInfo:e.tutorInfo,tutorAnswerList:e.tutorAnswerList,prepayInfo:e.prepayInfo}}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),d=n(4),p=n(5),h=n(25),m=(n(10),n(47)),y=r(m),v=n(15),E=r(v),b=n(22),g=r(b),_=n(18),w=r(_),O=n(12),A=r(O),S=n(3);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/TutorIndex.scss"');throw e.code="MODULE_NOT_FOUND",e}());var R=n(17),P=r(R),N=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={textLength:0,curPage:1,askSuccess:!1,loading:!1,showAlert:!1,alert:{title:"提示",buttons:[{type:"default",label:"确定",onClick:n.hideAlert.bind(n)}]},alertContent:"",nextLocation:location.href,canLeave:!1,notRegShare:!0},n.routerWillLeave=n.routerWillLeave.bind(n),n}return i(t,e),c(t,[{key:"payForAsk",value:function(e,t){d.browserHistory.push(S.baseUrl+"pay?type=tutor&content="+e+"&tutorId="+t+"&failUrl="+encodeURIComponent(location.href)+"&successUrl="+S.baseUrl+"account/IAskedList")}},{key:"askBtnClick",value:function(){var e=this.refs.content.value;if(console.log("content is ==="+e),""==e)return void this.setState({alertContent:"内容不能为空哦",showAlert:!0});var t=this.props.params.id;this.props.dispatch((0,h.getPrepayInfo)(e,t)),this.payForAsk(e,t)}},{key:"componentDidMount",value:function(){function e(e){if(window.scrollY+window.innerHeight==document.body.clientHeight&&!this.props.tutorAnswerList.completed){var n=++this.state.curPage;this.setState({curPage:n}),this.props.dispatch((0,h.getTutorAnswerList)(t,n,10))}}var t=this.props.params.id;this.props.dispatch((0,h.getTutorInfo)(t)),this.props.dispatch((0,h.getTutorAnswerList)(t,1,10)),this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave),document.addEventListener("scroll",e.bind(this))}},{key:"routerWillLeave",value:function(e){var t=this;if(""!=this.refs.content.value&&!this.state.askSuccess&&!this.state.canLeave&&e.pathname.indexOf("pay")===-1){var n=function(){t.setState({nextLocation:e.pathname,canLeave:!0}),console.log(e);var n=t;return A.default.confirm("您的提问尚未支付，确认离开？","接着提问","离开",function(){n.setState({canLeave:!1})},function(){d.browserHistory.push(e.pathname)}),{v:!1}}();if("object"===("undefined"==typeof n?"undefined":s(n)))return n.v}}},{key:"hideAlert",value:function(){this.setState({showAlert:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=e.tutorInfo;t.user_face&&this.state.notRegShare&&(wx.onMenuShareAppMessage({title:t.user_name+"——"+t.user_company+"，"+t.user_position,desc:"说出最近困扰你的问题，我来帮你解决",link:location.href,imgUrl:t.user_face,success:function(){},fail:function(e){},cancel:function(){}}),this.setState({notRegShare:!1}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.successTimer),this.props.dispatch((0,h.clearTutorIndex)()),wx.onMenuShareAppMessage({title:"［7点问答］问师兄，问师姐，问前辈",desc:"大学生职场问答平台，对于即将到来的秋招，你的问题都可以在这里解决。",link:location.href,imgUrl:n(44),success:function(){},fail:function(e){},cancel:function(){}})}},{key:"handleTextarea",value:function(){var e=ReactDOM.findDOMNode(this.refs.content).value;this.setState({textLength:e.length})}},{key:"render",value:function(){var e=this.props,t=e.tutorInfo,r=e.tutorAnswerList;return t.user_face?f.default.createElement("main",{className:"tutorIndex"},f.default.createElement(w.default,{show:this.state.askSuccess},"提问成功"),f.default.createElement(w.default,{icon:"loading",show:this.state.loading},"请求支付中……"),f.default.createElement(P.default,{show:this.state.showAlert,title:this.state.alert.title,buttons:this.state.alert.buttons},this.state.alertContent),f.default.createElement("div",{className:"tutor-info"},f.default.createElement(d.Link,{to:S.baseUrl+("tutor/share/"+t.user_id)},f.default.createElement("img",{className:"QREntry",src:n(64)})),f.default.createElement("img",{className:"avatar",src:t.user_face.slice(0,-1)+"132"}),f.default.createElement("h3",{className:"tutor-name"},t.user_name),f.default.createElement("h4",{className:"tutor-title"},t.user_company+"  "+t.user_position),f.default.createElement("h5",{className:"tutor-intro"},t.user_introduction),f.default.createElement("div",{className:"grade"},f.default.createElement("div",{className:"grade-item"},f.default.createElement("p",null,"￥",t.teacher_income),f.default.createElement("p",null,"总收入")),f.default.createElement("div",{className:"grade-item"},f.default.createElement("p",null,"￥",t.listen_num),f.default.createElement("p",null,"被偷听"))),f.default.createElement("div",{className:"answer-text"},f.default.createElement("textarea",{ref:"content",maxLength:"60",onKeyUp:this.handleTextarea.bind(this),onChange:this.handleTextarea.bind(this),placeholder:"向"+t.user_name+"提问，等TA语音回答；超过24小时未回答，将按支付路径全额退款"}),f.default.createElement("div",{className:"text-tips"},this.state.textLength,"/60")),f.default.createElement("div",{className:"value"},"￥",t.teacher_prize),f.default.createElement("a",{className:"bottom-btn",onClick:this.askBtnClick.bind(this)},"向TA提问")),f.default.createElement("div",{className:"question-list"},f.default.createElement("h5",{className:"title"},"他还回答了这些问题"),r.data.map(function(e,n){return f.default.createElement(y.default,{head:t.user_face.slice(0,-1)+"132",key:n,question:e})}),f.default.createElement(E.default,{completed:r.completed}))):f.default.createElement(g.default,null)}}]),t}(l.Component);N=(0,d.withRouter)(N),N.propTypes={tutorInfo:l.PropTypes.shape({}).isRequired},N.contextTypes={router:l.PropTypes.object},t.default=(0,p.connect)(u)(N)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{tutorList:e.tutorList,userId:e.account.userInfo.user_id}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=(n(4),n(5)),d=n(25),p=n(10),h=n(35),m=r(h),y=n(26),v=r(y);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/TutorList.scss"');throw e.code="MODULE_NOT_FOUND",e}());var E=n(15),b=r(E),g=(n(3),function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={curPage:1},n.handleScroll=n.handleScroll.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,d.getTutorList)(1,20)),this.props.dispatch((0,p.getUserInfo)()),$(".app-container").on("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){$(".app-container").off("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=document.getElementsByClassName("app-container")[0];if(e.clientHeight+e.scrollTop+1>=e.scrollHeight&&!this.props.tutorList.completed){var t=++this.state.curPage;this.setState({curPage:t}),this.props.dispatch((0,d.getTutorList)(t,10))}}},{key:"render",value:function(){var e=this.props,t=e.tutorList,n=e.userId;return l.default.createElement("main",{className:"tutor-list"},l.default.createElement(v.default,null),t.data.map(function(e,t){return l.default.createElement(m.default,{userId:n,tutor:e,key:t})}),l.default.createElement(b.default,{completed:t.completed}))}}]),t}(c.Component));g.propTypes={tutorList:c.PropTypes.shape({}).isRequired},t.default=(0,f.connect)(u)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{tutorInfo:e.tutorInfo}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=(n(4),n(5)),d=n(25),p=n(3);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/TutorShare.scss"');throw e.code="MODULE_NOT_FOUND",e}());var h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.params.id;this.props.dispatch((0,d.getTutorInfo)(e)),console.log("questionInfo==="+this.props.tutorInfo)}},{key:"render",value:function(){var e=this.props.tutorInfo;return l.default.createElement("main",{className:"user share"},l.default.createElement("div",{className:"user-card-bg"},l.default.createElement("img",{src:e.user_face})),l.default.createElement("div",{className:"user-card"},l.default.createElement("img",{className:"avatar",src:e.user_face}),l.default.createElement("h3",{className:"name"},e.user_name),l.default.createElement("h4",{className:"title"},e.user_company,"  ",e.user_position),l.default.createElement("div",{className:"description"},"随时随地帮你解决找工作难题！"),l.default.createElement("img",{width:"70%",src:jrQrcode.getQrBase64(p.domainPath+"tutor/"+e.user_id,{padding:10,width:256,height:256,correctLevel:2,background:"#ffffff",foreground:"#000000"})}),l.default.createElement("div",{className:"tip"},"截图分享到朋友圈",l.default.createElement("br",null),"帮助更多的学弟学妹解决困惑吧")))}}]),t}(c.Component);t.default=(0,f.connect)(u)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{user:e.otherUserInfo}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),l=r(c),f=(n(4),n(5)),d=n(10);n(!function(){var e=new Error('Cannot find module "../../stylesheets/partials/modules/UserIndex.scss"');throw e.code="MODULE_NOT_FOUND",e}());var p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.getOtherUserInfo(this.props.params.id)}},{key:"componentDidMount",value:function(){console.log("questionInfo==="+this.props.tutorInfo)}},{key:"render",value:function(){var e=this.props.user;return l.default.createElement("main",{className:"user"},l.default.createElement("div",{className:"user-card-bg"},l.default.createElement("img",{src:e.user_face})),l.default.createElement("div",{className:"user-card"},l.default.createElement("img",{className:"avatar",src:e.user_face}),l.default.createElement("h3",{className:"name"},e.user_name),l.default.createElement("h4",{className:"title"},e.user_company," ",e.user_position," ",e.user_experience),l.default.createElement("div",{className:"self-intro"},e.user_introduction)))}}]),t}(c.Component);p.propTypes={tutorInfo:c.PropTypes.arrayOf(c.PropTypes.shape({})).isRequired},t.default=(0,f.connect)(u,{getOtherUserInfo:d.getOtherUserInfo})(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(3);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/QuestionItemAskedMe.scss"');throw e.code="MODULE_NOT_FOUND",e}());var d=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.question,t="0"==e.isanswered?f.baseUrl+"answer/"+e.id:f.baseUrl+"question/"+e.id;return c.default.createElement("article",{className:"question-item-asked-me"},c.default.createElement("div",{className:"userInfo"},c.default.createElement(l.Link,{to:f.baseUrl+"user/"+e.question_user_id},c.default.createElement("img",{src:e.user_face.slice(0,-1)+"132"}),c.default.createElement("span",null,e.user_name))),c.default.createElement(l.Link,{to:t},c.default.createElement("div",{className:"question-content"},c.default.createElement("h4",null,e.content)),c.default.createElement("div",{className:"status"},"0"==e.isanswered?c.default.createElement("div",{className:"btn not-solved"},"待解决"):c.default.createElement("div",{className:"btn solved"},"已解决"))))}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(3);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/QuestionItemWithoutAvatarWithoutBubble.scss"');throw e.code="MODULE_NOT_FOUND",e}());var d=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.question;return c.default.createElement(l.Link,{to:f.baseUrl+"question/"+e.id},c.default.createElement("article",{className:"question-without-avatar-without-bubble"},c.default.createElement("div",{className:"question-content"},c.default.createElement("h4",null,e.content)),c.default.createElement("div",{className:"status"},"0"==e.isanswered?c.default.createElement("div",{className:"btn not-solved"},"待解决"):c.default.createElement("div",{className:"btn solved"},"已解决"))))}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/AskedMeList.scss"');throw e.code="MODULE_NOT_FOUND",e}());var f=n(79),d=r(f),p=n(5),h=n(88),m=r(h),y=n(10),v=n(15),E=r(v),b=n(3),g=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={afford:"",inviteCode:"",isTeacher:!0},e.handleScroll=e.handleScroll.bind(e),e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){0===this.props.data.length&&this.props.getAskedMe(1,10),$(".app-container").on("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){$(".app-container").off("scroll",this.handleScroll)}},{key:"handleSubmit",value:function(){return this.state.inviteCode&&this.state.afford?(this.props.requestBecomeTeacher(this.state.inviteCode,this.state.afford),void this.refs.modal.close()):void alert("还有空缺的项，请检查后继续填写")}},{key:"handleScroll",value:function(){var e=this.props,t=e.completed,n=e.page,r=e.loading,o=document.getElementsByClassName("app-container")[0];!r&&o.clientHeight+o.scrollTop+1>=o.scrollHeight&&!t&&this.props.getAskedMe(n,10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.userInfo,r=t.completed,o=t.data;return c.default.createElement("div",{className:"askedMeList"},"1"===n.is_teacher?0===o.length&&r?c.default.createElement("div",null,c.default.createElement("div",{className:"hint"},"还没有人问你"),c.default.createElement(l.Link,{to:b.baseUrl+"tutor/share/"+n.user_id},c.default.createElement("button",{className:"becomeTutor"},"让更多人了解你"))):c.default.createElement("div",null,o.map(function(e,t){return c.default.createElement(m.default,{question:e,key:t})}),c.default.createElement(E.default,{completed:r})):c.default.createElement("div",null,c.default.createElement("div",{className:"hint"},"您还不是导师哦~"),c.default.createElement("div",{className:"email"},"发送个人简历到renzheng@7dyk.com"),c.default.createElement("div",{className:"next"},"审核通过后我们会以邮件的形式发放邀请码"),c.default.createElement("button",{className:"becomeTutor",onClick:function(t){e.refs.modal.open()}},"成为导师"),c.default.createElement(d.default,{left:"22",top:"225",ref:"modal"},c.default.createElement("div",{className:"invitation"},c.default.createElement("span",null,"邀请码"),c.default.createElement("input",{type:"text",className:"no-underline",style:{width:"4rem"},value:this.state.inviteCode,placeholder:"请输入您的邀请码",onChange:function(t){e.setState({inviteCode:t.target.value})}})),c.default.createElement("div",{className:"afford"},c.default.createElement("span",null,"向我提问需要支付"),c.default.createElement("input",{type:"text",style:{width:"1.2rem"},className:"no-underline",value:this.state.afford,onChange:function(t){e.setState({afford:t.target.value})}}),c.default.createElement("span",null,"元")),c.default.createElement("div",{className:"submit",onClick:this.handleSubmit.bind(this)},"确定"))))}}]),t}(s.Component),_=function(e){return{loading:e.account.askedMe.loading,data:e.account.askedMe.data,completed:e.account.askedMe.completed,userInfo:e.account.userInfo,page:e.account.askedMe.page}};g=(0,p.connect)(_,{getAskedMe:y.getAskedMe,requestBecomeTeacher:y.requestBecomeTeacher})(g),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4),f=n(5);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/IAskedList.scss"');throw e.code="MODULE_NOT_FOUND",e}());var d=n(47),p=r(d),h=n(89),m=r(h),y=n(10),v=n(15),E=r(v),b=n(3),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleScroll=n.handleScroll.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){0===this.props.data.length&&this.props.getIAsked(1,10),$(".app-container").on("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){$(".app-container").off("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.props,t=e.completed,n=e.page,r=e.loading,o=document.getElementsByClassName("app-container")[0];!r&&o.clientHeight+o.scrollTop+1>=o.scrollHeight&&!t&&(console.log("hah"),this.props.getIAsked(n,10))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.completed;return c.default.createElement("div",{className:"iAskedList"},t.length||!n?c.default.createElement("div",null,t.map(function(e,t){switch(e.isanswered){case"0":return c.default.createElement(m.default,{key:t,question:e});case"1":return c.default.createElement(p.default,{key:t,question:e});default:return console.log("这个问题有问题",e),""}}),c.default.createElement(E.default,{completed:n})):c.default.createElement("div",null,c.default.createElement("div",{className:"hint"},"你还没有问过呦~"),c.default.createElement("div",{className:"go"},"快去找",c.default.createElement(l.Link,{to:b.baseUrl+"tutor"},"导师"),"帮你解决问题吧~")))}}]),t}(s.Component),_=function(e){return{loading:e.account.iAsked.loading,data:e.account.iAsked.data,completed:e.account.iAsked.completed,page:e.account.iAsked.page}};g=(0,f.connect)(_,{getIAsked:y.getIAsked})(g),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(4);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/LitenedList.scss"');throw e.code="MODULE_NOT_FOUND",e}());var f=n(10),d=n(5),p=n(15),h=r(p),m=n(27),y=r(m),v=n(3),E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleScroll=n.handleScroll.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){0===this.props.data.length&&this.props.getListened(1,10),$(".app-container").on("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){$(".app-container").off("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.props,t=e.completed,n=e.page,r=e.loading,o=document.getElementsByClassName("app-container")[0];!r&&o.clientHeight+o.scrollTop+1>=o.scrollHeight&&!t&&this.props.getListened(n,10)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.completed;return c.default.createElement("div",{className:"askMeList"},t.length||!n?c.default.createElement("ul",null,t.map(function(e,t){return c.default.createElement(y.default,{question:e,key:t})}),c.default.createElement(h.default,{completed:n})):c.default.createElement("div",null,c.default.createElement("div",{className:"hint"},"你还没有偷听过呦~",t.length),c.default.createElement("div",{className:"go"},"快去",c.default.createElement(l.Link,{to:v.baseUrl},"热门"),"逛一逛吧~")))}}]),t}(s.Component),b=function(e){return{loading:e.account.listened.loading,data:e.account.listened.data,completed:e.account.listened.completed,page:e.account.listened.page}};E=(0,d.connect)(b,{getListened:f.getListened})(E),t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),d=n(24),p=r(d),h=n(4),m=n(5);n(!function(){var e=new Error('Cannot find module "../../../stylesheets/partials/modules/Answer.scss"');throw e.code="MODULE_NOT_FOUND",e}());var y=n(21),v=n(10),E=n(34),b=n(48),g=r(b),_=n(45),w=r(_),O=n(18),A=r(O),S=n(3),R=n(49),P=(r(R),n(17)),N=r(P),T=n(12),C=r(T),j=n(22),I=r(j),k=function(e){
function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={localId:null,status:0,answerSuccess:!1,successTimer:null,authorizing:!1,uploading:!1,START:0,END:0,canLeave:!1,showAlert:!1,alertContent:"",alert:{title:"提示",buttons:[{type:"default",label:"确定",onClick:e.hideAlert.bind(e)}]},nextLocation:location.href},e.configUrlList=[],e.clickHandler=e.clickHandler.bind(e),e.routerWillLeave=e.routerWillLeave.bind(e),e}return u(t,e),c(t,[{key:"hideAlert",value:function(){this.setState({showAlert:!1})}},{key:"componentWillMount",value:function(){var e=this.props.params.id;this.props.getQuestionInfo(e)}},{key:"componentDidMount",value:function(){this.configUrlList.push("http://h5app.7dyk.com/ama/7dyk/",this.props.landPage,location.href),this.props.WXConfig.success||this.refreshWXConfig();var e=this;wx.ready(function(){e.props.WXConfig.success||e.props.configSuccess(),wx.onVoicePlayEnd({success:function(t){e.setState({status:4})}})}),wx.error(function(t){e.refreshWXConfig()}),this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)}},{key:"routerWillLeave",value:function(e){var t=this;if(!this.state.answerSuccess&&!this.state.canLeave){var n=function(){t.setState({canLeave:!0});var n=void 0,r=t;switch(t.state.status){case 0:case 1:n="您还未回答该问题，确认离开?";break;case 2:var o=p.default.findDOMNode(r.refs.roundContainer);o.click(),n="正在录音中，确认离开?";break;case 3:case 4:case 5:n="您的录音还未上传，确认离开?"}return C.default.confirm(n,"接着回答","离开",function(){r.setState({canLeave:!1})},function(){h.browserHistory.push(e.pathname)}),{v:!1}}();if("object"===("undefined"==typeof n?"undefined":s(n)))return n.v}return!0}},{key:"componentWillReceiveProps",value:function(e){if(e.WXConfig.data.timestamp){var t=(new Date).valueOf();if(t/1e3-e.WXConfig.data.timestamp<3&&e.WXConfig.data.timestamp!=this.props.WXConfig.data.timestamp){var n=["startRecord","stopRecord","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage"],r={};r.debug=!1,r.appId=e.WXConfig.data.appId,r.timestamp=e.WXConfig.data.timestamp.toString(),r.nonceStr=e.WXConfig.data.nonceStr,r.signature=e.WXConfig.data.signature,r.jsApiList=n,wx.config(r)}}}},{key:"componentWillUnmount",value:function(){var e=this;clearTimeout(this.state.successTimer),wx.ready(function(){var t=p.default.findDOMNode(e.refs.roundContainer);t.removeEventListener("click",e.clickHandler,!1)})}},{key:"refreshWXConfig",value:function(){var e=this.configUrlList.pop();void 0!==e&&this.props.getWXConfig(e)}},{key:"clickHandler",value:function(e){var t=this,n=function(e){e.preventDefault(),wx.ready(function(){wx.startRecord({success:function(){var e=(new Date).getTime();t.setState({START:e,status:2})},cancel:function(){t.setState({status:0,alertContent:"用户拒绝授权录音",showAlert:!0})},fail:function(){t.setState({status:0,alertContent:"获取授权失败，请稍候重试",showAlert:!0}),t.refreshWXConfig()}})})},r=function(e){var n=(new Date).getTime();return n-t.state.START<1e3?(n=0,wx.ready(function(){wx.stopRecord()}),t.setState({status:0,alertContent:"录音不能少于1秒哦",showAlert:!0}),null):void wx.ready(function(){wx.stopRecord({success:function(e){var n=e.localId;t.setState({localId:n,status:4})},fail:function(){t.setState({status:0,alertContent:"获取授权失败，请稍候重试",showAlert:!0}),t.refreshWXConfig()}})})},o=function(e){e.preventDefault(),wx.ready(function(){wx.playVoice({localId:t.state.localId})})},a=function(e){e.preventDefault(),wx.ready(function(){wx.stopVoice({localId:t.state.localId})})},i=function(e){console.log("wait for wx")};switch(t.state.status){case 0:t.setState({status:1}),n(e);break;case 1:i(e);break;case 2:t.setState({status:3}),r(e);break;case 3:i(e);break;case 4:t.setState({status:5}),o(e);break;case 5:a(e),t.setState({status:4})}}},{key:"saveVoice",value:function(e,t){var n,r=this;r.setState({uploading:!0}),fetch(S.domain+"/api/v1/answer/answer",(n={credentials:"same-origin",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}},o(n,"credentials","same-origin"),o(n,"body",JSON.stringify({server_id:e,question_id:t})),n)).then(function(e){return e.json()}).then(function(e){if(0==e.errCode){r.setState({uploading:!1,answerSuccess:!0}),r.props.getAskedMe(1,10);var t=setTimeout(function(){h.browserHistory.push(S.baseUrl+"account/AskedMeList")},2e3);r.setState({successTimer:t})}else r.setState({alertContent:"抱歉，录音上传失败",showAlert:!0})})}},{key:"confirmAnswer",value:function(){var e=this,t=this.state.localId;return null==t?void e.setState({alertContent:"请先录音哦",showAlert:!0}):void wx.uploadVoice({localId:t,isShowProgressTips:1,success:function(t){var n=t.serverId,r=e.props.params.id;e.saveVoice(n,r)}})}},{key:"playVoice",value:function(){this.setState({playing:!0})}},{key:"reRecord",value:function(){this.setState({status:0})}},{key:"render",value:function(){var e=this,t=this.props.questionInfo,n={0:" ",1:" ",2:" on",3:" on",4:" voice",5:" voice-on"},r={0:f.default.createElement("div",null,"点击录音"),1:f.default.createElement("div",null,"开启中"),2:f.default.createElement("div",null,"正在录音",f.default.createElement("br",null),"点击停止"),3:f.default.createElement("div",null,"停止中"),4:f.default.createElement("div",null,"点击试听"),5:f.default.createElement("div",null,"播放中")};return t.user_face?f.default.createElement("div",{className:"account-answer"},f.default.createElement(A.default,{show:this.state.answerSuccess},"回答成功"),f.default.createElement(A.default,{icon:"loading",show:1==this.state.status},"开启中"),f.default.createElement(A.default,{icon:"loading",show:3==this.state.status},"停止中"),f.default.createElement(A.default,{icon:"loading",show:this.state.authorizing},"获取授权"),f.default.createElement(A.default,{icon:"loading",show:this.state.uploading},"上传中"),f.default.createElement(N.default,{show:this.state.showAlert,title:"提示",buttons:this.state.alert.buttons},this.state.alertContent),f.default.createElement("div",{className:"answer-question"},f.default.createElement("div",{className:"head"},f.default.createElement(h.Link,{to:S.baseUrl+"user/"+t.user_id},f.default.createElement("img",{src:t.user_face.slice(0,-1)+"132"})),f.default.createElement("span",{className:"name"},t.user_name),f.default.createElement("span",{className:"price"},"￥ ",t.question_prize)),f.default.createElement("div",{className:"stem"},t.question_content),f.default.createElement("div",{className:"time"},g.default.getTimeSpan(t.question_time),"之前")),f.default.createElement("div",{className:"hint"},"您的回答将被公开，答案每被偷听一次，你就赚 ￥0.3"),f.default.createElement("div",{className:"replyHint"},r[this.state.status]),f.default.createElement("div",{ref:"replyContainer",className:"replyContainer"},f.default.createElement("div",{ref:"roundContainer",onClick:function(t){return e.clickHandler(t)},className:"round-container "+n[this.state.status]},f.default.createElement("div",{className:"replyIcon"}),f.default.createElement("div",{className:"recording"}),f.default.createElement("div",{className:"bubble-voice"}),f.default.createElement(w.default,null))),f.default.createElement("div",{className:"reRecord",onClick:this.reRecord.bind(this)},"重录"),f.default.createElement("div",{className:"recordHint"},null==this.state.localId?"点击录音按钮最多可录制60S":"点击试听可试听您最近一次的回答"),f.default.createElement("div",{className:"sendBtn",onClick:this.confirmAnswer.bind(this)},"发送")):f.default.createElement(I.default,null)}}]),t}(l.Component);k=(0,h.withRouter)(k),k.contextTypes={router:l.PropTypes.object};var x=function(e){return{questionInfo:e.questionInfo,saveVoiceInfo:e.saveVoiceInfo,WXConfig:e.WXConfig,landPage:e.landPage}};k=(0,m.connect)(x,{getQuestionInfo:y.getQuestionInfo,saveVoice:y.saveVoice,getWXConfig:E.getWXConfig,configSuccess:E.configSuccess,getAskedMe:v.getAskedMe})(k),t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o={loading:!1,data:[],completed:!1,page:1},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.CLEAR_ASKED_ME:return o;case r.REQUEST_ASKED_ME:return Object.assign({},e,{loading:!0});case r.RECEIVE_ASKED_ME:if(1==t.page)return Object.assign({},e,{data:t.data,page:e.page+1,completed:t.data.length<t.num,loading:!1});var n=e.data.concat(t.data);return Object.assign({},e,{loading:!1,data:n,page:e.page+1,completed:t.data.length<t.num});default:return e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o={loading:!1,data:[],completed:!1,page:1},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.CLEAR_I_ASKED:return o;case r.REQUEST_I_ASKED:return Object.assign({},e,{loading:!0});case r.RECEIVE_I_ASKED:if(1==t.page)return Object.assign({},e,{completed:t.data.length<t.num,loading:!1,data:t.data});var n=e.data.concat(t.data);return Object.assign({},e,{completed:t.data.length<t.num,loading:!1,data:n,page:e.page+1});default:return e}};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(98),a=r(o),i=n(97),u=r(i),s=n(95),c=r(s),l=n(94),f=r(l),d=n(33),p=(0,d.combineReducers)({userInfo:a.default,listened:u.default,iAsked:c.default,askedMe:f.default});t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o={loading:!1,data:[],completed:!1,page:1},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.REQUEST_LISTENED:return Object.assign({},e,{loading:!0});case r.RECEIVE_LISTENED:var n=t.data.map(function(e){return{answer_id:e.answer_id,answer_like:e.like,answer_ispayed:1,answer_listen:e.listen,teacher_id:e.teacher_id,teacher_face:e.teacher_face,teacher_name:e.teacher_name,teacher_position:e.teacher_position,question_content:e.content,question_id:e.id,question_prize:e.prize,question_time:e.time,user_id:e.question_user_id,isAnswered:e.isanswered,weight:e.weight}});if(1==t.page)return Object.assign({},e,{completed:t.data.length<t.num,loading:!1,data:n});var a=e.data.concat(n);return Object.assign({},e,{completed:t.data.length<t.num,loading:!1,data:a,page:e.page+1});default:return e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o={},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.RECEIVE_USER_INFO:return Object.assign({},e,t.data);default:return e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.RECEIVE_OTHER_USER_INFO:return Object.assign({},e,t.data);default:return e}};t.default=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.hotQuestionList,t=arguments[1];switch(t.type){case s.RECEIVE_HOT_QUESTION_LIST:return 1==t.page?Object.assign({},c.hotQuestionList,{data:t.data,completed:t.data.length<t.num,loading:!1,searchStatus:"complete"}):Object.assign({},e,{data:e.data.concat(t.data),completed:t.data.length<t.num,loading:!1,page:t.page,searchStatus:"complete"});case s.REQUEST_SEARCH_QUESTION:return Object.assign({},e,{searchStatus:"searching"});case s.RECEIVE_PAID:return Object.assign({},e,{data:[].concat(r(e.data.slice(0,t.index)),[Object.assign({},e.data[t.index],{answer_ispayed:1,answer_listen:(e.data[t.index].answer_listen+1).toString()})],r(e.data.slice(t.index+1,e.data.length)))});default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.questionInfo,t=arguments[1];switch(t.type){case s.RECEIVE_QUESTION_INFO:return t.questionInfo;case s.RECEIVE_PRISE_QUESTION:return Object.assign({},e,{answer_isliked:1,answer_like:t.data.like,answer_listen:t.data.listen});case s.RECEIVE_CANCEL_PRISE_QUESTION:return Object.assign({},e,{answer_isliked:0,answer_like:t.data.like,answer_listen:t.data.listen});case s.CLEAR_QUESTION:return c.questionInfo;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.listenInfo,t=arguments[1];switch(t.type){case s.REQUEST_LISTEN_INFO:return Object.assign({},e,{loading:!0});case s.RECEIVE_LISTEN_INFO:return{data:t.data,timeStamp:(new Date).valueOf(),loading:!1};case s.CLEAR_QUESTION:return c.listenInfo;default:return e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.saveVoiceInfo,t=arguments[1];switch(t.type){case s.RECEIVE_SAVE_VOICE:return{saved:!0};default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hotQuestionList=o,t.questionInfo=a,t.listenInfo=i,t.saveVoiceInfo=u;var s=n(8),c={hotQuestionList:{data:[],completed:!1,searchStatus:"complete",page:1,num:10},questionInfo:{},listenInfo:{timeStamp:0,data:{},loading:!1},saveVoiceInfo:{data:{},saved:!1}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.historySearch,t=arguments[1];switch(t.type){case i.REQUEST_HISTORY_SEARCH:return Object.assign({},e,{loading:!0});case i.RECEIVE_HISTORY_SEARCH:return 1==t.page?Object.assign({},u.historySearch,{data:t.data,completed:t.data.length<t.num,loading:!1,page:t.page+1}):Object.assign({},e,{data:e.data.concat(t.data),completed:t.data.length<t.num,loading:!1,page:t.page+1});case i.DELETE_HISTORY_SUCCESS:return Object.assign({},e,{data:[]});default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.hotSearch,t=arguments[1];switch(t.type){case i.REQUEST_HOT_SEARCH:return Object.assign({},e,{loading:!0});case i.RECEIVE_HOT_SEARCH:return Object.assign({},e,{data:t.data,loading:!1,completed:!0});default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.curSearch,t=arguments[1];switch(t.type){case i.SET_CUR_SEARCH:return t.curSearch;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.historySearch=r,t.hotSearch=o,t.curSearch=a;var i=n(8),u={historySearch:{data:[],loading:!1,completed:!1,page:1,num:10},hotSearch:{data:[],completed:!1,loading:!1,page:1,num:10},curSearch:""}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.tutorList,t=arguments[1];switch(t.type){case u.RECEIVE_TUTOR_LIST:return 1==t.page?Object.assign({},s.tutorList,{data:t.data,completed:t.data.length<t.num,loading:!1,searchStatus:"complete"}):Object.assign({},e,{data:e.data.concat(t.data),completed:t.data.length<t.num,loading:!1,page:t.page,searchStatus:"complete"});case u.REQUEST_SEARCH_TUTOR:return Object.assign({},e,{searchStatus:"searching"});default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.tutorInfo,t=arguments[1];switch(t.type){case u.RECEIVE_TUTOR_INFO:return t.tutorInfo;case u.CLEAR_TUTOR_INDEX:return s.tutorInfo;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.tutorAnswerList,t=arguments[1];switch(t.type){case u.RECEIVE_TUTOR_ANSWER_LIST:return 1==t.page?Object.assign({},s.tutorAnswerList,{data:t.data,loading:!1,completed:t.data.length<t.num}):{data:e.data.concat(t.data),page:t.page,loading:!1,completed:t.data.length<t.num};case u.CLEAR_TUTOR_INDEX:return s.tutorAnswerList;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.prepayInfo,t=arguments[1];switch(t.type){case u.REQUEST_PREPAY_INFO:return Object.assign({},e,{loading:!0});case u.RECEIVE_PREPAY_INFO:return{data:t.data,loading:!1};case u.CLEAR_TUTOR_INDEX:return s.prepayInfo;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tutorList=r,t.tutorInfo=o,t.tutorAnswerList=a,t.prepayInfo=i;var u=n(8),s={tutorList:{data:[],completed:!1,page:1,num:10,searchStatus:"complete"},tutorInfo:{},tutorAnswerList:{data:[],completed:!1,page:1},prepayInfo:{data:{},loading:!1}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.WXConfig,t=arguments[1];switch(t.type){case a.RECEIVE_WX_CONFIG:return Object.assign({},e,{data:t.data});case a.WX_CONFIG_SUCCESS:return Object.assign({},e,{success:!0});default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.landPage,t=arguments[1];switch(t.type){case a.SET_LAND_PAGE:return t.landPage;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WXConfig=r,t.landPage=o;var a=n(8),i={WXConfig:{success:!1,data:{}},landPage:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(t){var r=(0,a.createStore)(f.default,t,(0,a.applyMiddleware)(u.default,(0,c.default)()));return e.hot.accept(36,function(){var e=n(36).default;r.replaceReducer(e)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(33),i=n(143),u=r(i),s=n(142),c=r(s),l=n(36),f=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),p=r(d),h=n(23),m=r(h),y=function(e){function t(){return u(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),f(t,[{key:"render",value:function(){var e,t=this.props,n=t.value,r=t.size,u=t.className,s=i(t,["value","size","className"]),c=(0,m.default)((e={},a(e,"weui_icon_"+n,!0),a(e,"weui_icon_msg","large"===r),a(e,u,u),e));return"loading"===n?p.default.createElement("div",{className:"weui_loading"},[].concat(o(Array(12))).map(function(e,t){return p.default.createElement("div",{key:t,className:"weui_loading_leaf weui_loading_leaf_"+t})})):p.default.createElement("i",l({},s,{className:c}))}}]),t}(d.Component);y.propTypes={value:p.default.PropTypes.string,size:p.default.PropTypes.string},y.defaultProps={value:"success",size:"small"},t.default=y},function(e,t,n){var r,o;(function(n){!function(n,a){"use strict";r=[],o=function(){return a()}.apply(t,r),!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"undefined"!=typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(t,n,r,f,d,p,h){d=d||[];var m=d.slice(0);if("undefined"!=typeof p){if(f){if("function"==typeof f&&f(m,p))return;if("object"==typeof f){if(f.prefilter&&f.prefilter(m,p))return;if(f.normalize){var y=f.normalize(m,p,t,n);y&&(t=y[0],n=y[1])}}}m.push(p)}"regexp"===c(t)&&"regexp"===c(n)&&(t=t.toString(),n=n.toString());var v=typeof t,E=typeof n;if("undefined"===v)"undefined"!==E&&r(new a(m,n));else if("undefined"===E)r(new i(m,t));else if(c(t)!==c(n))r(new o(m,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!==0)r(new o(m,t,n));else if("object"===v&&null!==t&&null!==n){if(h=h||[],h.indexOf(t)<0){if(h.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=n.length?r(new u(m,b,new i(e,t[b]))):l(t[b],n[b],r,f,m,b,h);for(;b<n.length;)r(new u(m,b,new a(e,n[b++])))}else{var g=Object.keys(t),_=Object.keys(n);g.forEach(function(o,a){var i=_.indexOf(o);i>=0?(l(t[o],n[o],r,f,m,o,h),_=s(_,i)):l(t[o],e,r,f,m,o,h)}),_.forEach(function(t){l(e,n[t],r,f,m,t,h)})}h.length=h.length-1}}else t!==n&&("number"===v&&isNaN(t)&&isNaN(n)||r(new o(m,t,n)))}function f(t,n,r,o){return o=o||[],l(t,n,function(e){e&&o.push(e)},r),o.length?o:e}function d(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,a=n.path?n.path.length-1:0;++o<a;)"undefined"==typeof r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":d(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function m(e,t,n){if(e&&t&&n&&n.kind){var r,o,a=e;for(o=n.path.length-1,r=0;r<o;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":h(a[n.path[r]],n.index,n.item);break;case"D":a[n.path[r]]=n.lhs;break;case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){if(e&&t){var r=function(r){n&&!n(e,t,r)||p(e,t,r)};l(e,t,r)}}var v,E,b=[];return v="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},E=v.DeepDiff,E&&b.push(function(){"undefined"!=typeof E&&v.DeepDiff===f&&(v.DeepDiff=E,E=e)}),t(o,r),t(a,r),t(i,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof E},enumerable:!0},noConflict:{value:function(){return b&&(b.forEach(function(e){e()}),b=null),f},enumerable:!0}}),f})}).call(t,function(){return this}())},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function a(e,t,n){var a,l;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=i.call(e),t=i.call(t),c(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var f=u(e),d=u(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),a=f.length-1;a>=0;a--)if(f[a]!=d[a])return!1;for(a=f.length-1;a>=0;a--)if(l=f[a],!c(e[l],t[l],n))return!1;return typeof e==typeof t}var i=Array.prototype.slice,u=n(109),s=n(108),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:a(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},,,function(e,t){"use strict";function n(e,t,n){function o(){return u=!0,s?void(l=[].concat(r.call(arguments))):void n.apply(this,arguments)}function a(){if(!u&&(c=!0,!s)){for(s=!0;!u&&i<e&&c;)c=!1,t.call(this,i++,a,o);return s=!1,u?void n.apply(this,l):void(i>=e&&c&&(u=!0,n()))}}var i=0,u=!1,s=!1,c=!1,l=void 0;a()}t.__esModule=!0;var r=Array.prototype.slice;t.loopAsync=n},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e){try{e=e||window.history.state||{}}catch(t){e={}}var t=d.getWindowPath(),n=e,r=n.key,o=void 0;r?o=p.readState(r):(o=null,r=g.createKey(),E&&window.history.replaceState(i({},e,{key:r}),null));var a=l.parsePath(t);return g.createLocation(i({},a,{state:o}),void 0,r)}function t(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return d.addEventListener(window,"popstate",n),function(){d.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,o=e.hash,a=e.state,i=e.action,u=e.key;if(i!==c.POP){p.saveState(u,a);var s=(t||"")+n+r+o,l={key:u};if(i===c.PUSH){if(b)return window.location.href=s,!1;window.history.pushState(l,null,s)}else{if(b)return window.location.replace(s),!1;window.history.replaceState(l,null,s)}}}function o(e){1===++_&&(w=t(g));var n=g.listenBefore(e);return function(){n(),0===--_&&w()}}function a(e){1===++_&&(w=t(g));var n=g.listen(e);return function(){n(),0===--_&&w()}}function u(e){1===++_&&(w=t(g)),g.registerTransitionHook(e)}function h(e){g.unregisterTransitionHook(e),0===--_&&w()}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f.canUseDOM?void 0:"production"!==r.env.NODE_ENV?s.default(!1,"Browser history needs a DOM"):s.default(!1);var v=y.forceRefresh,E=d.supportsHistory(),b=!E||v,g=m.default(i({},y,{getCurrentLocation:e,finishTransition:n,saveState:p.saveState})),_=0,w=void 0;return i({},g,{listenBefore:o,listen:a,registerTransitionHook:u,unregisterTransitionHook:h})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(7),s=o(u),c=n(19),l=n(13),f=n(28),d=n(38),p=n(51),h=n(52),m=o(h);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?c.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=l.parsePath(e)),"object"==typeof t&&("production"!==r.env.NODE_ENV?s.default(!1,"The state (2nd) argument to createLocation is deprecated; use a location descriptor instead"):void 0,e=i({},e,{state:t}),t=n||c.POP,n=o);var a=e.pathname||"/",u=e.search||"",f=e.hash||"",d=e.state||null;return{pathname:a,search:u,hash:f,state:d,action:t,key:n}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(9),s=o(u),c=n(19),l=n(13);t.default=a,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function i(){function e(e,t){b[e]=t}function t(e){return b[e]}function n(){var e=v[E],n=e.basename,r=e.pathname,o=e.search,a=(n||"")+r+(o||""),i=void 0,s=void 0;e.key?(i=e.key,s=t(i)):(i=h.createKey(),s=null,e.key=i);var c=d.parsePath(a);return h.createLocation(u({},c,{state:s}),void 0,i)}function o(e){var t=E+e;return t>=0&&t<v.length}function i(e){if(e){if(!o(e))return void("production"!==r.env.NODE_ENV?c.default(!1,"Cannot go(%s) there is not enough history",e):void 0);E+=e;var t=n();h.transitionTo(u({},t,{action:p.POP}))}}function s(t){switch(t.action){case p.PUSH:E+=1,E<v.length&&v.splice(E),v.push(t),e(t.key,t.state);break;case p.REPLACE:v[E]=t,e(t.key,t.state)}}var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(l)?l={entries:l}:"string"==typeof l&&(l={entries:[l]});var h=m.default(u({},l,{getCurrentLocation:n,finishTransition:s,saveState:e,go:i})),y=l,v=y.entries,E=y.current;"string"==typeof v?v=[v]:Array.isArray(v)||(v=["/"]),v=v.map(function(e){var t=h.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?u({},e,{key:t}):void("production"!==r.env.NODE_ENV?f.default(!1,"Unable to create history entry from %s",e):f.default(!1))}),null==E?E=v.length-1:E>=0&&E<v.length?void 0:"production"!==r.env.NODE_ENV?f.default(!1,"Current index must be >= 0 and < %s, was %s",v.length,E):f.default(!1);var b=a(v);return h}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(9),c=o(s),l=n(7),f=o(l),d=n(13),p=n(19),h=n(54),m=o(h);t.default=i,e.exports=t.default}).call(t,n(2))},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var u=0;u<i.length;++u)if(!(n[i[u]]||r[i[u]]||a&&a[i[u]]))try{e[i[u]]=t[i[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(144);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(6),i=o(a),u=n(14),s={contextTypes:{history:u.history},componentWillMount:function(){
"production"!==r.env.NODE_ENV?(0,i.default)(!1,"the `History` mixin is deprecated, please access `context.router` with your own `contextTypes`. http://tiny.cc/router-historymixin"):void 0,this.history=this.context.history}};t.default=s,e.exports=t.default}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=r(a),u=n(56),s=r(u),c=i.default.createClass({displayName:"IndexLink",render:function(){return i.default.createElement(s.default,o({},this.props,{onlyActiveOnIndex:!0}))}});t.default=c,e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),i=o(a),u=n(6),s=o(u),c=n(7),l=o(c),f=n(57),d=o(f),p=n(14),h=i.default.PropTypes,m=h.string,y=h.object,v=i.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t?t.indexRoute=d.default.createRouteFromReactElement(e):"production"!==r.env.NODE_ENV?(0,s.default)(!1,"An <IndexRedirect> does not make sense at the root of your route config"):void 0}},propTypes:{to:m.isRequired,query:y,state:y,onEnter:p.falsy,children:p.falsy},render:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"<IndexRedirect> elements are for router configuration only and should not be rendered"):(0,l.default)(!1)}});t.default=v,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),i=o(a),u=n(6),s=o(u),c=n(7),l=o(c),f=n(11),d=n(14),p=i.default.PropTypes.func,h=i.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t?t.indexRoute=(0,f.createRouteFromReactElement)(e):"production"!==r.env.NODE_ENV?(0,s.default)(!1,"An <IndexRoute> does not make sense at the root of your route config"):void 0}},propTypes:{path:d.falsy,component:d.component,components:d.components,getComponent:p,getComponents:p},render:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"<IndexRoute> elements are for router configuration only and should not be rendered"):(0,l.default)(!1)}});t.default=h,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(6),i=o(a),u=n(1),s=o(u),c=n(7),l=o(c),f=s.default.PropTypes.object,d={contextTypes:{history:f.isRequired,route:f},propTypes:{route:f},componentDidMount:function(){"production"!==r.env.NODE_ENV?(0,i.default)(!1,"the `Lifecycle` mixin is deprecated, please use `context.router.setRouteLeaveHook(route, hook)`. http://tiny.cc/router-lifecyclemixin"):void 0,this.routerWillLeave?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"The Lifecycle mixin requires you to define a routerWillLeave method"):(0,l.default)(!1);var e=this.props.route||this.context.route;e?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"The Lifecycle mixin must be used on either a) a <Route component> or b) a descendant of a <Route component> that uses the RouteContext mixin"):(0,l.default)(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t.default=d,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),i=o(a),u=n(7),s=o(u),c=n(11),l=n(14),f=i.default.PropTypes,d=f.string,p=f.func,h=i.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:c.createRouteFromReactElement},propTypes:{path:d,component:l.component,components:l.components,getComponent:p,getComponents:p},render:function(){"production"!==r.env.NODE_ENV?(0,s.default)(!1,"<Route> elements are for router configuration only and should not be rendered"):(0,s.default)(!1)}});t.default=h,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(6),i=o(a),u=n(1),s=o(u),c=s.default.PropTypes.object,l={propTypes:{route:c.isRequired},childContextTypes:{route:c.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){"production"!==r.env.NODE_ENV?(0,i.default)(!1,"The `RouteContext` mixin is deprecated. You can provide `this.props.route` on context with your own `contextTypes`. http://tiny.cc/router-routecontextmixin"):void 0}};t.default=l,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return!e||!e.__v2_compatible__}function u(e){return e&&e.getCurrentLocation}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(53),l=o(c),f=n(29),d=o(f),p=n(7),h=o(p),m=n(1),y=o(m),v=n(43),E=o(v),b=n(14),g=n(31),_=o(g),w=n(11),O=n(58),A=n(6),S=o(A),R=y.default.PropTypes,P=R.func,N=R.object,T=y.default.createClass({displayName:"Router",propTypes:{history:N,children:b.routes,routes:b.routes,render:P,createElement:P,onError:P,onUpdate:P,parseQueryString:P,stringifyQuery:P,matchContext:N},getDefaultProps:function(){return{render:function(e){return y.default.createElement(_.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,n=t.parseQueryString,o=t.stringifyQuery;"production"!==r.env.NODE_ENV?(0,S.default)(!(n||o),"`parseQueryString` and `stringifyQuery` are deprecated. Please create a custom history. http://tiny.cc/router-customquerystring"):void 0;var a=this.createRouterObjects(),i=a.history,u=a.transitionManager,s=a.router;this._unlisten=u.listen(function(t,n){t?e.handleError(t):e.setState(n,e.props.onUpdate)}),this.history=i,this.router=s},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,n=this.props,o=n.routes,a=n.children;u(t)?"production"!==r.env.NODE_ENV?(0,h.default)(!1,"You have provided a history object created with history v3.x. This version of React Router is not compatible with v3 history objects. Please use history v2.x instead."):(0,h.default)(!1):void 0,i(t)&&(t=this.wrapDeprecatedHistory(t));var s=(0,E.default)(t,(0,w.createRoutes)(o||a)),c=(0,O.createRouterObject)(t,s),l=(0,O.createRoutingHistory)(t,s);return{history:l,transitionManager:s,router:c}},wrapDeprecatedHistory:function(e){var t=this.props,n=t.parseQueryString,o=t.stringifyQuery,a=void 0;return e?("production"!==r.env.NODE_ENV?(0,S.default)(!1,"It appears you have provided a deprecated history object to `<Router/>`, please use a history provided by React Router with `import { browserHistory } from 'react-router'` or `import { hashHistory } from 'react-router'`. If you are using a custom history please create it with `useRouterHistory`, see http://tiny.cc/router-usinghistory for details."):void 0,a=function(){return e}):("production"!==r.env.NODE_ENV?(0,S.default)(!1,"`Router` no longer defaults the history prop to hash history. Please use the `hashHistory` singleton instead. http://tiny.cc/router-defaulthistory"):void 0,a=l.default),(0,d.default)(a)({parseQueryString:n,stringifyQuery:o})},componentWillReceiveProps:function(e){"production"!==r.env.NODE_ENV?(0,S.default)(e.history===this.props.history,"You cannot change <Router history>; it will be ignored"):void 0,"production"!==r.env.NODE_ENV?(0,S.default)((e.routes||e.children)===(this.props.routes||this.props.children),"You cannot change <Router routes>; it will be ignored"):void 0},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,i=t.components,u=this.props,c=u.createElement,e=u.render,l=a(u,["createElement","render"]);return null==n?null:(Object.keys(T.propTypes).forEach(function(e){return delete l[e]}),e(s({},l,{history:this.history,router:this.router,location:n,routes:r,params:o,components:i,createElement:c})))}});t.default=T,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),i=o(a),u=n(31),s=o(u),c=n(6),l=o(c),f=i.default.createClass({displayName:"RoutingContext",componentWillMount:function(){"production"!==r.env.NODE_ENV?(0,l.default)(!1,"`RoutingContext` has been renamed to `RouterContext`. Please use `import { RouterContext } from 'react-router'`. http://tiny.cc/router-routercontext"):void 0},render:function(){return i.default.createElement(s.default,this.props)}});t.default=f,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];if(e.apply(t,o),e.length<n){var i=o[o.length-1];i()}}}function a(e){return e.reduce(function(e,t){return t.onEnter&&e.push(o(t.onEnter,t,3)),e},[])}function i(e){return e.reduce(function(e,t){return t.onChange&&e.push(o(t.onChange,t,4)),e},[])}function u(t,n,r){function o(t,n,r){return n?("production"!==e.env.NODE_ENV?(0,p.default)(!1,"`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"):void 0,void(a={pathname:n,query:r,state:t})):void(a=t)}if(!t)return void r();var a=void 0;(0,f.loopAsync)(t,function(e,t,r){n(e,o,function(e){e||a?r(e,a):t()})},r)}function s(e,t,n){var r=a(e);return u(r.length,function(e,n,o){r[e](t,n,o)},n)}function c(e,t,n,r){var o=i(e);return u(o.length,function(e,r,a){o[e](t,n,r,a)},r)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=s,t.runChangeHooks=c,t.runLeaveHooks=l;var f=n(41),d=n(6),p=r(d)}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),u=o(i),s=n(31),c=o(s),l=n(6),f=o(l);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"production"!==r.env.NODE_ENV&&t.forEach(function(e,t){"production"!==r.env.NODE_ENV?(0,f.default)(e.renderRouterContext||e.renderRouteComponent,"The middleware specified at index "+t+" does not appear to be a valid React Router middleware."):void 0});var o=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length<=0||void 0===arguments[0]?i.createElement:arguments[0];return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return o.reduceRight(function(t,n){return n(t,e)},u.default.createElement(c.default,a({},e,{createElement:l(e.createElement)})))}},e.exports=t.default}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(113),a=r(o),i=n(60),u=r(i);t.default=(0,u.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,a.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function o(e,t){var n=e&&e.routes,o=t.routes,a=void 0,i=void 0,u=void 0;return n?!function(){var s=!1;a=n.filter(function(n){if(s)return!0;var a=o.indexOf(n)===-1||r(n,e,t);return a&&(s=!0),a}),a.reverse(),u=[],i=[],o.forEach(function(e){var t=n.indexOf(e)===-1,r=a.indexOf(e)!==-1;t||r?u.push(e):i.push(e)})}():(a=[],i=[],u=o),{leaveRoutes:a,changeRoutes:i,enterRoutes:u}}t.__esModule=!0;var a=n(20);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(!r)return void n();var o=e.location,a=(0,s.default)(e,o);r.call(t,a,n)}function a(e,t){(0,i.mapAsync)(e.routes,function(t,n,r){o(e,t,r)},t)}t.__esModule=!0;var i=n(41),u=n(61),s=r(u);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,o.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var o=n(20);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(53),a=r(o),i=n(60),u=r(i);t.default=(0,u.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":s(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function o(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function a(e,t,n){for(var r=e,o=[],a=[],i=0,u=t.length;i<u;++i){var s=t[i],l=s.path||"";if("/"===l.charAt(0)&&(r=e,o=[],a=[]),null!==r&&l){var f=(0,c.matchPattern)(l,r);if(f?(r=f.remainingPathname,o=[].concat(o,f.paramNames),a=[].concat(a,f.paramValues)):r=null,""===r)return o.every(function(e,t){return String(a[t])===String(n[e])})}}return!1}function i(e,t){return null==t?null==e:null==e||r(e,t)}function u(e,t,n,r,u){var s=e.pathname,c=e.query;return null!=n&&("/"!==s.charAt(0)&&(s="/"+s),!!(o(s,n.pathname)||!t&&a(s,r,u))&&i(c,n.query))}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=u;var c=n(20);e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){var n=e.history,o=e.routes,i=e.location,c=a(e,["history","routes","location"]);n||i?void 0:"production"!==r.env.NODE_ENV?(0,l.default)(!1,"match needs a history or a location"):(0,l.default)(!1),n=n?n:(0,d.default)(c);var f=(0,h.default)(n,(0,m.createRoutes)(o)),p=void 0;i?i=n.createLocation(i):p=n.listen(function(e){i=e});var v=(0,y.createRouterObject)(n,f);n=(0,y.createRoutingHistory)(n,f),f.match(i,function(e,r,o){t(e,r&&v.createLocation(r,s.REPLACE),o&&u({},o,{history:n,router:v,matchContext:{history:n,transitionManager:f,router:v}})),p&&p()})}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(19),c=n(7),l=o(c),f=n(59),d=o(f),p=n(43),h=o(p),m=n(11),y=n(58);t.default=i,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var a=!0,i=void 0,u={location:t,params:s(n,r)},c=(0,m.default)(u,t);return e.getChildRoutes(c,function(e,t){return t=!e&&(0,b.createRoutes)(t),a?void(i=[e,t]):void o(e,t)}),a=!1,i}function i(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var a={location:t,params:s(n,r)},u=(0,m.default)(a,t);e.getIndexRoute(u,function(e,t){o(e,!e&&(0,b.createRoutes)(t)[0])})}else e.childRoutes?!function(){var a=e.childRoutes.filter(function(e){return!e.path});(0,p.loopAsync)(a.length,function(e,o,u){i(a[e],t,n,r,function(t,n){if(t||n){var r=[a[e]].concat(Array.isArray(n)?n:[n]);u(t,r)}else o()})},function(e,t){o(null,t)})}():o()}function u(e,t,n){return t.reduce(function(e,t,r){var o=n&&n[r];return Array.isArray(e[t])?e[t].push(o):t in e?e[t]=[e[t],o]:e[t]=o,e},e)}function s(e,t){return u({},e,t)}function c(e,t,n,o,u,c){var f=e.path||"";if("/"===f.charAt(0)&&(n=t.pathname,o=[],u=[]),null!==n&&f){try{var p=(0,y.matchPattern)(f,n);p?(n=p.remainingPathname,o=[].concat(o,p.paramNames),u=[].concat(u,p.paramValues)):n=null}catch(e){c(e)}if(""===n){var h=function(){var n={routes:[e],params:s(o,u)};return i(e,t,o,u,function(e,t){if(e)c(e);else{if(Array.isArray(t)){var o;"production"!==r.env.NODE_ENV?(0,E.default)(t.every(function(e){return!e.path}),"Index routes should not have paths"):void 0,(o=n.routes).push.apply(o,t)}else t&&("production"!==r.env.NODE_ENV?(0,E.default)(!t.path,"Index routes should not have paths"):void 0,n.routes.push(t));c(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof h?"undefined":d(h)))return h.v}}if(null!=n||e.childRoutes){var m=function(r,a){r?c(r):a?l(a,t,function(t,n){t?c(t):n?(n.routes.unshift(e),c(null,n)):c()},n,o,u):c()},v=a(e,t,o,u,m);v&&m.apply(void 0,v)}else c()}function l(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],a=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=f({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,p.loopAsync)(e.length,function(n,i,u){c(e[n],t,r,o,a,function(e,t){e||t?u(e,t):i()})},n)}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=l;var p=n(41),h=n(61),m=o(h),y=n(20),v=n(6),E=o(v),b=n(11);e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){return"production"!==r.env.NODE_ENV?(0,p.default)(!1,"`useRoutes` is deprecated. Please use `createTransitionManager` instead."):void 0,function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.routes,r=a(t,["routes"]),o=(0,c.default)(e)(r),i=(0,f.default)(o,n);return u({},o,i)}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(29),c=o(s),l=n(43),f=o(l),d=n(6),p=o(d);t.default=i,e.exports=t.default}).call(t,n(2))},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.displayName||e.name||"Component"}function i(e,t){var n=t&&t.withRef,o=f.default.createClass({displayName:"WithRouter",contextTypes:{router:h.routerShape},propTypes:{router:h.routerShape},getWrappedInstance:function(){return n?void 0:"production"!==r.env.NODE_ENV?(0,c.default)(!1,"To access the wrapped instance, you need to specify `{ withRef: true }` as the second argument of the withRouter() call."):(0,c.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,o=u({},this.props,{router:r});return n&&(o.ref=function(e){t.wrappedInstance=e}),f.default.createElement(e,o)}});return o.displayName="withRouter("+a(e)+")",o.WrappedComponent=e,(0,p.default)(o,e)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var s=n(7),c=o(s),l=n(1),f=o(l),d=n(116),p=o(d),h=n(42);e.exports=t.default}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t,n,r){switch("undefined"==typeof e?"undefined":a(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,o(n)):e[r];case"function":return e(t);default:return e}}function u(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var a=["action"];return t&&a.push("@ "+r),a.push(e.type),n&&a.push("(in "+o.toFixed(2)+" ms)"),a.join(" ")}}function s(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,a=void 0===o?u(t):o,s=t.collapsed,l=t.colors,d=t.level,p=t.diff;e.forEach(function(t,o){var u=t.started,h=t.startedTime,m=t.action,y=t.prevState,v=t.error,E=t.took,b=t.nextState,g=e[o+1];g&&(b=g.prevState,E=g.started-u);var _=r(m),w="function"==typeof s?s(function(){return b},m):s,O=(0,c.formatTime)(h),A=l.title?"color: "+l.title(_)+";":null,S=a(_,O,E);try{w?l.title?n.groupCollapsed("%c "+S,A):n.groupCollapsed(S):l.title?n.group("%c "+S,A):n.group(S)}catch(e){n.log(S)}var R=i(d,_,[y],"prevState"),P=i(d,_,[_],"action"),N=i(d,_,[v,y],"error"),T=i(d,_,[b],"nextState");R&&(l.prevState?n[R]("%c prev state","color: "+l.prevState(y)+"; font-weight: bold",y):n[R]("prev state",y)),P&&(l.action?n[P]("%c action","color: "+l.action(_)+"; font-weight: bold",_):n[P]("action",_)),v&&N&&(l.error?n[N]("%c error","color: "+l.error(v,y)+"; font-weight: bold",v):n[N]("error",v)),T&&(l.nextState?n[T]("%c next state","color: "+l.nextState(b)+"; font-weight: bold",b):n[T]("next state",b)),p&&(0,f.default)(y,b,n,w);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.printBuffer=s;var c=n(63),l=n(141),f=r(l)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"color: "+c[e].color+"; font-weight: bold"}function a(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,a=e.index,i=e.item;switch(t){case"E":return n.join(".")+" "+r+" → "+o;case"N":return n.join(".")+" "+o;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+a+"]",i];default:return null}}function i(e,t,n,r){var i=(0,s.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=a(e);n.log("%c "+c[t].text,o(t),r)}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var u=n(106),s=r(u),c={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=a({},c.default,e),n=t.logger,r=t.transformer,o=t.stateTransformer,s=t.errorTransformer,l=t.predicate,f=t.logErrors,d=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof l&&!l(n,r))return e(r);var c={};p.push(c),c.started=u.timer.now(),c.startedTime=new Date,c.prevState=o(n()),c.action=r;var h=void 0;if(f)try{h=e(r)}catch(e){c.error=s(e)}else h=e(r);c.took=u.timer.now()-c.started,c.nextState=o(n());var m=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,i.printBuffer)(p,a({},t,{diff:m})),p.length=0,c.error)throw c.error;return h}}}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(139),u=n(63),s=n(140),c=r(s);t.default=o,e.exports=t.default},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRjAwRDUxQTM4RTAxMUU2QUREMEQ3Q0MwQjlBRDc0RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRjAwRDUxQjM4RTAxMUU2QUREMEQ3Q0MwQjlBRDc0RiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkVGMDBENTE4MzhFMDExRTZBREQwRDdDQzBCOUFENzRGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVGMDBENTE5MzhFMDExRTZBREQwRDdDQzBCOUFENzRGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+McddhQAAAchJREFUeNrkl7lLA0EYxZNNFDst7O20sBBFVMTCI16VKTwKGyv9D0QE69jaWgVBUTwwbhONiqCFQcFGC61UsDGNdqJIfB+8wLCwsrPHIDjwIzuzx3vzfXMlbtt2zEBpAstggPUTsADukwbE20EB1CltadALuiwDBp7BC68fQAvI01BGDJQD4lY6wAh4Bf3gDjSCDbDIZ1JRpUDEj0AN6AHXNHEKmsFm5UE1BXGfuInXgn1ww3aJRJ8SCSkFK6Kei/gWmAbfyv2SYuJdUhFmCjrB4S/iCdDKdIiJBpmGlkHxdXDBgVmikZhlSFxG/hT4AG/qy5Yh8UnmXHp/GZaBwOJBDIQi7tdAaOJSdKdhmyL+BQ4cy7FTfBgUXb5V9hOBWzAPnkAVp9Y5v6Mjrp0C6XGKoV7lUjrH5bWbU0xbXMdAmnv6DuufNLLE+pofcR0D4/zNO9qz4JFjSVvcqwE5OAwx/HuOexKJjF9xrwbGQDU44xpeD2bBLnue5eZS9LOgeJmGE0pvCxRLsE3OdcfKnh+6AQn/IK9HFSMyFrbBVdCdLOkx/JXei2jOuaNFaUAiMBO2qI6BlajP7Cb+F/xtA0nn7vTvIvAjwAD5dJMuYhzY+wAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAEn0lEQVRo3s2ay28bVRSHv7l+xQ8c2zMpqg4FAjskHgIJUKGlFFaFBSrsoeIhVCpAbPgbQAIBQkWiCIV9YdXukKAsihAPAUKsoEkFV5Va23Gi2En8GLMYj2tPbcfzcMJPyiIz95773ZN755x7bgxCSmtdAA4D9wMPAHcCxd5PEqgB14AV4DfgB+BrEVkLM64REDYFHAdOAEeAhE8TbeAb4AvgrIhszxRca50GXgXeBm4O47EBXQHeA06LyGbk4Frrp4CPgdsjAvbqL+BNETkfCXjPyx8Ar8wI2KszwBs7eX8iuNZ6P3AOZ+Ptpn4CnhER7Rtca72Is4Fu22VoVyvAURFZnhpca30LcAG4Y4+gXf0DHBSRf70v1AjoDPDl/wAa4ABwvsc0GRxnIz44+CCTybCwsIBSilnKMAxSqZT38T3AhxPBtdbHgJe9xrLZLIlEAsuyZgZvGAbFYhHTNJmbm/O+fklr/fRQ+wHoOeBPYPGG2SmFZVnE43Ha7TblchnbtiODVkpRKpVIJpPYtk2lUqHVanmbrQB3uZ/JQfedHAUNYNs25XKZdrtNPB6P1POxWAzLskgmk3Q6Hcrl8ihocALfySGP97x9Cdi/k2ei9Hw8Hsc0TWKxGK1Wi2q1SqfTmdTlKnBARJqu247vBB2155PJJJZlEYvFaDabVCqVnaAB9gHPwfWlcmLaAaOAT6VSmKaJUoqtrS0qlYqfv9wLAIbWeh4nX/aVmgZdNul0mkKhgGEYNBoNarWar0kDLWCfAp7wCx3U87lcjmKxiGEYbGxsBIGmx3pUAQ8H6e0XPp/Pk8/nAVhbW2N9fT3osAAHFXBvGAvTwBcKBXK5HN1ul9XVVer1epghAe5WRJCTjIM3DINSqUQmk6Hb7VKtVtncnPqQM0mLhta6BsxHYc27YbvdLolEAtu2qVarNJvNKIYBWFfATVFZ83o+kUj0o2GE0AB5xegMMbDcJeKq2+1Gmte4ZhUQqr4xKG80nEVu09O6won/oTUqGs4qMQOuKZzkKpTS6TSlUqkfDavVan+JzAj+kgL+CGMhm81OjIYzgv9dAReD9s7n88zPO1/SSdFwBvDfG72i5VV85iuFQqEfWGq12lSBJaJ8vgUsKBGpAd9O2ytMNIzI8xdEZM3ttTRND6VU/zDrng23t/0VWiOAX4LrwecsO3wWR50Ng0bDEPBXgK/64CLSBN4d19o1Prg22+12IOiQ8O+POuWfxikBDMmtp7jRsFwuT3M2nAX8Mk6ZmyHw3kxOeVvHYrGgZ8NA8KZpDuU6A3pdRLbcX25oobX+FE81K5VK+d6EfuVu/Hq9TqPR8L7+XEReHHwwCjyDE5RCnYwi1I/AEREZms2kMvNFnGrpXmoZODxVmRmg1/AxRmzWXdRl4MlR0GPBe/DLwCHg5z2A/hV4VETGZq4TP5y92R4CPttF6DPAI+M87crPdeEx4COcm+NZ6DJwSkTOTdM4yAXta8BbTFEknVJXgXeAT2ZyQeuZwBzwLPA88DgQ92mihXM5tsRuXImPmUQRp/74EHAfcCuwABSAJs4/IawCf+Ns9F+A70RkNcy4/wFdoFvJIuylHgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADo0lEQVR4Xu1bXU7bQBCecSHtG+kJ6kqx0zeChPMK3CA9QcMJCicoPQFwAsIJSE8AvMZIpG+NHanhBIS3Yreeat1Yyo/xrjcGrDJ5jHdnZr8de2a/2UEo4FerbW4biJ8AoIWI1QJEPiiCiMaAeBFF0fFweHWxrC5cRoBpNqqV1dVDRGwvI0d3LhF1gjDcH436Y10ZSwFg280zBGjpKi9iHgF0Pa/3UVeWNgCW5bQNxBNdxUXOi4h2fd/t6MjUBqBuN38CgDmn9AaIuoSo7ZJZi0CiKiAKj3s3N2408HrvnwwAy3IaBuL1jEKiy/swbC3zPqouoG45F4C4NT0+ItrwfbevKiMZp+UB4qv/yjDOp5URwEfP63XzGqAz3rabLQQ4m577J4p2dKJCYQDoGqADQNoG6OpnAJ57B55bP3uA2IG65XymPCkskTmf/YmsDBBHOjuae04B+pFoPPDdY7Qtp4P/8vgX9yOiUwHA7WMfYMqKrDhYoW03+wiwXlYjH9MuAviOIqtDxM5LA0EsnojaWlHgMXflqWUzAE+NeNn0sQeo7kh8BAbYwjD89mPUV054xDwiWBsO3UtVXWJcreZsIcJdniOuoOhWVlbXV36HN6o2KnnANPsjYicB7KgYZlvOSZIxElE/CMMdGV8w4RnPEbEhgBAZpue7uzLw4mgGIObFpKwqS6QEgG0514lBE6NOPd/NJELFQl5XKrd5OYM0qu0+CN7KgJvPaAXgnu9uyIBTAqBuN2lGENHlwHe3s4Q/QJp89bzeQdY8224eIMCXvGRHGks08HrS9UkHxIclBoA9gF8B/gbMfM75I8hRgMMg5wGcCHEmyKlwBgJ8FkivIPNhiE+DfBxmPoAJEWaEMhBgSow5QSZFmRVmWvx/qAvoVobSboGqVIZKVxgRkW4mpClUk5LoOL0YApAeoOLiTcr94WetDCWLEZ7wBqCqWq1N5n0wG+YvgLGsJpgGWvJfKQCQFSeLel5aDyhqgTI5DEBZvwGynSvqOXsAe8BiG01hUWDhOm2OmF6Ui8vkzL8C4iao5/Xie0ZZP7UbIgU2KckM0nmeRsGD4iapAVDb3APDOJw3TjQtAkDuTi2dRWbMEbfDFps3o2h/MLw6kulSAmBydW2EiGsygWV4TkR3QRiaKlmkEgCTvH6hVa0Mi02zIU8LnzIACQhAJDpMSukJYucBsZ2nfzEXAAKE+HWoVPbiVvmSNFqILz4AdIMgOFJx+2mv+QvfJ2QNB1zlrAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAtCAYAAADRLVmZAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAEQUlEQVRo3s2ZXYhVVRTHf3cMmzSVGrWHGqPJaBLpOyPyDEYfKBFFVExRCkWYTxnR6KyXvuz/EkRI9WCFfRFJhpPgm2FyFLRisi8zEHUwpqIp9WrmaM30sNdxjjfHOefeO3fuelmszf74nb3X3WuvdQtUKGZ2DjAZOAvoB4qSjlc670hSKAP0QuBW4HqgFTi/pMsg8AvwLfAF8Lmk4piBm9lNwEIHzvPBx4GNwGpJe2sGbmbNwHLgxlTz30A3sAPYBxwguMkEoAm4DLgOmA00+JgBYC3whqQjowpuZguATgcC2Au8D2yUdDTDR08D7gYeBKZ4cy+wTNKPowJuZouBx908DLwGrJM0kHcRM5sILAbaCSdwDOiUFFcV3MyWAI+5uQvokNRbyQ75vG3ACsIJngCekrStKuBmdifwvJvdwNIsbpEDfiawEphO2PmFkvZUBG5mM4APgUZgJ/BENaFL4N8CzgX2AA/nvfsbSuxOhy4Cy0cDGkDSbuBZwp3fAizKO8dJcDO7GbjBzVXV8OkR4DcDm9xcZGbnlQUOPOr6Z+CT0YROyevAv4RTbs8NbmYtwFXetkrSiVpQS+oBNrh5l5k1ZB2bdJzn+i/gs1pAp6TL9XTgyrzgiW9vl9RfY/DvgIMlHJnBW13vqDE0kgZT67ZmHdfgv+ZJbu+rNXjJus2ZwRl6/AD0jRH4n66nZB3QQMhcEqnJbXIaSaLm2XnA06F2/BiBJ+seywN+MGVPGyPwqa4PZQb3fDAZ0DJG4Mm6PZnBXf/g+upaE3u0TALPzrzgX7meY2YTsg6uklxLKG8AfJkXfBPhidkIzK8x+D2ue8m745L2E2ogAI+Y2bhaEHuN5nY3uzyKZgd3edt1MzmfmBXI08A4QjL+cZ6BJ8EldQOb3VxiZpeMJrHntm1uvinpcFngLi8T0rZG4JW8WUkO6NmENBHCFbgm7xyngEv6lZDhDxBcZmW14c1sFvCqbw7ADELRKJf870cYx3FPFEUHgLmESHpLFEVfx3H8RxWgbyOc6qRUcwGYG0VRXxzHu7LOdaZK1kPAUobeM6uB98pJNMxsKvAksMCbisA24I5Ut0FAktZVBO4LRsBzDD03+4CPgA2Sfs8APBO4l+AKyctvN9AB7AeeAR4oBz5LtbbJd35+qv8AoTT3DaEQegg4CkwELgAuJUTEi1JT9QPvAO8mxR8zKwwD/5KkrorAUx9wOaFwM498z98isB74QFLfaeYdDn6FpE8rBk8tNBmIgDmEOvjFnJoAFAlX3PeEaLx9pPKaw3cA92eFzw0+zMLjCdfbkXLK0OXAVwW8WuLwy4D7SuBflLQ+3bcmj6msEscxURRtJfwhNsubC0BbFEW/xXH8U12Cl8A3lcBHafi6A88KX1c+Xiru852EIJbIAPBCXe54Ir7zWwhVgCu8uQBcU9fgZ4BfU9eukhZ3m3bgH2Dtf7QObKuGFuGPAAAAAElFTkSuQmCC";
},function(e,t,n){(function(t){"use strict";var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var a=0,i="Warning: "+t.replace(/%s/g,function(){return n[a++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}}),e.exports=n}).call(t,n(2))},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=i(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!g(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if("string"==typeof e)this.url=e;else{if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split("\r\n").forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},g=ArrayBuffer.isView||function(e){return e&&E.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];y.redirect=function(e,t){if(w.indexOf(t)===-1)throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){e.exports=!0}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbW9iaWxlLjE4MzFiYjdmYmFjM2FiZGY0ZGUzLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxODMxYmI3ZmJhYzNhYmRmNGRlMyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvYXBpL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yZWR1eC9kaXN0L3JlYWN0LXJlZHV4Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvcm91dGVyV2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2ludmFyaWFudC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9hY3Rpb25zL0FjdGlvblR5cGVzLmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9+L3dhcm5pbmcvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvYWN0aW9ucy9hY2NvdW50LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZVV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy91dGlsL3dldWkvbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL1BhdGhVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvSW50ZXJuYWxQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvTG9hZGluZzIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL3V0aWwvYXBpSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL2FsZXJ0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy91dGlsL3dldWkvdG9hc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9BY3Rpb25zLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9QYXR0ZXJuVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2FjdGlvbnMvcXVlc3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvTG9hZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NsYXNzbmFtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvYWN0aW9ucy90dXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9TZWFyY2hCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvYmxvY2tzL1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL3VzZVF1ZXJpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pc29tb3JwaGljLWZldGNoL2ZldGNoLW5wbS1icm93c2VyaWZ5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZXJDb250ZXh0LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvZGlzdC9yZWR1eC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2FjdGlvbnMvY29uZmlnLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL2Jsb2Nrcy9UdXRvckl0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy91dGlsL3dldWkvbWFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL0RPTVV0aWxzLmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvZGVwcmVjYXRlLmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvcnVuVHJhbnNpdGlvbkhvb2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL0FzeW5jVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1Byb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9sb2dvLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9Wb2ljZVdhdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvU2VhcmNoVGlwcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvdXRpbC90aW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy91dGlsL3dldWkvY29uZmlybS5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL0RPTVN0YXRlU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL2NyZWF0ZURPTUhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9jcmVhdGVIYXNoSGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL2NyZWF0ZUhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi91c2VCYXNlbmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUmVkaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlclV0aWxzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9jcmVhdGVSb3V0ZXJIaXN0b3J5LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9tYWtlU3RhdGVXaXRoTG9jYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL3VzZVJvdXRlckhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC1sb2dnZXIvbGliL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9RUkVudHJ5LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvYWN0aW9ucy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2FwaS9hY2NvdW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9hcGkvcXVlc3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2FwaS9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2FwaS90dXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvYXBpL3dlaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9BY2NvdW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb21wb25lbnRzL0FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9Ib3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvUGF5SW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvU2VhcmNoLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb21wb25lbnRzL1R1dG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL0FjY291bnRFZGl0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL0hvdFF1ZXN0aW9uTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9RdWVzdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9SZXN1bHRMaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1NlYXJjaFJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9UZXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1R1dG9ySW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvVHV0b3JMaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1R1dG9yU2hhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvVXNlckluZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL2Jsb2Nrcy9RdWVzdGlvbkl0ZW1Bc2tlZE1lLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL2Jsb2Nrcy9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9saXN0cy9Bc2tlZE1lTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9saXN0cy9JQXNrZWRMaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL2xpc3RzL0xpdGVuZWRMaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL3BhZ2VzL0Fuc3dlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvYWNjb3VudC9hc2tlZE1lLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy9hY2NvdW50L2lBc2tlZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvYWNjb3VudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvYWNjb3VudC9saXN0ZW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvYWNjb3VudC91c2VySW5mby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvb3RoZXJVc2VySW5mby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvcXVlc3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvdHV0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL3dlaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdHMvc3RvcmUvY29uZmlndXJlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHRzL3V0aWwvd2V1aS9pY29uLmpzIiwid2VicGFjazovLy8uL34vZGVlcC1kaWZmL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vZGVlcC1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2RlZXAtZXF1YWwvbGliL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9Bc3luY1V0aWxzLmpzIiwid2VicGFjazovLy8uL34vaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2xpYi9jcmVhdGVMb2NhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvbGliL2NyZWF0ZU1lbW9yeUhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3F1ZXJ5LXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvSGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvSW5kZXhMaW5rLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9JbmRleFJlZGlyZWN0LmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9JbmRleFJvdXRlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9MaWZlY3ljbGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvUm91dGluZ0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL1RyYW5zaXRpb25VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvYXBwbHlSb3V0ZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9icm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvY29tcHV0ZUNoYW5nZWRSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL2dldENvbXBvbmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL2dldFJvdXRlUGFyYW1zLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9oYXNoSGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvaXNBY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWFjdC1yb3V0ZXIvbGliL21hdGNoLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi9tYXRjaFJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlYWN0LXJvdXRlci9saWIvdXNlUm91dGVzLmpzIiwid2VicGFjazovLy8uL34vcmVhY3Qtcm91dGVyL2xpYi93aXRoUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtbG9nZ2VyL2xpYi9jb3JlLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtbG9nZ2VyL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LWxvZ2dlci9saWIvZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LWxvZ2dlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC10aHVuay9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHJpY3QtdXJpLWVuY29kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL0VkaXRFbnRyeS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9jbG9zZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9kZWxldGUucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvc2VhcmNoLnBuZyIsIndlYnBhY2s6Ly8vLi9+L3dhcm5pbmcvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0cnVlXCIiXSwibmFtZXMiOlsibW9kdWxlcyIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJjaHVua0lkIiwiaGVhZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNoYXJzZXQiLCJzcmMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsImhvdEN1cnJlbnRIYXNoIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwiZXJyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImUiLCJob3RDcmVhdGVSZXF1aXJlIiwibW9kdWxlSWQiLCJlbnN1cmUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJob3RDaHVua3NMb2FkaW5nIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiY2FsbCIsImZuIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiY2hpbGRyZW4iLCJob3RDdXJyZW50UGFyZW50cyIsImNvbnNvbGUiLCJ3YXJuIiwibmFtZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FuRGVmaW5lUHJvcGVydHkiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsImFjY2VwdCIsImRlcCIsImkiLCJsZW5ndGgiLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJjaGVjayIsImhvdENoZWNrIiwiYXBwbHkiLCJob3RBcHBseSIsImwiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwiZGF0YSIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwibmV3U3RhdHVzIiwidG9Nb2R1bGVJZCIsImlkIiwiaXNOdW1iZXIiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGlibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsImhvdENhbGxiYWNrIiwiaG90VXBkYXRlIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJtb3JlTW9kdWxlcyIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJnZXRBZmZlY3RlZFN0dWZmIiwibW9kdWxlIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsInNsaWNlIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJyZXN1bHQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwiZGlzcG9zZUhhbmRsZXJzIiwiaiIsImNiIiwiY2hpbGQiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRlcGVuZGVuY3kiLCJlcnJvciIsImNhbGxiYWNrcyIsImV4cG9ydHMiLCJsb2FkZWQiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsInRoaXMiLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcmVhY3REb20iLCJfcmVhY3REb20yIiwiX3JlYWN0UmVkdXgiLCJfcmVhY3RSb3V0ZXIiLCJjb2RlIiwiX0FwcCIsIl9BcHAyIiwiX0hvdCIsIl9Ib3QyIiwiX1R1dG9yIiwiX1R1dG9yMiIsIl9BY2NvdW50IiwiX0FjY291bnQyIiwiX0xpdGVuZWRMaXN0IiwiX0xpdGVuZWRMaXN0MiIsIl9Bc2tlZE1lTGlzdCIsIl9Bc2tlZE1lTGlzdDIiLCJfSUFza2VkTGlzdCIsIl9JQXNrZWRMaXN0MiIsIl9BY2NvdW50RWRpdCIsIl9BY2NvdW50RWRpdDIiLCJfUXVlc3Rpb24iLCJfUXVlc3Rpb24yIiwiX1R1dG9ySW5kZXgiLCJfVHV0b3JJbmRleDIiLCJfVHV0b3JTaGFyZSIsIl9UdXRvclNoYXJlMiIsIl9Vc2VySW5kZXgiLCJfVXNlckluZGV4MiIsIl9BbnN3ZXIiLCJfQW5zd2VyMiIsIl9TZWFyY2giLCJfU2VhcmNoMiIsIl9TZWFyY2hUaXBzIiwiX1NlYXJjaFRpcHMyIiwiX1NlYXJjaFJlc3VsdCIsIl9TZWFyY2hSZXN1bHQyIiwiX1Jlc3VsdExpc3QiLCJfUmVzdWx0TGlzdDIiLCJfUGF5SW5kZXgiLCJfUGF5SW5kZXgyIiwiX1Rlc3QiLCJfVGVzdDIiLCJfY29uZmlndXJlU3RvcmUiLCJfY29uZmlndXJlU3RvcmUyIiwiX2NvbmZpZyIsInN0b3JlIiwiYnJvd3Nlckhpc3RvcnkiLCJsaXN0ZW4iLCJsb2NhdGlvbiIsImxvZyIsIndpbmRvdyIsImxhbmRQYWdlIiwicGF0aG5hbWUiLCJnYSIsInBhZ2UiLCJocmVmIiwidGl0bGUiLCJyZW5kZXIiLCJQcm92aWRlciIsIlJvdXRlciIsImhpc3RvcnkiLCJSb3V0ZSIsInBhdGgiLCJjb21wb25lbnQiLCJiYXNlVXJsIiwiSW5kZXhSb3V0ZSIsImdldEVsZW1lbnRCeUlkIiwiUmVhY3QiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjYWNoZWRTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZG9tYWluIiwiZG9tYWluUGF0aCIsImNyZWF0ZU1lbW9yeUhpc3RvcnkiLCJoYXNoSGlzdG9yeSIsImFwcGx5Um91dGVyTWlkZGxld2FyZSIsImZvcm1hdFBhdHRlcm4iLCJ1c2VSb3V0ZXJIaXN0b3J5IiwibWF0Y2giLCJyb3V0ZXJTaGFwZSIsImxvY2F0aW9uU2hhcGUiLCJQcm9wVHlwZXMiLCJSb3V0aW5nQ29udGV4dCIsIlJvdXRlckNvbnRleHQiLCJjcmVhdGVSb3V0ZXMiLCJ1c2VSb3V0ZXMiLCJSb3V0ZUNvbnRleHQiLCJMaWZlY3ljbGUiLCJIaXN0b3J5IiwiUmVkaXJlY3QiLCJJbmRleFJlZGlyZWN0Iiwid2l0aFJvdXRlciIsIkluZGV4TGluayIsIkxpbmsiLCJ1bmRlZmluZWQiLCJfUm91dGVVdGlscyIsIl9Qcm9wVHlwZXMyIiwiX1BhdHRlcm5VdGlscyIsIl9Sb3V0ZXIyIiwiX1JvdXRlcjMiLCJfTGluazIiLCJfTGluazMiLCJfSW5kZXhMaW5rMiIsIl9JbmRleExpbmszIiwiX3dpdGhSb3V0ZXIyIiwiX3dpdGhSb3V0ZXIzIiwiX0luZGV4UmVkaXJlY3QyIiwiX0luZGV4UmVkaXJlY3QzIiwiX0luZGV4Um91dGUyIiwiX0luZGV4Um91dGUzIiwiX1JlZGlyZWN0MiIsIl9SZWRpcmVjdDMiLCJfUm91dGUyIiwiX1JvdXRlMyIsIl9IaXN0b3J5MiIsIl9IaXN0b3J5MyIsIl9MaWZlY3ljbGUyIiwiX0xpZmVjeWNsZTMiLCJfUm91dGVDb250ZXh0MiIsIl9Sb3V0ZUNvbnRleHQzIiwiX3VzZVJvdXRlczIiLCJfdXNlUm91dGVzMyIsIl9Sb3V0ZXJDb250ZXh0MiIsIl9Sb3V0ZXJDb250ZXh0MyIsIl9Sb3V0aW5nQ29udGV4dDIiLCJfUm91dGluZ0NvbnRleHQzIiwiX1Byb3BUeXBlczMiLCJfbWF0Y2gyIiwiX21hdGNoMyIsIl91c2VSb3V0ZXJIaXN0b3J5MiIsIl91c2VSb3V0ZXJIaXN0b3J5MyIsIl9hcHBseVJvdXRlck1pZGRsZXdhcmUyIiwiX2FwcGx5Um91dGVyTWlkZGxld2FyZTMiLCJfYnJvd3Nlckhpc3RvcnkyIiwiX2Jyb3dzZXJIaXN0b3J5MyIsIl9oYXNoSGlzdG9yeTIiLCJfaGFzaEhpc3RvcnkzIiwiX2NyZWF0ZU1lbW9yeUhpc3RvcnkyIiwiX2NyZWF0ZU1lbW9yeUhpc3RvcnkzIiwidCIsIm8iLCJyIiwibiIsImNvbm5lY3QiLCJzIiwic2hhcGUiLCJzdWJzY3JpYmUiLCJmdW5jIiwiaXNSZXF1aXJlZCIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJTeW1ib2wiLCJUeXBlRXJyb3IiLCJSZWZlcmVuY2VFcnJvciIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInUiLCJmIiwiZ2V0Q2hpbGRDb250ZXh0IiwiQ2hpbGRyZW4iLCJvbmx5IiwicHJvcHMiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJlbGVtZW50IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJkaXNwbGF5TmFtZSIsIkMiLCJkIiwidiIsIlAiLCJUIiwicHVyZSIsImciLCJPIiwid2l0aFJlZiIsIl8iLCJEIiwiTSIsInciLCJzdGF0ZSIsInN0b3JlU3RhdGUiLCJjbGVhckNhY2hlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiaGF2ZU93blByb3BzQ2hhbmdlZCIsImhhc1N0b3JlU3RhdGVDaGFuZ2VkIiwiY29tcHV0ZVN0YXRlUHJvcHMiLCJmaW5hbE1hcFN0YXRlVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUiLCJkb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzIiwiY29tcHV0ZURpc3BhdGNoUHJvcHMiLCJmaW5hbE1hcERpc3BhdGNoVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2giLCJkb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzIiwidXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkIiwic3RhdGVQcm9wcyIsInkiLCJ1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQiLCJkaXNwYXRjaFByb3BzIiwidXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCIsIm1lcmdlZFByb3BzIiwiaXNTdWJzY3JpYmVkIiwidW5zdWJzY3JpYmUiLCJ0cnlTdWJzY3JpYmUiLCJoYW5kbGVDaGFuZ2UiLCJiaW5kIiwidHJ5VW5zdWJzY3JpYmUiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQiLCJzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciIsInJlbmRlcmVkRWxlbWVudCIsInNldFN0YXRlIiwiZ2V0V3JhcHBlZEluc3RhbmNlIiwicmVmcyIsIndyYXBwZWRJbnN0YW5jZSIsInJlZiIsIldyYXBwZWRDb21wb25lbnQiLCJjb250ZXh0VHlwZXMiLCJTIiwiYXNzaWduIiwia2V5cyIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImRlZmF1bHRQcm9wcyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsImNhbGxlciIsImFyaXR5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInJlcGxhY2UiLCJmcmFtZXNUb1BvcCIsInRvU3RyaW5nVGFnIiwiRnVuY3Rpb24iLCJnZXRQcm90b3R5cGVPZiIsInRvU3RyaW5nIiwic2VsZiIsInJvdXRlcldhcm5pbmciLCJmYWxzZVRvV2FybiIsIm1lc3NhZ2UiLCJ3YXJuZWQiLCJfbGVuIiwiX2tleSIsIl93YXJuaW5nMiIsIl9yZXNldFdhcm5lZCIsIl93YXJuaW5nIiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiTk9ERV9FTlYiLCJhcmdJbmRleCIsIldYX0NPTkZJR19TVUNDRVNTIiwiUkVDRUlWRV9XWF9DT05GSUciLCJTRVRfTEFORF9QQUdFIiwiUkVDRUlWRV9IT1RfUVVFU1RJT05fTElTVCIsIkhPVF9RVUVTVElPTl9MSVNUX0NPTVBMRVRFRCIsIlJFQ0VJVkVfUVVFU1RJT05fSU5GTyIsIlJFUVVFU1RfTElTVEVOX0lORk8iLCJSRUNFSVZFX0xJU1RFTl9JTkZPIiwiUkVDRUlWRV9TQVZFX1ZPSUNFIiwiUkVDRUlWRV9QUklTRV9RVUVTVElPTiIsIlJFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OIiwiUkVDRUlWRV9QQUlEIiwiQ0xFQVJfUVVFU1RJT04iLCJSRUNFSVZFX1RVVE9SX0xJU1QiLCJSRUNFSVZFX1RVVE9SX0lORk8iLCJSRUNFSVZFX1RVVE9SX0FOU1dFUl9MSVNUIiwiUkVRVUVTVF9QUkVQQVlfSU5GTyIsIlJFQ0VJVkVfUFJFUEFZX0lORk8iLCJDTEVBUl9UVVRPUl9JTkRFWCIsIlJFUVVFU1RfSElTVE9SWV9TRUFSQ0giLCJSRUNFSVZFX0hJU1RPUllfU0VBUkNIIiwiUkVRVUVTVF9IT1RfU0VBUkNIIiwiUkVDRUlWRV9IT1RfU0VBUkNIIiwiU0VUX0NVUl9TRUFSQ0giLCJSRVFVRVNUX1NFQVJDSF9RVUVTVElPTiIsIlJFUVVFU1RfU0VBUkNIX1RVVE9SIiwiREVMRVRFX0hJU1RPUllfU1VDQ0VTUyIsIlJFQ0VJVkVfVVNFUl9JTkZPIiwiUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8iLCJSRVFVRVNUX0xJU1RFTkVEIiwiTElTVEVORURfQ09NUExFVEVEIiwiUkVDRUlWRV9MSVNURU5FRCIsIkNMRUFSX0lfQVNLRUQiLCJSRVFVRVNUX0lfQVNLRUQiLCJSRUNFSVZFX0lfQVNLRUQiLCJJX0FTS0VEX0NPTVBMRVRFRCIsIlJFUVVFU1RfQVNLRURfTUUiLCJDTEVBUl9BU0tFRF9NRSIsIlJFQ0VJVkVfQVNLRURfTUUiLCJBU0tFRF9NRV9DT01QTEVURUQiLCJ3YXJuaW5nIiwia2V5IiwidGVzdCIsImdldFVzZXJJbmZvIiwiX2FjY291bnQyIiwiZ2V0T3RoZXJVc2VySW5mbyIsImVkaXRVc2VySW5mbyIsImNvbXBhbnkiLCJqb2IiLCJleHBlcmllbmNlIiwidGVhY2hlcl9wcml6ZSIsImludHJvZHVjdGlvbiIsImdldExpc3RlbmVkIiwibnVtIiwiZ2V0SUFza2VkIiwiZ2V0QXNrZWRNZSIsImNsZWFyQXNrZWRNZSIsInJlcXVlc3RCZWNvbWVUZWFjaGVyIiwiaW52aXRlIiwicHJpemUiLCJfbWVzc2FnZTIiLCJzdWNjZXNzIiwicmVsb2FkIiwiX2FjY291bnQiLCJfQWN0aW9uVHlwZXMiLCJfbWVzc2FnZSIsImlzVmFsaWRDaGlsZCIsIm9iamVjdCIsImlzVmFsaWRFbGVtZW50IiwiaXNSZWFjdENoaWxkcmVuIiwiaXNBcnJheSIsImV2ZXJ5IiwiY3JlYXRlUm91dGUiLCJfZXh0ZW5kcyIsImNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudCIsInJvdXRlIiwiY2hpbGRSb3V0ZXMiLCJjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiIsInBhcmVudFJvdXRlIiwicm91dGVzIiwiZm9yRWFjaCIsInRhcmdldCIsInNvdXJjZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3RvYXN0IiwiX3RvYXN0MiIsIl9hbGVydCIsIl9hbGVydDIiLCJfY29uZmlybSIsIl9jb25maXJtMiIsIkFsZXJ0MSIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpcyIsImhpZGVBbGVydCIsInNob3dBbGVydCIsImJ1dHRvbnMiLCJsYWJlbCIsIm9uQ2xpY2siLCJvbkNsb3NlIiwic2hvdyIsImNvbnRlbnQiLCJUb2FzdDEiLCJfUmVhY3QkQ29tcG9uZW50MiIsIl90aGlzMiIsIl90aGlzMyIsImR1cmF0aW9uIiwiU21hcnRDb25maXJtIiwiX0NvbXBvbmVudCIsIl90aGlzNCIsInNob3dDb25maXJtIiwib25Db25maXJtIiwib25DYW5jZWwiLCJjb25maXJtVGV4dCIsImNvbmZpcm0iLCJjYW5jZWxUZXh0IiwiY2FuY2VsIiwiZGl2IiwiYm9keSIsImFsZXJ0IiwiZXh0cmFjdFBhdGgiLCJzdHJpbmciLCJzdWJzdHJpbmciLCJwYXJzZVBhdGgiLCJzZWFyY2giLCJoYXNoIiwiaGFzaEluZGV4Iiwic2VhcmNoSW5kZXgiLCJmYWxzeSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsImNvbXBvbmVudHMiLCJhcnJheU9mIiwib25lT2ZUeXBlIiwiZ28iLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJMb2FkaW5nIiwiY29tcGxldGVkIiwiY2xhc3NOYW1lIiwiaGFuZGxlUmVzcG9uc2UiLCJqc29uIiwiZXJyQ29kZSIsInJlZGlyZWN0VXJsIiwibG9naW5fdXJsIiwibXNnIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX2NsYXNzbmFtZXMiLCJfY2xhc3NuYW1lczIiLCJfbWFzayIsIl9tYXNrMiIsIkFsZXJ0IiwibWFwIiwiYWN0aW9uIiwib3RoZXJzIiwid2V1aV9idG5fZGlhbG9nIiwicHJpbWFyeSIsIl9wcm9wcyIsInN0eWxlIiwiZGlzcGxheSIsIl9yZW5kZXJCdXR0b25zIiwiYm9vbCIsIl9pY29uIiwiX2ljb24yIiwiVG9hc3QiLCJpY29uIiwiaWNvblNpemUiLCJ0cmFuc3BhcmVudCIsInNpemUiLCJQVVNIIiwiUkVQTEFDRSIsIlBPUCIsImVzY2FwZVJlZ0V4cCIsIl9jb21waWxlUGF0dGVybiIsInBhdHRlcm4iLCJyZWdleHBTb3VyY2UiLCJwYXJhbU5hbWVzIiwidG9rZW5zIiwibGFzdEluZGV4IiwibWF0Y2hlciIsImV4ZWMiLCJpbmRleCIsImNvbXBpbGVQYXR0ZXJuIiwiQ29tcGlsZWRQYXR0ZXJuc0NhY2hlIiwibWF0Y2hQYXR0ZXJuIiwiY2hhckF0IiwiX2NvbXBpbGVQYXR0ZXJuMiIsIlJlZ0V4cCIsIm1hdGNoZWRQYXRoIiwicmVtYWluaW5nUGF0aG5hbWUiLCJzdWJzdHIiLCJwYXJhbVZhbHVlcyIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFBhcmFtTmFtZXMiLCJnZXRQYXJhbXMiLCJwYXJhbXMiLCJwYXJhbU5hbWUiLCJfY29tcGlsZVBhdHRlcm4zIiwicGFyZW5Db3VudCIsInNwbGF0SW5kZXgiLCJ0b2tlbiIsInBhcmFtVmFsdWUiLCJzcGxhdCIsIl9pbnZhcmlhbnQyIiwiZW5jb2RlVVJJIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiX2ludmFyaWFudCIsImdldEhvdFF1ZXN0aW9uTGlzdCIsImN1clNlYXJjaCIsIl9xdWVzdGlvbjIiLCJnZXRRdWVzdGlvbkluZm8iLCJxdWVzdGlvbkluZm8iLCJnZXRMaXN0ZW5JbmZvIiwiYW5zd2VySWQiLCJzYXZlVm9pY2UiLCJzZXJ2ZXJJZCIsInF1ZXN0aW9uSWQiLCJwcmlzZVF1ZXN0aW9uIiwiY2FuY2VsUHJpc2VRdWVzdGlvbiIsImhhbmRsZVBhaWQiLCJjbGVhclF1ZXNpdG9uIiwiX3F1ZXN0aW9uIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJhcmciLCJhcmdUeXBlIiwiaGFzT3duIiwiam9pbiIsIlJlYWN0RE9NIiwiZ2V0VHV0b3JMaXN0IiwiX3R1dG9yMiIsImdldFR1dG9ySW5mbyIsInR1dG9ySW5mbyIsImdldFR1dG9yQW5zd2VyTGlzdCIsImdldFByZXBheUluZm8iLCJ0dXRvcklkIiwiY2xlYXJUdXRvckluZGV4IiwiX3R1dG9yIiwiU2VhcmNoQmFyIiwiX3JlZiIsInVybCIsInNwbGl0IiwicXVlcnlTZWxlY3RvciIsInNob3dUaXBzIiwiaGFuZGxlU2VhcmNoIiwicXVlcnkiLCJjbGVhcklucHV0IiwiaW5wdXQiLCJmb2N1cyIsIm9uRm9jdXMiLCJwbGFjZWhvbGRlciIsIl9hcGlIYW5kbGVyIiwiUXVlc3Rpb25JdGVtV2l0aEF2YXRhciIsImxvYWRpbmciLCJhbGVydENvbnRlbnQiLCJpc1BheWVkIiwic3VjY2Vzc1VybCIsInF1ZXN0aW9uIiwidXNlcklkIiwidG8iLCJxdWVzdGlvbl9pZCIsInF1ZXN0aW9uX2NvbnRlbnQiLCJ0ZWFjaGVyX2lkIiwidGVhY2hlcl9mYWNlIiwidGVhY2hlcl9uYW1lIiwidGVhY2hlcl9wb3NpdGlvbiIsImJ1YmJsZUNsaWNrIiwiYW5zd2VyX2lkIiwiYW5zd2VyX2lzcGF5ZWQiLCJxdWVzdGlvbl9wcml6ZSIsImFuc3dlcl9saXN0ZW4iLCJhbnN3ZXJfbGlrZSIsImNhblVzZURPTSIsImRlZmF1bHRTdHJpbmdpZnlRdWVyeSIsIl9xdWVyeVN0cmluZyIsInN0cmluZ2lmeSIsImlzTmVzdGVkT2JqZWN0IiwidXNlUXVlcmllcyIsImNyZWF0ZUhpc3RvcnkiLCJhZGRRdWVyeSIsInBhcnNlUXVlcnlTdHJpbmciLCJTRUFSQ0hfQkFTRV9LRVkiLCJzZWFyY2hCYXNlIiwiYXBwZW5kUXVlcnkiLCJfZXh0ZW5kczIiLCJzZWFyY2hCYXNlU3BlYyIsInF1ZXJ5U3RyaW5nIiwic3RyaW5naWZ5UXVlcnkiLCJfUGF0aFV0aWxzIiwibGlzdGVuQmVmb3JlIiwiaG9vayIsIl9ydW5UcmFuc2l0aW9uSG9vazIiLCJsaXN0ZW5lciIsImNyZWF0ZVBhdGgiLCJjcmVhdGVIcmVmIiwiY3JlYXRlTG9jYXRpb24iLCJmdWxsTG9jYXRpb24iLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJkZWZhdWx0UGFyc2VRdWVyeVN0cmluZyIsIl9kZXByZWNhdGUyIiwiX3J1blRyYW5zaXRpb25Ib29rIiwiX2RlcHJlY2F0ZSIsImZldGNoIiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwiX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMiLCJfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIiLCJfZ2V0Um91dGVQYXJhbXMiLCJfZ2V0Um91dGVQYXJhbXMyIiwiX3JvdXRlcldhcm5pbmciLCJfcm91dGVyV2FybmluZzIiLCJfUmVhY3QkUHJvcFR5cGVzIiwiY3JlYXRlQ2xhc3MiLCJyb3V0ZXIiLCJzZXRSb3V0ZUxlYXZlSG9vayIsImxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSIsIl9wcm9wczIiLCJyZWR1Y2VSaWdodCIsInJvdXRlUGFyYW1zIiwicHJvcCIsImVsZW1lbnRzIiwiY2FuVXNlTWVtYnJhbmUiLCJkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzIiwibWVtYnJhbmUiLCJfbG9vcCIsImNvbXBvc2UiLCJhcHBseU1pZGRsZXdhcmUiLCJjb21iaW5lUmVkdWNlcnMiLCJjcmVhdGVTdG9yZSIsIklOSVQiLCJuZXh0IiwicmVwbGFjZVJlZHVjZXIiLCJBY3Rpb25UeXBlcyIsIk1hdGgiLCJyYW5kb20iLCJvYnNlcnZhYmxlIiwiZ2V0V1hDb25maWciLCJfd2VpeGluMiIsInNldExhbmRQYWdlIiwiY29uZmlnU3VjY2VzcyIsIl93ZWl4aW4iLCJUdXRvckl0ZW0iLCJ0dXRvciIsInVzZXJfaWQiLCJ1c2VyX2ZhY2UiLCJ1c2VyX25hbWUiLCJ1c2VyX3RpdGxlIiwiYW5zd2VyX251bWJlciIsIl9yZWR1eCIsIl9zZWFyY2giLCJfaW5kZXgiLCJfaW5kZXgyIiwiX290aGVyVXNlckluZm8iLCJfb3RoZXJVc2VySW5mbzIiLCJyb290UmVkdWNlciIsImhvdFF1ZXN0aW9uTGlzdCIsImxpc3RlbkluZm8iLCJzYXZlVm9pY2VJbmZvIiwidHV0b3JMaXN0IiwidHV0b3JBbnN3ZXJMaXN0IiwicHJlcGF5SW5mbyIsImhpc3RvcnlTZWFyY2giLCJob3RTZWFyY2giLCJhY2NvdW50Iiwib3RoZXJVc2VySW5mbyIsIldYQ29uZmlnIiwiTWFzayIsIndldWlfbWFzayIsIndldWlfbWFza190cmFuc3BhcmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJub2RlIiwiZXZlbnQiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImdldEhhc2hQYXRoIiwicmVwbGFjZUhhc2hQYXRoIiwiZ2V0V2luZG93UGF0aCIsImdldFVzZXJDb25maXJtYXRpb24iLCJzdXBwb3J0c0hpc3RvcnkiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoIiwiZGVwcmVjYXRlIiwicnVuVHJhbnNpdGlvbkhvb2siLCJsb29wQXN5bmMiLCJ0dXJucyIsIndvcmsiLCJkb25lIiwiaXNEb25lIiwic3luYyIsImRvbmVBcmdzIiwiaGFzTmV4dCIsImN1cnJlbnRUdXJuIiwibWFwQXN5bmMiLCJ2YWx1ZXMiLCJkb25lQ291bnQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIm5ld09iaiIsIl9JbnRlcm5hbFByb3BUeXBlcyIsIkludGVybmFsUHJvcFR5cGVzIiwiaXNBY3RpdmUiLCJkZXByZWNhdGVQcm9wVHlwZSIsInByb3BUeXBlIiwiZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZSIsImRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZSIsImRlZmF1bHRFeHBvcnQiLCJoYXNBbnlQcm9wZXJ0aWVzIiwiY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIiLCJpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSIsImRlcHJlY2F0ZWRJbmRleE9ubHkiLCJpbmRleE9ubHkiLCJfaXNBY3RpdmUzIiwicGFydGlhbE5leHRTdGF0ZSIsImZpbmlzaE1hdGNoIiwiX21hdGNoUm91dGVzMiIsIm5leHRTdGF0ZSIsImZpbmlzaEVudGVySG9va3MiLCJyZWRpcmVjdEluZm8iLCJoYW5kbGVFcnJvck9yUmVkaXJlY3QiLCJfZ2V0Q29tcG9uZW50czIiLCJfY29tcHV0ZUNoYW5nZWRSb3V0ZXMiLCJfY29tcHV0ZUNoYW5nZWRSb3V0ZXMzIiwibGVhdmVSb3V0ZXMiLCJjaGFuZ2VSb3V0ZXMiLCJlbnRlclJvdXRlcyIsIl9UcmFuc2l0aW9uVXRpbHMiLCJydW5MZWF2ZUhvb2tzIiwiZmlsdGVyIiwicmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZSIsInJ1bkNoYW5nZUhvb2tzIiwicnVuRW50ZXJIb29rcyIsImdldFJvdXRlSUQiLCJfX2lkX18iLCJSb3V0ZUd1aWQiLCJnZXRSb3V0ZUhvb2tzRm9yUm91dGVzIiwicmVkdWNlIiwiaG9va3MiLCJSb3V0ZUhvb2tzIiwidHJhbnNpdGlvbkhvb2siLCJiZWZvcmVVbmxvYWRIb29rIiwicm91dGVJRCIsInVubGlzdGVuQmVmb3JlIiwidW5saXN0ZW5CZWZvcmVVbmxvYWQiLCJ0aGVyZVdlcmVOb1JvdXRlSG9va3MiLCJsaXN0ZW5CZWZvcmVVbmxvYWQiLCJuZXdIb29rcyIsInJlZGlyZWN0TG9jYXRpb24iLCJfY29tcHV0ZUNoYW5nZWRSb3V0ZXMyIiwiX2lzQWN0aXZlMiIsIl9nZXRDb21wb25lbnRzIiwiX21hdGNoUm91dGVzIiwiVm9pY2VXYXZlIiwiX0xvYWRpbmciLCJfTG9hZGluZzIiLCJTZWFyY2hUaXBzIiwiZ2V0SGlzdG9yeSIsImdldEhvdCIsImRlbGV0ZUhpc3RvcnkiLCJnZXRIaXN0b3J5U2VhcmNoIiwiZ2V0SG90U2VhcmNoIiwiX3RpbWUiLCJfdGltZTIiLCJRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyIiwiaXNfcGF5ZWQiLCJnZXRUaW1lU3BhbiIsInRpbWUiLCJsaWtlIiwibm93IiwiRGF0ZSIsInRpbWVzdGFtcCIsImdldFRpbWUiLCJzZWNvbmRzIiwicGFyc2VJbnQiLCJDb25maXJtIiwicmVuZGVyQnV0dG9ucyIsImNyZWF0ZUtleSIsIktleVByZWZpeCIsInNhdmVTdGF0ZSIsInNlc3Npb25TdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNldEl0ZW0iLCJTZWN1cml0eUVycm9yIiwiUXVvdGFFeGNlZWRlZEVycm9ycyIsInJlYWRTdGF0ZSIsImdldEl0ZW0iLCJjcmVhdGVET01IaXN0b3J5IiwiX0V4ZWN1dGlvbkVudmlyb25tZW50IiwiX2NyZWF0ZUhpc3RvcnkyIiwiX0RPTVV0aWxzIiwiX2NyZWF0ZUhpc3RvcnkiLCJpc0Fic29sdXRlUGF0aCIsImVuc3VyZVNsYXNoIiwiYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aCIsInN0cmlwUXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoIiwiZ2V0UXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoIiwiY3JlYXRlSGFzaEhpc3RvcnkiLCJnZXRDdXJyZW50TG9jYXRpb24iLCJxdWVyeUtleSIsIl9ET01TdGF0ZVN0b3JhZ2UiLCJzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lciIsImhhc2hDaGFuZ2VMaXN0ZW5lciIsInRyYW5zaXRpb25UbyIsImZpbmlzaFRyYW5zaXRpb24iLCJiYXNlbmFtZSIsIl9BY3Rpb25zIiwiY3VycmVudEhhc2giLCJsaXN0ZW5lckNvdW50Iiwic3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciIsInVubGlzdGVuIiwiZ29Jc1N1cHBvcnRlZFdpdGhvdXRSZWxvYWQiLCJyZWdpc3RlclRyYW5zaXRpb25Ib29rIiwidW5yZWdpc3RlclRyYW5zaXRpb25Ib29rIiwiRGVmYXVsdFF1ZXJ5S2V5IiwiX2NyZWF0ZURPTUhpc3RvcnkyIiwiX2NyZWF0ZURPTUhpc3RvcnkiLCJjcmVhdGVSYW5kb21LZXkiLCJsb2NhdGlvbnNBcmVFcXVhbCIsIl9kZWVwRXF1YWwyIiwidHJhbnNpdGlvbkhvb2tzIiwiZ2V0Q3VycmVudCIsInBlbmRpbmdMb2NhdGlvbiIsImFsbEtleXMiLCJ1cGRhdGVMb2NhdGlvbiIsIm5ld0xvY2F0aW9uIiwiY3VycmVudCIsImNoYW5nZUxpc3RlbmVycyIsIl9sb2NhdGlvbiIsImNvbmZpcm1UcmFuc2l0aW9uVG8iLCJfQXN5bmNVdGlscyIsIm9rIiwibmV4dExvY2F0aW9uIiwicHJldlBhdGgiLCJuZXh0UGF0aCIsInByZXZJbmRleCIsIm5leHRJbmRleCIsImtleUxlbmd0aCIsIl9jcmVhdGVMb2NhdGlvbjMiLCJ1cGRhdGVMb2NhdGlvblN0YXRlIiwiRGVmYXVsdEtleUxlbmd0aCIsIl9kZWVwRXF1YWwiLCJfY3JlYXRlTG9jYXRpb24yIiwidXNlQmFzZW5hbWUiLCJjaGVja0Jhc2VIcmVmIiwiY2hlY2tlZEJhc2VIcmVmIiwiYmFzZSIsImJhc2VIcmVmIiwiZ2V0QXR0cmlidXRlIiwiYWRkQmFzZW5hbWUiLCJwcmVwZW5kQmFzZW5hbWUiLCJwbmFtZSIsIm5vcm1hbGl6ZWRCYXNlbmFtZSIsIm5vcm1hbGl6ZWRQYXRobmFtZSIsImlzTGVmdENsaWNrRXZlbnQiLCJidXR0b24iLCJpc01vZGlmaWVkRXZlbnQiLCJtZXRhS2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiaXNFbXB0eU9iamVjdCIsImNyZWF0ZUxvY2F0aW9uRGVzY3JpcHRvciIsIl9Qcm9wVHlwZXMiLCJhY3RpdmVTdHlsZSIsImFjdGl2ZUNsYXNzTmFtZSIsIm9ubHlBY3RpdmVPbkluZGV4IiwiaGFuZGxlQ2xpY2siLCJkZWZhdWx0UHJldmVudGVkIiwiY29udGV4dCIsInByZXZlbnREZWZhdWx0Iiwic3RhdGljcyIsImZyb20iLCJvbkVudGVyIiwicm91dGVJbmRleCIsInBhcmVudFBhdHRlcm4iLCJnZXRSb3V0ZVBhdHRlcm4iLCJjcmVhdGVSb3V0ZXJPYmplY3QiLCJ0cmFuc2l0aW9uTWFuYWdlciIsImNyZWF0ZVJvdXRpbmdIaXN0b3J5IiwibWVtb3J5SGlzdG9yeSIsIl91c2VRdWVyaWVzMiIsIl91c2VCYXNlbmFtZTIiLCJfX3YyX2NvbXBhdGlibGVfXyIsIl91c2VRdWVyaWVzIiwiX3VzZUJhc2VuYW1lIiwiX2NyZWF0ZU1lbW9yeUhpc3RvcnkiLCJfdXNlUm91dGVySGlzdG9yeSIsIm1ha2VTdGF0ZVdpdGhMb2NhdGlvbiIsInN0YXRlV2l0aExvY2F0aW9uIiwicmVwZWF0Iiwic3RyIiwidGltZXMiLCJwYWQiLCJtYXhMZW5ndGgiLCJmb3JtYXRUaW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsInRpbWVyIiwicGVyZm9ybWFuY2UiLCJfc2VhcmNoMiIsIl9hcGlIYW5kbGVyMiIsImNyZWRlbnRpYWxzIiwidGhlbiIsInJlcyIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJDb250ZW50LVR5cGUiLCJwb3NpdGlvbiIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9pc29tb3JwaGljRmV0Y2giLCJfaXNvbW9ycGhpY0ZldGNoMiIsInJlc3BvbnNlIiwiX2ZldGNoIiwic2VydmVyX2lkIiwibnVtYmVyIiwiQWNjb3VudCIsInVzZXJJbmZvIiwiaXNfdGVhY2hlciIsInVzZXJfY29tcGFueSIsInVzZXJfcG9zaXRpb24iLCJ1c2VyX2ludHJvZHVjdGlvbiIsImFuc3dlcl9udW0iLCJsaXN0ZW5fbnVtIiwibWFwU3RhdGVUb1Byb3BzIiwiX2NvbmZpZzIiLCJfU2VhcmNoQmFyIiwiX2NvbmZpZzMiLCJBcHAiLCJjb25maWdVcmxMaXN0IiwicmVmcmVzaFdYQ29uZmlnIiwid3giLCJyZWFkeSIsIm9uTWVudVNoYXJlQXBwTWVzc2FnZSIsImRlc2MiLCJsaW5rIiwiaW1nVXJsIiwiZmFpbCIsIm5leHRQcm9wcyIsInZhbHVlT2YiLCJqc0FwaUxpc3QiLCJuZXdXeENvbmZpZyIsImNvbmZpZyIsIl9Ib3RRdWVzdGlvbkxpc3QiLCJfSG90UXVlc3Rpb25MaXN0MiIsIkhvdCIsIlBheUluZGV4IiwiX3Byb3BzJGxvY2F0aW9uJHF1ZXJ5IiwiZmFpbFVybCIsImlzaU9TIiwicGF5VXJsIiwiX3Byb3BzJGxvY2F0aW9uJHF1ZXJ5MiIsInRpbWVTdGFtcCIsIm9uQnJpZGdlUmVhZHkiLCJXZWl4aW5KU0JyaWRnZSIsImludm9rZSIsImVycl9tc2ciLCJfU2VhcmNoQmFyMiIsIlNlYXJjaCIsIl9UdXRvckxpc3QiLCJfVHV0b3JMaXN0MiIsIlR1dG9yIiwiQWNjb3VudEVkaXQiLCJ1c2VyX2V4cGVyaWVuY2UiLCJjYW5MZWF2ZSIsImhhbmRsZVN1Ym1pdCIsInJvdXRlcldpbGxMZWF2ZSIsInByZXZpb3VzIiwib25DaGFuZ2UiLCJfUXVlc3Rpb25JdGVtV2l0aEF2YXRhciIsIl9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyMiIsIkhvdFF1ZXN0aW9uTGlzdCIsImN1ckF1ZGlvIiwiY3VyUGFnZSIsImhhbmRsZVNjcm9sbCIsImNvbnRhaW5lciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCIkIiwiTW9kYWwiLCJtb2RhbEVsZW1lbnQiLCJmaW5kRE9NTm9kZSIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImNsb3NlIiwiX1ZvaWNlV2F2ZSIsIl9Wb2ljZVdhdmUyIiwiUXVlc3Rpb24iLCJwbGF5aW5nIiwiYW5zd2VyQXVkaW8iLCJjdXJBbnN3ZXJJZCIsInBsYXlOb3ciLCJsaXN0ZW5UaW1lciIsIm5vdFJlZ1NoYXJlIiwiaGFuZGxlUHJpc2UiLCJoYW5kbGVDYW5jbGVQcmlzZSIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJnZXRBdWRpbyIsIkF1ZGlvIiwicGxheUF1ZGlvIiwiYXVkaW8iLCJwbGF5IiwicGF5U3VjY2VzcyIsInBheUZvckFuc3dlciIsIjAiLCIxIiwidGVhY2hlcl9jb21wYW55IiwiaXNhbnN3ZXJlZCIsImFuc3dlcl9pc2xpa2VkIiwiX1R1dG9ySXRlbSIsIl9UdXRvckl0ZW0yIiwiUmVzdWx0TGlzdCIsInF1ZXN0aW9ucyIsInR1dG9ycyIsIlNlYXJjaFJlc3VsdCIsInF1ZXN0aW9uU2VhcmNoU3RhdHVzIiwidHV0b3JTZWFyY2hTdGF0dXMiLCJnZXRRdWVzdGlvbkxpc3QiLCJkZWNvZGVVUkkiLCJzZWFyY2hTdGF0dXMiLCJUZXN0IiwiaW5mbyIsIl9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyIiwiX1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIyIiwiX0xvYWRpbmczIiwiX0xvYWRpbmc0IiwiVHV0b3JJbmRleCIsInRleHRMZW5ndGgiLCJhc2tTdWNjZXNzIiwicGF5Rm9yQXNrIiwib25TY3JvbGwiLCJzY3JvbGxZIiwiaW5uZXJIZWlnaHQiLCJfcmV0Iiwic3VjY2Vzc1RpbWVyIiwidGV4dCIsInRlYWNoZXJfaW5jb21lIiwib25LZXlVcCIsImhhbmRsZVRleHRhcmVhIiwiYXNrQnRuQ2xpY2siLCJUdXRvckxpc3QiLCJUdXRvclNoYXJlIiwid2lkdGgiLCJqclFyY29kZSIsImdldFFyQmFzZTY0IiwicGFkZGluZyIsImhlaWdodCIsImNvcnJlY3RMZXZlbCIsImJhY2tncm91bmQiLCJmb3JlZ3JvdW5kIiwidXNlciIsIlVzZXJJbmRleCIsIlF1ZXN0aW9uSXRlbUFza2VkTWUiLCJxdWVzdGlvbl91c2VyX2lkIiwiUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUiLCJfTW9kYWwiLCJfTW9kYWwyIiwiX1F1ZXN0aW9uSXRlbUFza2VkTWUiLCJfUXVlc3Rpb25JdGVtQXNrZWRNZTIiLCJBc2tlZE1lTGlzdCIsImFmZm9yZCIsImludml0ZUNvZGUiLCJpc1RlYWNoZXIiLCJtb2RhbCIsImFza2VkTWUiLCJfUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUiLCJfUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUyIiwiSUFza2VkTGlzdCIsImlBc2tlZCIsIkxpdGVuZWRMaXN0IiwibGlzdGVuZWQiLCJBbnN3ZXIiLCJsb2NhbElkIiwiYW5zd2VyU3VjY2VzcyIsImF1dGhvcml6aW5nIiwidXBsb2FkaW5nIiwiU1RBUlQiLCJFTkQiLCJjbGlja0hhbmRsZXIiLCJvblZvaWNlUGxheUVuZCIsInRhbGtCdG4iLCJyb3VuZENvbnRhaW5lciIsImNsaWNrIiwicmVjb3JkU3RhcnRIYW5kbGVyIiwic3RhcnRSZWNvcmQiLCJyZWNvcmRTdG9wSGFuZGxlciIsInN0b3BSZWNvcmQiLCJwbGF5U3RhcnRIYW5kbGVyIiwicGxheVZvaWNlIiwicGxheVN0b3BIYW5kbGVyIiwic3RvcFZvaWNlIiwicGFzc0hhbmRsZXIiLCJ1cGxvYWRWb2ljZSIsImlzU2hvd1Byb2dyZXNzVGlwcyIsIjIiLCIzIiwiNCIsIjUiLCJUaXBzIiwicXVlc3Rpb25fdGltZSIsInJlUmVjb3JkIiwiY29uZmlybUFuc3dlciIsImRlZmF1bHRTdGF0ZSIsIl91c2VySW5mbyIsIl91c2VySW5mbzIiLCJfbGlzdGVuZWQiLCJfbGlzdGVuZWQyIiwiX2lBc2tlZCIsIl9pQXNrZWQyIiwiX2Fza2VkTWUiLCJfYXNrZWRNZTIiLCJkYXRhTm93IiwiaXNBbnN3ZXJlZCIsIndlaWdodCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsImFycjIiLCJpbml0aWFsU3RhdGUiLCJzYXZlZCIsImNvbmZpZ3VyZVN0b3JlIiwiX3JlZHV4VGh1bmsyIiwiX3JlZHV4TG9nZ2VyMiIsIm5leHRSb290UmVkdWNlciIsIl9yZWR1eFRodW5rIiwiX3JlZHV4TG9nZ2VyIiwiSWNvbiIsIl9jbGFzc05hbWVzIiwiY2xzIiwiZ2xvYmFsIiwicm9vdCIsImZhY3RvcnkiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJEaWZmIiwia2luZCIsIkRpZmZFZGl0Iiwib3JpZ2luIiwiRGlmZk5ldyIsIkRpZmZEZWxldGVkIiwiRGlmZkFycmF5IiwiYXJyYXlSZW1vdmUiLCJyZXN0IiwicmVhbFR5cGVPZiIsInN1YmplY3QiLCJkZWVwRGlmZiIsImxocyIsInJocyIsImNoYW5nZXMiLCJwcmVmaWx0ZXIiLCJzdGFjayIsImN1cnJlbnRQYXRoIiwibm9ybWFsaXplIiwiYWx0IiwibHR5cGUiLCJydHlwZSIsImFrZXlzIiwicGtleXMiLCJrIiwib3RoZXIiLCJpc05hTiIsImFjY3VtdWxhdGVEaWZmIiwiYWNjdW0iLCJkaWZmIiwiYXBwbHlBcnJheUNoYW5nZSIsImNoYW5nZSIsIml0IiwiYXBwbHlDaGFuZ2UiLCJsYXN0IiwicmV2ZXJ0QXJyYXlDaGFuZ2UiLCJyZXZlcnRDaGFuZ2UiLCJhcHBseURpZmYiLCIkc2NvcGUiLCJjb25mbGljdCIsImNvbmZsaWN0UmVzb2x1dGlvbiIsIkRlZXBEaWZmIiwib2JzZXJ2YWJsZURpZmYiLCJpc0NvbmZsaWN0Iiwibm9Db25mbGljdCIsImlzVW5kZWZpbmVkT3JOdWxsIiwiaXNCdWZmZXIiLCJjb3B5Iiwib2JqRXF1aXYiLCJvcHRzIiwiaXNBcmd1bWVudHMiLCJwU2xpY2UiLCJkZWVwRXF1YWwiLCJrYSIsIm9iamVjdEtleXMiLCJrYiIsInNvcnQiLCJhY3R1YWwiLCJleHBlY3RlZCIsInN0cmljdCIsInN1cHBvcnRlZCIsInVuc3VwcG9ydGVkIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzdXBwb3J0c0FyZ3VtZW50c0NsYXNzIiwic2hpbSIsIl9zbGljZSIsImNyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiaGlzdG9yeVN0YXRlIiwiX2hpc3RvcnlTdGF0ZSIsImlzU3VwcG9ydGVkIiwic3RhcnRQb3BTdGF0ZUxpc3RlbmVyIiwicG9wU3RhdGVMaXN0ZW5lciIsInVzZVJlZnJlc2giLCJzdG9wUG9wU3RhdGVMaXN0ZW5lciIsImZvcmNlUmVmcmVzaCIsIl9mb3VydGhBcmciLCJjcmVhdGVTdGF0ZVN0b3JhZ2UiLCJlbnRyaWVzIiwiZW50cnkiLCJtZW1vIiwic3RvcmFnZSIsImNhbkdvIiwiY3VycmVudExvY2F0aW9uIiwiX29wdGlvbnMiLCJSRUFDVF9TVEFUSUNTIiwiS05PV05fU1RBVElDUyIsImlzR2V0T3duUHJvcGVydHlTeW1ib2xzQXZhaWxhYmxlIiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiY3VzdG9tU3RhdGljcyIsInN0cmljdFVyaUVuY29kZSIsImV4dHJhY3QiLCJ0cmltIiwicmV0IiwicGFyYW0iLCJwYXJ0cyIsInNoaWZ0IiwidmFsIiwidmFsMiIsImNvbXBvbmVudFdpbGxNb3VudCIsIl9MaW5rIiwiX1JlZGlyZWN0IiwiaW5kZXhSb3V0ZSIsImdldENvbXBvbmVudCIsImdldENvbXBvbmVudHMiLCJfdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUiLCJpc0RlcHJlY2F0ZWRIaXN0b3J5IiwiaXNVbnN1cHBvcnRlZEhpc3RvcnkiLCJfY3JlYXRlSGFzaEhpc3RvcnkiLCJfY3JlYXRlSGFzaEhpc3RvcnkyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9Sb3V0ZXJDb250ZXh0IiwiX1JvdXRlclV0aWxzIiwib25FcnJvciIsIm9uVXBkYXRlIiwibWF0Y2hDb250ZXh0IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGFuZGxlRXJyb3IiLCJfY3JlYXRlUm91dGVyT2JqZWN0cyIsImNyZWF0ZVJvdXRlck9iamVjdHMiLCJfdW5saXN0ZW4iLCJ3cmFwRGVwcmVjYXRlZEhpc3RvcnkiLCJyb3V0aW5nSGlzdG9yeSIsIl9wcm9wczMiLCJfc3RhdGUiLCJfcHJvcHM0IiwiY3JlYXRlVHJhbnNpdGlvbkhvb2siLCJhc3luY0FyaXR5IiwiZ2V0RW50ZXJIb29rcyIsImdldENoYW5nZUhvb2tzIiwicnVuVHJhbnNpdGlvbkhvb2tzIiwiaXRlciIsImRlcHJlY2F0ZWRQYXRobmFtZSIsImRlcHJlY2F0ZWRRdWVyeSIsInByZXZTdGF0ZSIsIm9uTGVhdmUiLCJtaWRkbGV3YXJlcyIsIm1pZGRsZXdhcmUiLCJyZW5kZXJSb3V0ZXJDb250ZXh0IiwicmVuZGVyUm91dGVDb21wb25lbnQiLCJ3aXRoQ29udGV4dCIsIkJvb2xlYW4iLCJ3aXRoQ29tcG9uZW50IiwibWFrZUNyZWF0ZUVsZW1lbnQiLCJiYXNlQ3JlYXRlRWxlbWVudCIsInJlbmRlclByb3BzIiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiIsIl9jcmVhdGVSb3V0ZXJIaXN0b3J5IiwiX2NyZWF0ZVJvdXRlckhpc3RvcnkyIiwicm91dGVQYXJhbXNDaGFuZ2VkIiwic29tZSIsImNvbXB1dGVDaGFuZ2VkUm91dGVzIiwicHJldlJvdXRlcyIsIm5leHRSb3V0ZXMiLCJwYXJlbnRJc0xlYXZpbmciLCJpc0xlYXZpbmciLCJyZXZlcnNlIiwiaXNOZXciLCJwYXJhbXNDaGFuZ2VkIiwiZ2V0Q29tcG9uZW50c0ZvclJvdXRlIiwibmV4dFN0YXRlV2l0aExvY2F0aW9uIiwiX21ha2VTdGF0ZVdpdGhMb2NhdGlvbjIiLCJfbWFrZVN0YXRlV2l0aExvY2F0aW9uIiwiZ2V0Um91dGVQYXJhbXMiLCJTdHJpbmciLCJwYXRoSXNBY3RpdmUiLCJjdXJyZW50UGF0aG5hbWUiLCJyb3V0ZUlzQWN0aXZlIiwibWF0Y2hlZCIsInF1ZXJ5SXNBY3RpdmUiLCJhY3RpdmVRdWVyeSIsImhpc3RvcnlMb2NhdGlvbiIsImdldENoaWxkUm91dGVzIiwiY3JlYXRlUGFyYW1zIiwicGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiIsImdldEluZGV4Um91dGUiLCJwYXRobGVzcyIsImNoaWxkUm91dGUiLCJhc3NpZ25QYXJhbXMiLCJtYXRjaFJvdXRlRGVlcCIsIl9yZXQyIiwiX21hdGNoJHJvdXRlcyIsIm9uQ2hpbGRSb3V0ZXMiLCJtYXRjaFJvdXRlcyIsInVuc2hpZnQiLCJnZXREaXNwbGF5TmFtZSIsIldpdGhSb3V0ZXIiLCJfaG9pc3ROb25SZWFjdFN0YXRpY3MyIiwiX2hvaXN0Tm9uUmVhY3RTdGF0aWNzIiwiZ2V0TG9nTGV2ZWwiLCJsZXZlbCIsInBheWxvYWQiLCJkZWZhdWx0VGl0bGVGb3JtYXR0ZXIiLCJ0b29rIiwidG9GaXhlZCIsInByaW50QnVmZmVyIiwiYnVmZmVyIiwibG9nZ2VyIiwiYWN0aW9uVHJhbnNmb3JtZXIiLCJfb3B0aW9ucyR0aXRsZUZvcm1hdHQiLCJ0aXRsZUZvcm1hdHRlciIsImNvbGxhcHNlZCIsImNvbG9ycyIsImxvZ0VudHJ5Iiwic3RhcnRlZCIsInN0YXJ0ZWRUaW1lIiwibmV4dEVudHJ5IiwiZm9ybWF0dGVkQWN0aW9uIiwiaXNDb2xsYXBzZWQiLCJmb3JtYXR0ZWRUaW1lIiwiX2hlbHBlcnMiLCJ0aXRsZUNTUyIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXAiLCJwcmV2U3RhdGVMZXZlbCIsImFjdGlvbkxldmVsIiwiZXJyb3JMZXZlbCIsIm5leHRTdGF0ZUxldmVsIiwiX2RpZmYyIiwiZ3JvdXBFbmQiLCJfZGlmZiIsImxvZ0Vycm9ycyIsInByZWRpY2F0ZSIsInN0YXRlVHJhbnNmb3JtZXIiLCJlcnJvclRyYW5zZm9ybWVyIiwiZGlmZlByZWRpY2F0ZSIsInRyYW5zZm9ybWVyIiwiZGljdGlvbmFyeSIsImNvbG9yIiwiZGlmZkxvZ2dlciIsIm5ld1N0YXRlIiwiX2RlZXBEaWZmMiIsImVsZW0iLCJvdXRwdXQiLCJfZGVlcERpZmYiLCJFIiwiTiIsIkEiLCJjcmVhdGVMb2dnZXIiLCJsb2dnZXJPcHRpb25zIiwiX2RlZmF1bHRzMiIsImxvZ0J1ZmZlciIsInJldHVybmVkVmFsdWUiLCJfY29yZSIsIl9kZWZhdWx0cyIsImNyZWF0ZVRodW5rTWlkZGxld2FyZSIsImV4dHJhQXJndW1lbnQiLCJ0aHVuayIsIndpdGhFeHRyYUFyZ3VtZW50IiwiY2hhckNvZGVBdCIsInRvVXBwZXJDYXNlIiwibm9ybWFsaXplTmFtZSIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplVmFsdWUiLCJpdGVyYXRvckZvciIsIml0ZW1zIiwic3VwcG9ydCIsIml0ZXJhYmxlIiwiSGVhZGVycyIsImFwcGVuZCIsImNvbnN1bWVkIiwiYm9keVVzZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZmlsZVJlYWRlclJlYWR5IiwicmVhZGVyIiwicmVzb2x2ZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJyZWFkQmxvYkFzQXJyYXlCdWZmZXIiLCJibG9iIiwiRmlsZVJlYWRlciIsInByb21pc2UiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInJlYWRCbG9iQXNUZXh0IiwicmVhZEFzVGV4dCIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiY2hhcnMiLCJmcm9tQ2hhckNvZGUiLCJidWZmZXJDbG9uZSIsImJ5dGVMZW5ndGgiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiQmxvYiIsImlzUHJvdG90eXBlT2YiLCJfYm9keUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFycmF5QnVmZmVyIiwiaXNEYXRhVmlldyIsIl9ib2R5QXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXJWaWV3IiwicmVqZWN0ZWQiLCJkZWNvZGUiLCJub3JtYWxpemVNZXRob2QiLCJ1cGNhc2VkIiwibWV0aG9kcyIsIlJlcXVlc3QiLCJtb2RlIiwicmVmZXJyZXIiLCJmb3JtIiwiYnl0ZXMiLCJwYXJzZUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwibGluZSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXNUZXh0Iiwidmlld0NsYXNzZXMiLCJEYXRhVmlldyIsImlzVmlldyIsIm9sZFZhbHVlIiwiaGFzIiwidGhpc0FyZyIsImNsb25lIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImluaXQiLCJ4aHIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsIm9udGltZW91dCIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJwb2x5ZmlsbCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NPbkIsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxxQkFBQSxXQUNBQyxFQUFBRixTQUFBRyxjQUFBLFNBQ0FELEdBQUFFLEtBQUEsa0JBQ0FGLEVBQUFHLFFBQUEsUUFDQUgsRUFBQUksSUFBQUMsRUFBQUMsRUFBQSxHQUFBVixFQUFBLElBQUFXLEVBQUEsaUJBQ0FWLEVBQUFXLFlBQUFSLEdBR0EsUUFBQVMsR0FBQUMsR0FDQSxzQkFBQUMsZ0JBQ0EsTUFBQUQsR0FBQSxHQUFBRSxPQUFBLHNCQUNBLEtBQ0EsR0FBQUMsR0FBQSxHQUFBRixnQkFDQUcsRUFBQVQsRUFBQUMsRUFBQSxHQUFBQyxFQUFBLGtCQUNBTSxHQUFBRSxLQUFBLE1BQUFELEdBQUEsR0FDQUQsRUFBQUcsUUFBQSxJQUNBSCxFQUFBSSxLQUFBLE1BQ0ksTUFBQUMsR0FDSixNQUFBUixHQUFBUSxHQUVBTCxFQUFBTSxtQkFBQSxXQUNBLE9BQUFOLEVBQUFPLFdBQ0EsT0FBQVAsRUFBQVEsT0FFQVgsRUFBQSxHQUFBRSxPQUFBLHVCQUFBRSxFQUFBLG9CQUNLLFVBQUFELEVBQUFRLE9BRUxYLFFBQ0ssVUFBQUcsRUFBQVEsUUFBQSxNQUFBUixFQUFBUSxPQUVMWCxFQUFBLEdBQUFFLE9BQUEsdUJBQUFFLEVBQUEsaUJBQ0ssQ0FFTCxJQUNBLEdBQUFRLEdBQUFDLEtBQUFDLE1BQUFYLEVBQUFZLGNBQ00sTUFBQUMsR0FFTixXQURBaEIsR0FBQWdCLEdBR0FoQixFQUFBLEtBQUFZLEtBdUJBLFFBQUFLLEdBQUFDLEdBc0NBLFFBQUFDLEdBQUFqQyxFQUFBYyxHQUNBLFVBQUFvQixHQUNBQyxFQUFBLFdBQ0FDLElBQ0EzQixFQUFBcUIsRUFBQTlCLEVBQUEsV0FPQSxRQUFBcUMsS0FDQUQsSUFDQSxZQUFBRixJQUNBSSxFQUFBdEMsSUFDQXVDLEVBQUF2QyxHQUVBLElBQUFvQyxHQUFBLElBQUFJLEdBQ0FDLEtBYkEsSUFDQTNCLEVBQUE0QixLQUFBLEtBQUFDLEdBQ00sUUFDTk4sT0E3Q0EsR0FBQU8sR0FBQUMsRUFBQWIsRUFDQSxLQUFBWSxFQUFBLE1BQUFuQyxFQUNBLElBQUFrQyxHQUFBLFNBQUExQixHQVlBLE1BWEEyQixHQUFBRSxJQUFBQyxPQUNBRixFQUFBNUIsSUFDQTRCLEVBQUE1QixHQUFBK0IsUUFBQUMsUUFBQWpCLEdBQUEsR0FDQWEsRUFBQTVCLEdBQUErQixRQUFBRSxLQUFBbEIsR0FDQVksRUFBQU8sU0FBQUYsUUFBQWhDLEdBQUEsR0FDQTJCLEVBQUFPLFNBQUFELEtBQUFqQyxJQUNNbUMsR0FBQXBCLElBRU5xQixRQUFBQyxLQUFBLDRCQUFBckMsRUFBQSwwQkFBQWUsR0FDQW9CLE1BRUEzQyxFQUFBUSxHQUVBLFFBQUFzQyxLQUFBOUMsR0FDQStDLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBakMsRUFBQThDLEtBQ0FJLEVBQ0FILE9BQUFJLGVBQUFqQixFQUFBWSxFQUFBLFNBQUFBLEdBQ0EsT0FDQU0sY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUEsV0FDQSxNQUFBdEQsR0FBQThDLElBRUFTLElBQUEsU0FBQUMsR0FDQXhELEVBQUE4QyxHQUFBVSxLQUdPVixJQUVQWixFQUFBWSxHQUFBOUMsRUFBQThDLEdBcUNBLE9BUkFJLEdBQ0FILE9BQUFJLGVBQUFqQixFQUFBLEtBQ0FtQixZQUFBLEVBQ0FHLE1BQUFoQyxJQUdBVSxFQUFBYixFQUFBRyxFQUVBVSxFQUdBLFFBQUF1QixHQUFBbEMsR0FDQSxHQUFBYyxJQUVBcUIseUJBQ0FDLHlCQUNBQyxlQUFBLEVBQ0FDLGVBQUEsRUFDQUMsb0JBR0F4QixRQUFBLEVBQ0F5QixPQUFBLFNBQUFDLEVBQUEzRCxHQUNBLHNCQUFBMkQsR0FDQTNCLEVBQUF1QixlQUFBLE1BQ0Esc0JBQUFJLEdBQ0EzQixFQUFBdUIsY0FBQUksTUFDQSxvQkFBQUEsR0FDQSxPQUFBQyxHQUFBLEVBQW9CQSxFQUFBRCxFQUFBRSxPQUFnQkQsSUFDcEM1QixFQUFBcUIsc0JBQUFNLEVBQUFDLElBQUE1RCxNQUVBZ0MsR0FBQXFCLHNCQUFBTSxHQUFBM0QsR0FFQThELFFBQUEsU0FBQUgsR0FDQSxzQkFBQUEsR0FDQTNCLEVBQUF3QixlQUFBLE1BQ0Esb0JBQUFHLEdBQ0EzQixFQUFBc0Isc0JBQUFLLElBQUEsTUFFQSxRQUFBQyxHQUFBLEVBQW9CQSxFQUFBRCxFQUFBRSxPQUFnQkQsSUFDcEM1QixFQUFBc0Isc0JBQUFLLEVBQUFDLEtBQUEsR0FFQUcsUUFBQSxTQUFBL0QsR0FDQWdDLEVBQUF5QixpQkFBQXJCLEtBQUFwQyxJQUVBZ0Usa0JBQUEsU0FBQWhFLEdBQ0FnQyxFQUFBeUIsaUJBQUFyQixLQUFBcEMsSUFFQWlFLHFCQUFBLFNBQUFqRSxHQUNBLEdBQUFrRSxHQUFBbEMsRUFBQXlCLGlCQUFBdEIsUUFBQW5DLEVBQ0FrRSxJQUFBLEdBQUFsQyxFQUFBeUIsaUJBQUFVLE9BQUFELEVBQUEsSUFJQUUsTUFBQUMsRUFDQUMsTUFBQUMsRUFDQTVELE9BQUEsU0FBQTZELEdBQ0EsTUFBQUEsT0FDQUMsR0FBQXJDLEtBQUFvQyxHQURBcEQsR0FHQXNELGlCQUFBLFNBQUFGLEdBQ0FDLEVBQUFyQyxLQUFBb0MsSUFFQUcsb0JBQUEsU0FBQUgsR0FDQSxHQUFBTixHQUFBTyxFQUFBdEMsUUFBQXFDLEVBQ0FOLElBQUEsR0FBQU8sRUFBQU4sT0FBQUQsRUFBQSxJQUlBVSxLQUFBQyxFQUFBM0QsR0FFQSxPQUFBYyxHQU1BLFFBQUFYLEdBQUF5RCxHQUNBMUQsRUFBQTBELENBQ0EsUUFBQWxCLEdBQUEsRUFBaUJBLEVBQUFhLEVBQUFaLE9BQThCRCxJQUMvQ2EsRUFBQWIsR0FBQWhDLEtBQUEsS0FBQWtELEdBY0EsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxJQUFBRCxFQUFBLEtBQUFBLENBQ0EsT0FBQUMsSUFBQUQsSUFHQSxRQUFBWCxHQUFBQyxFQUFBdEUsR0FDQSxZQUFBb0IsRUFBQSxTQUFBbEIsT0FBQSx5Q0FDQSxtQkFBQW9FLElBQ0FZLEdBQUEsRUFDQWxGLEVBQUFzRSxJQUVBWSxFQUFBWixFQUNBdEUsS0FBQSxTQUFBUSxHQUNBLEdBQUFBLEVBQUEsS0FBQUEsS0FHQWEsRUFBQSxTQUNBdEIsRUFBQSxTQUFBUyxFQUFBSSxHQUNBLEdBQUFKLEVBQUEsTUFBQVIsR0FBQVEsRUFDQSxLQUFBSSxFQUdBLE1BRkFTLEdBQUEsWUFDQXJCLEdBQUEsVUFJQW1GLE1BQ0FDLEtBQ0E1RCxJQUNBLFFBQUFvQyxHQUFBLEVBQWtCQSxFQUFBaEQsRUFBQXlFLEVBQUF4QixPQUFxQkQsSUFDdkN3QixFQUFBeEUsRUFBQXlFLEVBQUF6QixLQUFBLENBQ0EwQixHQUFBMUUsRUFBQTJFLEVBRUFsRSxFQUFBLFdBQ0FtRSxFQUFBeEYsRUFDQXlGLElBQ0EsSUFBQXZHLEdBQUEsQ0FHQXVDLEdBQUF2QyxHQUVBLFlBQUFrQyxHQUFBLElBQUFFLEdBQUEsSUFBQUksR0FDQUMsTUFLQSxRQUFBK0QsR0FBQXhHLEVBQUF5RyxHQUNBLEdBQUFQLEVBQUFsRyxJQUFBaUcsRUFBQWpHLEdBQUEsQ0FFQWlHLEVBQUFqRyxJQUFBLENBQ0EsUUFBQWdDLEtBQUF5RSxHQUNBakQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUErRCxFQUFBekUsS0FDQXVFLEVBQUF2RSxHQUFBeUUsRUFBQXpFLEdBR0EsT0FBQVEsR0FBQSxJQUFBSixHQUNBSyxLQUlBLFFBQUFGLEdBQUF2QyxHQUNBa0csRUFBQWxHLElBR0FpRyxFQUFBakcsSUFBQSxFQUNBd0MsSUFDQXpDLEVBQUFDLElBSkFzQyxFQUFBdEMsSUFBQSxFQVFBLFFBQUF5QyxLQUNBTixFQUFBLFFBQ0EsSUFBQXJCLEdBQUF3RixDQUVBLElBREFBLEVBQUEsS0FDQXhGLEVBQ0EsR0FBQWtGLEVBQ0FYLEVBQUFXLEVBQUFsRixPQUNJLENBQ0osR0FBQTRGLEtBQ0EsUUFBQVosS0FBQVMsR0FDQS9DLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBNkQsRUFBQVQsSUFDQVksRUFBQXhELEtBQUEyQyxFQUFBQyxHQUdBaEYsR0FBQSxLQUFBNEYsSUFJQSxRQUFBckIsR0FBQXNCLEVBQUE3RixHQWdCQSxRQUFBOEYsR0FBQUMsR0FLQSxJQUpBLEdBQUFILElBQUFHLEdBQ0FDLEtBRUFDLEVBQUFMLEVBQUFNLFFBQ0FELEVBQUFwQyxPQUFBLElBQ0EsR0FBQTNDLEdBQUErRSxFQUFBRSxNQUNBSixFQUFBaEUsRUFBQWIsRUFDQSxJQUFBNkUsTUFBQS9ELElBQUF1QixjQUFBLENBRUEsR0FBQXdDLEVBQUEvRCxJQUFBd0IsY0FDQSxVQUFBdEQsT0FBQSxvQ0FBQWdCLEVBRUEsUUFBQUEsRUFDQSxNQUVBLFFBQUEwQyxHQUFBLEVBQW1CQSxFQUFBbUMsRUFBQTdELFFBQUEyQixPQUEyQkQsSUFBQSxDQUM5QyxHQUFBd0MsR0FBQUwsRUFBQTdELFFBQUEwQixHQUNBeUMsRUFBQXRFLEVBQUFxRSxFQUNBLElBQUFDLEVBQUFyRSxJQUFBc0Isc0JBQUFwQyxHQUNBLFVBQUFoQixPQUFBLDJDQUFBZ0IsRUFBQSxPQUFBa0YsRUFFQVIsR0FBQXpELFFBQUFpRSxJQUFBLElBQ0FDLEVBQUFyRSxJQUFBcUIsc0JBQUFuQyxJQUNBOEUsRUFBQUksS0FDQUosRUFBQUksT0FDQUUsRUFBQU4sRUFBQUksSUFBQWxGLFlBR0E4RSxHQUFBSSxHQUNBUixFQUFBeEQsS0FBQWdFLEdBQ0FILEVBQUE3RCxLQUFBZ0UsT0FJQSxPQUFBUixFQUFBSSxHQUdBLFFBQUFNLEdBQUFDLEVBQUFDLEdBQ0EsT0FBQTVDLEdBQUEsRUFBa0JBLEVBQUE0QyxFQUFBM0MsT0FBY0QsSUFBQSxDQUNoQyxHQUFBNkMsR0FBQUQsRUFBQTVDLEVBQ0EyQyxHQUFBcEUsUUFBQXNFLEdBQUEsR0FDQUYsRUFBQW5FLEtBQUFxRSxJQXpEQSxhQUFBckYsRUFBQSxTQUFBbEIsT0FBQSwwQ0FDQSxtQkFBQTJGLElBQ0E3RixFQUFBNkYsRUFDQUEsTUFDSUEsR0FBQSxnQkFBQUEsR0FDSjdGLEtBQUEsU0FBQVEsR0FDQSxHQUFBQSxFQUFBLEtBQUFBLEtBR0FxRixLQUNBN0YsS0FBQSxTQUFBUSxHQUNBLEdBQUFBLEVBQUEsS0FBQUEsSUFvREEsSUFBQXdGLE1BQ0FKLEtBQ0FjLElBQ0EsUUFBQTFCLEtBQUFTLEdBQ0EsR0FBQS9DLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBNkQsRUFBQVQsR0FBQSxDQUNBLEdBQUE5RCxHQUFBNkQsRUFBQUMsR0FDQTJCLEVBQUFiLEVBQUE1RSxFQUNBLEtBQUF5RixFQUFBLENBQ0EsR0FBQWQsRUFBQWUsaUJBQ0EsUUFFQSxPQURBdkYsR0FBQSxTQUNBckIsRUFBQSxHQUFBRSxPQUFBLG1CQUFBZ0IsRUFBQSxxQkFFQSxHQUFBeUYsWUFBQXpHLE9BRUEsTUFEQW1CLEdBQUEsU0FDQXJCLEVBQUEyRyxFQUVBRCxHQUFBeEYsR0FBQXVFLEVBQUF2RSxHQUNBb0YsRUFBQVYsRUFBQWUsRUFBQSxHQUNBLFFBQUF6RixLQUFBeUYsR0FBQSxHQUNBakUsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUErRSxFQUFBLEdBQUF6RixLQUNBOEUsRUFBQTlFLEtBQ0E4RSxFQUFBOUUsT0FDQW9GLEVBQUFOLEVBQUE5RSxHQUFBeUYsRUFBQSxHQUFBekYsS0FRQSxPQURBMkYsTUFDQWpELEVBQUEsRUFBaUJBLEVBQUFnQyxFQUFBL0IsT0FBNEJELElBQUEsQ0FDN0MsR0FBQTFDLEdBQUEwRSxFQUFBaEMsRUFDQTdCLEdBQUFiLElBQUFhLEVBQUFiLEdBQUFjLElBQUF1QixlQUNBc0QsRUFBQXpFLE1BQ0EyRCxPQUFBN0UsRUFDQTRGLGFBQUEvRSxFQUFBYixHQUFBYyxJQUFBdUIsZ0JBS0FsQyxFQUFBLFVBRUEsS0FEQSxHQUFBNEUsR0FBQUwsRUFBQU0sUUFDQUQsRUFBQXBDLE9BQUEsSUFDQSxHQUFBM0MsR0FBQStFLEVBQUFFLE1BQ0FKLEVBQUFoRSxFQUFBYixFQUNBLElBQUE2RSxFQUFBLENBTUEsT0FKQW5CLE1BR0FtQyxFQUFBaEIsRUFBQS9ELElBQUF5QixpQkFDQXVELEVBQUEsRUFBa0JBLEVBQUFELEVBQUFsRCxPQUE0Qm1ELElBQUEsQ0FDOUMsR0FBQUMsR0FBQUYsRUFBQUMsRUFDQUMsR0FBQXJDLEdBRUFDLEVBQUEzRCxHQUFBMEQsRUFHQW1CLEVBQUEvRCxJQUFBQyxRQUFBLFFBR0FGLEdBQUFiLEVBR0EsUUFBQThGLEdBQUEsRUFBa0JBLEVBQUFqQixFQUFBMUQsU0FBQXdCLE9BQTRCbUQsSUFBQSxDQUM5QyxHQUFBRSxHQUFBbkYsRUFBQWdFLEVBQUExRCxTQUFBMkUsR0FDQSxJQUFBRSxFQUFBLENBQ0EsR0FBQWhELEdBQUFnRCxFQUFBaEYsUUFBQUMsUUFBQWpCLEVBQ0FnRCxJQUFBLEdBQ0FnRCxFQUFBaEYsUUFBQWlDLE9BQUFELEVBQUEsTUFNQSxPQUFBaEQsS0FBQThFLEdBQ0EsR0FBQXRELE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBb0UsRUFBQTlFLEdBR0EsT0FGQTZFLEdBQUFoRSxFQUFBYixHQUNBaUcsRUFBQW5CLEVBQUE5RSxHQUNBOEYsRUFBQSxFQUFtQkEsRUFBQUcsRUFBQXRELE9BQXVDbUQsSUFBQSxDQUMxRCxHQUFBSSxHQUFBRCxFQUFBSCxHQUNBOUMsRUFBQTZCLEVBQUExRCxTQUFBRixRQUFBaUYsRUFDQWxELElBQUEsR0FBQTZCLEVBQUExRCxTQUFBOEIsT0FBQUQsRUFBQSxHQU1BN0MsRUFBQSxTQUVBeEIsRUFBQXlGLENBR0EsUUFBQXBFLEtBQUF3RixHQUNBaEUsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUE4RSxFQUFBeEYsS0FDQWxDLEVBQUFrQyxHQUFBd0YsRUFBQXhGLEdBS0EsSUFBQW1HLEdBQUEsSUFDQSxRQUFBbkcsS0FBQThFLEdBQ0EsR0FBQXRELE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBb0UsRUFBQTlFLEdBQUEsQ0FJQSxPQUhBNkUsR0FBQWhFLEVBQUFiLEdBQ0FpRyxFQUFBbkIsRUFBQTlFLEdBQ0FvRyxLQUNBMUQsRUFBQSxFQUFtQkEsRUFBQXVELEVBQUF0RCxPQUF1Q0QsSUFBQSxDQUMxRCxHQUFBd0QsR0FBQUQsRUFBQXZELEdBQ0FxRCxFQUFBbEIsRUFBQS9ELElBQUFxQixzQkFBQStELEVBQ0FFLEdBQUFuRixRQUFBOEUsSUFBQSxHQUNBSyxFQUFBbEYsS0FBQTZFLEdBRUEsT0FBQXJELEdBQUEsRUFBbUJBLEVBQUEwRCxFQUFBekQsT0FBc0JELElBQUEsQ0FDekMsR0FBQXFELEdBQUFLLEVBQUExRCxFQUNBLEtBQ0FxRCxFQUFBakIsR0FDTyxNQUFBeEYsR0FDUDZHLElBQ0FBLEVBQUE3RyxLQU9BLE9BQUFvRCxHQUFBLEVBQWlCQSxFQUFBaUQsRUFBQWhELE9BQXdDRCxJQUFBLENBQ3pELEdBQUE2QyxHQUFBSSxFQUFBakQsR0FDQTFDLEVBQUF1RixFQUFBVixNQUNBekQsSUFBQXBCLEVBQ0EsS0FDQXZCLEVBQUF1QixHQUNLLE1BQUFWLEdBQ0wscUJBQUFpRyxHQUFBSyxhQUNBLElBQ0FMLEVBQUFLLGFBQUF0RyxHQUNPLE1BQUFBLEdBQ1A2RyxJQUNBQSxFQUFBN0csT0FFTTZHLEtBQ05BLEVBQUE3RyxJQUtBLE1BQUE2RyxJQUNBaEcsRUFBQSxRQUNBckIsRUFBQXFILEtBR0FoRyxFQUFBLFlBQ0FyQixHQUFBLEtBQUE0RixJQU9BLFFBQUFqRyxHQUFBdUIsR0FHQSxHQUFBYSxFQUFBYixHQUNBLE1BQUFhLEdBQUFiLEdBQUFxRyxPQUdBLElBQUF4QixHQUFBaEUsRUFBQWIsSUFDQXFHLFdBQ0F2QyxHQUFBOUQsRUFDQXNHLFFBQUEsRUFDQXhGLElBQUFvQixFQUFBbEMsR0FDQWdCLFFBQUFJLEVBQ0FELFlBVUEsT0FOQXJELEdBQUFrQyxHQUFBVSxLQUFBbUUsRUFBQXdCLFFBQUF4QixJQUFBd0IsUUFBQXRHLEVBQUFDLElBR0E2RSxFQUFBeUIsUUFBQSxFQUdBekIsRUFBQXdCLFFBaGpCQSxHQUFBRSxHQUFBQyxLQUFBLGdCQUNBQSxNQUFBLGlCQUNBLFNBQUF4SSxFQUFBeUcsR0FDQUQsRUFBQXhHLEVBQUF5RyxHQUNBOEIsS0FBQXZJLEVBQUF5RyxHQW1EQSxJQUFBOUMsSUFBQSxDQUNBLEtBQ0FILE9BQUFJLGtCQUEyQixLQUMzQkcsSUFBQSxlQUVBSixHQUFBLEVBQ0csTUFBQThFLElBSUgsR0E0SkFuQyxHQUdBQyxFQUFBSCxFQS9KQUosR0FBQSxFQUNBckYsRUFBQSx1QkFDQWdGLEtBQ0F2QyxLQTBJQW1DLEtBQ0FyRCxFQUFBLE9BU0FNLEVBQUEsRUFDQUosRUFBQSxFQUNBRSxLQUNBMkQsS0FDQUMsS0EwVEFyRCxJQTJDQSxPQVpBcEMsR0FBQWlJLEVBQUE1SSxFQUdBVyxFQUFBMEYsRUFBQXRELEVBR0FwQyxFQUFBQyxFQUFBLHVDQUdBRCxFQUFBNEYsRUFBQSxXQUFzQyxNQUFBMUYsSUFHdENvQixFQUFBLFFETU0sU0FBUzhFLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFvR0EsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdFN3FCeEZuSSxFQUFBLElBQ0EsSUFBQXNJLEdBQUF0SSxFQUFBLEdGOGtCS3VJLEVBQVVMLEVBQXVCSSxHRTdrQnRDRSxFQUFBeEksRUFBQSxJRmlsQkt5SSxFQUFhUCxFQUF1Qk0sR0VobEJ6Q0UsRUFBQTFJLEVBQUEsR0FDQTJJLEVBQUEzSSxFQUFBLEVBR0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSx1REFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUVBLElBQUF3SCxHQUFBN0ksRUFBQSxJRm9sQks4SSxFQUFRWixFQUF1QlcsR0VubEJwQ0UsRUFBQS9JLEVBQUEsSUZ1bEJLZ0osRUFBUWQsRUFBdUJhLEdFdGxCcENFLEVBQUFqSixFQUFBLElGMGxCS2tKLEVBQVVoQixFQUF1QmUsR0V6bEJ0Q0UsRUFBQW5KLEVBQUEsSUY2bEJLb0osRUFBWWxCLEVBQXVCaUIsR0U1bEJ4Q0UsRUFBQXJKLEVBQUEsSUZnbUJLc0osRUFBZ0JwQixFQUF1Qm1CLEdFL2xCNUNFLEVBQUF2SixFQUFBLElGbW1CS3dKLEVBQWdCdEIsRUFBdUJxQixHRWxtQjVDRSxFQUFBekosRUFBQSxJRnNtQkswSixFQUFleEIsRUFBdUJ1QixHRXJtQjNDRSxFQUFBM0osRUFBQSxJRnltQks0SixFQUFnQjFCLEVBQXVCeUIsR0V4bUI1Q0UsRUFBQTdKLEVBQUEsSUY0bUJLOEosRUFBYTVCLEVBQXVCMkIsR0UzbUJ6Q0UsRUFBQS9KLEVBQUEsSUYrbUJLZ0ssRUFBZTlCLEVBQXVCNkIsR0U5bUIzQ0UsRUFBQWpLLEVBQUEsSUZrbkJLa0ssRUFBZWhDLEVBQXVCK0IsR0VqbkIzQ0UsRUFBQW5LLEVBQUEsSUZxbkJLb0ssRUFBY2xDLEVBQXVCaUMsR0VubkIxQ0UsRUFBQXJLLEVBQUEsSUZ1bkJLc0ssRUFBV3BDLEVBQXVCbUMsR0V0bkJ2Q0UsRUFBQXZLLEVBQUEsSUYwbkJLd0ssRUFBV3RDLEVBQXVCcUMsR0V6bkJ2Q0UsRUFBQXpLLEVBQUEsSUY2bkJLMEssRUFBZXhDLEVBQXVCdUMsR0U1bkIzQ0UsRUFBQTNLLEVBQUEsSUZnb0JLNEssRUFBaUIxQyxFQUF1QnlDLEdFL25CN0NFLEVBQUE3SyxFQUFBLElGbW9CSzhLLEVBQWU1QyxFQUF1QjJDLEdFbG9CM0NFLEVBQUEvSyxFQUFBLElGc29CS2dMLEVBQWE5QyxFQUF1QjZDLEdFcm9CekNFLEVBQUFqTCxFQUFBLElGeW9CS2tMLEVBQVNoRCxFQUF1QitDLEdFdm9CckNFLEVBQUFuTCxFQUFBLEtGMm9CS29MLEVBQW1CbEQsRUFBdUJpRCxHRXpvQi9DRSxFQUFBckwsRUFBQSxHQURNc0wsR0FBUSxFQUFBRixFQUFBL0MsVUFHZE0sR0FBQTRDLGVBQWVDLE9BQVEsU0FBQUMsR0FDbkI3SSxRQUFROEksSUFBUixlQUNBOUksUUFBUThJLElBQUlDLE9BQU9GLFVBQ2ZFLE9BQU9DLFdBQ1BELE9BQU9DLFNBQVdELE9BQU9GLFNBQVNJLFVBRW5DQyxJQUNDQSxHQUFHLE9BQVEsWUFDUEMsS0FBTUosT0FBT0YsU0FBU08sS0FDdEJDLE1BQU9OLE9BQU9GLFNBQVNJLGFBS25DcEQsRUFBQUosUUFBUzZELE9BQ1AzRCxFQUFBRixRQUFBekksY0FBQThJLEVBQUF5RCxVQUFVYixNQUFPQSxHQUNmL0MsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBeUQsUUFBUUMsUUFBQTFELEVBQUE0QyxnQkFDTmhELEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU8saUJBQWlCQyxVQUFBdEIsRUFBQTdDLFVBQy9CRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFBbEIsRUFBQW9CLFFBQWVELFVBQUExRCxFQUFBVCxTQUNwQkUsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBK0QsWUFBWUYsVUFBQXhELEVBQUFYLFVBQ1pFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU1sQixFQUFBb0IsUUFBUSxNQUFPRCxVQUFBeEIsRUFBQTNDLFVBQzVCRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsUUFBU0QsVUFBQXRELEVBQUFiLFVBQzlCRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsVUFBV0QsVUFBQXBELEVBQUFmLFNBQzlCRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUErRCxZQUFZRixVQUFBbEQsRUFBQWpCLFVBQ1pFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU1sQixFQUFBb0IsUUFBUSxzQkFBdUJELFVBQUFoRCxFQUFBbkIsVUFDNUNFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU1sQixFQUFBb0IsUUFBUSxxQkFBc0JELFVBQUE5QyxFQUFBckIsV0FFN0NFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU1sQixFQUFBb0IsUUFBUSxhQUFlRCxVQUFBbEMsRUFBQWpDLFVBQ3BDRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsT0FBUUQsVUFBQTVDLEVBQUF2QixVQUM3QkUsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBMkQsT0FBT0MsS0FBTWxCLEVBQUFvQixRQUFRLGVBQWdCRCxVQUFBMUMsRUFBQXpCLFVBQ3JDRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVUsU0FDckJsRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVUsWUFBY0QsVUFBQXhDLEVBQUEzQixVQUNyQ0UsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBMkQsT0FBT0MsS0FBTWxCLEVBQUFvQixRQUFVLGtCQUFvQkQsVUFBQXRDLEVBQUE3QixXQUU3Q0UsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBMkQsT0FBT0MsS0FBTWxCLEVBQUFvQixRQUFRLFdBQVlELFVBQUFwQyxFQUFBL0IsVUFDakNFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQTJELE9BQU9DLEtBQU1sQixFQUFBb0IsUUFBUSxTQUFVRCxVQUFBaEMsRUFBQW5DLFNBQzNCRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsdUJBQXdCRCxVQUFBNUIsRUFBQXZDLFVBQzdDRSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsMkJBQTRCRCxVQUFBMUIsRUFBQXpDLFVBQ2pERSxFQUFBRixRQUFBekksY0FBQStJLEVBQUEyRCxPQUFPQyxLQUFNbEIsRUFBQW9CLFFBQVEsY0FBZUQsVUFBQTlCLEVBQUFyQyxjQUs3QzVJLFNBQVNrTixlQUFlLFVGZ3FCckIsU0FBU3ZHLEVBQVF3QixHRzd1QnZCeEIsRUFBQXdCLFFBQUFnRixPSG12Qk0sU0FBU3hHLEVBQVF3QixHSXh1QnZCLFFBQUFpRixLQUNBLFNBQUF0TSxPQUFBLG1DQUVBLFFBQUF1TSxLQUNBLFNBQUF2TSxPQUFBLHFDQXNCQSxRQUFBd00sR0FBQUMsR0FDQSxHQUFBQyxJQUFBQyxXQUVBLE1BQUFBLFlBQUFGLEVBQUEsRUFHQSxLQUFBQyxJQUFBSixJQUFBSSxJQUFBQyxXQUVBLE1BREFELEdBQUFDLFdBQ0FBLFdBQUFGLEVBQUEsRUFFQSxLQUVBLE1BQUFDLEdBQUFELEVBQUEsR0FDSyxNQUFBM0wsR0FDTCxJQUVBLE1BQUE0TCxHQUFBaEwsS0FBQSxLQUFBK0ssRUFBQSxHQUNTLE1BQUEzTCxHQUVULE1BQUE0TCxHQUFBaEwsS0FBQThGLEtBQUFpRixFQUFBLEtBTUEsUUFBQUcsR0FBQUMsR0FDQSxHQUFBQyxJQUFBQyxhQUVBLE1BQUFBLGNBQUFGLEVBR0EsS0FBQUMsSUFBQVAsSUFBQU8sSUFBQUMsYUFFQSxNQURBRCxHQUFBQyxhQUNBQSxhQUFBRixFQUVBLEtBRUEsTUFBQUMsR0FBQUQsR0FDSyxNQUFBL0wsR0FDTCxJQUVBLE1BQUFnTSxHQUFBcEwsS0FBQSxLQUFBbUwsR0FDUyxNQUFBL0wsR0FHVCxNQUFBZ00sR0FBQXBMLEtBQUE4RixLQUFBcUYsS0FZQSxRQUFBRyxLQUNBQyxHQUFBQyxJQUdBRCxHQUFBLEVBQ0FDLEVBQUF2SixPQUNBb0MsRUFBQW1ILEVBQUFDLE9BQUFwSCxHQUVBcUgsR0FBQSxFQUVBckgsRUFBQXBDLFFBQ0EwSixLQUlBLFFBQUFBLEtBQ0EsSUFBQUosRUFBQSxDQUdBLEdBQUE3TSxHQUFBb00sRUFBQVEsRUFDQUMsSUFBQSxDQUdBLEtBREEsR0FBQUssR0FBQXZILEVBQUFwQyxPQUNBMkosR0FBQSxDQUdBLElBRkFKLEVBQUFuSCxFQUNBQSxPQUNBcUgsRUFBQUUsR0FDQUosR0FDQUEsRUFBQUUsR0FBQUcsS0FHQUgsSUFBQSxFQUNBRSxFQUFBdkgsRUFBQXBDLE9BRUF1SixFQUFBLEtBQ0FELEdBQUEsRUFDQUwsRUFBQXhNLElBaUJBLFFBQUFvTixHQUFBZixFQUFBZ0IsR0FDQWpHLEtBQUFpRixNQUNBakYsS0FBQWlHLFFBWUEsUUFBQUMsTUFoS0EsR0FPQWhCLEdBQ0FJLEVBUkFhLEVBQUE5SCxFQUFBd0IsWUFnQkEsV0FDQSxJQUVBcUYsRUFEQSxrQkFBQUMsWUFDQUEsV0FFQUwsRUFFSyxNQUFBeEwsR0FDTDRMLEVBQUFKLEVBRUEsSUFFQVEsRUFEQSxrQkFBQUMsY0FDQUEsYUFFQVIsRUFFSyxNQUFBekwsR0FDTGdNLEVBQUFQLEtBdURBLElBRUFXLEdBRkFuSCxLQUNBa0gsR0FBQSxFQUVBRyxHQUFBLENBeUNBTyxHQUFBQyxTQUFBLFNBQUFuQixHQUNBLEdBQUFvQixHQUFBLEdBQUFDLE9BQUFDLFVBQUFwSyxPQUFBLEVBQ0EsSUFBQW9LLFVBQUFwSyxPQUFBLEVBQ0EsT0FBQUQsR0FBQSxFQUF1QkEsRUFBQXFLLFVBQUFwSyxPQUFzQkQsSUFDN0NtSyxFQUFBbkssRUFBQSxHQUFBcUssVUFBQXJLLEVBR0FxQyxHQUFBN0QsS0FBQSxHQUFBc0wsR0FBQWYsRUFBQW9CLElBQ0EsSUFBQTlILEVBQUFwQyxRQUFBc0osR0FDQVQsRUFBQWEsSUFTQUcsRUFBQS9LLFVBQUE4SyxJQUFBLFdBQ0EvRixLQUFBaUYsSUFBQXJJLE1BQUEsS0FBQW9ELEtBQUFpRyxRQUVBRSxFQUFBakMsTUFBQSxVQUNBaUMsRUFBQUssU0FBQSxFQUNBTCxFQUFBTSxPQUNBTixFQUFBTyxRQUNBUCxFQUFBUSxRQUFBLEdBQ0FSLEVBQUFTLFlBSUFULEVBQUFVLEdBQUFYLEVBQ0FDLEVBQUFXLFlBQUFaLEVBQ0FDLEVBQUFZLEtBQUFiLEVBQ0FDLEVBQUFhLElBQUFkLEVBQ0FDLEVBQUFjLGVBQUFmLEVBQ0FDLEVBQUFlLG1CQUFBaEIsRUFDQUMsRUFBQWdCLEtBQUFqQixFQUVBQyxFQUFBaUIsUUFBQSxTQUFBck0sR0FDQSxTQUFBdkMsT0FBQSxxQ0FHQTJOLEVBQUFrQixJQUFBLFdBQTJCLFdBQzNCbEIsRUFBQW1CLE1BQUEsU0FBQUMsR0FDQSxTQUFBL08sT0FBQSxtQ0FFQTJOLEVBQUFxQixNQUFBLFdBQTRCLFdKMHZCdEIsU0FBU25KLEVBQVF3QixHQUV0QixZQUVBN0UsUUFBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdLbDdCSWdNLFVBQVMsdUNBQ1YvQyxVQUFVLGFBQ1ZnRCxhQUFhLG1DTHc3QnBCLFNBQVNySixFQUFRd0IsRUFBUzVILEdNMTdCaEMsWUF3SEEsU0FBQWtJLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQXRIN0VQLEVBQUFRLFlBQUEsRUFDQVIsRUFBQThILG9CQUFBOUgsRUFBQStILFlBQUEvSCxFQUFBMkQsZUFBQTNELEVBQUFnSSxzQkFBQWhJLEVBQUFpSSxjQUFBakksRUFBQWtJLGlCQUFBbEksRUFBQW1JLE1BQUFuSSxFQUFBb0ksWUFBQXBJLEVBQUFxSSxjQUFBckksRUFBQXNJLFVBQUF0SSxFQUFBdUksZUFBQXZJLEVBQUF3SSxjQUFBeEksRUFBQXlJLGFBQUF6SSxFQUFBMEksVUFBQTFJLEVBQUEySSxhQUFBM0ksRUFBQTRJLFVBQUE1SSxFQUFBNkksUUFBQTdJLEVBQUEwRSxNQUFBMUUsRUFBQThJLFNBQUE5SSxFQUFBOEUsV0FBQTlFLEVBQUErSSxjQUFBL0ksRUFBQWdKLFdBQUFoSixFQUFBaUosVUFBQWpKLEVBQUFrSixLQUFBbEosRUFBQXdFLE9BQUEyRSxNQUVBLElBQUFDLEdBQUFoUixFQUFBLEdBRUErQyxRQUFBSSxlQUFBeUUsRUFBQSxnQkFDQXZFLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE1BQUEwTixHQUFBWCxlQUlBLElBQUFZLEdBQUFqUixFQUFBLEdBRUErQyxRQUFBSSxlQUFBeUUsRUFBQSxpQkFDQXZFLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE1BQUEyTixHQUFBaEIsaUJBR0FsTixPQUFBSSxlQUFBeUUsRUFBQSxlQUNBdkUsWUFBQSxFQUNBQyxJQUFBLFdBQ0EsTUFBQTJOLEdBQUFqQixjQUlBLElBQUFrQixHQUFBbFIsRUFBQSxHQUVBK0MsUUFBQUksZUFBQXlFLEVBQUEsaUJBQ0F2RSxZQUFBLEVBQ0FDLElBQUEsV0FDQSxNQUFBNE4sR0FBQXJCLGdCQUlBLElBQUFzQixHQUFBblIsRUFBQSxLQUVBb1IsRUFBQWxKLEVBQUFpSixHQUVBRSxFQUFBclIsRUFBQSxJQUVBc1IsRUFBQXBKLEVBQUFtSixHQUVBRSxFQUFBdlIsRUFBQSxLQUVBd1IsRUFBQXRKLEVBQUFxSixHQUVBRSxFQUFBelIsRUFBQSxLQUVBMFIsRUFBQXhKLEVBQUF1SixHQUVBRSxFQUFBM1IsRUFBQSxLQUVBNFIsRUFBQTFKLEVBQUF5SixHQUVBRSxFQUFBN1IsRUFBQSxLQUVBOFIsRUFBQTVKLEVBQUEySixHQUVBRSxFQUFBL1IsRUFBQSxJQUVBZ1MsRUFBQTlKLEVBQUE2SixHQUVBRSxFQUFBalMsRUFBQSxLQUVBa1MsRUFBQWhLLEVBQUErSixHQUVBRSxFQUFBblMsRUFBQSxLQUVBb1MsRUFBQWxLLEVBQUFpSyxHQUVBRSxFQUFBclMsRUFBQSxLQUVBc1MsRUFBQXBLLEVBQUFtSyxHQUVBRSxFQUFBdlMsRUFBQSxLQUVBd1MsRUFBQXRLLEVBQUFxSyxHQUVBRSxFQUFBelMsRUFBQSxLQUVBMFMsRUFBQXhLLEVBQUF1SyxHQUVBRSxFQUFBM1MsRUFBQSxJQUVBNFMsRUFBQTFLLEVBQUF5SyxHQUVBRSxFQUFBN1MsRUFBQSxLQUVBOFMsRUFBQTVLLEVBQUEySyxHQUVBRSxFQUFBN0ssRUFBQStJLEdBRUErQixFQUFBaFQsRUFBQSxLQUVBaVQsRUFBQS9LLEVBQUE4SyxHQUVBRSxFQUFBbFQsRUFBQSxJQUVBbVQsRUFBQWpMLEVBQUFnTCxHQUVBRSxFQUFBcFQsRUFBQSxLQUVBcVQsRUFBQW5MLEVBQUFrTCxHQUVBRSxFQUFBdFQsRUFBQSxLQUVBdVQsRUFBQXJMLEVBQUFvTCxHQUVBRSxFQUFBeFQsRUFBQSxLQUVBeVQsRUFBQXZMLEVBQUFzTCxHQUVBRSxFQUFBMVQsRUFBQSxJQUVBMlQsRUFBQXpMLEVBQUF3TCxFQUlBOUwsR0FBQXdFLE9BQUFnRixFQUFBL0ksUUFFQVQsRUFBQWtKLEtBQUFRLEVBQUFqSixRQUNBVCxFQUFBaUosVUFBQVcsRUFBQW5KLFFBQ0FULEVBQUFnSixXQUFBYyxFQUFBckosUUFJQVQsRUFBQStJLGNBQUFpQixFQUFBdkosUUFDQVQsRUFBQThFLFdBQUFvRixFQUFBekosUUFDQVQsRUFBQThJLFNBQUFzQixFQUFBM0osUUFDQVQsRUFBQTBFLE1BQUE0RixFQUFBN0osUUFJQVQsRUFBQTZJLFFBQUEyQixFQUFBL0osUUFDQVQsRUFBQTRJLFVBQUE4QixFQUFBakssUUFDQVQsRUFBQTJJLGFBQUFpQyxFQUFBbkssUUFJQVQsRUFBQTBJLFVBQUFvQyxFQUFBckssUUFDQVQsRUFBQXdJLGNBQUF3QyxFQUFBdkssUUFDQVQsRUFBQXVJLGVBQUEyQyxFQUFBekssUUFDQVQsRUFBQXNJLFVBQUE2QyxFQUFBMUssUUFDQVQsRUFBQW1JLE1BQUFrRCxFQUFBNUssUUFDQVQsRUFBQWtJLGlCQUFBcUQsRUFBQTlLLFFBQ0FULEVBQUFnSSxzQkFBQXlELEVBQUFoTCxRQUlBVCxFQUFBMkQsZUFBQWdJLEVBQUFsTCxRQUNBVCxFQUFBK0gsWUFBQThELEVBQUFwTCxRQUNBVCxFQUFBOEgsb0JBQUFpRSxFQUFBdEwsU05nOEJNLFNBQVNqQyxFQUFRd0IsRUFBUzVILElPM2xDaEMsU0FBQTRULEVBQUF2UyxHQUFlK0UsRUFBQXdCLFFBQUF2RyxFQUFBckIsRUFBQSxHQUFBQSxFQUFBLE1BQXlSK0gsS0FBQSxTQUFBNkwsRUFBQXZTLEdBQW9CLGdCQUFBdVMsR0FBbUIsUUFBQXZTLEdBQUF3UyxHQUFjLEdBQUFDLEVBQUFELEdBQUEsTUFBQUMsR0FBQUQsR0FBQWpNLE9BQTRCLElBQUFtTSxHQUFBRCxFQUFBRCxJQUFZak0sV0FBVXZDLEdBQUF3TyxFQUFBaE0sUUFBQSxFQUFpQixPQUFBK0wsR0FBQUMsR0FBQTVSLEtBQUE4UixFQUFBbk0sUUFBQW1NLElBQUFuTSxRQUFBdkcsR0FBQTBTLEVBQUFsTSxRQUFBLEVBQUFrTSxFQUFBbk0sUUFBZ0UsR0FBQWtNLEtBQVMsT0FBQXpTLEdBQUE0RyxFQUFBMkwsRUFBQXZTLEVBQUFxRSxFQUFBb08sRUFBQXpTLEVBQUFwQixFQUFBLEdBQUFvQixFQUFBLEtBQStCLFNBQUF1UyxFQUFBdlMsRUFBQXlTLEdBQWtCLFlBQWEsU0FBQUQsR0FBQUQsR0FBYyxNQUFBQSxNQUFBeEwsV0FBQXdMLEdBQTBCdkwsUUFBQXVMLEdBQWF2UyxFQUFBK0csWUFBQSxFQUFBL0csRUFBQTJTLFFBQUEzUyxFQUFBOEssU0FBQSxNQUE0QyxJQUFBNEgsR0FBQUQsRUFBQSxHQUFBRyxFQUFBSixFQUFBRSxHQUFBOVAsRUFBQTZQLEVBQUEsR0FBQWxOLEVBQUFpTixFQUFBNVAsRUFBZ0M1QyxHQUFBOEssU0FBQThILEVBQUEsUUFBQTVTLEVBQUEyUyxRQUFBcE4sRUFBQSxTQUErQyxTQUFBdkYsRUFBQXlTLEdBQWV6UyxFQUFBdUcsUUFBQWdNLEdBQVksU0FBQUEsRUFBQXZTLEVBQUF5UyxHQUFpQixZQUFhelMsR0FBQStHLFlBQUEsQ0FBZ0IsSUFBQXlMLEdBQUFDLEVBQUEsRUFBV3pTLEdBQUEsUUFBQXdTLEVBQUEzRCxVQUFBZ0UsT0FBZ0NDLFVBQUFOLEVBQUEzRCxVQUFBa0UsS0FBQUMsV0FBQUMsU0FBQVQsRUFBQTNELFVBQUFrRSxLQUFBQyxXQUFBRSxTQUFBVixFQUFBM0QsVUFBQWtFLEtBQUFDLGNBQWtILFNBQUFULEVBQUF2UyxHQUFlLFlBQWEsU0FBQXlTLEdBQUFGLEdBQWMsbUJBQUFoUixVQUFBLGtCQUFBQSxTQUFBOEUsT0FBQTlFLFFBQUE4RSxNQUFBa00sRUFBZ0YsS0FBSSxLQUFBclQsT0FBQXFULEdBQWUsTUFBQUEsS0FBV3ZTLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBLFFBQUF5UyxHQUErQixTQUFBRixFQUFBdlMsRUFBQXlTLEdBQWlCLEdBQUFELEdBQUFDLEVBQUEsSUFBQUMsRUFBQUYsRUFBQVcsTUFBdUJaLEdBQUFoTSxRQUFBbU0sR0FBWSxTQUFBSCxFQUFBdlMsRUFBQXlTLEdBQWlCLFlBQWEsU0FBQUQsR0FBQUQsR0FBYyxNQUFBQSxNQUFBeEwsV0FBQXdMLEdBQTBCdkwsUUFBQXVMLEdBQWEsUUFBQUcsR0FBQUgsRUFBQXZTLEdBQWdCLEtBQUF1UyxZQUFBdlMsSUFBQSxTQUFBb1QsV0FBQSxxQ0FBOEUsUUFBQVIsR0FBQUwsRUFBQXZTLEdBQWdCLElBQUF1UyxFQUFBLFNBQUFjLGdCQUFBLDREQUE0RixRQUFBclQsR0FBQSxnQkFBQUEsSUFBQSxrQkFBQUEsR0FBQXVTLEVBQUF2UyxFQUF1RCxRQUFBNEMsR0FBQTJQLEVBQUF2UyxHQUFnQixxQkFBQUEsSUFBQSxPQUFBQSxFQUFBLFNBQUFvVCxXQUFBLGlFQUFBcFQsR0FBMkh1UyxHQUFBNVEsVUFBQUQsT0FBQTRSLE9BQUF0VCxLQUFBMkIsV0FBMEM0UixhQUFhcFIsTUFBQW9RLEVBQUF2USxZQUFBLEVBQUF3UixVQUFBLEVBQUF6UixjQUFBLEtBQW1EL0IsSUFBQTBCLE9BQUErUixlQUFBL1IsT0FBQStSLGVBQUFsQixFQUFBdlMsR0FBQXVTLEVBQUFtQixVQUFBMVQsR0FBc0VBLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBLGNBQW9DLElBQUF1RixHQUFBa04sRUFBQSxHQUFBN1QsRUFBQTZULEVBQUEsR0FBQWtCLEVBQUFuQixFQUFBNVQsR0FBQXlGLEVBQUFvTyxFQUFBLEdBQUFtQixHQUFBcEIsRUFBQW5PLEdBQUEsU0FBQWtPLEdBQW9ELFFBQUF2UyxHQUFBeVMsRUFBQUQsR0FBZ0JFLEVBQUFoTSxLQUFBMUcsRUFBVSxJQUFBNEMsR0FBQWdRLEVBQUFsTSxLQUFBNkwsRUFBQTNSLEtBQUE4RixLQUFBK0wsRUFBQUQsR0FBK0IsT0FBQTVQLEdBQUFxSCxNQUFBd0ksRUFBQXhJLE1BQUFySCxFQUF5QixNQUFBQSxHQUFBNUMsRUFBQXVTLEdBQUF2UyxFQUFBMkIsVUFBQWtTLGdCQUFBLFdBQXFELE9BQU81SixNQUFBdkQsS0FBQXVELFFBQWtCakssRUFBQTJCLFVBQUFrSixPQUFBLFdBQStCLE1BQUF0RixHQUFBdU8sU0FBQUMsS0FBQXJOLEtBQUFzTixNQUFBM1MsV0FBNENyQixHQUFHdUYsRUFBQTBPLFdBQWVqVSxHQUFBLFFBQUE0VCxJQUFBTSxXQUE0QmpLLE1BQUEwSixFQUFBLFFBQUFYLFdBQUEzUixTQUFBa0UsRUFBQXNKLFVBQUFzRixRQUFBbkIsWUFBc0VZLEVBQUFRLG1CQUFzQm5LLE1BQUEwSixFQUFBLFFBQUFYLGFBQStCLFNBQUFULEVBQUF2UyxFQUFBeVMsR0FBaUIsWUFBYSxTQUFBRCxHQUFBRCxHQUFjLE1BQUFBLE1BQUF4TCxXQUFBd0wsR0FBMEJ2TCxRQUFBdUwsR0FBYSxRQUFBRyxHQUFBSCxFQUFBdlMsR0FBZ0IsS0FBQXVTLFlBQUF2UyxJQUFBLFNBQUFvVCxXQUFBLHFDQUE4RSxRQUFBUixHQUFBTCxFQUFBdlMsR0FBZ0IsSUFBQXVTLEVBQUEsU0FBQWMsZ0JBQUEsNERBQTRGLFFBQUFyVCxHQUFBLGdCQUFBQSxJQUFBLGtCQUFBQSxHQUFBdVMsRUFBQXZTLEVBQXVELFFBQUE0QyxHQUFBMlAsRUFBQXZTLEdBQWdCLHFCQUFBQSxJQUFBLE9BQUFBLEVBQUEsU0FBQW9ULFdBQUEsaUVBQUFwVCxHQUEySHVTLEdBQUE1USxVQUFBRCxPQUFBNFIsT0FBQXRULEtBQUEyQixXQUEwQzRSLGFBQWFwUixNQUFBb1EsRUFBQXZRLFlBQUEsRUFBQXdSLFVBQUEsRUFBQXpSLGNBQUEsS0FBbUQvQixJQUFBMEIsT0FBQStSLGVBQUEvUixPQUFBK1IsZUFBQWxCLEVBQUF2UyxHQUFBdVMsRUFBQW1CLFVBQUExVCxHQUFzRSxRQUFBdUYsR0FBQWdOLEdBQWMsTUFBQUEsR0FBQThCLGFBQUE5QixFQUFBOVEsTUFBQSxZQUEwQyxRQUFBN0MsR0FBQTJULEVBQUF2UyxHQUFnQixJQUFJLE1BQUF1UyxHQUFBalAsTUFBQXRELEdBQWtCLE1BQUF1UyxHQUFTLE1BQUErQixHQUFBblMsTUFBQW9RLEVBQUErQixHQUFvQixRQUFBWCxHQUFBcEIsRUFBQXZTLEVBQUF5UyxHQUFrQixHQUFBRCxHQUFBdkYsVUFBQXBLLE9BQUEsWUFBQW9LLFVBQUEsR0FBQUEsVUFBQSxNQUErRDBHLElBQUFwQixFQUFBL08sRUFBQStPLEdBQUE1TCxFQUFBNE4sRUFBQSxNQUF1QkEsR0FBQSxrQkFBQXZVLFFBQUEsRUFBQXdVLEVBQUEsU0FBQXhVLEdBQUFnRyxDQUFpRCxJQUFBeU8sR0FBQWhDLEdBQUFpQyxFQUFBbFAsRUFBQWdOLEVBQUFtQyxLQUFBQyxFQUFBLFNBQUFwUCxLQUFBcVAsRUFBQXJDLEVBQUFzQyxRQUFBbE8sRUFBQSxTQUFBaU8sS0FBQUUsRUFBQUgsR0FBQUgsSUFBQUMsRUFBQU0sRUFBQUMsR0FBaUYsaUJBQUExQyxHQUFtQixRQUFBdlMsR0FBQXVTLEVBQUF2UyxFQUFBeVMsR0FBa0IsR0FBQUQsR0FBQWlDLEVBQUFsQyxFQUFBdlMsRUFBQXlTLEVBQWUsT0FBQUQsR0FBUyxHQUFBQyxHQUFBLFdBQUFsTixFQUFBZ04sR0FBQSxJQUFBQyxFQUFBLFNBQUFBLEdBQXdDLFFBQUFqTixHQUFBZ04sRUFBQXZTLEdBQWdCMFMsRUFBQWhNLEtBQUFuQixFQUFVLElBQUEzQyxHQUFBZ1EsRUFBQWxNLEtBQUE4TCxFQUFBNVIsS0FBQThGLEtBQUE2TCxFQUFBdlMsR0FBK0I0QyxHQUFBeUssUUFBQTJILEVBQUFwUyxFQUFBcUgsTUFBQXNJLEVBQUF0SSxPQUFBakssRUFBQWlLLE9BQUEsRUFBQWlMLEVBQUEsU0FBQXRTLEVBQUFxSCxNQUFBLGlFQUFBd0ksRUFBQSx1R0FBQUEsRUFBQSxNQUFpUCxJQUFBN1QsR0FBQWdFLEVBQUFxSCxNQUFBaUosVUFBeUIsT0FBQXRRLEdBQUF1UyxPQUFnQkMsV0FBQXhXLEdBQWFnRSxFQUFBeVMsYUFBQXpTLEVBQWtCLE1BQUFBLEdBQUEyQyxFQUFBaU4sR0FBQWpOLEVBQUE1RCxVQUFBMlQsc0JBQUEsV0FBMkQsT0FBQVYsR0FBQWxPLEtBQUE2TyxxQkFBQTdPLEtBQUE4TyxzQkFBOERqUSxFQUFBNUQsVUFBQThULGtCQUFBLFNBQUFsRCxFQUFBdlMsR0FBNkMsSUFBQTBHLEtBQUFnUCxxQkFBQSxNQUFBaFAsTUFBQWlQLHVCQUFBcEQsRUFBQXZTLEVBQXNFLElBQUF5UyxHQUFBRixFQUFBVyxXQUFBVixFQUFBOUwsS0FBQWtQLDZCQUFBbFAsS0FBQWdQLHFCQUFBakQsRUFBQXpTLEdBQUEwRyxLQUFBZ1AscUJBQUFqRCxFQUFtSCxPQUFBRCxJQUFTak4sRUFBQTVELFVBQUFnVSx1QkFBQSxTQUFBcEQsRUFBQXZTLEdBQWtELEdBQUF5UyxHQUFBalAsRUFBQStPLEVBQUFXLFdBQUFsVCxHQUFBd1MsRUFBQSxrQkFBQUMsRUFBK0MsT0FBQS9MLE1BQUFnUCxxQkFBQWxELEVBQUFDLEVBQUFqUCxFQUFBa0QsS0FBQWtQLDZCQUFBLElBQUFsUCxLQUFBZ1AscUJBQUE3UyxPQUFBMlAsRUFBQTlMLEtBQUErTyxrQkFBQWxELEVBQUF2UyxHQUFBeVMsR0FBOElsTixFQUFBNUQsVUFBQWtVLHFCQUFBLFNBQUF0RCxFQUFBdlMsR0FBZ0QsSUFBQTBHLEtBQUFvUCx3QkFBQSxNQUFBcFAsTUFBQXFQLDBCQUFBeEQsRUFBQXZTLEVBQTRFLElBQUF5UyxHQUFBRixFQUFBVSxTQUFBVCxFQUFBOUwsS0FBQXNQLGdDQUFBdFAsS0FBQW9QLHdCQUFBckQsRUFBQXpTLEdBQUEwRyxLQUFBb1Asd0JBQUFyRCxFQUEwSCxPQUFBRCxJQUFTak4sRUFBQTVELFVBQUFvVSwwQkFBQSxTQUFBeEQsRUFBQXZTLEdBQXFELEdBQUF5UyxHQUFBOEIsRUFBQWhDLEVBQUFVLFNBQUFqVCxHQUFBd1MsRUFBQSxrQkFBQUMsRUFBNkMsT0FBQS9MLE1BQUFvUCx3QkFBQXRELEVBQUFDLEVBQUE4QixFQUFBN04sS0FBQXNQLGdDQUFBLElBQUF0UCxLQUFBb1Asd0JBQUFqVCxPQUFBMlAsRUFBQTlMLEtBQUFtUCxxQkFBQXRELEVBQUF2UyxHQUFBeVMsR0FBMEpsTixFQUFBNUQsVUFBQXNVLHlCQUFBLFdBQWlELEdBQUExRCxHQUFBN0wsS0FBQStPLGtCQUFBL08sS0FBQXVELE1BQUF2RCxLQUFBc04sTUFBb0QsU0FBQXROLEtBQUF3UCxhQUFBLEVBQUFDLEVBQUEsU0FBQTVELEVBQUE3TCxLQUFBd1AsY0FBQXhQLEtBQUF3UCxXQUFBM0QsRUFBQSxLQUF1RmhOLEVBQUE1RCxVQUFBeVUsNEJBQUEsV0FBb0QsR0FBQTdELEdBQUE3TCxLQUFBbVAscUJBQUFuUCxLQUFBdUQsTUFBQXZELEtBQUFzTixNQUF1RCxTQUFBdE4sS0FBQTJQLGdCQUFBLEVBQUFGLEVBQUEsU0FBQTVELEVBQUE3TCxLQUFBMlAsaUJBQUEzUCxLQUFBMlAsY0FBQTlELEVBQUEsS0FBZ0doTixFQUFBNUQsVUFBQTJVLDBCQUFBLFdBQWtELEdBQUEvRCxHQUFBdlMsRUFBQTBHLEtBQUF3UCxXQUFBeFAsS0FBQTJQLGNBQUEzUCxLQUFBc04sTUFBdUQsU0FBQXROLEtBQUE2UCxhQUFBeEIsSUFBQSxFQUFBb0IsRUFBQSxTQUFBNUQsRUFBQTdMLEtBQUE2UCxlQUFBN1AsS0FBQTZQLFlBQUFoRSxFQUFBLEtBQTRGaE4sRUFBQTVELFVBQUE2VSxhQUFBLFdBQXFDLHdCQUFBOVAsTUFBQStQLGFBQTBDbFIsRUFBQTVELFVBQUErVSxhQUFBLFdBQXFDL0MsSUFBQWpOLEtBQUErUCxjQUFBL1AsS0FBQStQLFlBQUEvUCxLQUFBdUQsTUFBQTZJLFVBQUFwTSxLQUFBaVEsYUFBQUMsS0FBQWxRLFlBQUFpUSxpQkFBZ0hwUixFQUFBNUQsVUFBQWtWLGVBQUEsV0FBdUNuUSxLQUFBK1AsY0FBQS9QLEtBQUErUCxjQUFBL1AsS0FBQStQLFlBQUEsT0FBNkRsUixFQUFBNUQsVUFBQW1WLGtCQUFBLFdBQTBDcFEsS0FBQWdRLGdCQUFvQm5SLEVBQUE1RCxVQUFBb1YsMEJBQUEsU0FBQXhFLEdBQW1EcUMsSUFBQSxFQUFBdUIsRUFBQSxTQUFBNUQsRUFBQTdMLEtBQUFzTixTQUFBdE4sS0FBQTZPLHFCQUFBLElBQWlFaFEsRUFBQTVELFVBQUFxVixxQkFBQSxXQUE2Q3RRLEtBQUFtUSxpQkFBQW5RLEtBQUEyTyxjQUF3QzlQLEVBQUE1RCxVQUFBMFQsV0FBQSxXQUFtQzNPLEtBQUEyUCxjQUFBLEtBQUEzUCxLQUFBd1AsV0FBQSxLQUFBeFAsS0FBQTZQLFlBQUEsS0FBQTdQLEtBQUE2TyxxQkFBQSxFQUFBN08sS0FBQThPLHNCQUFBLEVBQUE5TyxLQUFBdVEsaUNBQUEsRUFBQXZRLEtBQUF3USw4QkFBQSxLQUFBeFEsS0FBQXlRLGdCQUFBLEtBQUF6USxLQUFBb1Asd0JBQUEsS0FBQXBQLEtBQUFnUCxxQkFBQSxNQUF1U25RLEVBQUE1RCxVQUFBZ1YsYUFBQSxXQUFxQyxHQUFBalEsS0FBQStQLFlBQUEsQ0FBcUIsR0FBQWxFLEdBQUE3TCxLQUFBdUQsTUFBQWlKLFdBQUFsVCxFQUFBMEcsS0FBQXlPLE1BQUFDLFVBQW9ELEtBQUFSLEdBQUE1VSxJQUFBdVMsRUFBQSxDQUFjLEdBQUFxQyxJQUFBbE8sS0FBQWtQLDZCQUFBLENBQTBDLEdBQUFuRCxHQUFBN1QsRUFBQThILEtBQUF1UCx5QkFBQXZQLEtBQTRDLEtBQUErTCxFQUFBLE1BQWFBLEtBQUE2QixJQUFBNU4sS0FBQXdRLDhCQUFBNUMsRUFBQW5TLE9BQUF1RSxLQUFBdVEsaUNBQUEsRUFBNEZ2USxLQUFBOE8sc0JBQUEsRUFBQTlPLEtBQUEwUSxVQUE0Q2hDLFdBQUE3QyxPQUFpQmhOLEVBQUE1RCxVQUFBMFYsbUJBQUEsV0FBMkMsU0FBQW5DLEVBQUEsU0FBQXRPLEVBQUEsdUhBQStGRixLQUFBNFEsS0FBQUMsaUJBQTJFaFMsRUFBQTVELFVBQUFrSixPQUFBLFdBQStCLEdBQUE3SyxHQUFBMEcsS0FBQTZPLG9CQUFBOUMsRUFBQS9MLEtBQUE4TyxxQkFBQWhELEVBQUE5TCxLQUFBdVEsZ0NBQUF2RSxFQUFBaE0sS0FBQXdRLDhCQUFBdEUsRUFBQWxNLEtBQUF5USxlQUE4SixJQUFBelEsS0FBQTZPLHFCQUFBLEVBQUE3TyxLQUFBOE8sc0JBQUEsRUFBQTlPLEtBQUF1USxpQ0FBQSxFQUFBdlEsS0FBQXdRLDhCQUFBLEtBQUF4RSxFQUFBLEtBQUFBLEVBQXNKLElBQUE5UCxJQUFBLEVBQUEyQyxHQUFBLENBQWNxUCxJQUFBaEMsSUFBQWhRLEVBQUE2UCxHQUFBelMsR0FBQTBHLEtBQUFrUCw2QkFBQXJRLEVBQUF2RixHQUFBMEcsS0FBQXNQLGdDQUE0RixJQUFBcFgsSUFBQSxFQUFBK1UsR0FBQSxDQUFjbkIsR0FBQTVULEdBQUEsRUFBQWdFLElBQUFoRSxFQUFBOEgsS0FBQXVQLDRCQUFBMVEsSUFBQW9PLEVBQUFqTixLQUFBMFAsOEJBQXdGLElBQUE1UyxJQUFBLENBQVMsT0FBQUEsTUFBQTVFLEdBQUErVSxHQUFBM1QsSUFBQTBHLEtBQUE0UCw2QkFBQTlTLEdBQUFvUCxJQUFBbE0sS0FBQXlRLGdCQUFBdlEsR0FBQSxFQUFBZ04sRUFBQXJWLGVBQUFnVSxFQUFBbE8sS0FBZ0hxQyxLQUFBNlAsYUFBbUJpQixJQUFBLHNCQUFzQixFQUFBNUQsRUFBQXJWLGVBQUFnVSxFQUFBN0wsS0FBQTZQLGNBQTJDaFIsR0FBR3FPLEVBQUFLLFVBQWMsT0FBQXpCLEdBQUE2QixZQUFBNUIsRUFBQUQsRUFBQWlGLGlCQUFBbEYsRUFBQUMsRUFBQWtGLGNBQTREek4sTUFBQTFGLEVBQUEsU0FBbUJpTyxFQUFBMEIsV0FBY2pLLE1BQUExRixFQUFBLFVBQW1CLEVBQUFvVCxFQUFBLFNBQUFuRixFQUFBRCxJQUF3QnZTLEVBQUErRyxZQUFBLENBQWdCLElBQUExQyxHQUFBM0MsT0FBQWtXLFFBQUEsU0FBQXJGLEdBQWlDLE9BQUF2UyxHQUFBLEVBQVlpTixVQUFBcEssT0FBQTdDLEVBQW1CQSxJQUFBLENBQUssR0FBQXlTLEdBQUF4RixVQUFBak4sRUFBbUIsUUFBQXdTLEtBQUFDLEdBQUEvUSxPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQTZSLEVBQUFELEtBQUFELEVBQUFDLEdBQUFDLEVBQUFELElBQXNFLE1BQUFELEdBQVV2UyxHQUFBLFFBQUEyVCxDQUFlLElBQUFDLEdBQUFuQixFQUFBLEdBQUFqUCxFQUFBaVAsRUFBQSxHQUFBbE8sRUFBQWlPLEVBQUFoUCxHQUFBK1EsRUFBQTlCLEVBQUEsR0FBQTBELEVBQUEzRCxFQUFBK0IsR0FBQUUsRUFBQWhDLEVBQUEsR0FBQStCLEVBQUFoQyxFQUFBaUMsR0FBQWpQLEVBQUFpTixFQUFBLEdBQUFtQyxHQUFBcEMsRUFBQWhOLEdBQUFpTixFQUFBLEtBQUFvQyxHQUFBckMsRUFBQW9DLEdBQUFuQyxFQUFBLElBQUFrRixFQUFBbkYsRUFBQXFDLEdBQUFqTyxFQUFBNkwsRUFBQSxJQUFBeUMsRUFBQTFDLEVBQUE1TCxHQUFBRCxFQUFBLFNBQUE0TCxHQUE2SCxVQUFTdk0sRUFBQSxTQUFBdU0sR0FBZSxPQUFPVSxTQUFBVixJQUFZbUMsRUFBQSxTQUFBbkMsRUFBQXZTLEVBQUF5UyxHQUFtQixNQUFBcE8sTUFBV29PLEVBQUFGLEVBQUF2UyxJQUFRc1UsR0FBSW5TLE1BQUEsTUFBVzhTLEVBQUEsR0FBSyxTQUFBMUMsRUFBQXZTLEdBQWUsWUFBYSxTQUFBeVMsR0FBQUYsRUFBQXZTLEdBQWdCLEdBQUF1UyxJQUFBdlMsRUFBQSxRQUFrQixJQUFBeVMsR0FBQS9RLE9BQUFtVyxLQUFBdEYsR0FBQUMsRUFBQTlRLE9BQUFtVyxLQUFBN1gsRUFBc0MsSUFBQXlTLEVBQUE1UCxTQUFBMlAsRUFBQTNQLE9BQUEsUUFBZ0MsUUFBQTZQLEdBQUFoUixPQUFBQyxVQUFBQyxlQUFBZ1IsRUFBQSxFQUE4Q0gsRUFBQTVQLE9BQUErUCxFQUFXQSxJQUFBLElBQUFGLEVBQUE5UixLQUFBWixFQUFBeVMsRUFBQUcsS0FBQUwsRUFBQUUsRUFBQUcsTUFBQTVTLEVBQUF5UyxFQUFBRyxJQUFBLFFBQW1ELFVBQVM1UyxFQUFBK0csWUFBQSxFQUFBL0csRUFBQSxRQUFBeVMsR0FBK0IsU0FBQUYsRUFBQXZTLEVBQUF5UyxHQUFpQixZQUFhLFNBQUFELEdBQUFELEdBQWMsZ0JBQUF2UyxHQUFtQixTQUFBMFMsRUFBQW9GLG9CQUFBdkYsRUFBQXZTLElBQXFDQSxFQUFBK0csWUFBQSxFQUFBL0csRUFBQSxRQUFBd1MsQ0FBK0IsSUFBQUUsR0FBQUQsRUFBQSxLQUFZLFNBQUFGLEVBQUF2UyxHQUFlLFlBQWEsSUFBQXlTLElBQU8yQixtQkFBQSxFQUFBc0QsY0FBQSxFQUFBSyxjQUFBLEVBQUExRCxhQUFBLEVBQUEyRCxpQkFBQSxFQUFBQyxRQUFBLEVBQUEvRCxXQUFBLEVBQUExVixNQUFBLEdBQXNIZ1UsR0FBSS9RLE1BQUEsRUFBQW9CLFFBQUEsRUFBQWxCLFdBQUEsRUFBQXVXLFFBQUEsRUFBQWpMLFdBQUEsRUFBQWtMLE9BQUEsR0FBK0R6RixFQUFBLGtCQUFBaFIsUUFBQTBXLHFCQUFtRDdGLEdBQUFoTSxRQUFBLFNBQUFnTSxFQUFBdlMsRUFBQTRTLEdBQTBCLG1CQUFBNVMsR0FBQSxDQUF1QixHQUFBNEMsR0FBQWxCLE9BQUEyVyxvQkFBQXJZLEVBQW9DMFMsS0FBQTlQLElBQUF5SixPQUFBM0ssT0FBQTBXLHNCQUFBcFksSUFBaUQsUUFBQXVGLEdBQUEsRUFBWTNDLEVBQUFDLE9BQUEwQyxJQUFXQSxFQUFBLEtBQUFrTixFQUFBN1AsRUFBQTJDLEtBQUFpTixFQUFBNVAsRUFBQTJDLEtBQUFxTixLQUFBaFEsRUFBQTJDLEtBQUEsSUFBMkNnTixFQUFBM1AsRUFBQTJDLElBQUF2RixFQUFBNEMsRUFBQTJDLElBQWdCLE1BQUFnTixLQUFXLE1BQUFBLEtBQVUsU0FBQUEsRUFBQXZTLEVBQUF5UyxHQUFpQixZQUFhLElBQUFELEdBQUEsU0FBQUQsRUFBQXZTLEVBQUF5UyxFQUFBRCxFQUFBRSxFQUFBRSxFQUFBaFEsRUFBQTJDLEdBQWdDLElBQUFnTixFQUFBLENBQU8sR0FBQTNULEVBQU0sYUFBQW9CLEVBQUFwQixFQUFBTSxNQUFBLHFJQUF1SixDQUFLLEdBQUF5VSxJQUFBbEIsRUFBQUQsRUFBQUUsRUFBQUUsRUFBQWhRLEVBQUEyQyxHQUFBbEIsRUFBQSxDQUF3QnpGLEdBQUFNLE1BQUFjLEVBQUFzWSxRQUFBLGlCQUFtQyxNQUFBM0UsR0FBQXRQLFFBQWN6RixFQUFBNkMsS0FBQSxzQkFBZ0MsS0FBQTdDLEdBQUEyWixZQUFBLEVBQUEzWixHQUEwQjJULEdBQUFoTSxRQUFBaU0sR0FBWSxTQUFBRCxFQUFBdlMsRUFBQXlTLEdBQWlCLFFBQUFELEdBQUFELEdBQWMsYUFBQUEsRUFBQSxTQUFBQSxFQUFBM1QsRUFBQTJHLEdBQUFnTixFQUFBN1EsT0FBQTZRLEdBQUFvQixPQUFBcEIsR0FBQUssRUFBQUwsR0FBQTNQLEVBQUEyUCxJQUFnRSxHQUFBRyxHQUFBRCxFQUFBLEdBQUFHLEVBQUFILEVBQUEsSUFBQTdQLEVBQUE2UCxFQUFBLElBQUFsTixFQUFBLGdCQUFBM0csRUFBQSxxQkFBQStVLEVBQUFqQixJQUFBOEYsWUFBQSxNQUE2RmpHLEdBQUFoTSxRQUFBaU0sR0FBWSxTQUFBRCxFQUFBdlMsSUFBZSxTQUFBQSxHQUFhLEdBQUF5UyxHQUFBLGdCQUFBelMsU0FBQTBCLGlCQUFBMUIsQ0FBa0R1UyxHQUFBaE0sUUFBQWtNLElBQVk3UixLQUFBWixFQUFBLFdBQW9CLE1BQUEwRyxVQUFZK1IsU0FBQSxtQkFBK0IsU0FBQWxHLEVBQUF2UyxFQUFBeVMsR0FBaUIsR0FBQUQsR0FBQUMsRUFBQSxJQUFBQyxFQUFBRixFQUFBOVEsT0FBQWdYLGVBQUFoWCxPQUE4QzZRLEdBQUFoTSxRQUFBbU0sR0FBWSxTQUFBSCxFQUFBdlMsRUFBQXlTLEdBQWlCLFFBQUFELEdBQUFELEdBQWMsR0FBQXZTLEdBQUE0QyxFQUFBaEMsS0FBQTJSLEVBQUEzVCxHQUFBNlQsRUFBQUYsRUFBQTNULEVBQXlCLEtBQUkyVCxFQUFBM1QsR0FBQSxNQUFZLElBQUE0VCxJQUFBLEVBQVMsTUFBQUQsSUFBVSxHQUFBRyxHQUFBbk4sRUFBQTNFLEtBQUEyUixFQUFnQixPQUFBQyxLQUFBeFMsRUFBQXVTLEVBQUEzVCxHQUFBNlQsUUFBQUYsR0FBQTNULElBQUE4VCxFQUFtQyxHQUFBQSxHQUFBRCxFQUFBLEdBQUFHLEVBQUFsUixPQUFBQyxVQUFBaUIsRUFBQWdRLEVBQUFoUixlQUFBMkQsRUFBQXFOLEVBQUErRixTQUFBL1osRUFBQThULElBQUE4RixZQUFBLE1BQXVGakcsR0FBQWhNLFFBQUFpTSxHQUFZLFNBQUFELEVBQUF2UyxHQUFlLFFBQUF5UyxHQUFBRixHQUFjLE1BQUFHLEdBQUE5UixLQUFBMlIsR0FBaUIsR0FBQUMsR0FBQTlRLE9BQUFDLFVBQUErUSxFQUFBRixFQUFBbUcsUUFBb0NwRyxHQUFBaE0sUUFBQWtNLEdBQVksU0FBQUYsRUFBQXZTLEdBQWUsUUFBQXlTLEdBQUFGLEVBQUF2UyxHQUFnQixnQkFBQXlTLEdBQW1CLE1BQUFGLEdBQUF2UyxFQUFBeVMsS0FBZ0JGLEVBQUFoTSxRQUFBa00sR0FBWSxTQUFBRixFQUFBdlMsRUFBQXlTLEdBQWlCLEdBQUFELEdBQUFDLEVBQUEsSUFBQUMsRUFBQSxnQkFBQWtHLGtCQUFBbFgsaUJBQUFrWCxLQUFBaEcsRUFBQUosR0FBQUUsR0FBQStGLFNBQUEsZ0JBQXdHbEcsR0FBQWhNLFFBQUFxTSxHQUFZLFNBQUFMLEVBQUF2UyxHQUFlLFFBQUF5UyxHQUFBRixHQUFjLGFBQUFBLEdBQUEsZ0JBQUFBLEdBQW1DQSxFQUFBaE0sUUFBQWtNLEdBQVksU0FBQUYsRUFBQXZTLEVBQUF5UyxHQUFpQixRQUFBRCxHQUFBRCxHQUFjLElBQUEzUCxFQUFBMlAsSUFBQUcsRUFBQUgsSUFBQWhOLEVBQUEsUUFBMkIsSUFBQXZGLEdBQUE0UyxFQUFBTCxFQUFXLFdBQUF2UyxFQUFBLFFBQXFCLElBQUF5UyxHQUFBbUIsRUFBQWhULEtBQUFaLEVBQUEsZ0JBQUFBLEVBQUF1VCxXQUE2Qyx5QkFBQWQsb0JBQUFwTyxFQUFBekQsS0FBQTZSLElBQUFqUCxFQUF5RCxHQUFBa1AsR0FBQUQsRUFBQSxJQUFBRyxFQUFBSCxFQUFBLElBQUE3UCxFQUFBNlAsRUFBQSxJQUFBbE4sRUFBQSxrQkFBQTNHLEVBQUE2WixTQUFBOVcsVUFBQWdTLEVBQUFqUyxPQUFBQyxVQUFBMEMsRUFBQXpGLEVBQUErWixTQUFBL0UsRUFBQUQsRUFBQS9SLGVBQUE0QixFQUFBYSxFQUFBekQsS0FBQWMsT0FBeUk2USxHQUFBaE0sUUFBQWlNLEdBQVksU0FBQUQsRUFBQUUsR0FBZUYsRUFBQWhNLFFBQUF2RyxRUGltQ3J6VixTQUFTK0UsRUFBUXdCLEVBQVM1SCxHUWptQ2hDLFlBVUEsU0FBQWtJLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUk3RSxRQUFBK1IsR0FBQUMsRUFBQUMsR0FFQSxHQUFBQSxFQUFBNVgsUUFBQSxvQkFDQSxHQUFBNlgsRUFBQUQsR0FDQSxNQUdBQyxHQUFBRCxJQUFBLEVBR0FBLEVBQUEsa0JBQUFBLENBRUEsUUFBQUUsR0FBQWhNLFVBQUFwSyxPQUFBa0ssRUFBQUMsTUFBQWlNLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQW9GQSxFQUFBRCxFQUFhQyxJQUNqR25NLEVBQUFtTSxFQUFBLEdBQUFqTSxVQUFBaU0sRUFHQUMsR0FBQW5TLFFBQUExRCxNQUFBb00sUUFBQW9KLEVBQUFDLEdBQUExTSxPQUFBVSxJQUdBLFFBQUFxTSxLQUNBSixLQWhDQXpTLEVBQUFRLFlBQUEsRUFDQVIsRUFBQVMsUUFBQTZSLEVBQ0F0UyxFQUFBNlMsY0FFQSxJQUFBQyxHQUFBMWEsRUFBQSxLQUVBd2EsRUFBQXRTLEVBQUF3UyxHQUlBTCxNUjhuQ00sU0FBU2pVLEVBQVF3QixFQUFTNUgsSVMxb0NoQyxTQUFBa08sR0FTQSxZQWFBLElBQUF5TSxHQUFBLFNBQUFDLEVBQUFDLEVBQUFqVSxFQUFBQyxFQUFBbkIsRUFBQWtRLEVBQUF2VSxFQUFBNFQsR0FDQSxrQkFBQS9HLEVBQUFNLElBQUFzTSxVQUNBL0osU0FBQThKLEVBQ0EsU0FBQXRhLE9BQUEsK0NBSUEsS0FBQXFhLEVBQUEsQ0FDQSxHQUFBbFQsRUFDQSxJQUFBcUosU0FBQThKLEVBQ0FuVCxFQUFBLEdBQUFuSCxPQUNBLHFJQUdLLENBQ0wsR0FBQTZOLElBQUF4SCxFQUFBQyxFQUFBbkIsRUFBQWtRLEVBQUF2VSxFQUFBNFQsR0FDQThGLEVBQUEsQ0FDQXJULEdBQUEsR0FBQW5ILE9BQ0FzYSxFQUFBbEIsUUFBQSxpQkFBMEMsTUFBQXZMLEdBQUEyTSxRQUUxQ3JULEVBQUE1RSxLQUFBLHNCQUlBLEtBREE0RSxHQUFBa1MsWUFBQSxFQUNBbFMsR0FJQXRCLEdBQUF3QixRQUFBK1MsSVQ4b0M4QjFZLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixHQUV0QixZQUVBN0UsUUFBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdVdHNDSXdYLHFCQUFxQixvQkFDdEJDLG9CQUFxQixvQkFDckJDLGdCQUFpQixnQkFFakJDLDRCQUE2Qiw0QkFDN0JDLDhCQUErQiw4QkFDL0JDLHdCQUF5Qix3QkFDekJDLHNCQUF1QixzQkFDdkJDLHNCQUF1QixzQkFDdkJDLHFCQUFzQixxQkFDdEJDLHlCQUF5Qix5QkFDekJDLGdDQUFnQyxnQ0FDaENDLGVBQWUsZUFDZkMsaUJBQWlCLGlCQUdqQkMscUJBQXNCLHFCQUN0QkMscUJBQXNCLHFCQUN0QkMsNEJBQTZCLDRCQUM3QkMsc0JBQXVCLHNCQUN2QkMsc0JBQXVCLHNCQUN2QkMsb0JBQW9CLG9CQUdwQkMseUJBQXlCLHlCQUN6QkMseUJBQXlCLHlCQUN6QkMscUJBQXFCLHFCQUNyQkMscUJBQXFCLHFCQUNyQkMsaUJBQWlCLGlCQUNqQkMsMEJBQTBCLDBCQUMxQkMsdUJBQXVCLHVCQUN2QkMseUJBQXlCLHlCQUt6QkMsb0JBQW9CLG9CQUNwQkMsMEJBQTBCLDBCQUcxQkMsbUJBQW1CLG1CQUNuQkMscUJBQXFCLHFCQUNyQkMsbUJBQW1CLG1CQUVuQkMsZ0JBQWdCLGdCQUNoQkMsa0JBQWtCLGtCQUNsQkMsa0JBQWtCLGtCQUNsQkMsb0JBQW9CLG9CQUdwQkMsbUJBQW1CLG1CQUNuQkMsaUJBQWlCLGlCQUNqQkMsbUJBQW1CLG1CQUNuQkMscUJBQXFCLHNCVjhzQzVCLFNBQVNuWCxFQUFRd0IsRUFBUzVILElXdHdDaEMsU0FBQWtPLEdBU0EsWUFTQSxJQUFBc1AsR0FBQSxZQUVBLGdCQUFBdFAsRUFBQU0sSUFBQXNNLFdBQ0EwQyxFQUFBLFNBQUE1QyxFQUFBQyxFQUFBek0sR0FDQSxHQUFBUCxHQUFBUyxVQUFBcEssTUFDQWtLLEdBQUEsR0FBQUMsT0FBQVIsRUFBQSxFQUFBQSxFQUFBLElBQ0EsUUFBQTRQLEdBQUEsRUFBcUJBLEVBQUE1UCxFQUFXNFAsSUFDaENyUCxFQUFBcVAsRUFBQSxHQUFBblAsVUFBQW1QLEVBRUEsSUFBQTFNLFNBQUE4SixFQUNBLFNBQUF0YSxPQUNBLDRFQUtBLElBQUFzYSxFQUFBM1csT0FBQSxlQUFBd1osS0FBQTdDLEdBQ0EsU0FBQXRhLE9BQ0Esb0hBQ0FzYSxFQUlBLEtBQUFELEVBQUEsQ0FDQSxHQUFBRyxHQUFBLEVBQ0FYLEVBQUEsWUFDQVMsRUFBQWxCLFFBQUEsaUJBQ0EsTUFBQXZMLEdBQUEyTSxNQUVBLG9CQUFBblksVUFDQUEsUUFBQThFLE1BQUEwUyxFQUVBLEtBR0EsU0FBQTdaLE9BQUE2WixHQUNPLE1BQUFwUyxRQUtQNUIsRUFBQXdCLFFBQUE0VixJWDB3QzhCdmIsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxHQUUvQixZQXdCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR1lqMUNqRixRQUFTd1YsS0FDZCxNQUFPLFVBQUNySixHQUNOc0osRUFBQXZWLFFBQVFzVixZQUFZLFNBQUMxWSxHQUNuQnFQLEdBQ0V6VSx5QkFDQW9GLFlBTUQsUUFBUzRZLEdBQWlCeFksR0FDL0IsTUFBTyxVQUFDaVAsR0FDTnNKLEVBQUF2VixRQUFRd1YsaUJBQWlCeFksRUFBSSxTQUFDSixHQUM1QnFQLEdBQ0V6VSwrQkFDQW9GLFlBTUQsUUFBUzZZLEdBQWFDLEVBQVNDLEVBQUtDLEVBQVdDLEVBQWVDLEdBQ25FLE1BQU8sVUFBQzdKLEdBQ05zSixFQUFBdlYsUUFBUXlWLGFBQWFDLEVBQVNDLEVBQUtDLEVBQVlDLEVBQWNDLEVBQWMsU0FBQ2xaLEdBQzFFcVAsR0FDRXpVLHlCQUNBb0YsWUFLRCxRQUFTbVosR0FBWXJTLEVBQU1zUyxHQUNoQyxNQUFPLFVBQUMvSixHQUNOQSxHQUNFelUsMEJBRUYrZCxFQUFBdlYsUUFBUStWLFlBQVlyUyxFQUFNc1MsRUFBSyxTQUFDcFosR0FDOUJxUCxHQUNFelUsd0JBQ0FvRixPQUNBOEcsT0FDQXNTLFdBTUQsUUFBU0MsR0FBVXZTLEVBQU1zUyxHQUM5QixNQUFPLFVBQUMvSixHQUNHLEdBQU52SSxHQUNEdUksR0FDRXpVLHVCQUdKeVUsR0FDRXpVLHlCQUVGK2QsRUFBQXZWLFFBQVFpVyxVQUFVdlMsRUFBTXNTLEVBQUssU0FBQ3BaLEdBQzVCcVAsR0FDRXpVLHVCQUNBb0YsT0FDQThHLE9BQ0FzUyxXQU1ELFFBQVNFLEdBQVd4UyxFQUFNc1MsR0FDL0IsTUFBTyxVQUFDL0osR0FDRyxHQUFOdkksR0FDRHVJLEdBQ0V6VSx3QkFHSnlVLEdBQ0V6VSwwQkFFRitkLEVBQUF2VixRQUFRa1csV0FBV3hTLEVBQU1zUyxFQUFLLFNBQUNwWixHQUM3QnFQLEdBQ0V6VSx3QkFDQW9GLE9BQ0E4RyxPQUNBc1MsV0FLRCxRQUFTRyxLQUNkLE1BQU8sVUFBQWxLLEdBQ0xBLEdBQ0V6VSx5QkFLQyxRQUFTNGUsR0FBcUJDLEVBQVFDLEdBQzNDLE1BQU8sVUFBQ3JLLEdBQ05zSixFQUFBdlYsUUFBUW9XLHFCQUFxQkMsRUFBUUMsRUFBTyxTQUFDMVosR0FDM0MyWixFQUFBdlcsUUFBUXdXLFFBQVEsUUFBUyxJQUFLLFdBQU1sVCxPQUFPRixTQUFTcVQsV0FDcER4SyxHQUNFelUseUJBQ0FvRixZWm90Q1BsQyxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sSUFFVG9FLEVZOXpDZStWLGNaK3pDZi9WLEVZcHpDZWlXLG1CWnF6Q2ZqVyxFWTF5Q2VrVyxlWjJ5Q2ZsVyxFWWp5Q2V3VyxjWmt5Q2Z4VyxFWWx4Q2UwVyxZWm14Q2YxVyxFWTl2Q2UyVyxhWit2Q2YzVyxFWTN1Q2U0VyxlWjR1Q2Y1VyxFWXB1Q2U2VyxzQkFuSGhCLElBQUFNLEdBQUEvZSxFQUFBLElaMjFDSzRkLEVBQVkxVixFQUF1QjZXLEdZMTFDeENDLEVBQUFoZixFQUFBLEdBZUFpZixFQUFBamYsRUFBQSxJWmkxQ0s0ZSxFQUFZMVcsRUFBdUIrVyxJQXFIbEMsU0FBUzdZLEVBQVF3QixFQUFTNUgsR2F0OUNoQyxZQWVBLFNBQUFrSSxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQStXLEdBQUFDLEdBQ0EsYUFBQUEsR0FBQTVXLEVBQUFGLFFBQUErVyxlQUFBRCxHQUdBLFFBQUFFLEdBQUFGLEdBQ0EsTUFBQUQsR0FBQUMsSUFBQTlRLE1BQUFpUixRQUFBSCxNQUFBSSxNQUFBTCxHQUdBLFFBQUFNLEdBQUFwRyxFQUFBL0QsR0FDQSxNQUFBb0ssTUFBb0JyRyxFQUFBL0QsR0FHcEIsUUFBQXFLLEdBQUFsSyxHQUNBLEdBQUEzVixHQUFBMlYsRUFBQTNWLEtBQ0E4ZixFQUFBSCxFQUFBM2YsRUFBQXVaLGFBQUE1RCxFQUFBSCxNQUVBLElBQUFzSyxFQUFBamQsU0FBQSxDQUNBLEdBQUFrZCxHQUFBQyxFQUFBRixFQUFBamQsU0FBQWlkLEVBRUFDLEdBQUExYixTQUFBeWIsRUFBQUMscUJBRUFELEdBQUFqZCxTQUdBLE1BQUFpZCxHQW9CQSxRQUFBRSxHQUFBbmQsRUFBQW9kLEdBQ0EsR0FBQUMsS0FlQSxPQWJBeFgsR0FBQUYsUUFBQThNLFNBQUE2SyxRQUFBdGQsRUFBQSxTQUFBOFMsR0FDQSxHQUFBak4sRUFBQUYsUUFBQStXLGVBQUE1SixHQUVBLEdBQUFBLEVBQUEzVixLQUFBNmYsNEJBQUEsQ0FDQSxHQUFBQyxHQUFBbkssRUFBQTNWLEtBQUE2Ziw0QkFBQWxLLEVBQUFzSyxFQUVBSCxJQUFBSSxFQUFBdGQsS0FBQWtkLE9BRUFJLEdBQUF0ZCxLQUFBaWQsRUFBQWxLLE1BS0F1SyxFQU9BLFFBQUExUCxHQUFBMFAsR0FPQSxNQU5BVixHQUFBVSxHQUNBQSxFQUFBRixFQUFBRSxHQUNHQSxJQUFBMVIsTUFBQWlSLFFBQUFTLEtBQ0hBLE9BR0FBLEVBekZBblksRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLEdBRS9PclksR0FBQXlYLGtCQUNBelgsRUFBQThYLDhCQUNBOVgsRUFBQWlZLGdDQUNBalksRUFBQXlJLGNBRUEsSUFBQS9ILEdBQUF0SSxFQUFBLEdBRUF1SSxFQUFBTCxFQUFBSSxJYjJpRE0sU0FBU2xDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUE0QkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQWhDamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUMzQnBFLE9BQU8sR0FHWCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTWNoa0RqaUIvWCxFQUFBdEksRUFBQSxHZG9rREt1SSxFQUFVTCxFQUF1QkksR2Nua0R0Q3lZLEVBQUEvZ0IsRUFBQSxJZHVrREtnaEIsRUFBVTlZLEVBQXVCNlksR2N0a0R0Q0UsRUFBQWpoQixFQUFBLElkMGtES2toQixFQUFVaFosRUFBdUIrWSxHY3prRHRDRSxFQUFBbmhCLEVBQUEsSWQ2a0RLb2hCLEVBQVlsWixFQUF1QmlaLEdjNWtEeEMzWSxFQUFBeEksRUFBQSxJZGdsREt5SSxFQUFhUCxFQUF1Qk0sR2Mva0RuQzZZLEVkeWxEUSxTQUFVQyxHY3hsRHBCLFFBQUFELEtBQWFsQixFQUFBcFksS0FBQXNaLEVBQUEsSUFBQUUsR0FBQWpCLEVBQUF2WSxNQUFBc1osRUFBQXRNLFdBQUFoUyxPQUFBZ1gsZUFBQXNILElBQUFwZixLQUFBOEYsTUFBQSxPQUVUd1osR0FBS0MsVUFBWUQsRUFBS0MsVUFBVXZKLEtBQWZzSixHQUNqQkEsRUFBSy9LLE9BQ0RpTCxXQUFZLEVBQ1pDLFVBRVE3aEIsS0FBSyxVQUNMOGhCLE1BQU0sS0FDTkMsUUFBUUwsRUFBS0MsYUFUaEJELEVkNm5EWixNQXBDQWhCLEdBQVVjLEVBQVFDLEdBbUJsQlosRUFBYVcsSUFDVDVELElBQUssWUFDTGphLE1BQU8sV2MvbERSdUUsS0FBSzBRLFVBQVVnSixXQUFVLElBQ08sa0JBQXRCMVosTUFBS3NOLE1BQU13TSxTQUF1QjlaLEtBQUtzTixNQUFNd00sYWRtbUR0RHBFLElBQUssU0FDTGphLE1BQU8sV2NqbURSLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQXNoQixFQUFBN1ksU0FBT3laLEtBQU0vWixLQUFLeU8sTUFBTWlMLFVBQVd4VixNQUFNLEtBQUt5VixRQUFTM1osS0FBS3lPLE1BQU1rTCxTQUFVM1osS0FBS3NOLE1BQU0wTSxhZHltRHZGVixHYzluRFM5WSxFQUFBRixRQUFNaU4sV0F5QnJCME0sRWR3bURRLFNBQVVDLEdjdm1EcEIsUUFBQUQsS0FBYTdCLEVBQUFwWSxLQUFBaWEsRUFBQSxJQUFBRSxHQUFBNUIsRUFBQXZZLE1BQUFpYSxFQUFBak4sV0FBQWhTLE9BQUFnWCxlQUFBaUksSUFBQS9mLEtBQUE4RixNQUFBLE9BRVRtYSxHQUFLMUwsT0FDRHNMLE1BQU8sR0FIRkksRWR3b0RaLE1BaENBM0IsR0FBVXlCLEVBQVFDLEdBYWxCdkIsRUFBYXNCLElBQ1R2RSxJQUFLLG9CQUNMamEsTUFBTyxXY2puRE8sR0FBQTJlLEdBQUFwYSxJQUNmbkYsU0FBUThJLElBQUkzRCxLQUFLc04sT0FDakJuSSxXQUFXLFdBQ1BpVixFQUFLMUosVUFBVXFKLE1BQUssSUFDcEJsZixRQUFROEksSUFBSXlXLEVBQUs5TSxPQUNlLGtCQUF0QjhNLEdBQUs5TSxNQUFNd00sU0FBdUJNLEVBQUs5TSxNQUFNd00sV0FDbkMsSUFBdEI5WixLQUFLc04sTUFBTStNLGFkc25EWjNFLElBQUssU0FDTGphLE1BQU8sV2NwbkRSLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBT3laLEtBQVEvWixLQUFLeU8sTUFBTXNMLEtBQU1wZixTQUFZcUYsS0FBS3NOLE1BQU0wTSxjZHduRHZEQyxHY3pvRFN6WixFQUFBRixRQUFNaU4sV0FzQnJCK00sRWRzbkRjLFNBQVVDLEdjcm5EMUIsUUFBQUQsR0FBWWhOLEdBQU04SyxFQUFBcFksS0FBQXNhLEVBQUEsSUFBQUUsR0FBQWpDLEVBQUF2WSxNQUFBc2EsRUFBQXROLFdBQUFoUyxPQUFBZ1gsZUFBQXNJLElBQUFwZ0IsS0FBQThGLEtBQ1JzTixHQURRLE9BRWRrTixHQUFLL0wsT0FDRGdNLGFBQVksR0FIRkQsRWRzcURqQixNQWhEQWhDLEdBQVU4QixFQUFjQyxHQWF4QjVCLEVBQWEyQixJQUNUNUUsSUFBSyxVQUNMamEsTUFBTyxXYzluRFJ1RSxLQUFLMFEsVUFBVStKLGFBQVksSUFDTyxrQkFBeEJ6YSxNQUFLc04sTUFBTW9OLFdBQ2pCMWEsS0FBS3NOLE1BQU1vTixlZGlvRGRoRixJQUFLLFNBQ0xqYSxNQUFPLFdjL25EUnVFLEtBQUswUSxVQUFVK0osYUFBWSxJQUNNLGtCQUF2QnphLE1BQUtzTixNQUFNcU4sVUFDakIzYSxLQUFLc04sTUFBTXFOLGNka29EZGpGLElBQUssU0FDTGphLE1BQU8sV2Nob0RSLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQXdoQixFQUFBL1ksU0FDQXFaLFVBRU03aEIsS0FBSyxVQUNMOGhCLE1BQU81WixLQUFLc04sTUFBTXNOLFlBQ2xCZixRQUFRN1osS0FBSzZhLFFBQVEzSyxLQUFLbFEsUUFHMUJsSSxLQUFLLFVBQ0w4aEIsTUFBTzVaLEtBQUtzTixNQUFNd04sV0FDbEJqQixRQUFRN1osS0FBSythLE9BQU83SyxLQUFLbFEsUUFHL0JrRSxNQUFNLEtBQ042VixLQUFNL1osS0FBS3lPLE1BQU1nTSxhQUVoQnphLEtBQUtzTixNQUFNME0sYWRvb0RaTSxHQUNUL1osRUFBT2dOLFdjNW5ETjhFLElBQ0pBLEdBQVF5RSxRQUFVLFNBQUNrRCxHQUFxQyxHQUE1QkssR0FBNEI5VCxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFoQixFQUFHdVQsRUFBYXZULFVBQUEsR0FDaER5VSxFQUFNdGpCLFNBQVNHLGNBQWMsTUFDakNtakIsR0FBSTFkLEdBQUssa0JBQ1Q1RixTQUFTdWpCLEtBQUs3aUIsWUFBWTRpQixHQUMxQnRhLEVBQUFKLFFBQVM2RCxPQUFPM0QsRUFBQUYsUUFBTXpJLGNBQWNvaUIsR0FBVUQsUUFBU0EsRUFBU0YsUUFBUUEsRUFBU08sU0FBVUEsSUFBWVcsSUFFM0czSSxFQUFRNkksTUFBTyxTQUFDbEIsRUFBU0YsR0FDckIsR0FBSWtCLEdBQU10akIsU0FBU0csY0FBYyxNQUNqQ21qQixHQUFJMWQsR0FBSyxnQkFDVDVGLFNBQVN1akIsS0FBSzdpQixZQUFZNGlCLEdBQzFCdGEsRUFBQUosUUFBUzZELE9BQU8zRCxFQUFBRixRQUFNekksY0FBY3loQixHQUFVVSxRQUFTQSxFQUFTRixRQUFRQSxJQUFXa0IsSUFFdkYzSSxFQUFRd0ksUUFBVSxTQUFDYjtBQUFtRSxHQUExRFksR0FBMERyVSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUE5QyxLQUFNdVUsRUFBd0N2VSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUE3QixLQUFLbVUsRUFBd0JuVSxVQUFBLEdBQWJvVSxFQUFhcFUsVUFBQSxHQUM5RXlVLEVBQU10akIsU0FBU0csY0FBYyxNQUNqQ21qQixHQUFJMWQsR0FBSyxrQkFDVDVGLFNBQVN1akIsS0FBSzdpQixZQUFZNGlCLEdBQzFCdGEsRUFBQUosUUFBUzZELE9BQ0wzRCxFQUFBRixRQUFBekksY0FBQ3lpQixHQUFhTixRQUFTQSxFQUFTVSxVQUFXQSxFQUFXQyxTQUFVQSxFQUFVQyxZQUFlQSxFQUFhRSxXQUFZQSxJQUNsSEUsSWR1b0RQbmIsRUFBUVMsUWNub0RNK1IsR2R1b0RULFNBQVNoVSxFQUFRd0IsRUFBUzVILEllOXZEaEMsU0FBQWtPLEdBQUEsWUFNQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBTTdFLFFBQUErYSxHQUFBQyxHQUNBLEdBQUFwVCxHQUFBb1QsRUFBQXBULE1BQUEscUJBRUEsY0FBQUEsRUFBQW9ULEVBRUFBLEVBQUFDLFVBQUFyVCxFQUFBLEdBQUE3TCxRQUdBLFFBQUFtZixHQUFBOVcsR0FDQSxHQUFBVixHQUFBcVgsRUFBQTNXLEdBQ0ErVyxFQUFBLEdBQ0FDLEVBQUEsRUFFQSxnQkFBQXJWLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLFFBQUFqTyxJQUFBVixFQUFBLG9GQUFBVSxHQUFBd0UsTUFFQSxJQUFBeVMsR0FBQTNYLEVBQUFySixRQUFBLElBQ0FnaEIsTUFBQSxJQUNBRCxFQUFBMVgsRUFBQXVYLFVBQUFJLEdBQ0EzWCxJQUFBdVgsVUFBQSxFQUFBSSxHQUdBLElBQUFDLEdBQUE1WCxFQUFBckosUUFBQSxJQVFBLE9BUEFpaEIsTUFBQSxJQUNBSCxFQUFBelgsRUFBQXVYLFVBQUFLLEdBQ0E1WCxJQUFBdVgsVUFBQSxFQUFBSyxJQUdBLEtBQUE1WCxNQUFBLE1BR0FBLFdBQ0F5WCxTQUNBQyxRQTFDQTNiLEVBQUFRLFlBQUEsRUFDQVIsRUFBQXNiLGNBQ0F0YixFQUFBeWIsV0FJQSxJQUFBM0ksR0FBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsS2ZxeUQ4QnpZLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsR2dCbnpEaEMsWUFlQSxTQUFBMGpCLEdBQUFyTyxFQUFBc08sRUFBQUMsR0FDQSxHQUFBdk8sRUFBQXNPLEdBQUEsVUFBQXBqQixPQUFBLElBQUFxakIsRUFBQSx3QkFBQUQsRUFBQSxVQWRBL2IsRUFBQVEsWUFBQSxFQUNBUixFQUFBbVksT0FBQW5ZLEVBQUErWCxNQUFBL1gsRUFBQWljLFdBQUFqYyxFQUFBNEUsVUFBQTVFLEVBQUF5RSxRQUFBMEUsT0FDQW5KLEVBQUE4YixPQUVBLElBQUFwYixHQUFBdEksRUFBQSxHQUVBb1UsRUFBQTlMLEVBQUE0SCxVQUFBa0UsS0FDQStLLEVBQUE3VyxFQUFBNEgsVUFBQWlQLE9BQ0EyRSxFQUFBeGIsRUFBQTRILFVBQUE0VCxRQUNBQyxFQUFBemIsRUFBQTRILFVBQUE2VCxVQUNBdk8sRUFBQWxOLEVBQUE0SCxVQUFBc0YsUUFDQXRCLEVBQUE1TCxFQUFBNEgsVUFBQWdFLE1BQ0FpUCxFQUFBN2EsRUFBQTRILFVBQUFpVCxPQWNBM1csR0FUQTVFLEVBQUF5RSxRQUFBNkgsR0FDQTFJLE9BQUE0SSxFQUFBQyxXQUNBNVIsS0FBQTJSLEVBQUFDLFdBQ0FzRixRQUFBdkYsRUFBQUMsV0FDQTJQLEdBQUE1UCxFQUFBQyxXQUNBNFAsT0FBQTdQLEVBQUFDLFdBQ0E2UCxVQUFBOVAsRUFBQUMsYUFHQXpNLEVBQUE0RSxVQUFBdVgsR0FBQTNQLEVBQUErTyxLQUVBeEQsR0FEQS9YLEVBQUFpYyxXQUFBRSxHQUFBdlgsRUFBQTJTLElBQ0F2WCxFQUFBK1gsTUFBQW9FLEdBQUE1RSxFQUFBM0osSUFDQTVOLEdBQUFtWSxPQUFBZ0UsR0FBQXBFLEVBQUFtRSxFQUFBbkUsTWhCeXpETSxTQUFTdlosRUFBUXdCLEVBQVM1SCxHQUUvQixZQWNBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0FsQmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE1pQjcxRGppQi9YLEVBQUF0SSxFQUFBLEdqQmkyREt1SSxFQUFVTCxFQUF1QkksRWlCaDJEdEN0SSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsb0VBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS2pCKzJEQyxJaUI3MkRLOGlCLEdqQjYyRFMsU0FBVTdCLEdBR3RCLFFBQVM2QixLQUdQLE1BRkFoRSxHQUFnQnBZLEtBQU1vYyxHQUVmN0QsRUFBMkJ2WSxNQUFPb2MsRUFBUXBQLFdBQWFoUyxPQUFPZ1gsZUFBZW9LLElBQVV4ZixNQUFNb0QsS0FBTXVHLFlBZ0I1RyxNQXJCQWlTLEdBQVU0RCxFQUFTN0IsR0FRbkI1QixFQUFheUQsSUFDWDFHLElBQUssU0FDTGphLE1BQU8sV2lCdjNERixHQUNFNGdCLEdBQWNyYyxLQUFLc04sTUFBbkIrTyxTQUNSLE9BQ0U3YixHQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsV0FBYUQsRUFBWSxRQUFVLGNqQiszRDlDRCxHQUNQN2IsRUFBT2dOLFVBRVQxTixHQUFRUyxRaUI3M0RNOGIsR2pCaTREVCxTQUFTL2QsRUFBUXdCLEdBRXRCLFlBRUE3RSxRQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sSUFLVG9FLEVBQVFTLFNrQnQ1RFBpYyxlQURhLFNBQ0VDLEVBQUtqZCxHQUNsQixPQUFPaWQsRUFBS0MsU0FDVixJQUFLLEdBQ0gsTUFBT2xkLEdBQUdpZCxFQUFLdGYsS0FFakIsS0FBSyxLQUNILEdBQUl3ZixHQUFjaFosU0FBU08sSUFDM0JQLFVBQVNPLEtBQVF1WSxFQUFLdGYsS0FBS3lmLFVBQTNCLGlCQUFxREQsQ0FDckQsTUFDRixTQUNFN2hCLFFBQVE4RSxNQUFNNmMsRUFBS0ksU2xCODVEckIsU0FBU3ZlLEVBQVF3QixFQUFTNUgsR0FFL0IsWUEwQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVN5YyxHQUF5QnpjLEVBQUsrUSxHQUFRLEdBQUkrRyxLQUFhLEtBQUssR0FBSWhjLEtBQUtrRSxHQUFXK1EsRUFBSzFXLFFBQVF5QixJQUFNLEdBQWtCbEIsT0FBT0MsVUFBVUMsZUFBZWhCLEtBQUtrRyxFQUFLbEUsS0FBY2djLEVBQU9oYyxHQUFLa0UsRUFBSWxFLEdBQU0sT0FBT2djLEdBRW5OLFFBQVNFLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBaENqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlpYyxHQUFXMWMsT0FBT2tXLFFBQVUsU0FBVWdILEdBQVUsSUFBSyxHQUFJaGMsR0FBSSxFQUFHQSxFQUFJcUssVUFBVXBLLE9BQVFELElBQUssQ0FBRSxHQUFJaWMsR0FBUzVSLFVBQVVySyxFQUFJLEtBQUssR0FBSXdaLEtBQU95QyxHQUFjbmQsT0FBT0MsVUFBVUMsZUFBZWhCLEtBQUtpZSxFQUFRekMsS0FBUXdDLEVBQU94QyxHQUFPeUMsRUFBT3pDLElBQVksTUFBT3dDLElBRW5QUyxFQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNbUJoN0RqaUIvWCxFQUFBdEksRUFBQSxHbkJvN0RLdUksRUFBVUwsRUFBdUJJLEdtQm43RHRDdWMsRUFBQTdrQixFQUFBLEluQnU3REs4a0IsRUFBZTVjLEVBQXVCMmMsR21CdDdEM0NFLEVBQUEva0IsRUFBQSxJbkIwN0RLZ2xCLEVBQVM5YyxFQUF1QjZjLEVtQno3RHJDL2tCLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSw2Q0FBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxNQUNBckIsR0FBQSxjQUFBcUIsR0FBQSxHQUFBZCxPQUFBLGdEQUFBYyxHQUFBdUgsS0FBQSxtQkFBQXZILEtuQjA4REMsSW1CeDhESzRqQixHbkJ3OERPLFNBQVUzRCxHQUdsQixRQUFTMkQsS0FHTCxNQUZBOUUsR0FBZ0JwWSxLQUFNa2QsR0FFZjNFLEVBQTJCdlksTUFBT2tkLEVBQU1sUSxXQUFhaFMsT0FBT2dYLGVBQWVrTCxJQUFRdGdCLE1BQU1vRCxLQUFNdUcsWUErRDFHLE1BcEVBaVMsR0FBVTBFLEVBQU8zRCxHQVFqQlosRUFBYXVFLElBQ1R4SCxJQUFLLGlCQUNMamEsTUFBTyxXbUJoOURSLE1BQU91RSxNQUFLc04sTUFBTXFNLFFBQVF3RCxJQUFJLFNBQUNDLEVBQVE1Z0IsR0FBUSxHQUNwQzFFLEdBQTBCc2xCLEVBQTFCdGxCLEtBQU04aEIsRUFBb0J3RCxFQUFwQnhELE1BQVV5RCxFQURvQlIsRUFDVk8sR0FEVSxpQkFFckNkLEdBQVksRUFBQVMsRUFBQXpjLFVBQ2RnZCxpQkFBaUIsRUFDakJoZCxRQUFrQixZQUFUeEksRUFDVHlsQixRQUFrQixZQUFUemxCLEdBR2IsT0FDSTBJLEdBQUFGLFFBQUF6SSxjQUFBLElBQUE2ZixHQUFHaEMsSUFBS2xaLEVBQUt5SCxLQUFLLGdCQUFtQm9aLEdBQVFmLFVBQVdBLElBQVkxQyxRbkIyOUQzRWxFLElBQUssU0FDTGphLE1BQU8sV21CdjlESCxHQUFBK2hCLEdBQzJCeGQsS0FBS3NOLE1BQTlCcEosRUFERnNaLEVBQ0V0WixNQUFPNlYsRUFEVHlELEVBQ1N6RCxLQUFNcGYsRUFEZjZpQixFQUNlN2lCLFFBQ3BCLE9BQ0k2RixHQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsb0JBQW9CbUIsT0FBUUMsUUFBUzNELEVBQU8sUUFBVSxTQUNqRXZaLEVBQUFGLFFBQUF6SSxjQUFBb2xCLEVBQUEzYyxRQUFBLE1BQ0FFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxlQUNYOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGtCQUNYOWIsRUFBQUYsUUFBQXpJLGNBQUEsVUFBUXlrQixVQUFVLHFCQUFxQnBZLElBRTNDMUQsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGtCQUNWM2hCLEdBRUw2RixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsa0JBQ1Z0YyxLQUFLMmQsd0JuQisrRGxCVCxHbUI3Z0VRMWMsRUFBQUYsUUFBTWlOLFVBc0MxQjJQLEdBQU0xUCxXQUNKbU0sUUFBU25aLEVBQUFGLFFBQU02SCxVQUFVbEMsTUFDekI4VCxLQUFNdlosRUFBQUYsUUFBTTZILFVBQVV5VixLQUN0QjFaLE1BQU8xRCxFQUFBRixRQUFNNkgsVUFBVWlULFFBR3pCOEIsRUFBTTdMLGNBQ0pzSSxXQUNBSSxNQUFNLEVBQ043VixNQUFPLEluQjYrRFJyRSxFQUFRUyxRbUIxK0RNNGMsR25COCtEVCxTQUFTN2UsRUFBUXdCLEVBQVM1SCxHQUUvQixZQThCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBbENqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNb0I5aUVqaUIvWCxFQUFBdEksRUFBQSxHcEJrakVLdUksRUFBVUwsRUFBdUJJLEdvQmpqRXRDdWMsRUFBQTdrQixFQUFBLElBQ0Era0IsR3BCb2pFb0I3YyxFQUF1QjJjLEdvQnBqRTNDN2tCLEVBQUEsS3BCd2pFS2dsQixFQUFTOWMsRUFBdUI2YyxHb0J2akVyQ2EsRUFBQTVsQixFQUFBLEtwQjJqRUs2bEIsRUFBUzNkLEVBQXVCMGQsRW9CMWpFckM1bEIsSUFBQSxjQUFBcUIsR0FBQSxHQUFBZCxPQUFBLDZDQUFBYyxHQUFBdUgsS0FBQSxtQkFBQXZILE1BQ0FyQixHQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsOENBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsTUFDQXJCLEdBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxrREFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLcEIwa0VDLElvQnhrRUt5a0IsR3BCd2tFTyxTQUFVeEQsR0FHbEIsUUFBU3dELEtBR0wsTUFGQTNGLEdBQWdCcFksS0FBTStkLEdBRWZ4RixFQUEyQnZZLE1BQU8rZCxFQUFNL1EsV0FBYWhTLE9BQU9nWCxlQUFlK0wsSUFBUW5oQixNQUFNb0QsS0FBTXVHLFlBK0IxRyxNQXBDQWlTLEdBQVV1RixFQUFPeEQsR0FRakI1QixFQUFhb0YsSUFDVHJJLElBQUssU0FDTGphLE1BQU8sV29CbGxFSCxHQUFBK2hCLEdBQ29DeGQsS0FBS3NOLE1BQXZDMFEsRUFERlIsRUFDRVEsS0FBTWpFLEVBRFJ5RCxFQUNRekQsS0FBTXBmLEVBRGQ2aUIsRUFDYzdpQixTQUFVc2pCLEVBRHhCVCxFQUN3QlMsUUFFN0IsT0FDSXpkLEdBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBb0IsWUFBVDBCLEVBQXFCLHFCQUF1QixHQUFJUCxPQUFRQyxRQUFTM0QsRUFBTyxRQUFVLFNBQzlGdlosRUFBQUYsUUFBQXpJLGNBQUFvbEIsRUFBQTNjLFNBQU00ZCxhQUFhLElBQ25CMWQsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ1g5YixFQUFBRixRQUFBekksY0FBQWltQixFQUFBeGQsU0FBTTdFLE1BQU91aUIsRUFBTUcsS0FBTUYsSUFDekJ6ZCxFQUFBRixRQUFBekksY0FBQSxLQUFHeWtCLFVBQVUsc0JBQXNCM2hCLFNwQm9tRTNDb2pCLEdBQ1R4ZCxFQUFPZ04sVW9CL2xFVndRLEdBQU12USxXQUNGd1EsS0FBTXhkLEVBQUFGLFFBQU02SCxVQUFVaVQsT0FDdEI2QyxTQUFVemQsRUFBQUYsUUFBTTZILFVBQVVpVCxPQUMxQnJCLEtBQU12WixFQUFBRixRQUFNNkgsVUFBVXlWLE1BRzFCRyxFQUFNMU0sY0FDRjJNLEtBQU0sUUFDTmpFLE1BQU0sR3BCb21FVGxhLEVBQVFTLFFvQmptRU15ZCxHcEJxbUVULFNBQVMxZixFQUFRd0IsR3FCMW9FdkIsWUFFQUEsR0FBQVEsWUFBQSxDQUNBLElBQUErZCxHQUFBLE1BRUF2ZSxHQUFBdWUsTUFJQSxJQUFBQyxHQUFBLFNBRUF4ZSxHQUFBd2UsU0FTQSxJQUFBQyxHQUFBLEtBRUF6ZSxHQUFBeWUsTUFDQXplLEVBQUEsU0FDQXVlLE9BQ0FDLFVBQ0FDLFFyQm9wRU0sU0FBU2pnQixFQUFRd0IsRUFBUzVILElzQmpyRWhDLFNBQUFrTyxHQUFBLFlBYUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBbWUsR0FBQW5ELEdBQ0EsTUFBQUEsR0FBQXhKLFFBQUEsc0JBQWtDLFFBR2xDLFFBQUE0TSxHQUFBQyxHQVFBLElBUEEsR0FBQUMsR0FBQSxHQUNBQyxLQUNBQyxLQUVBNVcsRUFBQSxPQUNBNlcsRUFBQSxFQUNBQyxFQUFBLDZDQUNBOVcsRUFBQThXLEVBQUFDLEtBQUFOLElBQ0F6VyxFQUFBZ1gsUUFBQUgsSUFDQUQsRUFBQWxrQixLQUFBK2pCLEVBQUFqZ0IsTUFBQXFnQixFQUFBN1csRUFBQWdYLFFBQ0FOLEdBQUFILEVBQUFFLEVBQUFqZ0IsTUFBQXFnQixFQUFBN1csRUFBQWdYLFNBR0FoWCxFQUFBLElBQ0EwVyxHQUFBLFVBQ0FDLEVBQUFqa0IsS0FBQXNOLEVBQUEsS0FDSyxPQUFBQSxFQUFBLElBQ0wwVyxHQUFBLE9BQ0FDLEVBQUFqa0IsS0FBQSxVQUNLLE1BQUFzTixFQUFBLElBQ0wwVyxHQUFBLFFBQ0FDLEVBQUFqa0IsS0FBQSxVQUNLLE1BQUFzTixFQUFBLEdBQ0wwVyxHQUFBLE1BQ0ssTUFBQTFXLEVBQUEsS0FDTDBXLEdBQUEsTUFHQUUsRUFBQWxrQixLQUFBc04sRUFBQSxJQUVBNlcsRUFBQUMsRUFBQUQsU0FRQSxPQUxBQSxLQUFBSixFQUFBdGlCLFNBQ0F5aUIsRUFBQWxrQixLQUFBK2pCLEVBQUFqZ0IsTUFBQXFnQixFQUFBSixFQUFBdGlCLFNBQ0F1aUIsR0FBQUgsRUFBQUUsRUFBQWpnQixNQUFBcWdCLEVBQUFKLEVBQUF0aUIsV0FJQXNpQixVQUNBQyxlQUNBQyxhQUNBQyxVQU1BLFFBQUFLLEdBQUFSLEdBR0EsTUFGQVMsR0FBQVQsS0FBQVMsRUFBQVQsR0FBQUQsRUFBQUMsSUFFQVMsRUFBQVQsR0F1QkEsUUFBQVUsR0FBQVYsRUFBQTNhLEdBRUEsTUFBQTJhLEVBQUFXLE9BQUEsS0FDQVgsRUFBQSxJQUFBQSxFQUdBLElBQUFZLEdBQUFKLEVBQUFSLEdBRUFDLEVBQUFXLEVBQUFYLGFBQ0FDLEVBQUFVLEVBQUFWLFdBQ0FDLEVBQUFTLEVBQUFULE1BR0EsT0FBQUgsRUFBQVcsT0FBQVgsRUFBQXRpQixPQUFBLEtBQ0F1aUIsR0FBQSxNQUlBLE1BQUFFLElBQUF6aUIsT0FBQSxLQUNBdWlCLEdBQUEsSUFHQSxJQUFBMVcsR0FBQWxFLEVBQUFrRSxNQUFBLEdBQUFzWCxRQUFBLElBQUFaLEVBQUEsS0FDQSxVQUFBMVcsRUFDQSxXQUdBLElBQUF1WCxHQUFBdlgsRUFBQSxHQUNBd1gsRUFBQTFiLEVBQUEyYixPQUFBRixFQUFBcGpCLE9BRUEsSUFBQXFqQixFQUFBLENBR0EsU0FBQUQsRUFBQUgsT0FBQUcsRUFBQXBqQixPQUFBLEdBQ0EsV0FLQXFqQixHQUFBLElBQUFBLEVBR0EsT0FDQUEsb0JBQ0FiLGFBQ0FlLFlBQUExWCxFQUFBeEosTUFBQSxHQUFBMmUsSUFBQSxTQUFBclAsR0FDQSxNQUFBQSxJQUFBNlIsbUJBQUE3UixNQUtBLFFBQUE4UixHQUFBbkIsR0FDQSxNQUFBUSxHQUFBUixHQUFBRSxXQUdBLFFBQUFrQixHQUFBcEIsRUFBQTNhLEdBQ0EsR0FBQWtFLEdBQUFtWCxFQUFBVixFQUFBM2EsRUFDQSxLQUFBa0UsRUFDQSxXQUdBLElBQUEyVyxHQUFBM1csRUFBQTJXLFdBQ0FlLEVBQUExWCxFQUFBMFgsWUFFQUksSUFNQSxPQUpBbkIsR0FBQTFHLFFBQUEsU0FBQThILEVBQUFmLEdBQ0FjLEVBQUFDLEdBQUFMLEVBQUFWLEtBR0FjLEVBT0EsUUFBQWhZLEdBQUEyVyxFQUFBcUIsR0FDQUEsT0FhQSxRQVhBRSxHQUFBZixFQUFBUixHQUVBRyxFQUFBb0IsRUFBQXBCLE9BRUFxQixFQUFBLEVBQ0FuYyxFQUFBLEdBQ0FvYyxFQUFBLEVBRUFDLEVBQUEsT0FDQUosRUFBQSxPQUNBSyxFQUFBLE9BQ0Fsa0IsRUFBQSxFQUFBNEosRUFBQThZLEVBQUF6aUIsT0FBc0NELEVBQUE0SixJQUFTNUosRUFDL0Npa0IsRUFBQXZCLEVBQUExaUIsR0FFQSxNQUFBaWtCLEdBQUEsT0FBQUEsR0FDQUMsRUFBQTlaLE1BQUFpUixRQUFBdUksRUFBQU8sT0FBQVAsRUFBQU8sTUFBQUgsS0FBQUosRUFBQU8sTUFFQSxNQUFBRCxHQUFBSCxFQUFBLHdCQUFBOVosRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXVOLEVBQUFoZ0IsVUFBQSxvQ0FBQTRmLEVBQUF6QixJQUFBLEVBQUE2QixFQUFBaGdCLFVBQUEsR0FFQSxNQUFBOGYsSUFBQXRjLEdBQUF5YyxVQUFBSCxLQUNLLE1BQUFELEVBQ0xGLEdBQUEsRUFDSyxNQUFBRSxFQUNMRixHQUFBLEVBQ0ssTUFBQUUsRUFBQWYsT0FBQSxJQUNMVyxFQUFBSSxFQUFBOUUsVUFBQSxHQUNBK0UsRUFBQU4sRUFBQUMsR0FFQSxNQUFBSyxHQUFBSCxFQUFBLHdCQUFBOVosRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXVOLEVBQUFoZ0IsVUFBQSx5Q0FBQXlmLEVBQUF0QixJQUFBLEVBQUE2QixFQUFBaGdCLFVBQUEsR0FFQSxNQUFBOGYsSUFBQXRjLEdBQUEwYyxtQkFBQUosS0FFQXRjLEdBQUFxYyxDQUlBLE9BQUFyYyxHQUFBOE4sUUFBQSxZQWhOQS9SLEVBQUFRLFlBQUEsRUFDQVIsRUFBQW9mLGlCQUNBcGYsRUFBQXNmLGVBQ0F0ZixFQUFBK2YsZ0JBQ0EvZixFQUFBZ2dCLFlBQ0FoZ0IsRUFBQWlJLGVBRUEsSUFBQTJZLEdBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQXVEQXZCLEVBQUFsa0IsT0FBQTRSLE9BQUEsUXRCcTBFOEIxUyxLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBb0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHdUI5NEVqRixRQUFTc2dCLEdBQW1CMWMsRUFBTXNTLEVBQUtpRixHQUMxQyxNQUFPLFVBQUFoUCxHQUNIQSxHQUNJelUsc0JBQ0E2b0IsVUFBV3BGLEdBQVUsS0FFekJoUCxHQUFVelUsaUNBQ1Y4b0IsRUFBQXRnQixRQUFTb2dCLG1CQUFtQjFjLEVBQU1zUyxFQUFLaUYsRUFBUSxTQUFBcmUsR0FDM0NxUCxHQUNJelUsaUNBQ0FvRixPQUNBOEcsT0FDQXNTLFdBS1QsUUFBU3VLLEdBQWdCdmpCLEdBQzVCLE1BQU8sVUFBQWlQLEdBQ0hxVSxFQUFBdGdCLFFBQVN1Z0IsZ0JBQWdCdmpCLEVBQUksU0FBQUosR0FDekJxUCxHQUNJelUsNkJBQ0FncEIsYUFBYzVqQixPQUt2QixRQUFTNmpCLEdBQWNDLEdBQzFCLE1BQU8sVUFBQXpVLEdBQ0hBLEdBQ0l6VSw2QkFFSjhvQixFQUFBdGdCLFFBQVN5Z0IsY0FBY0MsRUFBVSxTQUFBOWpCLEdBQzdCcVAsR0FDSXpVLDJCQUNBb0YsWUFLVCxRQUFTK2pCLEdBQVVDLEVBQVVDLEdBQ2hDLE1BQU8sVUFBQTVVLEdBQ0hxVSxFQUFBdGdCLFFBQVMyZ0IsVUFBVUMsRUFBVUMsRUFBWSxTQUFBamtCLEdBQ3JDcVAsR0FDSXpVLDBCQUNBb0YsWUFPVCxRQUFTa2tCLEdBQWNKLEdBQzFCLE1BQU8sVUFBQXpVLEdBQ0hxVSxFQUFBdGdCLFFBQVM4Z0IsY0FBY0osRUFBVSxTQUFDOWpCLEdBQzlCcVAsR0FDSXpVLDhCQUNBb0YsWUFPVCxRQUFTbWtCLEdBQW9CTCxHQUNoQyxNQUFPLFVBQUF6VSxHQUNIcVUsRUFBQXRnQixRQUFTK2dCLG9CQUFvQkwsRUFBVSxTQUFDOWpCLEdBQ3BDcVAsR0FDSXpVLHFDQUNBb0YsWUFNVCxRQUFTb2tCLEdBQVd0QyxHQUN2QixNQUFPLFVBQUF6UyxHQUNIQSxHQUNJelUsb0JBQ0FrbkIsV0FJTCxRQUFTdUMsS0FDWixPQUNJenBCLHVCdkJ1eUVQa0QsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFdUIvM0VlNmdCLHFCdkJnNEVmN2dCLEV1Qi8yRWVnaEIsa0J2QmczRWZoaEIsRXVCdDJFZWtoQixnQnZCdTJFZmxoQixFdUIxMUVlb2hCLFl2QjIxRWZwaEIsRXVCLzBFZXVoQixnQnZCZzFFZnZoQixFdUJwMEVld2hCLHNCdkJxMEVmeGhCLEV1QjF6RWV5aEIsYXZCMnpFZnpoQixFdUJuekVlMGhCLGVBbkdoQixJQUFBQyxHQUFBdnBCLEVBQUEsSXZCMDVFSzJvQixFQUFhemdCLEVBQXVCcWhCLEd1Qng1RXpDdkssRUFBQWhmLEVBQUEsSXZCNC9FTSxTQUFTb0csRUFBUXdCLEVBQVM1SCxHQUUvQixZQWNBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0FsQmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE13QnRnRmppQi9YLEVBQUF0SSxFQUFBLEd4QjBnRkt1SSxFQUFVTCxFQUF1QkksRXdCemdGdEN0SSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsb0VBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS3hCd2hGQyxJd0J0aEZNOGlCLEd4QnNoRlEsU0FBVTdCLEdBR3RCLFFBQVM2QixLQUdQLE1BRkFoRSxHQUFnQnBZLEtBQU1vYyxHQUVmN0QsRUFBMkJ2WSxNQUFPb2MsRUFBUXBQLFdBQWFoUyxPQUFPZ1gsZUFBZW9LLElBQVV4ZixNQUFNb0QsS0FBTXVHLFlBYzVHLE1BbkJBaVMsR0FBVTRELEVBQVM3QixHQVFuQjVCLEVBQWF5RCxJQUNYMUcsSUFBSyxTQUNMamEsTUFBTyxXd0IvaEZQLE1BQ0UrRSxHQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsV0FBZixjeEJ1aUZHRixHQUNQN2IsRUFBT2dOLFVBRVQxTixHQUFRUyxRd0JyaUZNOGIsR3hCeWlGVCxTQUFTL2QsRUFBUXdCLEVBQVM1SCxHeUJ2akZoQyxHQUFBd3BCLEdBQUFDOzs7OztDQU9BLFdBQ0EsWUFJQSxTQUFBQyxLQUdBLE9BRkFDLE1BRUExbEIsRUFBQSxFQUFpQkEsRUFBQXFLLFVBQUFwSyxPQUFzQkQsSUFBQSxDQUN2QyxHQUFBMmxCLEdBQUF0YixVQUFBckssRUFDQSxJQUFBMmxCLEVBQUEsQ0FFQSxHQUFBQyxTQUFBRCxFQUVBLGVBQUFDLEdBQUEsV0FBQUEsRUFDQUYsRUFBQWxuQixLQUFBbW5CLE9BQ0ksSUFBQXZiLE1BQUFpUixRQUFBc0ssR0FDSkQsRUFBQWxuQixLQUFBaW5CLEVBQUEva0IsTUFBQSxLQUFBaWxCLFFBQ0ksZUFBQUMsRUFDSixPQUFBcE0sS0FBQW1NLEdBQ0FFLEVBQUE3bkIsS0FBQTJuQixFQUFBbk0sSUFBQW1NLEVBQUFuTSxJQUNBa00sRUFBQWxuQixLQUFBZ2IsSUFNQSxNQUFBa00sR0FBQUksS0FBQSxLQXhCQSxHQUFBRCxNQUFnQjdtQixjQTJCaEIsb0JBQUFtRCxNQUFBd0IsUUFDQXhCLEVBQUF3QixRQUFBOGhCLEdBR0FGLEtBQUFDLEVBQUEsV0FDQSxNQUFBQyxJQUNHL2tCLE1BQUFpRCxFQUFBNGhCLEtBQUF6WSxTQUFBMFksSUFBQXJqQixFQUFBd0IsUUFBQTZoQixTekJra0ZHLFNBQVNyakIsRUFBUXdCLEcwQjdtRnZCeEIsRUFBQXdCLFFBQUFvaUIsVTFCbW5GTSxTQUFTNWpCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFpQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEcyQnRuRmpGLFFBQVM4aEIsR0FBYWxlLEVBQU1zUyxFQUFLaUYsR0FDcEMsTUFBTyxVQUFBaFAsR0FDSEEsR0FDSXpVLDhCQUVKcXFCLEVBQUE3aEIsUUFBTTRoQixhQUFhbGUsRUFBTXNTLEVBQUtpRixFQUFRLFNBQUFyZSxHQUNsQ3FQLEdBQ0l6VSwwQkFDQW9GLE9BQ0E4RyxPQUNBc1MsV0FLVCxRQUFTOEwsR0FBYTlrQixHQUN6QixNQUFPLFVBQUFpUCxHQUNINFYsRUFBQTdoQixRQUFNOGhCLGFBQWE5a0IsRUFBSSxTQUFBSixHQUNuQnFQLEdBQ0l6VSwwQkFDQXVxQixVQUFXbmxCLE9BS3BCLFFBQVNvbEIsR0FBbUJobEIsRUFBSTBHLEVBQU1zUyxHQUN6QyxNQUFPLFVBQUEvSixHQUNINFYsRUFBQTdoQixRQUFNZ2lCLG1CQUFtQmhsQixFQUFJMEcsRUFBTXNTLEVBQUssU0FBQXBaLEdBQ3BDcVAsR0FDSXpVLGlDQUNBb0YsT0FDQThHLE9BQ0FzUyxXQUtULFFBQVNpTSxHQUFjdkksRUFBU3dJLEdBQ25DLE1BQU8sVUFBQWpXLEdBQ0hBLEdBQ0l6VSw2QkFFSnFxQixFQUFBN2hCLFFBQU1paUIsY0FBY3ZJLEVBQVN3SSxFQUFTLFNBQUF0bEIsR0FDbENxUCxHQUNJelUsMkJBQ0FvRixZQUtULFFBQVN1bEIsS0FDWixPQUNJM3FCLDBCM0JtakZQa0QsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFMkIxbUZlcWlCLGUzQjJtRmZyaUIsRTJCNWxGZXVpQixlM0I2bEZmdmlCLEUyQm5sRmV5aUIscUIzQm9sRmZ6aUIsRTJCeGtGZTBpQixnQjNCeWtGZjFpQixFMkI1akZlNGlCLGlCQS9EaEIsSUFBQUMsR0FBQXpxQixFQUFBLEkzQituRktrcUIsRUFBVWhpQixFQUF1QnVpQixHMkI3bkZ0Q3pMLEVBQUFoZixFQUFBLEkzQmdzRk0sU0FBU29HLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFFQStDLFFBQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHNEIxc0ZaLElBQUFtRixHQUFBM0ksRUFBQSxHQUNBMEksRUFBQTFJLEVBQUEsR0FDQXFMLEVBQUFyTCxFQUFBLEdBQ00wcUIsRUFBWSxTQUFBQyxHQUVkLEdBREFqQyxHQUNBaUMsRUFEQWpDLFVBRUlrQyxFQUFNbmYsU0FBU08sS0FBSzZlLE1BQU0sSUFDM0JELEdBQUlwb0IsUUFBUSxVQUFVLEdBQUdrbUIsR0FBV2pwQixTQUFTcXJCLGNBQWMsdUJBQ3ZEcnJCLFNBQVNxckIsY0FBYyxzQkFBc0J0bkIsT0FBU2tsQixJQUNyRGpwQixTQUFTcXJCLGNBQWMsc0JBQXNCdG5CLE1BQU1rbEIsRUFHM0QsSUFBTXFDLEdBQVMsV0FHWHBpQixFQUFBNEMsZUFBZTlJLEtBQWY0SSxFQUFBb0IsUUFBQSxnQkFNRXVlLEVBQWEsV0FDZixHQUFJQyxHQUFReHJCLFNBQVNxckIsY0FBYyxzQkFBc0J0bkIsS0FDekRaLFNBQVE4SSxJQUFSLFlBQXdCdWYsR0FDZCxJQUFQQSxHQUNDdGlCLEVBQUE0QyxlQUFlOUksS0FBZjRJLEVBQUFvQixRQUFBLGlCQUErQ3dlLElBRWpEQyxFQUFhLFdBQ2YsR0FBSUMsR0FBUTFyQixTQUFTcXJCLGNBQWMscUJBQ25DSyxHQUFNM25CLE1BQVEsR0FDZDJuQixFQUFNQyxRQUdWLE9BQ0l4ZSxPQUFBaE4sY0FBQSxPQUFLeWtCLFVBQVUsY0FDWHpYLE1BQUFoTixjQUFBLE9BQUt5a0IsVUFBVSxlQUNYelgsTUFBQWhOLGNBQUEsT0FBS0csSUFBS0MsRUFBUSxRQUV0QjRNLE1BQUFoTixjQUFBLFNBQU9DLEtBQUssU0FBU3dyQixRQUFTTixFQUFVMWxCLEdBQUcsZUFBZWltQixZQUFZLGlCQUN0RTFlLE1BQUFoTixjQUFBLE9BQUt5a0IsVUFBVSxRQUFRekMsUUFBU3NKLEVBQVluckIsSUFBS0MsRUFBUSxPQUN6RDRNLE1BQUFoTixjQUFBLFVBQVFnaUIsUUFBU29KLEdBQWpCLE81Qnd0RlhwakIsR0FBUVMsUzRCcHRGTSxFQUFBSyxFQUFBc0wsU0FBUSxTQUFBd0MsR0FBQSxPQUNuQmtTLFVBQVdsUyxFQUFNa1MsYUFDakJnQyxJNUIwdEZFLFNBQVN0a0IsRUFBUXdCLEVBQVM1SCxHQUUvQixZQWtDQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBdENqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHQUdULElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNNkJoeEZqaUIvWCxFQUFBdEksRUFBQSxHN0JveEZLdUksRUFBVUwsRUFBdUJJLEc2Qm54RnRDSyxFQUFBM0ksRUFBQSxHQUNBMEksRUFBQTFJLEVBQUEsR0FDQStnQixFQUFBL2dCLEVBQUEsSTdCeXhGS2doQixFQUFVOVksRUFBdUI2WSxHNkJ4eEZ0QzFWLEVBQUFyTCxFQUFBLEdBRUF1ckIsRUFBQXZyQixFQUFBLElBQ0F1cEIsRzdCMnhGb0JyaEIsRUFBdUJxakIsRzZCM3hGM0N2ckIsRUFBQSxJQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsK0ZBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FDQSxJQUFBNGYsR0FBQWpoQixFQUFBLEk3Qml5RktraEIsRUFBVWhaLEVBQXVCK1ksRzZCL3hGaEN1SyxFN0J5eUZ3QixTQUFVbEosRzZCeHlGdEMsUUFBQWtKLEtBQWNyTCxFQUFBcFksS0FBQXlqQixFQUFBLElBQUFqSyxHQUFBakIsRUFBQXZZLE1BQUF5akIsRUFBQXpXLFdBQUFoUyxPQUFBZ1gsZUFBQXlSLElBQUF2cEIsS0FBQThGLE1BQUEsT0FFWndaLEdBQUsvSyxPQUNEaVYsU0FBUyxFQUNUaEssV0FBVSxFQUNWd0IsT0FDRWhYLE1BQU0sS0FDTnlWLFVBRUk3aEIsS0FBTSxVQUNOOGhCLE1BQU8sS0FDUEMsUUFBU0wsRUFBS0MsVUFBVXZKLEtBQWZzSixNQUlmbUssYUFBYSxJQWZMbkssRTdCaS9GYixNQXhNQWhCLEdBQVVpTCxFQUF3QmxKLEdBdUJsQzVCLEVBQWE4SyxJQUNYL04sSUFBSyxjQUNMamEsTUFBTyxTNkIveUZFdWxCLEVBQVVHLEVBQVl5QyxHQUNoQyxHQUNJQyx5QkFBbUMxQyxDQUNuQ3lDLEdBQ0ZoakIsRUFBQTRDLGVBQWU5SSxLQUFLbXBCLEdBRXRCampCLEVBQUE0QyxlQUFlOUksS0FBZjRJLEVBQUFvQixRQUFBLGdCQUE4Q3NjLEVBQTlDLDZCQUFtRlIsbUJBQW1CcUQsR0FBdEcsWUFBNkhyRCxtQkFBbUI5YyxTQUFTTyxVN0IwMkZ4SnlSLElBQUssWUFDTGphLE1BQU8sVzZCaHpGTnVFLEtBQUswUSxVQUFVZ0osV0FBVSxPN0JvekYxQmhFLElBQUssU0FDTGphLE1BQU8sVzZCbnpGRCxHQUFBK2hCLEdBQ21CeGQsS0FBS3NOLE1BQXhCd1csRUFEQXRHLEVBQ0FzRyxTQUFTQyxFQURUdkcsRUFDU3VHLE1BQ2hCLE9BQ0V2akIsR0FBQUYsUUFBQXpJLGNBQUEsV0FBU3lrQixVQUFVLDZCQUNqQjliLEVBQUFGLFFBQUF6SSxjQUFBc2hCLEVBQUE3WSxTQUFPeVosS0FBTS9aLEtBQUt5TyxNQUFNaUwsVUFBV3hWLE1BQU9sRSxLQUFLeU8sTUFBTXlNLE1BQU1oWCxNQUFPeVYsUUFBUzNaLEtBQUt5TyxNQUFNeU0sTUFBTXZCLFNBQVczWixLQUFLeU8sTUFBTWtWLGNBQ2xIbmpCLEVBQUFGLFFBQUF6SSxjQUFBb2hCLEVBQUEzWSxTQUFPMGQsS0FBSyxVQUFVakUsS0FBTS9aLEtBQUt5TyxNQUFNaVYsU0FBdkMsVUFDQWxqQixFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNaWIsR0FBSTFnQixFQUFBb0IsUUFBUyxZQUFZb2YsRUFBU0csYUFDdEN6akIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLG9CQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsVUFBS2lzQixFQUFTSSxvQkFHbEIxakIsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUlELEdBQVFELEVBQVNLLFdBQWpCN2dCLEVBQUFvQixRQUFBLFVBQUFwQixFQUFBb0IsUUFBQSxTQUFxRW9mLEVBQVNLLFlBQ3RGM2pCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS0csSUFBSzhyQixFQUFTTSxhQUFhNWxCLE1BQU0sR0FBRyxHQUFNLFFBQy9DZ0MsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGVBQ2I5YixFQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsUUFBUXdILEVBQVNPLGNBQ2pDN2pCLEVBQUFGLFFBQUF6SSxjQUFBLFlBQU9pc0IsRUFBU1EscUJBSXRCOWpCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUNQOWIsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLFNBQ1Z6QyxRQUFTN1osS0FBS3VrQixZQUFZclUsS0FBS2xRLEtBQUs4akIsRUFBU1UsVUFBVVYsRUFBU0csWUFBWUgsRUFBU1csaUJBQ3pGamtCLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxnQkFDaEI5YixFQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsaUJBQ2hCOWIsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGVBQWV3SCxFQUFTVyxlQUFpQixRQUFVLFdBRzdFamtCLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFJMWdCLEVBQUFvQixRQUFTLFlBQVlvZixFQUFTRyxhQUN0Q3pqQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsVUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxTQUFmLEtBQStCd0gsRUFBU1ksZ0JBQ3hDbGtCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxlQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsWUFBT2lzQixFQUFTYSxjQUFoQixPQUNBbmtCLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxPQUFPd0gsRUFBU2MsWUFBaEMsZ0I3QjAzRkpuQixHQUNQbGpCLEVBQU9nTixVNkJsM0ZSa1csR0FBdUJwUyxjQUNyQnlTLFlBQ0E5RSxNQUFNLEdBRVJ5RSxHQUF5QixFQUFBOWlCLEVBQUFzTCxTQUFRakQsUUFBWXNZLDBCQUFhbUMsRzdCcTNGM0Q1akIsRUFBUVMsUTZCcDNGUW1qQixHN0J3M0ZYLFNBQVNwbEIsRUFBUXdCLEc4QnpnR3ZCLFlBRUFBLEdBQUFRLFlBQUEsQ0FDQSxJQUFBd2tCLEtBQUEsbUJBQUFqaEIsaUJBQUFsTSxXQUFBa00sT0FBQWxNLFNBQUFHLGNBQ0FnSSxHQUFBZ2xCLGE5QitnR00sU0FBU3htQixFQUFRd0IsRUFBUzVILEkrQm5oR2hDLFNBQUFrTyxHQUFBLFlBTUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQW9CN0UsUUFBQTBrQixHQUFBNUIsR0FDQSxNQUFBNkIsR0FBQUMsVUFBQTlCLEdBQUF0UixRQUFBLFlBS0EsUUFBQXFULEdBQUE3TixHQUNBLE9BQUFsZixLQUFBa2YsR0FDQSxHQUFBcGMsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFrZCxFQUFBbGYsSUFBQSxnQkFBQWtmLEdBQUFsZixLQUFBb08sTUFBQWlSLFFBQUFILEVBQUFsZixLQUFBLE9BQUFrZixFQUFBbGYsR0FBQSxRQUNHLFVBT0gsUUFBQWd0QixHQUFBQyxHQUNBLGtCQVlBLFFBQUFDLEdBQUExaEIsR0FDQSxTQUFBQSxFQUFBd2YsTUFBQSxDQUNBLEdBQUEzSCxHQUFBN1gsRUFBQTZYLE1BRUE3WCxHQUFBd2YsTUFBQW1DLEVBQUE5SixFQUFBRixVQUFBLElBQ0EzWCxFQUFBNGhCLElBQXFDL0osU0FBQWdLLFdBQUEsSUFNckMsTUFBQTdoQixHQUdBLFFBQUE4aEIsR0FBQTloQixFQUFBd2YsR0FDQSxHQUFBdUMsR0FFQUMsRUFBQWhpQixFQUFBNGhCLEdBQ0FLLEVBQUF6QyxFQUFBMEMsRUFBQTFDLEdBQUEsRUFDQSxLQUFBd0MsSUFBQUMsRUFDQSxNQUFBamlCLEVBR0EsZ0JBQUF5QyxFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSxRQUFBbVQsSUFBQWQsSUFBQUcsRUFBQS9CLEdBQUEsdUdBQXNNbGEsT0FFdE0sZ0JBQUF0RixPQUFBbWlCLEVBQUF2SyxVQUFBNVgsR0FFQSxJQUFBNmhCLEdBQUF2YyxNQUVBdWMsR0FEQUcsR0FBQWhpQixFQUFBNlgsU0FBQW1LLEVBQUFuSyxPQUNBbUssRUFBQUgsV0FFQTdoQixFQUFBNlgsUUFBQSxFQUdBLElBQUFBLEdBQUFnSyxDQUtBLE9BSkFJLEtBQ0FwSyxNQUFBLFNBQUFvSyxHQUdBak8sS0FBd0JoVSxHQUFBK2hCLEdBQ3hCbEssVUFDT2tLLEVBQUFILElBQWdDL0osU0FBQWdLLGNBQXlDRSxJQUloRixRQUFBSyxHQUFBQyxHQUNBLE1BQUF6aEIsR0FBQXdoQixhQUFBLFNBQUFwaUIsRUFBQXBMLEdBQ0EwdEIsRUFBQSxRQUFBRCxFQUFBWCxFQUFBMWhCLEdBQUFwTCxLQUlBLFFBQUFtTCxHQUFBd2lCLEdBQ0EsTUFBQTNoQixHQUFBYixPQUFBLFNBQUFDLEdBQ0F1aUIsRUFBQWIsRUFBQTFoQixNQUtBLFFBQUFoSixHQUFBZ0osR0FDQVksRUFBQTVKLEtBQUE4cUIsRUFBQTloQixJQUFBd2YsUUFHQSxRQUFBdFIsR0FBQWxPLEdBQ0FZLEVBQUFzTixRQUFBNFQsRUFBQTloQixJQUFBd2YsUUFHQSxRQUFBZ0QsR0FBQXhpQixFQUFBd2YsR0FHQSxNQUZBLGVBQUEvYyxFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSxTQUFBeVEsRUFBQSxxRkFBMkhsYSxPQUUzSDFFLEVBQUE0aEIsV0FBQVYsRUFBQTloQixFQUFBd2YsR0FBQXhmLEVBQUF3ZixRQUdBLFFBQUFpRCxHQUFBemlCLEVBQUF3ZixHQUdBLE1BRkEsZUFBQS9jLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLFNBQUF5USxFQUFBLHFGQUEySGxhLE9BRTNIMUUsRUFBQTZoQixXQUFBWCxFQUFBOWhCLEVBQUF3ZixHQUFBeGYsRUFBQXdmLFFBR0EsUUFBQWtELEdBQUExaUIsR0FDQSxPQUFBNk8sR0FBQWhNLFVBQUFwSyxPQUFBa0ssRUFBQUMsTUFBQWlNLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQXdGQSxFQUFBRCxFQUFhQyxJQUNyR25NLEVBQUFtTSxFQUFBLEdBQUFqTSxVQUFBaU0sRUFHQSxJQUFBNlQsR0FBQS9oQixFQUFBOGhCLGVBQUF4cEIsTUFBQTBILEdBQUFraEIsRUFBQTloQixJQUFBd2YsUUFBQXZkLE9BQUFVLEdBSUEsT0FIQTNDLEdBQUF3ZixRQUNBbUQsRUFBQW5ELE1BQUF4ZixFQUFBd2YsT0FFQWtDLEVBQUFpQixHQUlBLFFBQUFDLEdBQUE3WCxFQUFBakssRUFBQTBlLEdBQ0EsZ0JBQUExZSxPQUFBcWhCLEVBQUF2SyxVQUFBOVcsSUFFQTlKLEVBQUFnZCxHQUFxQmpKLFNBQWVqSyxHQUFTMGUsV0FJN0MsUUFBQXFELEdBQUE5WCxFQUFBakssRUFBQTBlLEdBQ0EsZ0JBQUExZSxPQUFBcWhCLEVBQUF2SyxVQUFBOVcsSUFFQW9OLEVBQUE4RixHQUF3QmpKLFNBQWVqSyxHQUFTMGUsV0FoSGhELEdBQUEva0IsR0FBQW9JLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxNQUEwRUEsVUFBQSxHQUUxRWpDLEVBQUE2Z0IsRUFBQWhuQixHQUVBeW5CLEVBQUF6bkIsRUFBQXluQixlQUNBUCxFQUFBbG5CLEVBQUFrbkIsZ0JBOEdBLE9BNUdBLGtCQUFBTyxPQUFBZCxHQUVBLGtCQUFBTyxPQUFBbUIsR0EwR0E5TyxLQUFzQnBULEdBQ3RCd2hCLGVBQ0FyaUIsU0FDQS9JLE9BQ0FrWCxVQUNBc1UsYUFDQUMsYUFDQUMsaUJBRUFFLFVBQUFHLEVBQUEsUUFBQUgsRUFBQSw2Q0FDQUMsYUFBQUUsRUFBQSxRQUFBRixFQUFBLHNEQXZLQTFtQixFQUFBUSxZQUFBLENBRUEsSUFBQXFYLEdBQUExYyxPQUFBa1csUUFBQSxTQUFBZ0gsR0FBbUQsT0FBQWhjLEdBQUEsRUFBZ0JBLEVBQUFxSyxVQUFBcEssT0FBc0JELElBQUEsQ0FBTyxHQUFBaWMsR0FBQTVSLFVBQUFySyxFQUEyQixRQUFBd1osS0FBQXlDLEdBQTBCbmQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFpZSxFQUFBekMsS0FBeUR3QyxFQUFBeEMsR0FBQXlDLEVBQUF6QyxJQUFpQyxNQUFBd0MsSUFJL092RixFQUFBMWEsRUFBQSxHQUVBd2EsRUFBQXRTLEVBQUF3UyxHQUVBb1MsRUFBQTlzQixFQUFBLEtBRUF5dUIsRUFBQXp1QixFQUFBLElBRUErdEIsRUFBQTdsQixFQUFBdW1CLEdBRUFiLEVBQUE1dEIsRUFBQSxJQUVBMHVCLEVBQUExdUIsRUFBQSxJQUVBd3VCLEVBQUF0bUIsRUFBQXdtQixHQUVBckIsRUFBQSxjQU1Ba0IsRUFBQXpCLEVBQUEzckIsS0FnSkF5RyxHQUFBLFFBQUFxbEIsRUFDQTdtQixFQUFBd0IsVUFBQSxVL0JzaEc4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsR2dDcnNHaENBLEVBQUEsS0FDQW9HLEVBQUF3QixRQUFBcVMsS0FBQTBVLE1BQUExVyxLQUFBZ0MsT2hDZ3RHTSxTQUFTN1QsRUFBUXdCLEVBQVM1SCxJaUNydEdoQyxTQUFBa08sR0FBQSxZQThCQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBNUI3RVAsRUFBQVEsWUFBQSxDQUVBLElBQUF3bUIsR0FBQSxrQkFBQXBhLFNBQUEsZ0JBQUFBLFFBQUFxYSxTQUFBLFNBQUExbUIsR0FBb0csYUFBQUEsSUFBcUIsU0FBQUEsR0FBbUIsTUFBQUEsSUFBQSxrQkFBQXFNLFNBQUFyTSxFQUFBeU0sY0FBQUosT0FBQSxlQUFBck0sSUFFNUlzWCxFQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9PdUksRUFBQXhvQixFQUFBLEdBRUFxb0IsRUFBQW5nQixFQUFBc2dCLEdBRUFsZ0IsRUFBQXRJLEVBQUEsR0FFQXVJLEVBQUFMLEVBQUFJLEdBRUF3bUIsRUFBQTl1QixFQUFBLElBRUErdUIsRUFBQTdtQixFQUFBNG1CLEdBRUFFLEVBQUFodkIsRUFBQSxLQUVBaXZCLEVBQUEvbUIsRUFBQThtQixHQUVBaGUsRUFBQWhSLEVBQUEsSUFFQWt2QixFQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FJQUUsRUFBQTdtQixFQUFBRixRQUFBNkgsVUFDQWxDLEVBQUFvaEIsRUFBQXBoQixNQUNBb0csRUFBQWdiLEVBQUFoYixLQUNBK0ssRUFBQWlRLEVBQUFqUSxPQU9BL08sRUFBQTdILEVBQUFGLFFBQUFnbkIsYUFDQTNaLFlBQUEsZ0JBR0FILFdBQ0FsSixRQUFBOFMsRUFDQW1RLE9BQUFuUSxFQUFBOUssV0FDQTVJLFNBQUEwVCxFQUFBOUssV0FDQTBMLE9BQUEvUixFQUFBcUcsV0FDQXdULE9BQUExSSxFQUFBOUssV0FDQXdQLFdBQUE3VixFQUFBcUcsV0FDQXpVLGNBQUF3VSxFQUFBQyxZQUdBZ0YsZ0JBQUEsV0FDQSxPQUNBelosY0FBQTJJLEVBQUFGLFFBQUF6SSxnQkFLQTZWLG1CQUNBcEosUUFBQThTLEVBQ0ExVCxTQUFBMFQsRUFBQTlLLFdBQ0FpYixPQUFBblEsRUFBQTlLLFlBR0FhLGdCQUFBLFdBQ0EsR0FBQXFRLEdBQUF4ZCxLQUFBc04sTUFDQWlhLEVBQUEvSixFQUFBK0osT0FDQWpqQixFQUFBa1osRUFBQWxaLFFBQ0FaLEVBQUE4WixFQUFBOVosUUFlQSxPQWJBNmpCLEtBQ0EsZUFBQXBoQixFQUFBTSxJQUFBc00sVUFBQSxFQUFBcVUsRUFBQTltQixVQUFBLHlFQUVBaW5CLEVBQUE3UCxLQUEwQnBULEdBQzFCa2pCLGtCQUFBbGpCLEVBQUFtakIsaUNBRUFGLEdBQUFFLDBCQUdBLGVBQUF0aEIsRUFBQU0sSUFBQXNNLFdBQ0FyUCxHQUFBLEVBQUFzakIsRUFBQTFtQixTQUFBb0QsRUFBQSx3SUFHWVksVUFBQVosV0FBQTZqQixXQUVaMXZCLGNBQUEsU0FBQTRNLEVBQUE2SSxHQUNBLGFBQUE3SSxFQUFBLEtBQUF6RSxLQUFBc04sTUFBQXpWLGNBQUE0TSxFQUFBNkksSUFFQW5KLE9BQUEsV0FDQSxHQUFBcVYsR0FBQXhaLEtBRUEwbkIsRUFBQTFuQixLQUFBc04sTUFDQWhKLEVBQUFvakIsRUFBQXBqQixRQUNBWixFQUFBZ2tCLEVBQUFoa0IsU0FDQXNVLEVBQUEwUCxFQUFBMVAsT0FDQThILEVBQUE0SCxFQUFBNUgsT0FDQWhFLEVBQUE0TCxFQUFBNUwsV0FFQXJPLEVBQUEsSUErQ0EsT0E3Q0FxTyxLQUNBck8sRUFBQXFPLEVBQUE2TCxZQUFBLFNBQUFsYSxFQUFBcU8sRUFBQWtELEdBQ0EsU0FBQWxELEVBQUEsTUFBQXJPLEVBRUEsSUFBQW1LLEdBQUFJLEVBQUFnSCxHQUNBNEksR0FBQSxFQUFBVixFQUFBNW1CLFNBQUFzWCxFQUFBa0ksR0FDQXhTLEdBQ0FoSixVQUNBWixXQUNBb2MsU0FDQWxJLFFBQ0FnUSxjQUNBNVAsU0FHQSxPQUFBL08sRUFBQXFPLGlCQUFBN0osR0FDQUgsRUFBQTNTLFNBQUE4UyxNQUNTLElBQUFBLEVBQ1QsT0FBQW9hLEtBQUFwYSxHQUNBelMsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUF1VCxFQUFBb2EsS0FBQXZhLEVBQUF1YSxHQUFBcGEsRUFBQW9hLEdBSUEsbUNBQUEvTCxHQUFBLFlBQUErSyxFQUFBL0ssSUFBQSxDQUNBLEdBQUFnTSxLQUVBLFFBQUFwUyxLQUFBb0csR0FDQTlnQixPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQTRoQixFQUFBcEcsS0FJQW9TLEVBQUFwUyxHQUFBOEQsRUFBQTNoQixjQUFBaWtCLEVBQUFwRyxHQUFBZ0MsR0FDQWhDLE9BQTBCcEksSUFJMUIsT0FBQXdhLEdBR0EsTUFBQXRPLEdBQUEzaEIsY0FBQWlrQixFQUFBeE8sSUFDT0csSUFHUCxPQUFBQSxRQUFBLEdBQUFqTixFQUFBRixRQUFBK1csZUFBQTVKLEdBQUEsc0JBQUF0SCxFQUFBTSxJQUFBc00sVUFBQSxFQUFBdU4sRUFBQWhnQixVQUFBLG9EQUFBZ2dCLEVBQUFoZ0IsVUFBQSxHQUVBbU4sSUFJQTVOLEdBQUFTLFFBQUErSCxFQUNBaEssRUFBQXdCLFVBQUEsVWpDd3RHOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILElrQ3YzR2hDLFNBQUFrTyxHQUFBLFlBU0EsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQVA3RVAsRUFBQVEsWUFBQSxFQUNBUixFQUFBa29CLGVBQUEvZSxNQUVBLElBQUFtZSxHQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FJQVksRUFBQWxvQixFQUFBa29CLGdCQUFBLEVBR0FDLEVBQUEsU0FBQTVRLEdBQ0EsTUFBQUEsR0FHQSxtQkFBQWpSLEVBQUFNLElBQUFzTSxTQUFBLENBQ0EsSUFDQS9YLE9BQUFJLGtCQUFnQyxLQUNoQ0csSUFBQSxXQUNBLFlBRUswRSxJQUNMSixFQUFBa29CLGtCQUFBLEdBR0csTUFBQXp1QixJQUdIeXVCLElBQ0FDLEVBQUEsU0FBQTVRLEVBQUEvRSxHQUVBLEdBQUE0VixNQUVBQyxFQUFBLFNBQUFMLEdBQ0EsTUFBQTdzQixRQUFBQyxVQUFBQyxlQUFBaEIsS0FBQWtkLEVBQUF5USxHQUlBLGtCQUFBelEsR0FBQXlRLElBRUFJLEVBQUFKLEdBQUEsV0FFQSxNQURBLGVBQUExaEIsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSxFQUFBK1IsR0FBQSxPQUNBK0UsRUFBQXlRLEdBQUFqckIsTUFBQXdhLEVBQUE3USxZQUVBLGdCQVFBdkwsUUFBQUksZUFBQTZzQixFQUFBSixHQUNBdHNCLElBQUEsV0FFQSxNQURBLGVBQUE0SyxFQUFBTSxJQUFBc00sVUFBQSxFQUFBcVUsRUFBQTltQixVQUFBLEVBQUErUixHQUFBLE9BQ0ErRSxFQUFBeVEsTUFwQkEsV0F5QkEsUUFBQUEsS0FBQXpRLEdBQUEsQ0FDQThRLEVBQUFMLEdBS0EsTUFBQUksS0FLQXBvQixFQUFBUyxRQUFBMG5CLElsQzAzRzhCOXRCLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSW1DeDhHaEMsU0FBQTRULEVBQUF2UyxHQUFlK0UsRUFBQXdCLFFBQUF2RyxLQUErSzBHLEtBQUEsV0FBaUIsZ0JBQUE2TCxHQUFtQixRQUFBdlMsR0FBQXlTLEdBQWMsR0FBQUMsRUFBQUQsR0FBQSxNQUFBQyxHQUFBRCxHQUFBbE0sT0FBNEIsSUFBQWlNLEdBQUFFLEVBQUFELElBQVlsTSxXQUFVdkMsR0FBQXlPLEVBQUFqTSxRQUFBLEVBQWlCLE9BQUErTCxHQUFBRSxHQUFBN1IsS0FBQTRSLEVBQUFqTSxRQUFBaU0sSUFBQWpNLFFBQUF2RyxHQUFBd1MsRUFBQWhNLFFBQUEsRUFBQWdNLEVBQUFqTSxRQUFnRSxHQUFBbU0sS0FBUyxPQUFBMVMsR0FBQTRHLEVBQUEyTCxFQUFBdlMsRUFBQXFFLEVBQUFxTyxFQUFBMVMsRUFBQXBCLEVBQUEsR0FBQW9CLEVBQUEsS0FBK0IsU0FBQXVTLEVBQUF2UyxFQUFBMFMsR0FBa0IsWUFBYSxTQUFBRCxHQUFBRixHQUFjLE1BQUFBLE1BQUF4TCxXQUFBd0wsR0FBMEJ2TCxRQUFBdUwsR0FBYXZTLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBNnVCLFFBQUE3dUIsRUFBQTh1QixnQkFBQTl1QixFQUFBOFgsbUJBQUE5WCxFQUFBK3VCLGdCQUFBL3VCLEVBQUFndkIsWUFBQSxNQUF3RyxJQUFBeGMsR0FBQUUsRUFBQSxHQUFBaUIsRUFBQWxCLEVBQUFELEdBQUE1UCxFQUFBOFAsRUFBQSxHQUFBck8sRUFBQW9PLEVBQUE3UCxHQUFBMkMsRUFBQW1OLEVBQUEsR0FBQWtCLEVBQUFuQixFQUFBbE4sR0FBQXFOLEVBQUFGLEVBQUEsR0FBQTZCLEVBQUE5QixFQUFBRyxHQUFBcFAsRUFBQWtQLEVBQUEsR0FBQTlULEVBQUE2VCxFQUFBalAsR0FBQTJTLEVBQUF6RCxFQUFBLEVBQWlGRCxHQUFBMEQsR0FBS25XLEVBQUFndkIsWUFBQXJiLEVBQUEsUUFBQTNULEVBQUErdUIsZ0JBQUExcUIsRUFBQSxRQUFBckUsRUFBQThYLG1CQUFBbEUsRUFBQSxRQUFBNVQsRUFBQTh1QixnQkFBQXZhLEVBQUEsUUFBQXZVLEVBQUE2dUIsUUFBQWp3QixFQUFBLFNBQWtKLFNBQUEyVCxFQUFBdlMsR0FBZSxZQUFhLFNBQUEwUyxLQUFhLE9BQUFILEdBQUF0RixVQUFBcEssT0FBQTdDLEVBQUFnTixNQUFBdUYsR0FBQUcsRUFBQSxFQUEwQ0gsRUFBQUcsRUFBSUEsSUFBQTFTLEVBQUEwUyxHQUFBekYsVUFBQXlGLEVBQXNCLFFBQUExUyxFQUFBNkMsT0FBQSxnQkFBQTBQLEdBQW1DLE1BQUFBLEdBQVUsUUFBQXZTLEVBQUE2QyxPQUFBLE1BQUE3QyxHQUFBLEVBQTRCLElBQUF5UyxHQUFBelMsSUFBQTZDLE9BQUEsR0FBQTJQLEVBQUF4UyxFQUFBa0YsTUFBQSxLQUFvQyxtQkFBa0IsTUFBQXNOLEdBQUE2YixZQUFBLFNBQUE5YixFQUFBdlMsR0FBbUMsTUFBQUEsR0FBQXVTLElBQVlFLEVBQUFuUCxNQUFBLE9BQUEySixhQUE2QmpOLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBLFFBQUEwUyxHQUErQixTQUFBSCxFQUFBdlMsRUFBQTBTLEdBQWlCLFlBQWEsU0FBQUQsR0FBQUYsR0FBYyxNQUFBQSxNQUFBeEwsV0FBQXdMLEdBQTBCdkwsUUFBQXVMLEdBQWEsUUFBQUMsR0FBQUQsRUFBQXZTLEVBQUEwUyxHQUFrQixRQUFBRCxLQUFhak4sSUFBQWpCLElBQUFpQixFQUFBakIsRUFBQVcsU0FBcUIsUUFBQXlPLEtBQWEsTUFBQWEsR0FBUyxRQUFBblEsR0FBQWtPLEdBQWMscUJBQUFBLEdBQUEsS0FBQXJULE9BQUEsc0NBQTJFLElBQUFjLElBQUEsQ0FBUyxPQUFBeVMsS0FBQWpOLEVBQUFwRSxLQUFBbVIsR0FBQSxXQUFnQyxHQUFBdlMsRUFBQSxDQUFNQSxHQUFBLEVBQUF5UyxHQUFTLElBQUFDLEdBQUFsTixFQUFBckUsUUFBQW9SLEVBQW1CL00sR0FBQXJDLE9BQUF1UCxFQUFBLEtBQWdCLFFBQUFFLEdBQUFMLEdBQWMsT0FBQTNQLEVBQUEsU0FBQTJQLEdBQUEsS0FBQXJULE9BQUEsMEVBQStHLGFBQUFxVCxFQUFBL1QsS0FBQSxLQUFBVSxPQUFBLHFGQUFxSCxJQUFBMEgsRUFBQSxLQUFBMUgsT0FBQSxxQ0FBdUQsS0FBSTBILEdBQUEsRUFBQTROLEVBQUEyQixFQUFBM0IsRUFBQWpDLEdBQWMsUUFBUTNMLEdBQUEsRUFBSyxPQUFBNUcsR0FBQXVFLEVBQUFpQixFQUFBa04sRUFBQSxFQUFrQjFTLEVBQUE2QyxPQUFBNlAsRUFBV0EsSUFBQTFTLEVBQUEwUyxJQUFXLE9BQUFILEdBQVMsUUFBQWdDLEdBQUFoQyxHQUFjLHFCQUFBQSxHQUFBLEtBQUFyVCxPQUFBLDZDQUFrRmlYLEdBQUE1RCxFQUFBSyxHQUFPcFUsS0FBQW9WLEVBQUFxYixPQUFjLFFBQUF6ckIsS0FBYSxHQUFBK08sR0FBQXZTLEVBQUFxRSxDQUFVLE9BQUFrTyxJQUFVTyxVQUFBLFNBQUFQLEdBQXNCLFFBQUFHLEtBQWFILEVBQUEyYyxNQUFBM2MsRUFBQTJjLEtBQUF2YixLQUFvQixtQkFBQXBCLEdBQUEsU0FBQWEsV0FBQSx5Q0FBb0ZWLElBQUksSUFBQUQsR0FBQXpTLEVBQUEwUyxFQUFXLFFBQU8rRCxZQUFBaEUsS0FBZ0JGLEVBQUFoTixFQUFBLG9CQUE0QixNQUFBbUIsT0FBWTZMLEVBQUcsR0FBQTNULEVBQU0sc0JBQUFvQixJQUFBLFNBQUEwUyxNQUFBMVMsSUFBQSxpQkFBQTBTLEVBQUEsQ0FBZ0UscUJBQUFBLEdBQUEsS0FBQXhULE9BQUEsMENBQStFLE9BQUF3VCxHQUFBRixHQUFBRCxFQUFBdlMsR0FBaUIscUJBQUF1UyxHQUFBLEtBQUFyVCxPQUFBLHlDQUE4RSxJQUFBaVgsR0FBQTVELEVBQUFpQyxFQUFBeFUsRUFBQXVFLEtBQUFpQixFQUFBakIsRUFBQXFDLEdBQUEsQ0FBMEIsT0FBQWdNLElBQVVwVSxLQUFBb1YsRUFBQXFiLE9BQVlyd0IsR0FBS3FVLFNBQUFMLEVBQUFFLFVBQUF6TyxFQUFBNk8sU0FBQVMsRUFBQXdiLGVBQUE1YSxHQUFtRDNWLEVBQUEyRyxFQUFBLFNBQUEvQixFQUFBNUUsRUFBcUJvQixFQUFBK0csWUFBQSxFQUFBL0csRUFBQW92QixZQUFBLE9BQUFwdkIsRUFBQSxRQUFBd1MsQ0FBb0QsSUFBQW1CLEdBQUFqQixFQUFBLEdBQUE5UCxFQUFBNlAsRUFBQWtCLEdBQUF0UCxFQUFBcU8sRUFBQSxJQUFBbk4sRUFBQWtOLEVBQUFwTyxHQUFBdVAsRUFBQTVULEVBQUFvdkIsYUFBa0RILEtBQUEsaUJBQXFCLFNBQUExYyxFQUFBdlMsR0FBZSxZQUFhLFNBQUEwUyxHQUFBSCxHQUFjLG1CQUFBaFIsVUFBQSxrQkFBQUEsU0FBQThFLE9BQUE5RSxRQUFBOEUsTUFBQWtNLEVBQWdGLEtBQUksS0FBQXJULE9BQUFxVCxHQUFlLE1BQUF2UyxLQUFXQSxFQUFBK0csWUFBQSxFQUFBL0csRUFBQSxRQUFBMFMsR0FBK0IsU0FBQUgsRUFBQXZTLEVBQUEwUyxHQUFpQixRQUFBRCxHQUFBRixHQUFjLElBQUEzUCxFQUFBMlAsSUFBQTNULEVBQUFnQyxLQUFBMlIsSUFBQWxPLEdBQUFzUCxFQUFBcEIsR0FBQSxRQUFzQyxJQUFBdlMsR0FBQXdTLEVBQUFELEVBQVcsV0FBQXZTLEVBQUEsUUFBcUIsSUFBQTBTLEdBQUE2QixFQUFBM1QsS0FBQVosRUFBQSxnQkFBQUEsRUFBQXVULFdBQTZDLHlCQUFBYixvQkFBQUUsRUFBQWhTLEtBQUE4UixJQUFBbFAsRUFBeUQsR0FBQWdQLEdBQUFFLEVBQUEsR0FBQWlCLEVBQUFqQixFQUFBLEdBQUE5UCxFQUFBOFAsRUFBQSxJQUFBck8sRUFBQSxrQkFBQWtCLEVBQUFrVCxTQUFBOVcsVUFBQWlTLEVBQUFsUyxPQUFBQyxVQUFBaVIsRUFBQXJOLEVBQUFvVCxTQUFBcEUsRUFBQVgsRUFBQWhTLGVBQUE0QixFQUFBb1AsRUFBQWhTLEtBQUFjLFFBQUE5QyxFQUFBZ1YsRUFBQStFLFFBQW9KcEcsR0FBQWhNLFFBQUFrTSxHQUFZLFNBQUFGLEVBQUF2UyxFQUFBMFMsR0FBaUIsWUFBYSxTQUFBRCxHQUFBRixHQUFjLE1BQUFBLE1BQUF4TCxXQUFBd0wsR0FBMEJ2TCxRQUFBdUwsR0FBYSxRQUFBQyxLQUFhLE9BQUFELEdBQUF0RixVQUFBcEssT0FBQTdDLEVBQUFnTixNQUFBdUYsR0FBQUcsRUFBQSxFQUEwQ0gsRUFBQUcsRUFBSUEsSUFBQTFTLEVBQUEwUyxHQUFBekYsVUFBQXlGLEVBQXNCLGlCQUFBSCxHQUFtQixnQkFBQUcsRUFBQUQsRUFBQUQsR0FBdUIsR0FBQTVQLEdBQUEyUCxFQUFBRyxFQUFBRCxFQUFBRCxHQUFBak4sRUFBQTNDLEVBQUFxUSxTQUFBVyxLQUFBaEIsR0FBb0NNLFNBQUF0USxFQUFBc1EsU0FBQUQsU0FBQSxTQUFBVixHQUF5QyxNQUFBaE4sR0FBQWdOLElBQWMsT0FBQXFCLEdBQUE1VCxFQUFBNmpCLElBQUEsU0FBQXRSLEdBQTJCLE1BQUFBLEdBQUFLLEtBQVlyTixFQUFBbEIsRUFBQSxRQUFBZixNQUFBLE9BQUFzUSxHQUFBaFIsRUFBQXFRLFVBQUFVLEtBQWlEL1EsR0FBSXFRLFNBQUExTixNQUFldkYsRUFBQStHLFlBQUEsQ0FBZ0IsSUFBQTRNLEdBQUFqUyxPQUFBa1csUUFBQSxTQUFBckYsR0FBaUMsT0FBQXZTLEdBQUEsRUFBWUEsRUFBQWlOLFVBQUFwSyxPQUFtQjdDLElBQUEsQ0FBSyxHQUFBMFMsR0FBQXpGLFVBQUFqTixFQUFtQixRQUFBeVMsS0FBQUMsR0FBQWhSLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBOFIsRUFBQUQsS0FBQUYsRUFBQUUsR0FBQUMsRUFBQUQsSUFBc0UsTUFBQUYsR0FBVXZTLEdBQUEsUUFBQXdTLENBQWUsSUFBQTVQLEdBQUE4UCxFQUFBLEdBQUFyTyxFQUFBb08sRUFBQTdQLElBQWtCLFNBQUEyUCxFQUFBdlMsR0FBZSxZQUFhLFNBQUEwUyxHQUFBSCxFQUFBdlMsR0FBZ0Isa0JBQWtCLE1BQUFBLEdBQUF1UyxFQUFBalAsTUFBQSxPQUFBMkosYUFBcUMsUUFBQXdGLEdBQUFGLEVBQUF2UyxHQUFnQixxQkFBQXVTLEdBQUEsTUFBQUcsR0FBQUgsRUFBQXZTLEVBQXNDLG9CQUFBdVMsSUFBQSxPQUFBQSxFQUFBLEtBQUFyVCxPQUFBLGlGQUFBcVQsRUFBQSxhQUFBQSxJQUFBLDZGQUE4TyxRQUFBRSxHQUFBL1EsT0FBQW1XLEtBQUF0RixHQUFBQyxLQUE2Qm1CLEVBQUEsRUFBS2xCLEVBQUE1UCxPQUFBOFEsRUFBV0EsSUFBQSxDQUFLLEdBQUEvUSxHQUFBNlAsRUFBQWtCLEdBQUF0UCxFQUFBa08sRUFBQTNQLEVBQWtCLG1CQUFBeUIsS0FBQW1PLEVBQUE1UCxHQUFBOFAsRUFBQXJPLEVBQUFyRSxJQUFvQyxNQUFBd1MsR0FBU3hTLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBLFFBQUF5UyxHQUErQixTQUFBRixFQUFBdlMsRUFBQTBTLEdBQWlCLFlBQWEsU0FBQUQsR0FBQUYsR0FBYyxNQUFBQSxNQUFBeEwsV0FBQXdMLEdBQTBCdkwsUUFBQXVMLEdBQWEsUUFBQUMsR0FBQUQsRUFBQXZTLEdBQWdCLEdBQUEwUyxHQUFBMVMsS0FBQXhCLEtBQUFpVSxFQUFBQyxHQUFBLElBQUFBLEVBQUEsZ0JBQTRDLHVCQUFBRCxFQUFBLGNBQUFGLEVBQUEsNEZBQW9JLFFBQUFvQixHQUFBcEIsR0FBYzdRLE9BQUFtVyxLQUFBdEYsR0FBQW9NLFFBQUEsU0FBQTNlLEdBQW1DLEdBQUEwUyxHQUFBSCxFQUFBdlMsR0FBQXlTLEVBQUFDLEVBQUEsUUFBdUJsVSxLQUFBNkYsRUFBQStxQixZQUFBSCxNQUEwQixhQUFBeGMsRUFBQSxLQUFBdlQsT0FBQSxZQUFBYyxFQUFBLHFMQUE4TixJQUFBd1MsR0FBQSxnQ0FBQTZjLEtBQUFDLFNBQUEzVyxTQUFBLElBQUFvSixVQUFBLEdBQUF5SCxNQUFBLElBQUFkLEtBQUEsSUFBa0csYUFBQWhXLEVBQUEsUUFBc0JsVSxLQUFBZ1UsSUFBTyxLQUFBdFQsT0FBQSxZQUFBYyxFQUFBLGdGQUFBcUUsRUFBQStxQixZQUFBSCxLQUFBLG9TQUFtYSxRQUFBcnNCLEdBQUEyUCxHQUFjLE9BQUF2UyxHQUFBMEIsT0FBQW1XLEtBQUF0RixHQUFBRyxLQUE2QkQsRUFBQSxFQUFLelMsRUFBQTZDLE9BQUE0UCxFQUFXQSxJQUFBLENBQUssR0FBQTdQLEdBQUE1QyxFQUFBeVMsRUFBVyxtQkFBQUYsR0FBQTNQLEtBQUE4UCxFQUFBOVAsR0FBQTJQLEVBQUEzUCxJQUFxQyxHQUFBeUIsR0FBQWtCLEVBQUE3RCxPQUFBbVcsS0FBQW5GLEVBQXVCLEtBQUlpQixFQUFBakIsR0FBSyxNQUFBa0IsR0FBU3ZQLEVBQUF1UCxFQUFJLGtCQUFrQixHQUFBckIsR0FBQXRGLFVBQUFwSyxPQUFBLFlBQUFvSyxVQUFBLEdBQUFBLFVBQUEsTUFBK0RqTixFQUFBaU4sVUFBQSxFQUFnQixJQUFBNUksRUFBQSxLQUFBQSxFQUFhLFFBQUFvTyxJQUFBLEVBQUFrQixLQUFpQi9RLEVBQUEsRUFBSzJDLEVBQUExQyxPQUFBRCxFQUFXQSxJQUFBLENBQUssR0FBQWdSLEdBQUFyTyxFQUFBM0MsR0FBQWdRLEVBQUFGLEVBQUFrQixHQUFBVyxFQUFBaEMsRUFBQXFCLEdBQUFwUSxFQUFBb1AsRUFBQTJCLEVBQUF2VSxFQUFrQyxhQUFBd0QsRUFBQSxDQUFlLEdBQUE1RSxHQUFBNFQsRUFBQW9CLEVBQUE1VCxFQUFhLE1BQUFkLE9BQUFOLEdBQWUrVSxFQUFBQyxHQUFBcFEsRUFBQWlQLEtBQUFqUCxJQUFBK1EsRUFBa0IsTUFBQTlCLEdBQUFrQixFQUFBcEIsR0FBY3ZTLEVBQUErRyxZQUFBLEVBQUEvRyxFQUFBLFFBQUE0QyxDQUErQixJQUFBeUIsR0FBQXFPLEVBQUEsR0FBQW5OLEVBQUFtTixFQUFBLEdBQUFrQixHQUFBbkIsRUFBQWxOLEdBQUFtTixFQUFBLEdBQWdDRCxHQUFBbUIsSUFBSyxTQUFBckIsRUFBQXZTLEVBQUEwUyxHQUFpQixHQUFBRCxHQUFBQyxFQUFBLElBQUFGLEVBQUFDLEVBQUEvUSxPQUFBZ1gsZUFBQWhYLE9BQThDNlEsR0FBQWhNLFFBQUFpTSxHQUFZLFNBQUFELEVBQUF2UyxHQUFlLFFBQUEwUyxHQUFBSCxHQUFjLEdBQUF2UyxJQUFBLENBQVMsVUFBQXVTLEdBQUEsa0JBQUFBLEdBQUFvRyxTQUFBLElBQThDM1ksS0FBQXVTLEVBQUEsSUFBVyxNQUFBRyxJQUFVLE1BQUExUyxHQUFTdVMsRUFBQWhNLFFBQUFtTSxHQUFZLFNBQUFILEVBQUF2UyxHQUFlLFFBQUEwUyxHQUFBSCxFQUFBdlMsR0FBZ0IsZ0JBQUEwUyxHQUFtQixNQUFBSCxHQUFBdlMsRUFBQTBTLEtBQWdCSCxFQUFBaE0sUUFBQW1NLEdBQVksU0FBQUgsRUFBQXZTLEdBQWUsUUFBQTBTLEdBQUFILEdBQWMsUUFBQUEsR0FBQSxnQkFBQUEsR0FBOEJBLEVBQUFoTSxRQUFBbU0sR0FBWSxTQUFBSCxFQUFBdlMsRUFBQTBTLEdBQWlCSCxFQUFBaE0sUUFBQW1NLEVBQUEsS0FBZ0IsU0FBQUgsRUFBQXZTLEVBQUEwUyxJQUFpQixTQUFBSCxHQUFhLFlBQWEsU0FBQUUsR0FBQUYsR0FBYyxNQUFBQSxNQUFBeEwsV0FBQXdMLEdBQTBCdkwsUUFBQXVMLEdBQWE3USxPQUFBSSxlQUFBOUIsRUFBQSxjQUFzQ21DLE9BQUEsR0FBVyxJQUFBcVEsR0FBQUUsRUFBQSxJQUFBaUIsRUFBQWxCLEVBQUFELEdBQUE1UCxFQUFBLE1BQTRCLFVBQUEyUCxFQUFBM1AsRUFBQTJQLEVBQUEsbUJBQUFqSSxVQUFBMUgsRUFBQTBILE9BQXNELElBQUFqRyxJQUFBLEVBQUFzUCxFQUFBLFNBQUEvUSxFQUEwQjVDLEdBQUEsUUFBQXFFLElBQWV6RCxLQUFBWixFQUFBLFdBQW9CLE1BQUEwRyxXQUFnQixTQUFBNkwsRUFBQXZTLEdBQWUsWUFBYSxTQUFBMFMsR0FBQUgsR0FBYyxHQUFBdlMsR0FBQTBTLEVBQUFILEVBQUFZLE1BQWlCLHlCQUFBVCxLQUFBNmMsV0FBQXZ2QixFQUFBMFMsRUFBQTZjLFlBQUF2dkIsRUFBQTBTLEVBQUEsY0FBQUEsRUFBQTZjLFdBQUF2dkIsS0FBQSxlQUFBQSxFQUE2RzBCLE9BQUFJLGVBQUE5QixFQUFBLGNBQXNDbUMsT0FBQSxJQUFTbkMsRUFBQSxRQUFBMFMsUW5DODhHM3pOLFNBQVMzTixFQUFRd0IsRUFBUzVILEdBRS9CLFlBZUEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdvQ3A5R2pGLFFBQVMwb0IsR0FBWWpHLEdBQ3hCLE1BQU8sVUFBQXRXLEdBQ0h3YyxFQUFBem9CLFFBQU93b0IsWUFBWWpHLEVBQUssU0FBQTNsQixHQUNwQnFQLEdBQ0l6VSx5QkFDQW9GLFlBS1QsUUFBUzhyQixHQUFZbmxCLEdBQ3hCLE1BQU8sVUFBQTBJLEdBQ0hBLEdBQ0l6VSxxQkFDQStMLGNBSUwsUUFBU29sQixLQUNaLE1BQU8sVUFBQTFjLEdBQ0hBLEdBQ0l6VSw0QnBDazdHWGtELE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxJQUVYb0UsRW9DMThHZWlwQixjcEMyOEdmanBCLEVvQ2o4R2VtcEIsY3BDazhHZm5wQixFb0MxN0dlb3BCLGVBMUJoQixJQUFBQyxHQUFBanhCLEVBQUEsSXBDdzlHSzh3QixFQUFXNW9CLEVBQXVCK29CLEdvQ3Q5R3ZDalMsRUFBQWhmLEVBQUEsSXBDMi9HTSxTQUFTb0csRUFBUXdCLEVBQVM1SCxHQUUvQixZQWdCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FkdkZwRixPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR3FDcmdIVixJQUFBOEUsR0FBQXRJLEVBQUEsR3JDMGdIS3VJLEVBQVVMLEVBQXVCSSxHcUN6Z0h0Q0ssRUFBQTNJLEVBQUEsR0FDQXFMLEVBQUFyTCxFQUFBLEVBQ0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxrRkFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUVBLElBQU02dkIsR0FBWSxTQUFBdkcsR0FJZCxHQUhBd0csR0FHQXhHLEVBSEF3RyxNQUNBcEssRUFFQTRELEVBRkE1RCxNQUNBK0UsRUFDQW5CLEVBREFtQixNQUVBLE9BQ0l2akIsR0FBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTTJNLElBQUtzSixFQUFPZ0YsR0FBSW9GLEVBQU1DLFNBQVd0RixFQUFqQnpnQixFQUFBb0IsUUFBQSxVQUFBcEIsRUFBQW9CLFFBQUEsU0FBbUUwa0IsRUFBTUMsU0FDN0Y3b0IsRUFBQUYsUUFBQXpJLGNBQUEsV0FBU3lrQixVQUFVLGNBQ2pCOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLb3hCLEVBQU1FLFVBQVU5cUIsTUFBTSxHQUFHLEdBQU0sUUFDekNnQyxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFVBQU11eEIsRUFBTUcsV0FDWi9vQixFQUFBRixRQUFBekksY0FBQSxVQUNFMkksRUFBQUYsUUFBQXpJLGNBQUEsWUFBT3V4QixFQUFNSSxlQUluQmhwQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZUFDWjhNLEVBQU1LLGNBRFQsU3JDMGlIWDVwQixHQUFRUyxRcUNsaUhNNm9CLEdyQ3NpSFQsU0FBUzlxQixFQUFRd0IsRUFBUzVILEdBRS9CLFlBd0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQXRCdkZwRixPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR3NDemtIVixJQUFBaXVCLEdBQUF6eEIsRUFBQSxJQUNBdXBCLEVBQUF2cEIsRUFBQSxLQUNBeXFCLEVBQUF6cUIsRUFBQSxLQUNBMHhCLEVBQUExeEIsRUFBQSxLQUNBaXhCLEVBQUFqeEIsRUFBQSxLQUNBMnhCLEVBQUEzeEIsRUFBQSxJdENtbEhLNHhCLEVBQVUxcEIsRUFBdUJ5cEIsR3NDbGxIdENFLEVBQUE3eEIsRUFBQSxJdENzbEhLOHhCLEVBQWtCNXBCLEVBQXVCMnBCLEdzQ3BsSHhDRSxHQUFjLEVBQUFOLEVBQUFyQixrQkFDbEI0QixrQ0FBaUJuSiw0QkFBY29KLHdCQUFZQyw4QkFDM0NDLHNCQUFXL0gsc0JBQVdnSSxrQ0FBaUJDLHdCQUN2Q0MsOEJBQWNDLHNCQUFVN0osc0JBQ3hCOEosa0JBQ0FDLHdCQUNBQyxvQkFBUzltQixxQnRDMmxIVmhFLEdBQVFTLFFzQ3hsSE0wcEIsR3RDNGxIVCxTQUFTM3JCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFrQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVN5YyxHQUF5QnpjLEVBQUsrUSxHQUFRLEdBQUkrRyxLQUFhLEtBQUssR0FBSWhjLEtBQUtrRSxHQUFXK1EsRUFBSzFXLFFBQVF5QixJQUFNLEdBQWtCbEIsT0FBT0MsVUFBVUMsZUFBZWhCLEtBQUtrRyxFQUFLbEUsS0FBY2djLEVBQU9oYyxHQUFLa0UsRUFBSWxFLEdBQU0sT0FBT2djLEdBRW5OLFFBQVNFLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBeEJqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlpYyxHQUFXMWMsT0FBT2tXLFFBQVUsU0FBVWdILEdBQVUsSUFBSyxHQUFJaGMsR0FBSSxFQUFHQSxFQUFJcUssVUFBVXBLLE9BQVFELElBQUssQ0FBRSxHQUFJaWMsR0FBUzVSLFVBQVVySyxFQUFJLEtBQUssR0FBSXdaLEtBQU95QyxHQUFjbmQsT0FBT0MsVUFBVUMsZUFBZWhCLEtBQUtpZSxFQUFRekMsS0FBUXdDLEVBQU94QyxHQUFPeUMsRUFBT3pDLElBQVksTUFBT3dDLElBRW5QUyxFQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNdUNqbkhqaUIvWCxFQUFBdEksRUFBQSxHdkNxbkhLdUksRUFBVUwsRUFBdUJJLEd1Q3BuSHRDdWMsRUFBQTdrQixFQUFBLEl2Q3duSEs4a0IsRUFBZTVjLEVBQXVCMmMsR3VDdG5IckM4TixFdkNvb0hNLFNBQVVyUSxHQUdqQixRQUFTcVEsS0FHTCxNQUZBeFMsR0FBZ0JwWSxLQUFNNHFCLEdBRWZyUyxFQUEyQnZZLE1BQU80cUIsRUFBSzVkLFdBQWFoUyxPQUFPZ1gsZUFBZTRZLElBQU9odUIsTUFBTW9ELEtBQU11RyxZQW1CeEcsTUF4QkFpUyxHQUFVb1MsRUFBTXJRLEdBUWhCNUIsRUFBYWlTLElBQ1RsVixJQUFLLFNBQ0xqYSxNQUFPLFd1QzdvSEgsR0FBQStoQixHQUM0QnhkLEtBQUtzTixNQUEvQjRRLEVBREZWLEVBQ0VVLFlBQWdCYixFQURsQlIsRUFBQVcsR0FBQSxnQkFFQ2xCLEdBQVksRUFBQVMsRUFBQXpjLFVBQ2R1cUIsV0FBYzNNLEVBQ2Q0TSxzQkFBeUI1TSxHQUc3QixPQUNJMWQsR0FBQUYsUUFBQXpJLGNBQUEsTUFBQTZmLEdBQUs0RSxVQUFXQSxHQUFlZSxRdkNtcEgvQnVOLEdBQ1RycUIsRUFBT2dOLFV1Q2hwSFZxZCxHQUFLcGQsV0FDRDBRLFlBQWExZCxFQUFBRixRQUFNNkgsVUFBVXlWLE1BRWpDZ04sRUFBS3ZaLGNBQ0Q2TSxhQUFhLEd2Q3FwSGhCcmUsRUFBUVMsUXVDbHBITXNxQixHdkNzcEhULFNBQVN2c0IsRUFBUXdCLEd3Q3BySHZCLFlBYUEsU0FBQWtyQixHQUFBQyxFQUFBQyxFQUFBaEYsR0FDQStFLEVBQUFELGlCQUNBQyxFQUFBRCxpQkFBQUUsRUFBQWhGLEdBQUEsR0FFQStFLEVBQUFFLFlBQUEsS0FBQUQsRUFBQWhGLEdBSUEsUUFBQWtGLEdBQUFILEVBQUFDLEVBQUFoRixHQUNBK0UsRUFBQUcsb0JBQ0FILEVBQUFHLG9CQUFBRixFQUFBaEYsR0FBQSxHQUVBK0UsRUFBQUksWUFBQSxLQUFBSCxFQUFBaEYsR0FJQSxRQUFBb0YsS0FHQSxNQUFBem5CLFFBQUFGLFNBQUFPLEtBQUE2ZSxNQUFBLFlBR0EsUUFBQXdJLEdBQUE5bUIsR0FDQVosT0FBQUYsU0FBQWtPLFFBQUFoTyxPQUFBRixTQUFBSSxTQUFBRixPQUFBRixTQUFBNlgsT0FBQSxJQUFBL1csR0FHQSxRQUFBK21CLEtBQ0EsTUFBQTNuQixRQUFBRixTQUFBSSxTQUFBRixPQUFBRixTQUFBNlgsT0FBQTNYLE9BQUFGLFNBQUE4WCxLQUdBLFFBQUFTLEdBQUFqUSxHQUNBQSxHQUFBcEksT0FBQVUsUUFBQTJYLEdBQUFqUSxHQUdBLFFBQUF3ZixHQUFBblosRUFBQS9aLEdBQ0FBLEVBQUFzTCxPQUFBaVgsUUFBQXhJLElBV0EsUUFBQW9aLEtBQ0EsR0FBQUMsR0FBQUMsVUFBQUMsU0FDQSxRQUFBRixFQUFBanhCLFFBQUEsb0JBQUFpeEIsRUFBQWp4QixRQUFBLHFCQUFBaXhCLEVBQUFqeEIsUUFBQSx1QkFBQWl4QixFQUFBanhCLFFBQUEsZ0JBQUFpeEIsRUFBQWp4QixRQUFBLHlCQUdBbUosT0FBQVUsU0FBQSxhQUFBVixRQUFBVSxTQU9BLFFBQUF1bkIsS0FDQSxHQUFBSCxHQUFBQyxVQUFBQyxTQUNBLE9BQUFGLEdBQUFqeEIsUUFBQSxnQkF2RUFvRixFQUFBUSxZQUFBLEVBQ0FSLEVBQUFrckIsbUJBQ0FsckIsRUFBQXNyQixzQkFDQXRyQixFQUFBd3JCLGNBQ0F4ckIsRUFBQXlyQixrQkFDQXpyQixFQUFBMHJCLGdCQUNBMXJCLEVBQUFvYyxLQUNBcGMsRUFBQTJyQixzQkFDQTNyQixFQUFBNHJCLGtCQUNBNXJCLEVBQUFnc0Isb0N4Q3l2SE0sU0FBU3h0QixFQUFRd0IsRUFBUzVILEl5Q3B3SGhDLFNBQUFrTyxHQUFBLFlBSUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQU03RSxRQUFBMHJCLEdBQUEzeEIsRUFBQWtZLEdBQ0Esa0JBRUEsTUFEQSxlQUFBbE0sRUFBQU0sSUFBQXNNLFNBQUFOLEVBQUEsd0JBQUFKLEdBQUFySixPQUNBN08sRUFBQXlDLE1BQUFvRCxLQUFBdUcsWUFYQTFHLEVBQUFRLFlBQUEsQ0FJQSxJQUFBc1MsR0FBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsRUFTQTlTLEdBQUEsUUFBQWlzQixFQUNBenRCLEVBQUF3QixVQUFBLFV6Q3V3SDhCM0YsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxJMEM3eEhoQyxTQUFBa08sR0FBQSxZQUlBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FNN0UsUUFBQTJyQixHQUFBaEcsRUFBQXJpQixFQUFBcEwsR0FDQSxHQUFBMkcsR0FBQThtQixFQUFBcmlCLEVBQUFwTCxFQUVBeXRCLEdBQUE1cEIsT0FBQSxFQUdBN0QsRUFBQTJHLEdBRUEsZUFBQWtILEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLFFBQUF6SixTQUFBL0osRUFBQSxvR0FBOEorSixPQWhCOUpuSixFQUFBUSxZQUFBLENBSUEsSUFBQXNTLEdBQUExYSxFQUFBLEdBRUF3YSxFQUFBdFMsRUFBQXdTLEVBY0E5UyxHQUFBLFFBQUFrc0IsRUFDQTF0QixFQUFBd0IsVUFBQSxVMUNneUg4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixHMkMzekh2QixZQUtBLFNBQUFtc0IsR0FBQUMsRUFBQUMsRUFBQTV6QixHQU9BLFFBQUE2ekIsS0FFQSxNQURBQyxJQUFBLEVBQ0FDLE9BRUFDLEtBQUEzbUIsT0FBQVcsTUFBQXJMLFVBQUF1RCxNQUFBdEUsS0FBQXFNLGlCQUlBak8sR0FBQXNFLE1BQUFvRCxLQUFBdUcsV0FHQSxRQUFBaWlCLEtBQ0EsSUFBQTRELElBSUFHLEdBQUEsR0FDQUYsR0FBQSxDQU9BLElBRkFBLEdBQUEsR0FFQUQsR0FBQUksRUFBQVAsR0FBQU0sR0FDQUEsR0FBQSxFQUNBTCxFQUFBaHlCLEtBQUE4RixLQUFBd3NCLElBQUFoRSxFQUFBMkQsRUFLQSxPQUZBRSxJQUFBLEVBRUFELE1BRUE5ekIsR0FBQXNFLE1BQUFvRCxLQUFBc3NCLFFBSUFFLEdBQUFQLEdBQUFNLElBQ0FILEdBQUEsRUFDQTl6QixPQTdDQSxHQUFBazBCLEdBQUEsRUFDQUosR0FBQSxFQUNBQyxHQUFBLEVBQ0FFLEdBQUEsRUFDQUQsRUFBQSxNQTZDQTlELEtBR0EsUUFBQWlFLEdBQUF4bUIsRUFBQWltQixFQUFBNXpCLEdBU0EsUUFBQTZ6QixHQUFBbk4sRUFBQXJmLEVBQUFsRSxHQUNBMndCLElBRUF6c0IsR0FDQXlzQixHQUFBLEVBQ0E5ekIsRUFBQXFILEtBRUErc0IsRUFBQTFOLEdBQUF2akIsRUFFQTJ3QixJQUFBTyxJQUFBeHdCLEVBRUFpd0IsR0FBQTl6QixFQUFBLEtBQUFvMEIsS0FuQkEsR0FBQXZ3QixHQUFBOEosRUFBQTlKLE9BQ0F1d0IsSUFFQSxRQUFBdndCLEVBQUEsTUFBQTdELEdBQUEsS0FBQW8wQixFQUVBLElBQUFOLElBQUEsRUFDQU8sRUFBQSxDQWlCQTFtQixHQUFBZ1MsUUFBQSxTQUFBbFosRUFBQWlnQixHQUNBa04sRUFBQW50QixFQUFBaWdCLEVBQUEsU0FBQXJmLEVBQUFsRSxHQUNBMHdCLEVBQUFuTixFQUFBcmYsRUFBQWxFLE9BbEZBb0UsRUFBQVEsWUFBQSxFQUNBUixFQUFBbXNCLFlBQ0Fuc0IsRUFBQTRzQixZM0NvNUhNLFNBQVNwdUIsRUFBUXdCLEVBQVM1SCxJNEN4NUhoQyxTQUFBa08sR0FBQSxZQW1CQSxTQUFBeW1CLEdBQUF4c0IsR0FBdUMsR0FBQUEsS0FBQUMsV0FBNkIsTUFBQUQsRUFBcUIsSUFBQXlzQixLQUFpQixVQUFBenNCLEVBQW1CLE9BQUFzVixLQUFBdFYsR0FBdUJwRixPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQWtHLEVBQUFzVixLQUFBbVgsRUFBQW5YLEdBQUF0VixFQUFBc1YsR0FBc0csT0FBdEJtWCxHQUFBdnNCLFFBQUFGLEVBQXNCeXNCLEVBRTFQLFFBQUExc0IsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBbkI3RVAsRUFBQVEsWUFBQSxFQUNBUixFQUFBMG5CLE9BQUExbkIsRUFBQW1ZLE9BQUFuWSxFQUFBK1gsTUFBQS9YLEVBQUFpYyxXQUFBamMsRUFBQTRFLFVBQUE1RSxFQUFBNkQsU0FBQTdELEVBQUF5RSxRQUFBekUsRUFBQThiLE1BQUE5YixFQUFBcUksY0FBQXJJLEVBQUFvSSxZQUFBZSxNQUVBLElBQUF6SSxHQUFBdEksRUFBQSxHQUVBOHVCLEVBQUE5dUIsRUFBQSxJQUVBK3VCLEVBQUE3bUIsRUFBQTRtQixHQUVBK0YsRUFBQTcwQixFQUFBLElBRUE4MEIsRUFBQUgsRUFBQUUsR0FFQTNGLEVBQUFsdkIsRUFBQSxHQUVBbXZCLEVBQUFqbkIsRUFBQWduQixHQU1BOWEsRUFBQTlMLEVBQUE0SCxVQUFBa0UsS0FDQStLLEVBQUE3VyxFQUFBNEgsVUFBQWlQLE9BQ0FqTCxFQUFBNUwsRUFBQTRILFVBQUFnRSxNQUNBaVAsRUFBQTdhLEVBQUE0SCxVQUFBaVQsT0FDQW5ULEVBQUFwSSxFQUFBb0ksWUFBQWtFLEdBQ0F6UixLQUFBMlIsRUFBQUMsV0FDQXNGLFFBQUF2RixFQUFBQyxXQUNBMlAsR0FBQTVQLEVBQUFDLFdBQ0E0UCxPQUFBN1AsRUFBQUMsV0FDQTZQLFVBQUE5UCxFQUFBQyxXQUNBa2Isa0JBQUFuYixFQUFBQyxXQUNBMGdCLFNBQUEzZ0IsRUFBQUMsYUFHQXBFLEVBQUFySSxFQUFBcUksY0FBQWlFLEdBQ0FySSxTQUFBc1gsRUFBQTlPLFdBQ0FpUCxPQUFBSCxFQUFBOU8sV0FDQW1DLE1BQUEySSxFQUNBZ0csT0FBQWhDLEVBQUE5TyxXQUNBb0osSUFBQTBGLElBS0FPLEVBQUE5YixFQUFBOGIsTUFBQW9SLEVBQUFwUixNQUNBclgsRUFBQXpFLEVBQUF5RSxRQUFBeW9CLEVBQUF6b0IsUUFDQVosRUFBQTdELEVBQUE2RCxTQUFBd0UsRUFDQXpELEVBQUE1RSxFQUFBNEUsVUFBQXNvQixFQUFBdG9CLFVBQ0FxWCxFQUFBamMsRUFBQWljLFdBQUFpUixFQUFBalIsV0FDQWxFLEVBQUEvWCxFQUFBK1gsTUFBQW1WLEVBQUFuVixNQUNBSSxFQUFBblksRUFBQW1ZLE9BQUErVSxFQUFBL1UsT0FDQXVQLEVBQUExbkIsRUFBQTBuQixPQUFBdGYsQ0FFQSxnQkFBQTlCLEVBQUFNLElBQUFzTSxXQUNBLFdBQ0EsR0FBQWthLEdBQUEsU0FBQUMsRUFBQTdhLEdBQ0Esa0JBRUEsTUFEQSxlQUFBbE0sRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSxFQUFBK1IsR0FBQSxPQUNBNmEsRUFBQXR3QixNQUFBb00sT0FBQXpDLGFBSUE0bUIsRUFBQSxTQUFBRCxHQUNBLE1BQUFELEdBQUFDLEVBQUEsZ01BR0FFLEVBQUEsU0FBQUYsRUFBQW55QixHQUNBLE1BQUFreUIsR0FBQUMsRUFBQSxRQUFBbnlCLEVBQUEsbUNBQUFBLEVBQUEscUdBR0E4RSxHQUFBOGIsUUFBQXdSLEVBQUF4UixHQUNBOWIsRUFBQXlFLFVBQUE2b0IsRUFBQTdvQixHQUNBekUsRUFBQTRFLFlBQUEwb0IsRUFBQTFvQixHQUNBNUUsRUFBQWljLGFBQUFxUixFQUFBclIsR0FDQWpjLEVBQUErWCxRQUFBdVYsRUFBQXZWLEdBQ0EvWCxFQUFBbVksU0FBQW1WLEVBQUFuVixHQUVBblksRUFBQTZELFdBQUEwcEIsRUFBQTFwQixFQUFBLFlBQ0E3RCxFQUFBMG5CLFNBQUE2RixFQUFBN0YsRUFBQSxZQUlBLElBQUE4RixJQUNBMVIsUUFDQXJYLFVBQ0FaLFdBQ0FlLFlBQ0FxWCxhQUNBbEUsUUFFQTJQLFNBR0EsZ0JBQUFwaEIsRUFBQU0sSUFBQXNNLFdBQ0FzYSxHQUFBLEVBQUFyRyxFQUFBMW1CLFNBQUErc0IsRUFBQSw4R0FHQXh0QixFQUFBUyxRQUFBK3NCLEk1QzI1SDhCbnpCLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSTZDbmdJaEMsU0FBQWtPLEdBQUEsWUE4QkEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBa3RCLEdBQUFsVyxHQUNBLE9BQUFsZixLQUFBa2YsR0FDQSxHQUFBcGMsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFrZCxFQUFBbGYsR0FBQSxRQUNHLFVBR0gsUUFBQXExQixHQUFBanBCLEVBQUEwVCxHQUtBLFFBQUFnVixHQUFBdHBCLEdBQ0EsR0FBQThwQixLQUFBam5CLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxLQUFBQSxVQUFBLEdBQ0FrbkIsRUFBQWxuQixVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsUUFBQUEsVUFBQSxHQUVBbW5CLEVBQUEsTUFVQSxPQVRBRixTQUFBLFVBQUFDLEdBQ0EsZUFBQXRuQixFQUFBTSxJQUFBc00sVUFBQSxFQUFBcVUsRUFBQTltQixVQUFBLDJLQUF1SSxPQUN2SW9ELEdBQWtCSSxTQUFBSixFQUFBd2YsTUFBQXNLLEdBQ2xCRSxFQUFBRCxJQUFBLElBRUEvcEIsRUFBQVksRUFBQThoQixlQUFBMWlCLEdBQ0FncUIsRUFBQUYsSUFHQSxFQUFBRyxFQUFBcnRCLFNBQUFvRCxFQUFBZ3FCLEVBQUFqZixFQUFBL0ssU0FBQStLLEVBQUF1SixPQUFBdkosRUFBQXFSLFFBS0EsUUFBQTlYLEdBQUF0RSxFQUFBcEwsR0FDQXMxQixLQUFBbHFCLGFBRUFtcUIsRUFBQUQsRUFBQXQxQixJQUVBLEVBQUF3MUIsRUFBQXh0QixTQUFBMFgsRUFBQXRVLEVBQUEsU0FBQS9ELEVBQUFvdUIsR0FDQXB1QixFQUNBckgsRUFBQXFILEdBQ1NvdUIsRUFDVEYsRUFBQW5XLEtBQWlDcVcsR0FBY3JxQixhQUFxQnBMLEdBRXBFQSxNQU1BLFFBQUF1MUIsR0FBQUUsRUFBQXoxQixHQXNCQSxRQUFBMDFCLEdBQUFydUIsRUFBQXN1QixHQUNBLE1BQUF0dUIsSUFBQXN1QixFQUFBQyxFQUFBdnVCLEVBQUFzdUIsUUFHQSxFQUFBRSxFQUFBN3RCLFNBQUF5dEIsRUFBQSxTQUFBcHVCLEVBQUFtYyxHQUNBbmMsRUFDQXJILEVBQUFxSCxHQUlBckgsRUFBQSxVQUFBbVcsRUFBQWlKLEtBQWtEcVcsR0FBY2pTLGtCQUtoRSxRQUFBb1MsR0FBQXZ1QixFQUFBc3VCLEdBQ0F0dUIsRUFBQXJILEVBQUFxSCxHQUFpQ3JILEVBQUEsS0FBQTIxQixHQXJDakMsR0FBQUcsSUFBQSxFQUFBQyxFQUFBL3RCLFNBQUFtTyxFQUFBc2YsR0FFQU8sRUFBQUYsRUFBQUUsWUFDQUMsRUFBQUgsRUFBQUcsYUFDQUMsRUFBQUosRUFBQUksYUFHQSxFQUFBQyxFQUFBQyxlQUFBSixFQUFBN2YsR0FHQTZmLEVBQUFLLE9BQUEsU0FBQS9XLEdBQ0EsTUFBQTRXLEdBQUEvekIsUUFBQW1kLE1BQUEsSUFDS0ssUUFBQTJXLElBR0wsRUFBQUgsRUFBQUksZ0JBQUFOLEVBQUE5ZixFQUFBc2YsRUFBQSxTQUFBcHVCLEVBQUFzdUIsR0FDQSxNQUFBdHVCLElBQUFzdUIsRUFBQUMsRUFBQXZ1QixFQUFBc3VCLFFBRUEsRUFBQVEsRUFBQUssZUFBQU4sRUFBQVQsRUFBQUMsS0F5QkEsUUFBQWUsR0FBQW5YLEdBQ0EsR0FBQWhMLEdBQUFyRyxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsSUFBQUEsVUFBQSxFQUVBLE9BQUFxUixHQUFBb1gsUUFBQXBpQixJQUFBZ0wsRUFBQW9YLE9BQUFDLEtBS0EsUUFBQUMsR0FBQWxYLEdBQ0EsTUFBQUEsR0FBQW1YLE9BQUEsU0FBQUMsRUFBQXhYLEdBRUEsTUFEQXdYLEdBQUExMEIsS0FBQWtDLE1BQUF3eUIsRUFBQUMsRUFBQU4sRUFBQW5YLEtBQ0F3WCxPQUlBLFFBQUFFLEdBQUE1ckIsRUFBQXBMLElBQ0EsRUFBQXcxQixFQUFBeHRCLFNBQUEwWCxFQUFBdFUsRUFBQSxTQUFBL0QsRUFBQW91QixHQUNBLFNBQUFBLEVBS0EsV0FEQXoxQixJQU1BczFCLEdBQUFsVyxLQUFvQ3FXLEdBQWNycUIsWUFLbEQsUUFIQTByQixHQUFBRixHQUFBLEVBQUFiLEVBQUEvdEIsU0FBQW1PLEVBQUFtZixHQUFBVSxhQUVBcnZCLEVBQUEsT0FDQS9DLEVBQUEsRUFBQTRKLEVBQUFzcEIsRUFBQWp6QixPQUF5QyxNQUFBOEMsR0FBQS9DLEVBQUE0SixJQUEyQjVKLEVBR3BFK0MsRUFBQW13QixFQUFBbHpCLEdBQUF3SCxFQUdBcEwsR0FBQTJHLEtBS0EsUUFBQXN3QixLQUdBLEdBQUE5Z0IsRUFBQXVKLE9BQUEsQ0FJQSxPQUhBb1gsR0FBQUYsRUFBQXpnQixFQUFBdUosUUFFQTNGLEVBQUEsT0FDQW5XLEVBQUEsRUFBQTRKLEVBQUFzcEIsRUFBQWp6QixPQUF5QyxnQkFBQWtXLElBQUFuVyxFQUFBNEosSUFBd0M1SixFQUdqRm1XLEVBQUErYyxFQUFBbHpCLElBR0EsT0FBQW1XLElBT0EsUUFBQXVjLEdBQUFoWCxHQUNBLEdBQUE0WCxHQUFBVCxFQUFBblgsR0FBQSxFQUNBNFgsV0FJQUgsR0FBQUcsR0FFQWxDLEVBQUErQixLQUVBSSxJQUNBQSxJQUNBQSxFQUFBLE1BR0FDLElBQ0FBLElBQ0FBLEVBQUEsUUFrQkEsUUFBQWpJLEdBQUE3UCxFQUFBbU8sR0FJQSxHQUFBeUosR0FBQVQsRUFBQW5YLEdBQ0F3WCxFQUFBQyxFQUFBRyxFQUVBLElBQUFKLEVBWUFBLEVBQUEzMEIsUUFBQXNyQixNQUFBLElBQ0EsZUFBQTVmLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEsMEhBQWtKLE9BRWxKOHVCLEVBQUExMEIsS0FBQXFyQixRQWZBLENBQ0EsR0FBQTRKLElBQUFyQyxFQUFBK0IsRUFFQUEsR0FBQUcsSUFBQXpKLEdBRUE0SixJQUVBRixFQUFBbnJCLEVBQUF3aEIsYUFBQXdKLEdBRUFockIsRUFBQXNyQixxQkFBQUYsRUFBQXByQixFQUFBc3JCLG1CQUFBTCxLQVVBLGtCQUNBLEdBQUFILEdBQUFDLEVBQUFHLEVBRUEsSUFBQUosRUFBQSxDQUNBLEdBQUFTLEdBQUFULEVBQUFULE9BQUEsU0FBQTV2QixHQUNBLE1BQUFBLEtBQUFnbkIsR0FHQSxLQUFBOEosRUFBQTF6QixPQUNBeXlCLEVBQUFoWCxHQUVBeVgsRUFBQUcsR0FBQUssSUFXQSxRQUFBcHNCLEdBQUF3aUIsR0FHQSxNQUFBM2hCLEdBQUFiLE9BQUEsU0FBQUMsR0FDQStLLEVBQUEvSyxhQUNBdWlCLEVBQUEsS0FBQXhYLEdBRUF6RyxFQUFBdEUsRUFBQSxTQUFBL0QsRUFBQW13QixFQUFBL0IsR0FDQXB1QixFQUNBc21CLEVBQUF0bUIsR0FDV213QixFQUNYeHJCLEVBQUFzTixRQUFBa2UsR0FDVy9CLEVBQ1g5SCxFQUFBLEtBQUE4SCxHQUVBLGVBQUE1bkIsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSwyQ0FBQW9ELEVBQUFJLFNBQUFKLEVBQUE2WCxPQUFBN1gsRUFBQThYLE1BQUEsV0FyUEEsR0FBQS9NLE1BcUJBbWYsRUFBQSxPQTZEQXFCLEVBQUEsRUFRQUksRUFBQXIwQixPQUFBNFIsT0FBQSxNQXNEQTZpQixFQUFBLE9BQ0FDLEVBQUEsTUEyR0EsUUFDQTFDLFdBQ0FobEIsUUFDQXlmLDJCQUNBaGtCLFVBclNBNUQsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLEdBRS9PclksR0FBQVMsUUFBQWl0QixDQUVBLElBQUFwRyxHQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FFQTRJLEVBQUE5M0IsRUFBQSxLQUVBbzJCLEVBQUFsdUIsRUFBQTR2QixHQUVBdEIsRUFBQXgyQixFQUFBLEtBRUErM0IsRUFBQS8zQixFQUFBLEtBRUEwMUIsRUFBQXh0QixFQUFBNnZCLEdBRUFDLEVBQUFoNEIsRUFBQSxLQUVBazJCLEVBQUFodUIsRUFBQTh2QixHQUVBQyxFQUFBajRCLEVBQUEsS0FFQTYxQixFQUFBM3RCLEVBQUErdkIsRUFpUkE3eEIsR0FBQXdCLFVBQUEsVTdDc2dJOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEc4Q3Z6SWhDb0csRUFBQXdCLFFBQUE1SCxFQUFBQyxFQUFBLG1COUM2eklNLFNBQVNtRyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBY0EsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQWxCamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTStDbDBJamlCL1gsRUFBQXRJLEVBQUEsRy9DczBJS3VJLEVBQVVMLEVBQXVCSSxFK0NyMEl0Q3RJLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSwrRUFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLL0NvMUlDLEkrQ2wxSW9CNjJCLEcvQ2sxSUosU0FBVTVWLEdBR3hCLFFBQVM0VixLQUdQLE1BRkEvWCxHQUFnQnBZLEtBQU1td0IsR0FFZjVYLEVBQTJCdlksTUFBT213QixFQUFVbmpCLFdBQWFoUyxPQUFPZ1gsZUFBZW1lLElBQVl2ekIsTUFBTW9ELEtBQU11RyxZQWdCaEgsTUFyQkFpUyxHQUFVMlgsRUFBVzVWLEdBUXJCNUIsRUFBYXdYLElBQ1h6YSxJQUFLLFNBQ0xqYSxNQUFPLFcrQzMxSVIsTUFDRStFLEdBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxnQkFFVixFQUFFLEVBQUUsR0FBR2EsSUFBSSxTQUFBNkIsR0FBQSxNQUNWeGUsR0FBQUYsUUFBQXpJLGNBQUEsUUFBTTZkLElBQUtzSixFQUFPMUMsVUFBQSx5QkFBb0MwQyxXL0NrMkl4RG1SLEdBQ1A1dkIsRUFBT2dOLFVBRVQxTixHQUFRUyxRK0MzMklZNnZCLEcvQysySWYsU0FBUzl4QixFQUFRd0IsRUFBUzVILEdBRS9CLFlBd0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0E1QmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEdBR1gsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYztBQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE1nRDczSWppQi9YLEVBQUF0SSxFQUFBLEdoRGk0SUt1SSxFQUFVTCxFQUF1QkksR2dEaDRJdENJLEVBQUExSSxFQUFBLEdBQ0EySSxFQUFBM0ksRUFBQSxHQUNBcUwsRUFBQXJMLEVBQUEsR0FDQW00QixFQUFBbjRCLEVBQUEsSWhEdTRJS280QixFQUFZbHdCLEVBQXVCaXdCLEdnRHQ0SXhDekcsRUFBQTF4QixFQUFBLElBRU1xNEIsRWhEZzVJWSxTQUFVL1YsR0FHdkIsUUFBUytWLEtBR0wsTUFGQWxZLEdBQWdCcFksS0FBTXN3QixHQUVmL1gsRUFBMkJ2WSxNQUFPc3dCLEVBQVd0akIsV0FBYWhTLE9BQU9nWCxlQUFlc2UsSUFBYTF6QixNQUFNb0QsS0FBTXVHLFlBdUZwSCxNQTVGQWlTLEdBQVU4WCxFQUFZL1YsR0FRdEI1QixFQUFhMlgsSUFDVDVhLElBQUssb0JBQ0xqYSxNQUFPLFdnRDE1SU8sR0FBQStoQixHQUNxQ3hkLEtBQUtzTixNQUFsRGlkLEVBRFEvTSxFQUNSK00sY0FBd0JnRyxHQURoQi9TLEVBQ01nTixVQUROaE4sRUFDZ0IrUyxZQUFXQyxFQUQzQmhULEVBQzJCZ1QsTUFDdENqRyxHQUFjN0csU0FDZDZNLEVBQVcsRUFBRSxLQUViaEcsRUFBYzdHLFNBQ2Q4TSxPaERtNklIOWEsSUFBSyxnQkFDTGphLE1BQU8sV2dEaDZJUnVFLEtBQUtzTixNQUFNbWpCLG1CaERvNklWL2EsSUFBSyxTQUNMamEsTUFBTyxXZ0RuNklKLEdBQUFpc0IsR0FDOEIxbkIsS0FBS3NOLE1BQWhDaWQsRUFESDdDLEVBQ0c2QyxjQUFjQyxFQURqQjlDLEVBQ2lCOEMsU0FDckIsT0FDSWhxQixHQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZUFDWDliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxhQUFmLFFBQ0NpTyxFQUFjcnRCLEtBQUtmLE9BQU8sRUFBRXFFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUFjekMsUUFBUzdaLEtBQUt5d0IsY0FBY3ZnQixLQUFLbFEsTUFBT2hJLElBQUtDLEVBQVEsT0FBK0IsR0FDOUl1SSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsWUFDVmlPLEVBQWNydEIsS0FBS2YsT0FBTyxFQUFFb3VCLEVBQWNydEIsS0FBS2lnQixJQUFJLFNBQUNwZSxFQUFLaWdCLEdBQU4sTUFDaER4ZSxHQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNMk0sSUFBS3NKLEVBQU9nRixHQUFBMWdCLEVBQUFvQixRQUFBLGlCQUErQjNGLEVBQUt3YyxRQUNsRC9hLEVBQUFGLFFBQUF6SSxjQUFBLE9BQU15a0IsVUFBVSxnQkFBZ0J2ZCxFQUFLd2MsV0FFekNnUCxFQUFjN0csUUFBUWxqQixFQUFBRixRQUFBekksY0FBQXc0QixFQUFBL3ZCLFFBQUEsTUFBWUUsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQWYsU0FFMUM5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsYUFBZixRQUNBOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFlBQ1ZrTyxFQUFVdHRCLEtBQUtmLE9BQU8sRUFBRXF1QixFQUFVdHRCLEtBQUtpZ0IsSUFBSSxTQUFDcGUsRUFBS2lnQixHQUFOLE1BQ3hDeGUsR0FBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTTJNLElBQUtzSixFQUFPZ0YsR0FBQTFnQixFQUFBb0IsUUFBQSxpQkFBK0IzRixFQUFLd2MsUUFDbEQvYSxFQUFBRixRQUFBekksY0FBQSxPQUFNeWtCLFVBQVUsWUFBWXZkLEVBQUt3YyxXQUVyQ2lQLEVBQVU5RyxRQUFRbGpCLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsUUFBQSxNQUFZRSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBZixjaEQ2OEkxQ2dVLEdBQ1QvdkIsRUFBT2dOLFVBRVQxTixHQUFRUyxTZ0R6OElNLEVBQUFLLEVBQUFzTCxTQUFRLFNBQUF3QyxHQUFBLE9BQ25COGIsY0FBZTliLEVBQU04YixjQUNyQkMsVUFBVy9iLEVBQU0rYixZQUNsQixTQUFBamUsR0FBQSxPQUNDZ2tCLFdBQVcsU0FBQ3ZzQixFQUFLc1MsR0FDYi9KLEdBQVMsRUFBQW9kLEVBQUErRyxrQkFBaUIxc0IsRUFBS3NTLEtBRW5Da2EsT0FBTyxXQUNIamtCLEdBQVMsRUFBQW9kLEVBQUFnSCxrQkFFYkYsY0FBYyxXQUNWbGtCLEdBQVMsRUFBQW9kLEVBQUE4RyxzQkFFYkgsSWhEaTlJRSxTQUFTanlCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFzQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQTFCamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTWlEOWdKamlCL1gsRUFBQXRJLEVBQUEsR2pEa2hKS3VJLEVBQVVMLEVBQXVCSSxHaURqaEp0Q0ssRUFBQTNJLEVBQUEsR0FDQTI0QixFQUFBMzRCLEVBQUEsSWpEc2hKSzQ0QixFQUFTMXdCLEVBQXVCeXdCLEVpRHJoSnJDMzRCLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxrR0FBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUNBLElBQUFnSyxHQUFBckwsRUFBQSxHQUVxQjY0QixFakRzaUpZLFNBQVV2VyxHaURyaUp6QyxRQUFBdVcsR0FBWXhqQixHQUFPLE1BQUE4SyxHQUFBcFksS0FBQTh3QixHQUFBdlksRUFBQXZZLE1BQUE4d0IsRUFBQTlqQixXQUFBaFMsT0FBQWdYLGVBQUE4ZSxJQUFBNTJCLEtBQUE4RixLQUNYc04sSWpEa25KUCxNQTdFQWtMLEdBQVVzWSxFQUEyQnZXLEdBUXJDNUIsRUFBYW1ZLElBQ1hwYixJQUFLLFNBQ0xqYSxNQUFPLFdpRDVpSkQsR0FBQStoQixHQUNrQnhkLEtBQUtzTixNQUF2QndXLEVBREF0RyxFQUNBc0csU0FBVXJzQixFQURWK2xCLEVBQ1UvbEIsSUFDakIsT0FDRStJLEdBQUFGLFFBQUF6SSxjQUFBLFdBQVN5a0IsVUFBVSwyQkFDakI5YixFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNaWIsR0FBSTFnQixFQUFBb0IsUUFBUSxZQUFZb2YsRUFBU3htQixJQUNyQ2tELEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxvQkFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFVBQU1pc0IsRUFBUzlKLFVBRWpCeFosRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFVBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFNUCxJQUVYK0ksRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLFVBQ2Q5YixFQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsZ0JBQ2hCOWIsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGlCQUNoQjliLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxlQUFld0gsRUFBU2lOLFNBQVMsUUFBUSxZQUc3RHZ3QixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsVUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFTdVUsRUFBQXZ3QixRQUFLMHdCLFlBQVlsTixFQUFTbU4sTUFBbEQsT0FDQXp3QixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFlBQU9pc0IsRUFBU3JnQixPQUFoQixRQUNBakQsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLE9BQU93SCxFQUFTb04sS0FBaEMsaUJqRDBsSkpKLEdBQ1B2d0IsRUFBT2dOLFVBRVQxTixHQUFRUyxRaUR2bkpZd3dCLEdqRDJuSmYsU0FBU3p5QixFQUFRd0IsR0FFdEIsWUFFQTdFLFFBQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxJQUVYb0UsRUFBUVMsU2tEem9KTDB3QixZQUxZLFNBS0FDLEdBRVIsR0FBSUUsR0FBTSxHQUFJQyxNQUNWQyxFQUFZLEdBQUlELE1BQUtILEdBQU1LLFNBQ0MsS0FBN0JELEVBQVVwZixXQUFXOVYsU0FDcEJrMUIsR0FBc0IsSUFFMUIsSUFBSUUsR0FBV0osRUFBSUcsVUFBVSxJQUFPRCxDQUNwQyxPQUFJRSxHQUFVLEdBQ0hDLFNBQVNELEdBQVcsS0FDckJBLEVBQVUsS0FDVEMsU0FBU0QsRUFBVSxJQUFNLE1BQzFCQSxFQUFVLE1BQ1RDLFNBQVNELEVBQVUsTUFBUSxNQUM1QkEsRUFBVSxPQUNUQyxTQUFVRCxFQUFVLE9BQVMsS0FDOUJBLEVBQVUsUUFDVEMsU0FBVUQsRUFBVSxRQUFXLE1BRS9CQyxTQUFVRCxFQUFVLFNBQVksUWxEcXBKN0MsU0FBU2x6QixFQUFRd0IsRUFBUzVILEdBRS9CLFlBMEJBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTeWMsR0FBeUJ6YyxFQUFLK1EsR0FBUSxHQUFJK0csS0FBYSxLQUFLLEdBQUloYyxLQUFLa0UsR0FBVytRLEVBQUsxVyxRQUFReUIsSUFBTSxHQUFrQmxCLE9BQU9DLFVBQVVDLGVBQWVoQixLQUFLa0csRUFBS2xFLEtBQWNnYyxFQUFPaGMsR0FBS2tFLEVBQUlsRSxHQUFNLE9BQU9nYyxHQUVuTixRQUFTRSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQWhDamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJaWMsR0FBVzFjLE9BQU9rVyxRQUFVLFNBQVVnSCxHQUFVLElBQUssR0FBSWhjLEdBQUksRUFBR0EsRUFBSXFLLFVBQVVwSyxPQUFRRCxJQUFLLENBQUUsR0FBSWljLEdBQVM1UixVQUFVckssRUFBSSxLQUFLLEdBQUl3WixLQUFPeUMsR0FBY25kLE9BQU9DLFVBQVVDLGVBQWVoQixLQUFLaWUsRUFBUXpDLEtBQVF3QyxFQUFPeEMsR0FBT3lDLEVBQU96QyxJQUFZLE1BQU93QyxJQUVuUFMsRUFBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTW1EbHJKamlCL1gsRUFBQXRJLEVBQUEsR25Ec3JKS3VJLEVBQVVMLEVBQXVCSSxHbURyckp0Q3VjLEVBQUE3a0IsRUFBQSxJbkR5ckpLOGtCLEVBQWU1YyxFQUF1QjJjLEdtRHhySjNDRSxFQUFBL2tCLEVBQUEsSW5ENHJKS2dsQixFQUFTOWMsRUFBdUI2YyxFbUQzckpyQy9rQixJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsNkNBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsTUFDQXJCLEdBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxnREFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLbkQ0c0pDLEltRDFzSkttNEIsR25EMHNKUyxTQUFVbFksR0FHdEIsUUFBU2tZLEtBR1AsTUFGQXJaLEdBQWdCcFksS0FBTXl4QixHQUVmbFosRUFBMkJ2WSxNQUFPeXhCLEVBQVF6a0IsV0FBYWhTLE9BQU9nWCxlQUFleWYsSUFBVTcwQixNQUFNb0QsS0FBTXVHLFlBZ0U1RyxNQXJFQWlTLEdBQVVpWixFQUFTbFksR0FRbkJaLEVBQWE4WSxJQUNYL2IsSUFBSyxnQkFDTGphLE1BQU8sV21EbHRKUixNQUFPdUUsTUFBS3NOLE1BQU1xTSxRQUFRd0QsSUFBSSxTQUFDQyxFQUFRNWdCLEdBQVEsR0FDdEMxRSxHQUEwQnNsQixFQUExQnRsQixLQUFNOGhCLEVBQW9Cd0QsRUFBcEJ4RCxNQUFVeUQsRUFEc0JSLEVBQ1pPLEdBRFksaUJBRXZDZCxHQUFZLEVBQUFTLEVBQUF6YyxVQUNoQmdkLGlCQUFpQixFQUNqQmhkLFFBQWtCLFlBQVR4SSxFQUNUeWxCLFFBQWtCLFlBQVR6bEIsR0FHWCxPQUNFMEksR0FBQUYsUUFBQXpJLGNBQUEsSUFBQTZmLEdBQUdoQyxJQUFLbFosRUFBS3lILEtBQUssZ0JBQW1Cb1osR0FBUWYsVUFBV0EsSUFBWTFDLFFuRDZ0SnZFbEUsSUFBSyxTQUNMamEsTUFBTyxXbUR6dEpELEdBQUEraEIsR0FDeUJ4ZCxLQUFLc04sTUFBOUJwSixFQURBc1osRUFDQXRaLE1BQU82VixFQURQeUQsRUFDT3pELEtBQU1wZixFQURiNmlCLEVBQ2E3aUIsUUFFcEIsT0FDRTZGLEdBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxzQkFBc0JtQixPQUFRQyxRQUFTM0QsRUFBTyxRQUFVLFNBQ3JFdlosRUFBQUYsUUFBQXpJLGNBQUFvbEIsRUFBQTNjLFFBQUEsTUFDQUUsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGVBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsa0JBQ2I5YixFQUFBRixRQUFBekksY0FBQSxVQUFReWtCLFVBQVUscUJBQXFCcFksSUFFekMxRCxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsa0JBQ1ozaEIsR0FFSDZGLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxrQkFDWnRjLEtBQUsweEIsdUJuRGl2SlJELEdtRGh4SllqeEIsRUFBQUYsUUFBTWlOLFVBdUM1QmtrQixHQUFRamtCLFdBQ05tTSxRQUFTblosRUFBQUYsUUFBTTZILFVBQVVsQyxNQUN6QjhULEtBQU12WixFQUFBRixRQUFNNkgsVUFBVXlWLEtBQ3RCMVosTUFBTzFELEVBQUFGLFFBQU02SCxVQUFVaVQsUUFHekJxVyxFQUFRcGdCLGNBQ05zSSxXQUNBSSxNQUFNLEVBQ043VixNQUFPLEluRCt1SlJyRSxFQUFRUyxRbUQ1dUpNbXhCLEduRCt1SlAsQ0FFRixTQUFTcHpCLEVBQVF3QixFQUFTNUgsSW9EL3lKaEMsU0FBQWtPLEdBQ0EsWUFNQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBVzdFLFFBQUF1eEIsR0FBQWpjLEdBQ0EsTUFBQWtjLEdBQUFsYyxFQUdBLFFBQUFtYyxHQUFBbmMsRUFBQWpILEdBQ0EsSUFDQSxNQUFBQSxFQUNBN0ssT0FBQWt1QixlQUFBQyxXQUFBSixFQUFBamMsSUFFQTlSLE9BQUFrdUIsZUFBQUUsUUFBQUwsRUFBQWpjLEdBQUF2YyxLQUFBNnJCLFVBQUF2VyxJQUVHLE1BQUE5TyxHQUNILEdBQUFBLEVBQUE1RSxPQUFBazNCLEVBS0EsWUFGQSxlQUFBOXJCLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLHVHQUEwR3pKLE9BSzFHLElBQUFrcEIsRUFBQXozQixRQUFBa0YsRUFBQTVFLE9BQUEsT0FBQTZJLE9BQUFrdUIsZUFBQTMxQixPQUlBLFlBRkEsZUFBQWdLLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLHFHQUEwR3pKLE9BSzFHLE1BQUFySixJQUlBLFFBQUF3eUIsR0FBQXpjLEdBQ0EsR0FBQThHLEdBQUF4VCxNQUNBLEtBQ0F3VCxFQUFBNVksT0FBQWt1QixlQUFBTSxRQUFBVCxFQUFBamMsSUFDRyxNQUFBL1YsR0FDSCxHQUFBQSxFQUFBNUUsT0FBQWszQixFQUtBLE1BRkEsZUFBQTlyQixFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSx1R0FBMEd6SixPQUUxRyxLQUlBLEdBQUF3VCxFQUNBLElBQ0EsTUFBQXJqQixNQUFBQyxNQUFBb2pCLEdBQ0ssTUFBQTdjLElBS0wsWUFwRUFFLEVBQUFRLFlBQUEsRUFDQVIsRUFBQWd5QixZQUNBaHlCLEVBQUFzeUIsV0FJQSxJQUFBeGYsR0FBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsR0FFQWlmLEVBQUEsYUFDQU0sR0FBQSwyQ0FFQUQsRUFBQSxrQnBEMDJKOEIvM0IsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxJcUQ5M0poQyxTQUFBa08sR0FBQSxZQU1BLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FjN0UsUUFBQWl5QixHQUFBbDBCLEdBT0EsUUFBQXNGLEdBQUF3aUIsR0FHQSxNQUZBcU0sR0FBQXpOLFVBQUE3YixPQUFBLGVBQUE3QyxFQUFBTSxJQUFBc00sU0FBQXVOLEVBQUEsc0NBQUFBLEVBQUEsWUFFQWhjLEVBQUFiLE9BQUF3aUIsR0FUQSxHQUFBM2hCLEdBQUFpdUIsRUFBQSxRQUFBN2EsR0FDQThULG9CQUFBZ0gsRUFBQWhILHFCQUNHcnRCLEdBQ0g4ZCxHQUFBdVcsRUFBQXZXLEtBU0EsT0FBQXZFLE1BQW9CcFQsR0FDcEJiLFdBaENBNUQsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBSS9PdUksRUFBQXhvQixFQUFBLEdBRUFxb0IsRUFBQW5nQixFQUFBc2dCLEdBRUE2UixFQUFBcjZCLEVBQUEsSUFFQXU2QixFQUFBdjZCLEVBQUEsSUFFQXc2QixFQUFBeDZCLEVBQUEsSUFFQXM2QixFQUFBcHlCLEVBQUFzeUIsRUFvQkE1eUIsR0FBQSxRQUFBd3lCLEVBQ0FoMEIsRUFBQXdCLFVBQUEsVXJEaTRKOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILElzRDU2SmhDLFNBQUFrTyxHQUFBLFlBTUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQXdCN0UsUUFBQXN5QixHQUFBbHVCLEdBQ0Esc0JBQUFBLElBQUEsTUFBQUEsRUFBQTRhLE9BQUEsR0FHQSxRQUFBdVQsS0FDQSxHQUFBbnVCLEdBQUFndUIsRUFBQW5ILGFBRUEsU0FBQXFILEVBQUFsdUIsS0FFQWd1QixFQUFBbEgsZ0JBQUEsSUFBQTltQixJQUVBLEdBR0EsUUFBQW91QixHQUFBcHVCLEVBQUFrUixFQUFBamEsR0FDQSxNQUFBK0ksTUFBQS9KLFFBQUEsb0JBQUFpYixFQUFBLElBQUFqYSxHQUdBLFFBQUFvM0IsR0FBQXJ1QixFQUFBa1IsR0FDQSxNQUFBbFIsR0FBQW9OLFFBQUEsR0FBQTBOLFFBQUEsUUFBQTVKLEVBQUEscUJBR0EsUUFBQW9kLEdBQUF0dUIsRUFBQWtSLEdBQ0EsR0FBQTFOLEdBQUF4RCxFQUFBd0QsTUFBQSxHQUFBc1gsUUFBQSxZQUFBNUosRUFBQSxhQUNBLE9BQUExTixNQUFBLEdBS0EsUUFBQStxQixLQVNBLFFBQUFDLEtBQ0EsR0FBQXh1QixHQUFBZ3VCLEVBQUFuSCxjQUVBM1YsRUFBQTFNLE9BQ0F5RixFQUFBekYsTUFDQWlxQixJQUNBdmQsRUFBQW9kLEVBQUF0dUIsRUFBQXl1QixHQUNBenVCLEVBQUFxdUIsRUFBQXJ1QixFQUFBeXVCLEdBRUF2ZCxFQUNBakgsRUFBQXlrQixFQUFBZixVQUFBemMsSUFFQWpILEVBQUEsS0FDQWlILEVBQUFwUixFQUFBcXRCLFlBQ0FhLEVBQUFsSCxnQkFBQXNILEVBQUFwdUIsRUFBQXl1QixFQUFBdmQsTUFHQUEsRUFBQWpILEVBQUEsSUFHQSxJQUFBL0ssR0FBQW1pQixFQUFBdkssVUFBQTlXLEVBRUEsT0FBQUYsR0FBQThoQixlQUFBMU8sS0FBNkNoVSxHQUFhK0ssVUFBZXpGLE9BQUEwTSxHQUd6RSxRQUFBeWQsR0FBQXZRLEdBR0EsUUFBQXdRLEtBQ0FULEtBRUFVLEVBQUFMLEtBTEEsR0FBQUssR0FBQXpRLEVBQUF5USxZQVdBLE9BSEFWLEtBQ0FILEVBQUF6SCxpQkFBQW5uQixPQUFBLGFBQUF3dkIsR0FFQSxXQUNBWixFQUFBckgsb0JBQUF2bkIsT0FBQSxhQUFBd3ZCLElBSUEsUUFBQUUsR0FBQTV2QixHQUNBLEdBQUE2dkIsR0FBQTd2QixFQUFBNnZCLFNBQ0F6dkIsRUFBQUosRUFBQUksU0FDQXlYLEVBQUE3WCxFQUFBNlgsT0FDQTlNLEVBQUEvSyxFQUFBK0ssTUFDQTJPLEVBQUExWixFQUFBMFosT0FDQTFILEVBQUFoUyxFQUFBZ1MsR0FFQSxJQUFBMEgsSUFBQW9XLEVBQUFsVixJQUFBLENBRUEsR0FBQTlaLElBQUErdUIsR0FBQSxJQUFBenZCLEVBQUF5WCxDQUVBMFgsSUFDQXp1QixFQUFBb3VCLEVBQUFwdUIsRUFBQXl1QixFQUFBdmQsR0FDQXdkLEVBQUFyQixVQUFBbmMsRUFBQWpILElBR0EvSyxFQUFBZ1MsSUFBQWhTLEVBQUErSyxNQUFBLElBR0EsSUFBQWdsQixHQUFBakIsRUFBQW5ILGFBRUFqTyxLQUFBb1csRUFBQXBWLEtBQ0FxVixJQUFBanZCLEVBQ0FaLE9BQUFGLFNBQUE4WCxLQUFBaFgsRUFFQSxlQUFBMkIsRUFBQU0sSUFBQXNNLFNBQUFOLEVBQUEsK0RBQUF6SixPQUVLeXFCLElBQUFqdkIsR0FFTGd1QixFQUFBbEgsZ0JBQUE5bUIsSUFhQSxRQUFBc2hCLEdBQUFHLEdBQ0EsTUFBQXlOLElBQUFDLEVBQUFSLEVBQUE3dUIsR0FFQSxJQUFBc3ZCLEdBQUF0dkIsRUFBQXdoQixhQUFBRyxFQUVBLG1CQUNBMk4sSUFFQSxNQUFBRixHQUFBQyxLQUlBLFFBQUFsd0IsR0FBQXdpQixHQUNBLE1BQUF5TixJQUFBQyxFQUFBUixFQUFBN3VCLEdBRUEsSUFBQXN2QixHQUFBdHZCLEVBQUFiLE9BQUF3aUIsRUFFQSxtQkFDQTJOLElBRUEsTUFBQUYsR0FBQUMsS0FJQSxRQUFBajVCLEdBQUFnSixHQUNBLGVBQUF5QyxFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSxRQUFBd2dCLEdBQUEsTUFBQXZ2QixFQUFBK0ssTUFBQSw4REFBQXpGLE9BRUExRSxFQUFBNUosS0FBQWdKLEdBR0EsUUFBQWtPLEdBQUFsTyxHQUNBLGVBQUF5QyxFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSxRQUFBd2dCLEdBQUEsTUFBQXZ2QixFQUFBK0ssTUFBQSw4REFBQXpGLE9BRUExRSxFQUFBc04sUUFBQWxPLEdBS0EsUUFBQXVZLEdBQUFqUSxHQUNBLGVBQUE3RixFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSxRQUFBb2hCLEVBQUEsZ0VBQUE3cUIsT0FFQTFFLEVBQUEyWCxHQUFBalEsR0FHQSxRQUFBbWEsR0FBQTNoQixHQUNBLFVBQUFGLEVBQUE2aEIsV0FBQTNoQixHQUlBLFFBQUFzdkIsR0FBQS9OLEdBQ0EsTUFBQTJOLElBQUFDLEVBQUFSLEVBQUE3dUIsSUFFQUEsRUFBQXd2Qix1QkFBQS9OLEdBSUEsUUFBQWdPLEdBQUFoTyxHQUNBemhCLEVBQUF5dkIseUJBQUFoTyxHQUVBLE1BQUEyTixHQUFBQyxJQUlBLFFBQUFyTixHQUFBN1gsRUFBQWpLLEdBQ0EsZUFBQTJCLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLFFBQUF3Z0IsR0FBQSxNQUFBeGtCLEVBQUEsOERBQUF6RixPQUVBMUUsRUFBQWdpQixVQUFBN1gsRUFBQWpLLEdBSUEsUUFBQStoQixHQUFBOVgsRUFBQWpLLEdBQ0EsZUFBQTJCLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLFFBQUF3Z0IsR0FBQSxNQUFBeGtCLEVBQUEsOERBQUF6RixPQUVBMUUsRUFBQWlpQixhQUFBOVgsRUFBQWpLLEdBdEtBLEdBQUFyRyxHQUFBb0ksVUFBQXBLLFFBQUEsR0FBQTZNLFNBQUF6QyxVQUFBLE1BQXdFQSxVQUFBLEVBRXhFK3JCLEdBQUF6TixVQUFBN2IsT0FBQSxlQUFBN0MsRUFBQU0sSUFBQXNNLFNBQUF1TixFQUFBLHVDQUFBQSxFQUFBLFdBRUEsSUFBQTJTLEdBQUE5MEIsRUFBQTgwQixVQUVBanFCLFNBQUFpcUIsVUFBQSxnQkFBQUEsS0FBQWUsRUE4RUEsSUFBQTF2QixHQUFBMnZCLEVBQUEsUUFBQXZjLEtBQXlEdlosR0FDekQ2MEIscUJBQ0FNLG1CQUNBekIsVUFBQXFCLEVBQUFyQixhQUdBNkIsRUFBQSxFQUNBQyxFQUFBM3FCLE9Bc0NBNnFCLEVBQUFyQixFQUFBM0csa0NBd0NBLE9BQUFuVSxNQUFvQnBULEdBQ3BCd2hCLGVBQ0FyaUIsU0FDQS9JLE9BQ0FrWCxVQUNBcUssS0FDQWtLLGFBRUEyTix5QkFDQUMsMkJBQ0F6TixZQUNBQyxpQkE5T0ExbUIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBSS9PdkYsRUFBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsR0FFQThOLEVBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQUVBK1MsRUFBQXY3QixFQUFBLElBRUE0dEIsRUFBQTV0QixFQUFBLElBRUFxNkIsRUFBQXI2QixFQUFBLElBRUF1NkIsRUFBQXY2QixFQUFBLElBRUFpN0IsRUFBQWo3QixFQUFBLElBRUFpOEIsRUFBQWo4QixFQUFBLElBRUFnOEIsRUFBQTl6QixFQUFBK3pCLEdBNkJBRixFQUFBLElBMkxBbjBCLEdBQUEsUUFBQWt6QixFQUNBMTBCLEVBQUF3QixVQUFBLFV0RCs2SjhCM0YsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxJdUR4cUtoQyxTQUFBa08sR0FBQSxZQU1BLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0E0QjdFLFFBQUErekIsR0FBQWg0QixHQUNBLE1BQUF3c0IsTUFBQUMsU0FBQTNXLFNBQUEsSUFBQXdOLE9BQUEsRUFBQXRqQixHQUdBLFFBQUFpNEIsR0FBQXYxQixFQUFBQyxHQUNBLE1BQUFELEdBQUFpRixXQUFBaEYsRUFBQWdGLFVBQUFqRixFQUFBMGMsU0FBQXpjLEVBQUF5YyxRQUVBMWMsRUFBQTZXLE1BQUE1VyxFQUFBNFcsS0FBQTJlLEVBQUEsUUFBQXgxQixFQUFBNFAsTUFBQTNQLEVBQUEyUCxPQUtBLFFBQUEwVyxLQWFBLFFBQUFXLEdBQUFDLEdBR0EsTUFGQXVPLEdBQUE1NUIsS0FBQXFyQixHQUVBLFdBQ0F1TyxJQUFBM0YsT0FBQSxTQUFBNXZCLEdBQ0EsTUFBQUEsS0FBQWduQixLQVNBLFFBQUF3TyxLQUNBLE1BQUFDLE1BQUFwWCxTQUFBb1csRUFBQWxWLElBQ0FtVyxFQUFBaDZCLFFBQUErNUIsRUFBQTllLEtBQ0toUyxFQUNMK3dCLEVBQUFoNkIsUUFBQWlKLEVBQUFnUyxNQUVBLEVBSUEsUUFBQWdmLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUwsR0FFQTd3QixHQUFBaXhCLEVBRUFqeEIsRUFBQTBaLFNBQUFvVyxFQUFBcFYsS0FDQXFXLEtBQUE5dUIsT0FBQTh1QixFQUFBajJCLE1BQUEsRUFBQW8yQixFQUFBLElBQUFseEIsRUFBQWdTLE1BQ0toUyxFQUFBMFosU0FBQW9XLEVBQUFuVixVQUNMb1csRUFBQUcsR0FBQWx4QixFQUFBZ1MsS0FHQW1mLEVBQUE1YyxRQUFBLFNBQUFnTyxHQUNBQSxFQUFBdmlCLEtBSUEsUUFBQUQsR0FBQXdpQixHQUdBLEdBRkE0TyxFQUFBbjZCLEtBQUF1ckIsR0FFQXZpQixFQUNBdWlCLEVBQUF2aUIsT0FDSyxDQUNMLEdBQUFveEIsR0FBQTlCLEdBQ0F5QixJQUFBSyxFQUFBcGYsS0FDQWdmLEVBQUFJLEdBR0Esa0JBQ0FELElBQUFsRyxPQUFBLFNBQUE1dkIsR0FDQSxNQUFBQSxLQUFBa25CLEtBS0EsUUFBQThPLEdBQUFyeEIsRUFBQXBMLEdBQ0EwOEIsRUFBQWhKLFVBQUFzSSxFQUFBbjRCLE9BQUEsU0FBQTZpQixFQUFBd0osRUFBQTJELEdBQ0FuRyxFQUFBLFFBQUFzTyxFQUFBdFYsR0FBQXRiLEVBQUEsU0FBQXpFLEdBQ0EsTUFBQUEsRUFDQWt0QixFQUFBbHRCLEdBRUF1cEIsT0FHSyxTQUFBblcsR0FDTG1aLEdBQUEsZ0JBQUFuWixHQUNBbVosRUFBQW5aLEVBQUEsU0FBQTRpQixHQUNBMzhCLEVBQUEyOEIsS0FBQSxLQUdBMzhCLEVBQUErWixLQUFBLEtBT0EsUUFBQWdoQixHQUFBNkIsR0FDQXh4QixHQUFBMHdCLEVBQUExd0IsRUFBQXd4QixLQUVBVixFQUFBVSxFQUVBSCxFQUFBRyxFQUFBLFNBQUFELEdBQ0EsR0FBQVQsSUFBQVUsRUFFQSxHQUFBRCxFQUFBLENBRUEsR0FBQUMsRUFBQTlYLFNBQUFvVyxFQUFBcFYsS0FBQSxDQUNBLEdBQUErVyxHQUFBalAsRUFBQXhpQixHQUNBMHhCLEVBQUFsUCxFQUFBZ1AsRUFFQUUsS0FBQUQsR0FBQWQsRUFBQSxRQUFBM3dCLEVBQUErSyxNQUFBeW1CLEVBQUF6bUIsU0FBQXltQixFQUFBOVgsT0FBQW9XLEVBQUFuVixTQUdBaVYsRUFBQTRCLE1BQUEsR0FBQVIsRUFBQVEsT0FDTyxJQUFBeHhCLEdBQUF3eEIsRUFBQTlYLFNBQUFvVyxFQUFBbFYsSUFBQSxDQUNQLEdBQUErVyxHQUFBWixFQUFBaDZCLFFBQUFpSixFQUFBZ1MsS0FDQTRmLEVBQUFiLEVBQUFoNkIsUUFBQXk2QixFQUFBeGYsSUFFQTJmLE1BQUEsR0FBQUMsS0FBQSxHQUFBclosRUFBQW9aLEVBQUFDLE9BS0EsUUFBQTU2QixHQUFBZ0osR0FDQTJ2QixFQUFBak4sRUFBQTFpQixFQUFBOHZCLEVBQUFwVixLQUFBdVQsTUFHQSxRQUFBL2YsR0FBQWxPLEdBQ0EydkIsRUFBQWpOLEVBQUExaUIsRUFBQTh2QixFQUFBblYsUUFBQXNULE1BR0EsUUFBQXpWLEtBQ0FELEdBQUEsR0FHQSxRQUFBRSxLQUNBRixFQUFBLEdBR0EsUUFBQTBWLEtBQ0EsTUFBQXdDLEdBQUFvQixHQUdBLFFBQUFyUCxHQUFBeGlCLEdBQ0EsU0FBQUEsR0FBQSxnQkFBQUEsR0FBQSxNQUFBQSxFQUVBLElBQUFJLEdBQUFKLEVBQUFJLFNBQ0F5WCxFQUFBN1gsRUFBQTZYLE9BQ0FDLEVBQUE5WCxFQUFBOFgsS0FFQXZjLEVBQUE2RSxDQU1BLE9BSkF5WCxLQUFBdGMsR0FBQXNjLEdBRUFDLElBQUF2YyxHQUFBdWMsR0FFQXZjLEVBR0EsUUFBQWtuQixHQUFBemlCLEdBQ0EsTUFBQXdpQixHQUFBeGlCLEdBR0EsUUFBQTBpQixHQUFBMWlCLEVBQUEwWixHQUNBLEdBQUExSCxHQUFBblAsVUFBQXBLLFFBQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFvckIsSUFBQXByQixVQUFBLEVBYUEsT0FYQSxnQkFBQTZXLEtBQ0EsZUFBQWpYLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLGtIQUE0SXpKLE9BRTVJLGdCQUFBdEYsT0FBQW1pQixFQUFBdkssVUFBQTVYLElBRUFBLEVBQUFnVSxLQUE0QmhVLEdBQWErSyxNQUFBMk8sSUFFekNBLEVBQUExSCxFQUNBQSxFQUFBblAsVUFBQSxJQUFBb3JCLEtBR0E2RCxFQUFBLFFBQUE5eEIsRUFBQTBaLEVBQUExSCxHQUlBLFFBQUFoRixHQUFBakMsR0FDQS9LLEdBQ0EreEIsRUFBQS94QixFQUFBK0ssR0FDQWltQixFQUFBaHhCLElBRUEreEIsRUFBQXpDLElBQUF2a0IsR0FJQSxRQUFBZ25CLEdBQUEveEIsRUFBQStLLEdBQ0EvSyxFQUFBK0ssTUFBQWlKLEtBQWdDaFUsRUFBQStLLFNBQ2hDb2pCLEVBQUFudUIsRUFBQWdTLElBQUFoUyxFQUFBK0ssT0FJQSxRQUFBcWxCLEdBQUEvTixHQUNBdU8sRUFBQTc1QixRQUFBc3JCLE1BQUEsR0FBQXVPLEVBQUE1NUIsS0FBQXFyQixHQUlBLFFBQUFnTyxHQUFBaE8sR0FDQXVPLElBQUEzRixPQUFBLFNBQUE1dkIsR0FDQSxNQUFBQSxLQUFBZ25CLElBS0EsUUFBQU8sR0FBQTdYLEVBQUFqSyxHQUNBLGdCQUFBQSxPQUFBcWhCLEVBQUF2SyxVQUFBOVcsSUFFQTlKLEVBQUFnZCxHQUFtQmpKLFNBQWVqSyxJQUlsQyxRQUFBK2hCLEdBQUE5WCxFQUFBakssR0FDQSxnQkFBQUEsT0FBQXFoQixFQUFBdkssVUFBQTlXLElBRUFvTixFQUFBOEYsR0FBc0JqSixTQUFlakssSUF0TnJDLEdBQUFyRyxHQUFBb0ksVUFBQXBLLFFBQUEsR0FBQTZNLFNBQUF6QyxVQUFBLE1BQXdFQSxVQUFBLEdBQ3hFeXNCLEVBQUE3MEIsRUFBQTYwQixtQkFDQU0sRUFBQW4xQixFQUFBbTFCLGlCQUNBekIsRUFBQTF6QixFQUFBMHpCLFVBQ0E1VixFQUFBOWQsRUFBQThkLEdBQ0F1UCxFQUFBcnRCLEVBQUFxdEIsb0JBQ0ErSixFQUFBcDNCLEVBQUFvM0IsU0FFQSxpQkFBQUEsT0FBQUcsRUFFQSxJQUFBcEIsTUFZQUcsS0FDQUksS0FDQW54QixFQUFBc0YsT0FrRUF3ckIsRUFBQXhyQixNQStIQSxRQUNBOGMsZUFDQXJpQixTQUNBNHZCLGVBQ0EzNEIsT0FDQWtYLFVBQ0FxSyxLQUNBQyxTQUNBQyxZQUNBd1YsWUFDQXpMLGFBQ0FDLGFBQ0FDLGlCQUVBMVYsU0FBQStWLEVBQUEsUUFBQS9WLEVBQUEsa0VBQ0FvakIsdUJBQUFyTixFQUFBLFFBQUFxTixFQUFBLGtFQUNBQyx5QkFBQXROLEVBQUEsUUFBQXNOLEVBQUEsK0ZBQ0F6TixVQUFBRyxFQUFBLFFBQUFILEVBQUEsNkNBQ0FDLGFBQUFFLEVBQUEsUUFBQUYsRUFBQSxvREF4UkExbUIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBSS9PdkYsRUFBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsR0FFQWdqQixFQUFBMTlCLEVBQUEsS0FFQW84QixFQUFBbDBCLEVBQUF3MUIsR0FFQTlQLEVBQUE1dEIsRUFBQSxJQUVBKzhCLEVBQUEvOEIsRUFBQSxLQUVBdTdCLEVBQUF2N0IsRUFBQSxJQUVBMjlCLEVBQUEzOUIsRUFBQSxLQUVBdTlCLEVBQUFyMUIsRUFBQXkxQixHQUVBbFAsRUFBQXp1QixFQUFBLElBRUErdEIsRUFBQTdsQixFQUFBdW1CLEdBRUFDLEVBQUExdUIsRUFBQSxJQUVBd3VCLEVBQUF0bUIsRUFBQXdtQixHQVlBK08sRUFBQSxDQWtQQTcxQixHQUFBLFFBQUFzbEIsRUFDQTltQixFQUFBd0IsVUFBQSxVdkQycUs4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSXdEOThLaEMsU0FBQWtPLEdBQUEsWUFNQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBa0I3RSxRQUFBeTFCLEdBQUExUSxHQUNBLGtCQVNBLFFBQUEyUSxLQUNBLElBQUFDLEVBQUEsQ0FNQSxTQUFBeEMsR0FBQWpCLEVBQUF6TixVQUFBLENBQ0EsR0FBQW1SLEdBQUF0K0IsU0FBQUMscUJBQUEsV0FDQXMrQixFQUFBRCxLQUFBRSxhQUFBLE9BRUEsT0FBQUQsSUFDQTFDLEVBQUEwQyxFQUVBLGVBQUE5dkIsRUFBQU0sSUFBQXNNLFNBQUFOLEVBQUEsaVFBQUF6SixRQUlBK3NCLEdBQUEsR0FHQSxRQUFBSSxHQUFBenlCLEdBY0EsTUFiQW95QixLQUVBdkMsR0FBQSxNQUFBN3ZCLEVBQUE2dkIsV0FDQSxJQUFBN3ZCLEVBQUFJLFNBQUFySixRQUFBODRCLElBQ0E3dkIsRUFBQUksU0FBQUosRUFBQUksU0FBQXVYLFVBQUFrWSxFQUFBcDNCLFFBQ0F1SCxFQUFBNnZCLFdBRUEsS0FBQTd2QixFQUFBSSxXQUFBSixFQUFBSSxTQUFBLE1BRUFKLEVBQUE2dkIsU0FBQSxJQUlBN3ZCLEVBR0EsUUFBQTB5QixHQUFBMXlCLEdBR0EsR0FGQW95QixLQUVBdkMsRUFBQSxNQUFBN3ZCLEVBRUEsaUJBQUFBLE9BQUFtaUIsRUFBQXZLLFVBQUE1WCxHQUVBLElBQUEyeUIsR0FBQTN5QixFQUFBSSxTQUNBd3lCLEVBQUEsTUFBQS9DLEVBQUEvMEIsT0FBQSxHQUFBKzBCLElBQUEsSUFDQWdELEVBQUEsTUFBQUYsRUFBQWpYLE9BQUEsR0FBQWlYLEVBQUE3M0IsTUFBQSxHQUFBNjNCLEVBQ0F2eUIsRUFBQXd5QixFQUFBQyxDQUVBLE9BQUE3ZSxNQUF3QmhVLEdBQ3hCSSxhQUtBLFFBQUFnaUIsR0FBQUMsR0FDQSxNQUFBemhCLEdBQUF3aEIsYUFBQSxTQUFBcGlCLEVBQUFwTCxHQUNBMHRCLEVBQUEsUUFBQUQsRUFBQW9RLEVBQUF6eUIsR0FBQXBMLEtBSUEsUUFBQW1MLEdBQUF3aUIsR0FDQSxNQUFBM2hCLEdBQUFiLE9BQUEsU0FBQUMsR0FDQXVpQixFQUFBa1EsRUFBQXp5QixNQUtBLFFBQUFoSixHQUFBZ0osR0FDQVksRUFBQTVKLEtBQUEwN0IsRUFBQTF5QixJQUdBLFFBQUFrTyxHQUFBbE8sR0FDQVksRUFBQXNOLFFBQUF3a0IsRUFBQTF5QixJQUdBLFFBQUF3aUIsR0FBQXhpQixHQUNBLE1BQUFZLEdBQUE0aEIsV0FBQWtRLEVBQUExeUIsSUFHQSxRQUFBeWlCLEdBQUF6aUIsR0FDQSxNQUFBWSxHQUFBNmhCLFdBQUFpUSxFQUFBMXlCLElBR0EsUUFBQTBpQixHQUFBMWlCLEdBQ0EsT0FBQTZPLEdBQUFoTSxVQUFBcEssT0FBQWtLLEVBQUFDLE1BQUFpTSxFQUFBLEVBQUFBLEVBQUEsS0FBQUMsRUFBQSxFQUF3RkEsRUFBQUQsRUFBYUMsSUFDckduTSxFQUFBbU0sRUFBQSxHQUFBak0sVUFBQWlNLEVBR0EsT0FBQTJqQixHQUFBN3hCLEVBQUE4aEIsZUFBQXhwQixNQUFBMEgsR0FBQTh4QixFQUFBMXlCLElBQUFpQyxPQUFBVSxLQUlBLFFBQUFpZ0IsR0FBQTdYLEVBQUFqSyxHQUNBLGdCQUFBQSxPQUFBcWhCLEVBQUF2SyxVQUFBOVcsSUFFQTlKLEVBQUFnZCxHQUFxQmpKLFNBQWVqSyxJQUlwQyxRQUFBK2hCLEdBQUE5WCxFQUFBakssR0FDQSxnQkFBQUEsT0FBQXFoQixFQUFBdkssVUFBQTlXLElBRUFvTixFQUFBOEYsR0FBd0JqSixTQUFlakssSUFoSHZDLEdBQUFyRyxHQUFBb0ksVUFBQXBLLFFBQUEsR0FBQTZNLFNBQUF6QyxVQUFBLE1BQTBFQSxVQUFBLEdBRTFFakMsRUFBQTZnQixFQUFBaG5CLEdBRUFvMUIsRUFBQXAxQixFQUFBbzFCLFNBRUF3QyxHQUFBLENBNkdBLE9BQUFyZSxNQUFzQnBULEdBQ3RCd2hCLGVBQ0FyaUIsU0FDQS9JLE9BQ0FrWCxVQUNBc1UsYUFDQUMsYUFDQUMsaUJBRUFFLFVBQUFHLEVBQUEsUUFBQUgsRUFBQSw2Q0FDQUMsYUFBQUUsRUFBQSxRQUFBRixFQUFBLHNEQXJKQTFtQixFQUFBUSxZQUFBLENBRUEsSUFBQXFYLEdBQUExYyxPQUFBa1csUUFBQSxTQUFBZ0gsR0FBbUQsT0FBQWhjLEdBQUEsRUFBZ0JBLEVBQUFxSyxVQUFBcEssT0FBc0JELElBQUEsQ0FBTyxHQUFBaWMsR0FBQTVSLFVBQUFySyxFQUEyQixRQUFBd1osS0FBQXlDLEdBQTBCbmQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFpZSxFQUFBekMsS0FBeUR3QyxFQUFBeEMsR0FBQXlDLEVBQUF6QyxJQUFpQyxNQUFBd0MsSUFJL092RixFQUFBMWEsRUFBQSxHQUVBd2EsRUFBQXRTLEVBQUF3UyxHQUVBMmYsRUFBQXI2QixFQUFBLElBRUE0dEIsRUFBQTV0QixFQUFBLElBRUF5dUIsRUFBQXp1QixFQUFBLElBRUErdEIsRUFBQTdsQixFQUFBdW1CLEdBRUFDLEVBQUExdUIsRUFBQSxJQUVBd3VCLEVBQUF0bUIsRUFBQXdtQixFQXNJQTltQixHQUFBLFFBQUFnMkIsRUFDQXgzQixFQUFBd0IsVUFBQSxVeERpOUs4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSXlEbG5MaEMsU0FBQWtPLEdBQUEsWUFvQkEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBeWMsR0FBQXpjLEVBQUErUSxHQUE4QyxHQUFBK0csS0FBaUIsUUFBQWhjLEtBQUFrRSxHQUFxQitRLEVBQUExVyxRQUFBeUIsSUFBQSxHQUFvQ2xCLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBa0csRUFBQWxFLEtBQTZEZ2MsRUFBQWhjLEdBQUFrRSxFQUFBbEUsR0FBc0IsT0FBQWdjLEdBVTNNLFFBQUFzZSxHQUFBdkwsR0FDQSxXQUFBQSxFQUFBd0wsT0FHQSxRQUFBQyxHQUFBekwsR0FDQSxTQUFBQSxFQUFBMEwsU0FBQTFMLEVBQUEyTCxRQUFBM0wsRUFBQTRMLFNBQUE1TCxFQUFBNkwsVUFJQSxRQUFBQyxHQUFBM2YsR0FDQSxPQUFBbGYsS0FBQWtmLEdBQ0EsR0FBQXBjLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBa2QsRUFBQWxmLEdBQUEsUUFDRyxVQUdILFFBQUE4K0IsR0FBQWhULEVBQUFwQixHQUNBLEdBQUFNLEdBQUFOLEVBQUFNLE1BQ0ExSCxFQUFBb0gsRUFBQXBILEtBQ0EvTSxFQUFBbVUsRUFBQW5VLEtBRUEsT0FBQXlVLElBQUExSCxHQUFBL00sR0FDWTNLLFNBQUFrZ0IsRUFBQWQsUUFBQTFILE9BQUEvTSxTQUdadVYsRUF0REFua0IsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9PM1gsRUFBQXRJLEVBQUEsR0FFQXVJLEVBQUFMLEVBQUFJLEdBRUE0bUIsRUFBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEdBRUExRyxFQUFBeG9CLEVBQUEsR0FFQXFvQixFQUFBbmdCLEVBQUFzZ0IsR0FFQXdXLEVBQUFoL0IsRUFBQSxJQU1Bb3ZCLEVBQUE3bUIsRUFBQUYsUUFBQTZILFVBQ0F5VixFQUFBeUosRUFBQXpKLEtBQ0F4RyxFQUFBaVEsRUFBQWpRLE9BQ0FnRSxFQUFBaU0sRUFBQWpNLE9BQ0EvTyxFQUFBZ2IsRUFBQWhiLEtBQ0EyUCxFQUFBcUwsRUFBQXJMLFVBZ0RBalQsRUFBQXZJLEVBQUFGLFFBQUFnbkIsYUFDQTNaLFlBQUEsT0FHQXFELGNBQ0F1VyxPQUFBMFAsRUFBQWh2QixhQUdBdUYsV0FDQXdXLEdBQUFoSSxHQUFBWixFQUFBaEUsSUFDQThMLE1BQUE5TCxFQUNBb0UsS0FBQUosRUFDQTNNLE1BQUEySSxFQUNBOGYsWUFBQTlmLEVBQ0ErZixnQkFBQS9iLEVBQ0FnYyxrQkFBQXhaLEVBQUF0UixXQUNBdU4sUUFBQXhOLEVBQ0E2TCxPQUFBa0QsR0FHQTlKLGdCQUFBLFdBQ0EsT0FDQThsQixtQkFBQSxFQUNBM1osV0FHQTRaLFlBQUEsU0FBQXBNLEdBR0EsR0FGQWpyQixLQUFBc04sTUFBQXVNLFNBQUE3WixLQUFBc04sTUFBQXVNLFFBQUFvUixJQUVBQSxFQUFBcU0sbUJBRUF0M0IsS0FBQXUzQixRQUFBaFEsT0FBQSxzQkFBQXBoQixFQUFBTSxJQUFBc00sVUFBQSxFQUFBdU4sRUFBQWhnQixVQUFBLHNFQUFBZ2dCLEVBQUFoZ0IsVUFBQSxJQUVBbzJCLEVBQUF6TCxJQUFBdUwsRUFBQXZMLEtBSUFqckIsS0FBQXNOLE1BQUE0SyxRQUFBLENBRUErUyxFQUFBdU0sZ0JBRUEsSUFBQWhhLEdBQUF4ZCxLQUFBc04sTUFDQTBXLEVBQUF4RyxFQUFBd0csR0FDQWQsRUFBQTFGLEVBQUEwRixNQUNBMUgsRUFBQWdDLEVBQUFoQyxLQUNBL00sRUFBQStPLEVBQUEvTyxNQUVBL0ssRUFBQXN6QixFQUFBaFQsR0FBaURkLFFBQUExSCxPQUFBL00sU0FFakR6TyxNQUFBdTNCLFFBQUFoUSxPQUFBN3NCLEtBQUFnSixLQUVBUyxPQUFBLFdBQ0EsR0FBQXVqQixHQUFBMW5CLEtBQUFzTixNQUNBMFcsRUFBQTBELEVBQUExRCxHQUNBZCxFQUFBd0UsRUFBQXhFLE1BQ0ExSCxFQUFBa00sRUFBQWxNLEtBQ0EvTSxFQUFBaVosRUFBQWpaLE1BQ0Ewb0IsRUFBQXpQLEVBQUF5UCxnQkFDQUQsRUFBQXhQLEVBQUF3UCxZQUNBRSxFQUFBMVAsRUFBQTBQLGtCQUVBOXBCLEVBQUF1UCxFQUFBNkssR0FBQSxpRkFFQSxnQkFBQXZoQixFQUFBTSxJQUFBc00sVUFBQSxFQUFBcVUsRUFBQTltQixXQUFBNGlCLEdBQUExSCxHQUFBL00sR0FBQSxtS0FBd04sTUFHeE4sSUFBQThZLEdBQUF2bkIsS0FBQXUzQixRQUFBaFEsTUFHQSxJQUFBQSxFQUFBLENBRUEsU0FBQXZELEVBQ0EsTUFBQXhqQixHQUFBRixRQUFBekksY0FBQSxJQUFBeVYsRUFHQSxJQUFBNUosR0FBQXN6QixFQUFBaFQsR0FBbURkLFFBQUExSCxPQUFBL00sU0FDbkRuQixHQUFBckosS0FBQXNqQixFQUFBcEIsV0FBQXppQixJQUVBeXpCLEdBQUEsTUFBQUQsSUFBQUgsRUFBQUcsS0FDQTNQLEVBQUF5RixTQUFBdHBCLEVBQUEwekIsS0FDQUQsSUFDQTdwQixFQUFBZ1AsVUFDQWhQLEVBQUFnUCxXQUFBLElBQUE2YSxFQUVBN3BCLEVBQUFnUCxVQUFBNmEsR0FJQUQsSUFBQTVwQixFQUFBbVEsTUFBQS9GLEtBQW9EcEssRUFBQW1RLE1BQUF5WixLQUtwRCxNQUFBMTJCLEdBQUFGLFFBQUF6SSxjQUFBLElBQUE2ZixLQUF5RHBLLEdBQVV1TSxRQUFBN1osS0FBQXEzQixpQkFJbkV4M0IsR0FBQVMsUUFBQXlJLEVBQ0ExSyxFQUFBd0IsVUFBQSxVekRxbkw4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSTBEeHlMaEMsU0FBQWtPLEdBQUEsWUFrQkEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQWhCN0VQLEVBQUFRLFlBQUEsQ0FFQSxJQUFBRSxHQUFBdEksRUFBQSxHQUVBdUksRUFBQUwsRUFBQUksR0FFQWtnQixFQUFBeG9CLEVBQUEsR0FFQXFvQixFQUFBbmdCLEVBQUFzZ0IsR0FFQXhYLEVBQUFoUixFQUFBLElBRUFrUixFQUFBbFIsRUFBQSxJQUVBNjBCLEVBQUE3MEIsRUFBQSxJQUlBb3ZCLEVBQUE3bUIsRUFBQUYsUUFBQTZILFVBQ0FpVCxFQUFBaU0sRUFBQWpNLE9BQ0FoRSxFQUFBaVEsRUFBQWpRLE9BVUF6TyxFQUFBbkksRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxXQUdBOHBCLFNBQ0E5Ziw0QkFBQSxTQUFBbEssR0FDQSxHQUFBbUssSUFBQSxFQUFBM08sRUFBQTBPLDZCQUFBbEssRUE0QkEsT0ExQkFtSyxHQUFBOGYsT0FBQTlmLEVBQUFwVCxLQUFBb1QsRUFBQThmLE1BRUE5ZixFQUFBK2YsUUFBQSxTQUFBNUosRUFBQW5jLEdBQ0EsR0FBQWxPLEdBQUFxcUIsRUFBQXJxQixTQUNBb2MsRUFBQWlPLEVBQUFqTyxPQUdBaGMsRUFBQSxNQUNBLFVBQUE4VCxFQUFBb00sR0FBQTVFLE9BQUEsR0FDQXRiLEdBQUEsRUFBQXFGLEVBQUFyQixlQUFBOFAsRUFBQW9NLEdBQUFsRSxPQUNTLElBQUFsSSxFQUFBb00sR0FFQSxDQUNULEdBQUE0VCxHQUFBN0osRUFBQS9WLE9BQUF2ZCxRQUFBbWQsR0FDQWlnQixFQUFBbHZCLEVBQUFtdkIsZ0JBQUEvSixFQUFBL1YsT0FBQTRmLEVBQUEsR0FDQW5aLEVBQUFvWixFQUFBam1CLFFBQUEsWUFBQWdHLEVBQUFvTSxFQUNBbGdCLElBQUEsRUFBQXFGLEVBQUFyQixlQUFBMlcsRUFBQXFCLE9BTEFoYyxHQUFBSixFQUFBSSxRQVFBOE4sSUFDQTlOLFdBQ0FvZixNQUFBdEwsRUFBQXNMLE9BQUF4ZixFQUFBd2YsTUFDQXpVLE1BQUFtSixFQUFBbkosT0FBQS9LLEVBQUErSyxTQUlBbUosR0FFQWtnQixnQkFBQSxTQUFBOWYsRUFBQTRmLEdBR0EsT0FGQUMsR0FBQSxHQUVBMzdCLEVBQUEwN0IsRUFBOEIxN0IsR0FBQSxFQUFRQSxJQUFBLENBQ3RDLEdBQUEwYixHQUFBSSxFQUFBOWIsR0FDQXVpQixFQUFBN0csRUFBQXBULE1BQUEsRUFJQSxJQUZBcXpCLEVBQUFwWixFQUFBN00sUUFBQSxZQUFBaW1CLEVBRUEsSUFBQXBaLEVBQUFoa0IsUUFBQSxXQUdBLFVBQUFvOUIsSUFJQXJxQixXQUNBaEosS0FBQTRXLEVBQ0FzYyxLQUFBdGMsRUFDQTRJLEdBQUE1SSxFQUFBOU8sV0FDQTRXLE1BQUE5TCxFQUNBM0ksTUFBQTJJLEVBQ0F1Z0IsUUFBQTdLLEVBQUFuUixNQUNBaGhCLFNBQUFteUIsRUFBQW5SLE9BSUF4WCxPQUFBLFdBQ0EsZUFBQWdDLEVBQUFNLElBQUFzTSxVQUFBLEVBQUF1TixFQUFBaGdCLFVBQUEseUZBQUFnZ0IsRUFBQWhnQixVQUFBLEtBSUFULEdBQUFTLFFBQUFxSSxFQUNBdEssRUFBQXdCLFVBQUEsVTFEMnlMOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEkyRHA1TGhDLFNBQUFrTyxHQUFBLFlBYUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBMjNCLEdBQUF6ekIsRUFBQTB6QixHQUNBLE1BQUF0Z0IsTUFBb0JwVCxHQUNwQmtqQixrQkFBQXdRLEVBQUF2USx5QkFDQXVGLFNBQUFnTCxFQUFBaEwsV0FLQSxRQUFBaUwsR0FBQTN6QixFQUFBMHpCLEdBT0EsTUFOQTF6QixHQUFBb1QsS0FBdUJwVCxFQUFBMHpCLEdBRXZCLGVBQUE3eEIsRUFBQU0sSUFBQXNNLFdBQ0F6TyxHQUFBLEVBQUEwaUIsRUFBQTFtQixTQUFBZ0UsRUFBQSw0SEFHQUEsRUE1QkF6RSxFQUFBUSxZQUFBLENBRUEsSUFBQXFYLEdBQUExYyxPQUFBa1csUUFBQSxTQUFBZ0gsR0FBbUQsT0FBQWhjLEdBQUEsRUFBZ0JBLEVBQUFxSyxVQUFBcEssT0FBc0JELElBQUEsQ0FBTyxHQUFBaWMsR0FBQTVSLFVBQUFySyxFQUEyQixRQUFBd1osS0FBQXlDLEdBQTBCbmQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFpZSxFQUFBekMsS0FBeUR3QyxFQUFBeEMsR0FBQXlDLEVBQUF6QyxJQUFpQyxNQUFBd0MsR0FFL09yWSxHQUFBazRCLHFCQUNBbDRCLEVBQUFvNEIsc0JBRUEsSUFBQWxSLEdBQUE5dUIsRUFBQSxJQUVBK3VCLEVBQUE3bUIsRUFBQTRtQixLM0QyNkw4QjdzQixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEc0RDE3TGhDLFlBaUJBLFNBQUFrSSxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQXVILEdBQUF4SixHQUlBLEdBQUErNUIsSUFBQSxFQUFBdnNCLEVBQUFyTCxTQUFBbkMsR0FDQWduQixFQUFBLFdBQ0EsTUFBQStTLElBRUE1ekIsR0FBQSxFQUFBNnpCLEVBQUE3M0IsVUFBQSxFQUFBODNCLEVBQUE5M0IsU0FBQTZrQixJQUFBaG5CLEVBRUEsT0FEQW1HLEdBQUErekIsbUJBQUEsRUFDQS96QixFQTNCQXpFLEVBQUFRLFlBQUEsRUFDQVIsRUFBQVMsUUFBQXFILENBRUEsSUFBQTJ3QixHQUFBcmdDLEVBQUEsSUFFQWtnQyxFQUFBaDRCLEVBQUFtNEIsR0FFQUMsRUFBQXRnQyxFQUFBLElBRUFtZ0MsRUFBQWo0QixFQUFBbzRCLEdBRUFDLEVBQUF2Z0MsRUFBQSxLQUVBMFQsRUFBQXhMLEVBQUFxNEIsRUFnQkFuNkIsR0FBQXdCLFVBQUEsUzVEZzhMTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxHNkQvOUxoQyxZQWNBLFNBQUFrSSxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FaN0VQLEVBQUFRLFlBQUEsRUFFQVIsRUFBQVMsUUFBQSxTQUFBNmtCLEdBQ0EsR0FBQTdnQixHQUFBLE1BRUEsT0FEQXVnQixLQUFBdmdCLEdBQUEsRUFBQTZHLEVBQUE3SyxTQUFBNmtCLE1BQ0E3Z0IsRUFHQSxJQUFBbTBCLEdBQUF4Z0MsRUFBQSxJQUVBa1QsRUFBQWhMLEVBQUFzNEIsR0FJQTVULElBQUEsbUJBQUFqaEIsaUJBQUFsTSxXQUFBa00sT0FBQWxNLFNBQUFHLGNBRUF3RyxHQUFBd0IsVUFBQSxTN0RxK0xNLFNBQVN4QixFQUFRd0IsRUFBUzVILEk4RHYvTGhDLFNBQUFrTyxHQUFBLFlBY0EsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBczRCLEdBQUFqcUIsRUFBQS9LLEdBQ0Esa0JBQUF5QyxFQUFBTSxJQUFBc00sVUFBQWdVLEVBQUFnQixlQUFBLENBQ0EsR0FBQTRRLEdBQUFqaEIsS0FBdUNqSixHQU12Q3laLEVBQUEsU0FBQUwsR0FDQSxNQUFBN3NCLFFBQUFDLFVBQUFDLGVBQUFoQixLQUFBd0osRUFBQW1rQixPQUlBN3NCLFFBQUFJLGVBQUF1OUIsRUFBQTlRLEdBQ0F0c0IsSUFBQSxXQUVBLE1BREEsZUFBQTRLLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEseVZBQ0FvRCxFQUFBbWtCLE1BTkEsV0FXQSxRQUFBQSxLQUFBbmtCLEdBQUEsQ0FDQXdrQixFQUFBTCxHQUtBLE1BQUE4USxHQUdBLE1BQUFqaEIsTUFBb0JqSixFQUFBL0ssR0E1Q3BCN0QsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLEdBRS9PclksR0FBQVMsUUFBQW80QixDQUVBLElBQUEzUixHQUFBOXVCLEVBQUEsSUFFQWt2QixFQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsRUFvQ0E5b0IsR0FBQXdCLFVBQUEsVTlEMC9MOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEcrRDlpTWhDLFlBYUEsU0FBQWtJLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBMkgsR0FBQW9kLEdBQ0EsZ0JBQUFobkIsR0FDQSxHQUFBbUcsSUFBQSxFQUFBNnpCLEVBQUE3M0IsVUFBQSxFQUFBODNCLEVBQUE5M0IsU0FBQTZrQixJQUFBaG5CLEVBRUEsT0FEQW1HLEdBQUErekIsbUJBQUEsRUFDQS96QixHQWpCQXpFLEVBQUFRLFlBQUEsRUFDQVIsRUFBQVMsUUFBQXlILENBRUEsSUFBQXV3QixHQUFBcmdDLEVBQUEsSUFFQWtnQyxFQUFBaDRCLEVBQUFtNEIsR0FFQUMsRUFBQXRnQyxFQUFBLElBRUFtZ0MsRUFBQWo0QixFQUFBbzRCLEVBV0FsNkIsR0FBQXdCLFVBQUEsUy9Eb2pNTSxTQUFTeEIsRUFBUXdCLEdnRTFrTXZCLFlBRUE3RSxRQUFBSSxlQUFBeUUsRUFBQSxjQUNBcEUsT0FBQSxHQUVBLElBQUFtOUIsR0FBQS80QixFQUFBKzRCLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxVQUFBeHlCLE9BQUF3eUIsRUFBQSxHQUFBOVcsS0FBQTZXLElBR0FFLEVBQUFsNUIsRUFBQWs1QixJQUFBLFNBQUF6aUIsRUFBQTBpQixHQUNBLE1BQUFKLEdBQUEsSUFBQUksRUFBQTFpQixFQUFBckUsV0FBQTlWLFFBQUFtYSxFQUdBelcsR0FBQW81QixXQUFBLFNBQUFoSSxHQUNBLE1BQUE4SCxHQUFBOUgsRUFBQWlJLFdBQUEsT0FBQUgsRUFBQTlILEVBQUFrSSxhQUFBLE9BQUFKLEVBQUE5SCxFQUFBbUksYUFBQSxPQUFBTCxFQUFBOUgsRUFBQW9JLGtCQUFBLElBSUF4NUIsRUFBQXk1QixNQUFBLG1CQUFBQyxjQUFBLE9BQUFBLGFBQUEsa0JBQUFBLGFBQUFwSSxJQUFBb0ksWUFBQW5JLE1oRWdsTU0sU0FBUy95QixFQUFRd0IsR2lFbG1NdkJ4QixFQUFBd0IsUUFBQSxzbkVqRXdtTU0sU0FBU3hCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFlQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR2tFNW1NakYsUUFBU3V3QixLQUNaLE1BQU8sVUFBQXBrQixHQUNIQSxHQUNJelUsNEJBRUowaEMsRUFBQWw1QixRQUFPcXdCLGFBQWEsU0FBQXp6QixHQUNoQnFQLEdBQ0l6VSwwQkFDQW9GLFlBS1QsUUFBU3d6QixHQUFpQjFzQixFQUFNc1MsR0FDbkMsTUFBTyxVQUFBL0osR0FDSEEsR0FDSXpVLGdDQUVKMGhDLEVBQUFsNUIsUUFBT293QixpQkFBaUIxc0IsRUFBTXNTLEVBQUssU0FBQXBaLEdBQy9CcVAsR0FDSXpVLDhCQUNBb0YsS0FBS0EsRUFBSytCLE9BRVYrRSxPQUNBc1MsV0FLVCxRQUFTbWEsS0FDWixNQUFPLFVBQUFsa0IsR0FDSGl0QixFQUFBbDVCLFFBQU9td0IsY0FBYyxTQUFBdnpCLEdBQ2pCcVAsR0FDSXpVLG1DbEU4ak1ma0QsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFa0VsbU1lOHdCLGVsRW1tTWY5d0IsRWtFdGxNZTZ3QixtQmxFdWxNZjd3QixFa0V2a01lNHdCLGVBdkNoQixJQUFBOUcsR0FBQTF4QixFQUFBLElsRWtuTUt1aEMsRUFBV3I1QixFQUF1QndwQixHa0Vobk12QzFTLEVBQUFoZixFQUFBLElsRWtxTU0sU0FBU29HLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFnQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBZHZGcEYsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEdtRTVxTVosSUFBQTZILEdBQUFyTCxFQUFBLEdBQ0F1ckIsRUFBQXZyQixFQUFBLEluRWtyTUt3aEMsRUFBZXQ1QixFQUF1QnFqQixHbUVqck0zQ3RNLEVBQUFqZixFQUFBLEluRXFyTUs0ZSxFQUFZMVcsRUFBdUIrVyxFQUl2Q3JYLEdBQVFTLFNtRXRyTUxzVixZQURZLFNBQ0FyVyxHQUVScW5CLE1BQU10akIsRUFBQW1FLE9BQUEsMkJBQ0ZpeUIsWUFBYSxnQkFFWkMsS0FBSyxTQUFBQyxHQUFBLE1BQU9BLEdBQUlwZCxTQUNoQm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQUtqZCxNQUVyRHVXLGlCQVRZLFNBU0t4WSxFQUFJaUMsR0FDakJxbkIsTUFBTXRqQixFQUFBbUUsUUFBQSwrQkFBd0NuSyxJQUMxQ284QixZQUFhLGdCQUVaQyxLQUFLLFNBQUFDLEdBQUEsTUFBT0EsR0FBSXBkLFNBQ2hCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBTWpkLE1BRXREd1csYUFoQlksU0FnQkNDLEVBQVNDLEVBQUtDLEVBQVlDLEVBQWVDLEVBQWM3VyxHQUNsRXFuQixNQUFPdGpCLEVBQUFtRSxPQUFBLDRCQUNIaXlCLFlBQWEsY0FDYkcsT0FBUSxPQUNSQyxTQUNJQyxPQUFVLG1CQUNWQyxlQUFnQixvQkFFcEIvZSxLQUFNOWhCLEtBQUs2ckIsV0FDUGhQLFVBQ0Fpa0IsU0FBU2hrQixFQUNUQyxhQUNBVSxNQUFNVCxFQUNOQyxtQkFHSHVqQixLQUFLLFNBQUFDLEdBQUEsTUFBT0EsR0FBSXBkLFNBQ2hCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE1BRW5EOFcsWUFuQ1ksU0FtQ0FyUyxFQUFNc1MsRUFBSy9XLEdBQ25CLE1BQU9xbkIsT0FBTXRqQixFQUFBbUUsUUFBQSxrQ0FBMkN6RCxFQUEzQyxXQUEwRHNTLElBQ25Fb2pCLFlBQWEsZ0JBRVpDLEtBQUssU0FBQUMsR0FBQSxNQUFPQSxHQUFJcGQsU0FDaEJtZCxLQUFLLFNBQUFuZCxHQUFBLE1BQVFpZCxHQUFBbjVCLFFBQVdpYyxlQUFlQyxFQUFLamQsTUFFckRnWCxVQTFDWSxTQTBDRnZTLEVBQU1zUyxFQUFLL1csR0FDakIsTUFBT3FuQixPQUFNdGpCLEVBQUFtRSxRQUFBLG9DQUE2Q3pELEVBQTdDLFdBQTREc1MsSUFDckVvakIsWUFBYSxnQkFFWkMsS0FBSyxTQUFBQyxHQUFBLE1BQU9BLEdBQUlwZCxTQUNoQm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQUtqZCxNQUVyRGlYLFdBakRZLFNBaUREeFMsRUFBTXNTLEVBQUsvVyxHQUNsQixNQUFPcW5CLE9BQU10akIsRUFBQW1FLFFBQUEsa0NBQTJDekQsRUFBM0MsV0FBMERzUyxJQUNuRW9qQixZQUFhLGdCQUVaQyxLQUFLLFNBQUFDLEdBQUEsTUFBT0EsR0FBSXBkLFNBQ2hCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE1BRXJEbVgscUJBeERZLFNBd0RTQyxFQUFRQyxFQUFPclgsR0FDaEMsTUFBT3FuQixPQUFNdGpCLEVBQUFtRSxPQUFTLDBCQUNsQml5QixZQUFhLGNBQ2JHLE9BQVEsT0FDUkMsU0FDSUMsT0FBVSxtQkFDVkMsZUFBZ0Isb0JBRXBCL2UsS0FBTTloQixLQUFLNnJCLFdBQ1ByTyxTQUNBQyxZQUdIK2lCLEtBQUssU0FBQUMsR0FBQSxNQUFPQSxHQUFJcGQsU0FDaEJtZCxLQUFLLFNBQUFuZCxHQUlGLE1BSG1CLElBQWhCQSxFQUFLQyxTQUNKNUYsRUFBQXZXLFFBQVE0YSxNQUFNLG1CQUFtQixXQUFNcmdCLFFBQVE4SSxJQUFJLFVBRWhEODFCLEVBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQUtqZCxRbkU0c01oRCxTQUFTbEIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQWdCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBUzg1QixHQUFnQjk1QixFQUFLc1YsRUFBS2phLEdBQWlLLE1BQXBKaWEsS0FBT3RWLEdBQU9wRixPQUFPSSxlQUFlZ0YsRUFBS3NWLEdBQU9qYSxNQUFPQSxFQUFPSCxZQUFZLEVBQU1ELGNBQWMsRUFBTXlSLFVBQVUsSUFBa0IxTSxFQUFJc1YsR0FBT2phLEVBQWdCMkUsRUFoQjNNcEYsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdvRTV4TVYsSUFBQTArQixHQUFBbGlDLEVBQUEsSXBFaXlNS21pQyxFQUFvQmo2QixFQUF1Qmc2QixHb0VoeU1oRDcyQixFQUFBckwsRUFBQSxHQUVBdXJCLEVBQUF2ckIsRUFBQSxJcEVveU1Ld2hDLEVBQWV0NUIsRUFBdUJxakIsRUFVMUMzakIsR0FBUVMsU29FM3lNUG9nQixtQkFEYyxTQUNLMWMsRUFBTXNTLEVBQUtpRixFQUFRaGMsR0FDcEMsR0FBSXNqQiw4Q0FBaUQ3ZSxFQUFqRCxXQUFnRXNTLENBQ2pFaUYsS0FDQ3NILGNBQWtCdEgsSUFDdEIsRUFBQTZlLEVBQUE5NUIsU0FBTXVpQixHQUNKNlcsWUFBYSxnQkFFWkMsS0FBSyxTQUFBVSxHQUFBLE1BQ0ZBLEdBQVM3ZCxTQUdabWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE1BRWpEc2hCLGdCQWRjLFNBY0V2akIsRUFBSWlDLEdBQ2xCLEdBQU1zakIsR0FBTXZmLEVBQUFtRSxPQUFTLG1DQUFxQ25LLEdBQzFELEVBQUE4OEIsRUFBQTk1QixTQUFNdWlCLEdBQ0o2VyxZQUFhLGdCQUVaQyxLQUFLLFNBQUFVLEdBQUEsTUFDRkEsR0FBUzdkLFNBR1ptZCxLQUFLLFNBQUFuZCxHQUFBLE1BQVFpZCxHQUFBbjVCLFFBQVdpYyxlQUFlQyxFQUFLamQsTUFFakR3aEIsY0F6QmMsU0F5QkFDLEVBQVN6aEIsSUFDckIsRUFBQTY2QixFQUFBOTVCLFNBQUFnRCxFQUFBbUUsT0FBQSxtQ0FBa0R1WixHQUNoRDBZLFlBQWEsZ0JBRVpDLEtBQUssU0FBQVUsR0FBQSxNQUFZQSxHQUFTN2QsU0FDMUJtZCxLQUFLLFNBQUFuZCxHQUFBLE1BQVFpZCxHQUFBbjVCLFFBQVdpYyxlQUFlQyxFQUFLamQsTUFFakQwaEIsVUFoQ2MsU0FnQ0pDLEVBQVNDLEVBQVc1aEIsR0FBSSxHQUFBKzZCLElBQ2hDLEVBQUFGLEVBQUE5NUIsU0FBQWdELEVBQUFtRSxPQUFBLHlCQUFBNnlCLEdBQ0VaLFlBQWEsY0FDYkcsT0FBUSxPQUNSQyxTQUNFQyxPQUFVLG1CQUNWQyxlQUFnQixxQkFMcEJFLEVBQUFJLEVBQUEsY0FPZSxlQVBmSixFQUFBSSxFQUFBLE9BUVFuaEMsS0FBSzZyQixXQUNUdVYsVUFBVXJaLEVBQ1YrQyxZQUFZOUMsS0FWaEJtWixJQWFHWCxLQUFLLFNBQUFDLEdBQUEsTUFBT0EsR0FBSXBkLFNBQ2hCbWQsS0FBSyxTQUFBbmQsR0FDSixPQUFPQSxFQUFLQyxTQUNWLElBQUssR0FDSGxkLEVBQUdpZCxFQUFLdGYsS0FDUixNQUNGLFNBQ0V1OEIsRUFBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE9BSXpDNmhCLGNBekRjLFNBeURBSixFQUFVemhCLElBQ3RCLEVBQUE2NkIsRUFBQTk1QixTQUFBZ0QsRUFBQW1FLE9BQUEsbUNBQWtEdVosR0FDaEQwWSxZQUFhLGdCQUVaQyxLQUFLLFNBQUFDLEdBQUEsTUFBT0EsR0FBSXBkLFNBQ2hCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBTWpkLE1BRWxEOGhCLG9CQWhFYyxTQWdFTUwsRUFBVXpoQixJQUM1QixFQUFBNjZCLEVBQUE5NUIsU0FBQWdELEVBQUFtRSxPQUFBLHlDQUF3RHVaLEdBQ3REMFksWUFBYSxnQkFFWkMsS0FBSyxTQUFBQyxHQUFBLE1BQU9BLEdBQUlwZCxTQUNoQm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQU1qZCxRcEV5ek05QyxTQUFTbEIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQWdCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FkdkZwRixPQUFPSSxlQUFleUUsRUFBUyxjQUMzQnBFLE9BQU8sR3FFMzRNWixJQUFBMCtCLEdBQUFsaUMsRUFBQSxJckVnNU1LbWlDLEVBQW9CajZCLEVBQXVCZzZCLEdxRS80TWhENzJCLEVBQUFyTCxFQUFBLEdBSUF1ckIsRUFBQXZyQixFQUFBLElyRWk1TUt3aEMsRUFBZXQ1QixFQUF1QnFqQixFQUsxQzNqQixHQUFRUyxTcUVuNU1McXdCLGFBRFcsU0FDRXB4QixHQUNULEdBQUlzakIsMkJBQ0osRUFBQXVYLEVBQUE5NUIsU0FBTXVpQixHQUNFNlcsWUFBYSxnQkFFaEJDLEtBQUssU0FBQVUsR0FBQSxNQUNGQSxHQUFTN2QsU0FHWm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQU1qZCxNQUV0RG14QixpQkFaVyxTQVlNMXNCLEVBQU1zUyxFQUFLL1csR0FDeEIsR0FBSXNqQixvQ0FBdUM3ZSxFQUF2QyxXQUFzRHNTLEdBQzFELEVBQUE4akIsRUFBQTk1QixTQUFNdWlCLEdBQ0U2VyxZQUFhLGdCQUVoQkMsS0FBSyxTQUFBVSxHQUFBLE1BQ0ZBLEdBQVM3ZCxTQUVabWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBTWpkLE1BRXREa3hCLGNBdEJXLFNBc0JHbHhCLEdBQ1YsR0FBSXNqQixzQ0FDSixFQUFBdVgsRUFBQTk1QixTQUFNdWlCLEdBQ0U2VyxZQUFhLGNBQ2JHLE9BQVEsT0FDUkMsU0FDSUMsT0FBVSxtQkFDVkMsZUFBZ0Isc0JBR3ZCTCxLQUFLLFNBQUFVLEdBQUEsTUFDRkEsR0FBUzdkLFNBRVptZCxLQUFLLFNBQUFuZCxHQUFBLE1BQVFpZCxHQUFBbjVCLFFBQVdpYyxlQUFlQyxFQUFNamQsUXJFMjVNcEQsU0FBU2xCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFnQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBZHZGcEYsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdzRXY4TVYsSUFBQTArQixHQUFBbGlDLEVBQUEsSXRFNDhNS21pQyxFQUFvQmo2QixFQUF1Qmc2QixHc0UzOE1oRDcyQixFQUFBckwsRUFBQSxHQUNBdXJCLEVBQUF2ckIsRUFBQSxJdEVnOU1Ld2hDLEVBQWV0NUIsRUFBdUJxakIsRUFJMUMzakIsR0FBUVMsU3NFaDlNUDRoQixhQURjLFNBQ0RsZSxFQUFNc1MsRUFBS2lGLEVBQVFoYyxHQUM5QixHQUFJc2pCLEdBQU12ZixFQUFBbUUsT0FBUyxnQ0FBa0N6RCxFQUFPLFdBQWFzUyxDQUN0RWlGLEtBQ0NzSCxHQUFPLFdBQVd0SCxJQUN0QixFQUFBNmUsRUFBQTk1QixTQUFNdWlCLEdBQ0o2VyxZQUFhLGdCQUVaQyxLQUFLLFNBQUFVO0FBQUEsTUFDRkEsR0FBUzdkLFNBR1ptZCxLQUFLLFNBQUFuZCxHQUFBLE1BQVFpZCxHQUFBbjVCLFFBQVdpYyxlQUFlQyxFQUFLamQsTUFFakQ2aUIsYUFkYyxTQWNEOWtCLEVBQUdpQyxHQUNkLEdBQU1zakIsR0FBTXZmLEVBQUFtRSxPQUFTLCtCQUErQm5LLEdBQ3BELEVBQUE4OEIsRUFBQTk1QixTQUFNdWlCLEdBQ0o2VyxZQUFhLGdCQUVaQyxLQUFLLFNBQUFVLEdBQUEsTUFBWUEsR0FBUzdkLFNBQzFCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE1BRWpEK2lCLG1CQXRCYyxTQXNCS2hsQixFQUFHMEcsRUFBS3cyQixFQUFPajdCLEdBQ2hDLEdBQU1zakIsR0FBTXZmLEVBQUFtRSxRQUFBLHlDQUFrRG5LLEVBQWxELFNBQTZEMEcsRUFBN0QsV0FBNEV3MkIsSUFDeEYsRUFBQUosRUFBQTk1QixTQUFNdWlCLEdBQ0o2VyxZQUFhLGdCQUVaQyxLQUFLLFNBQUFVLEdBQUEsTUFBWUEsR0FBUzdkLFNBQzFCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRaWQsR0FBQW41QixRQUFXaWMsZUFBZUMsRUFBS2pkLE1BRWpEZ2pCLGNBOUJjLFNBOEJBdkksRUFBUXdJLEVBQVFqakIsR0FDNUIsR0FBTXNqQixHQUFNdmYsRUFBQW1FLFFBQUEseUNBQWtEdVMsRUFBbEQsbUJBQTRFd0ksSUFDeEYsRUFBQTRYLEVBQUE5NUIsU0FBTXVpQixHQUNKNlcsWUFBYSxnQkFFWkMsS0FBSyxTQUFBVSxHQUFBLE1BQVlBLEdBQVM3ZCxTQUMxQm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQUtqZCxRdEUrOU03QyxTQUFTbEIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQVlBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQVZ2RnBGLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHdUU3Z05WLElBQUErbkIsR0FBQXZyQixFQUFBLEl2RWtoTkt3aEMsRUFBZXQ1QixFQUF1QnFqQixHdUVqaE4zQ2xnQixFQUFBckwsRUFBQSxFdkUwaE5DNEgsR0FBUVMsU3VFeGhOUHdvQixZQURhLFNBQ0RqRyxFQUFJdGpCLEdBQ2RxbkIsd0NBQ0U4UyxZQUFhLGNBQ2JHLE9BQVEsT0FDUkMsU0FDRUMsT0FBVSxtQkFDVkMsZUFBZ0Isb0JBRWxCL2UsS0FBTTloQixLQUFLNnJCLFdBQ1RuQyxVQUdIOFcsS0FBSyxTQUFBVSxHQUFBLE1BQVlBLEdBQVM3ZCxTQUMxQm1kLEtBQUssU0FBQW5kLEdBQUEsTUFBUWlkLEdBQUFuNUIsUUFBV2ljLGVBQWVDLEVBQUtqZCxRdkVpaU4zQyxTQUFTbEIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQTBCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBOUJqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHQUdULElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNd0V6ak5qaUIvWCxFQUFBdEksRUFBQSxHeEU2ak5LdUksRUFBVUwsRUFBdUJJLEd3RTVqTnRDSyxFQUFBM0ksRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsNkVBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FDQSxJQUFBcUgsR0FBQTFJLEVBQUEsR0FDQStlLEVBQUEvZSxFQUFBLElBQ0FxTCxFQUFBckwsRUFBQSxHQUNBbTRCLEVBQUFuNEIsRUFBQSxJeEVxa05LbzRCLEVBQVlsd0IsRUFBdUJpd0IsR3dFcGtObENxSyxFeEVpbE5TLFNBQVVsZ0IsR3dFaGxOdkIsUUFBQWtnQixHQUFZbnRCLEdBQU84SyxFQUFBcFksS0FBQXk2QixFQUFBLElBQUFqaEIsR0FBQWpCLEVBQUF2WSxNQUFBeTZCLEVBQUF6dEIsV0FBQWhTLE9BQUFnWCxlQUFBeW9CLElBQUF2Z0MsS0FBQThGLEtBQ1hzTixHQURXLE9BRWpCa00sR0FBSy9LLE9BQ0h1USxNQUFPLEdBSFF4RixFeEU4dE5sQixNQTdJQWhCLEdBQVVpaUIsRUFBU2xnQixHQWFuQjVCLEVBQWE4aEIsSUFDWC9rQixJQUFLLG9CQUNMamEsTUFBTyxXd0V4bE5OdUUsS0FBS3NOLE1BQU1zSSxpQnhFNGxOWkYsSUFBSyxjQUNMamEsTUFBTyxTd0UzbE5FQSxFQUFPd3ZCLEdBQ2pCanJCLEtBQUswUSxVQUFVc08sTUFBT3ZqQixPeEU4bE5yQmlhLElBQUssU0FDTGphLE1BQU8sV3dFM2xOUixNQUNFdUUsTUFBS3NOLE1BQU1vdEIsU0FBU3BSLFVBQ3BCOW9CLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5RixHQUFHLGdCQUUrQixNQUFuQzBDLEtBQUtzTixNQUFNb3RCLFNBQVNDLFdBQ2xCbjZCLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU11VCxVQUFVLGFBQWEwSCxHQUFJMWdCLEVBQUFvQixTQUFBLGVBQXVCMUUsS0FBS3NOLE1BQU1vdEIsU0FBU3JSLFVBQzFFN29CLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUFVdGtCLElBQUtDLEVBQVEsT0FFeEMsR0FFSnVJLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU11VCxVQUFVLGNBQWMwSCxHQUFJMWdCLEVBQUFvQixRQUFRLFFBQ3hDbEUsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFlBQVl0a0IsSUFBS0MsRUFBUSxRQUUxQ3VJLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGFBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLZ0ksS0FBS3NOLE1BQU1vdEIsU0FBU3BSLFVBQVU5cUIsTUFBTSxHQUFHLEdBQU0sVUFHM0RnQyxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsUUFBUXRjLEtBQUtzTixNQUFNb3RCLFNBQVNuUixXQUMzQy9vQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsWUFBWXRjLEtBQUtzTixNQUFNb3RCLFNBQVNFLGFBQS9DLElBQThENTZCLEtBQUtzTixNQUFNb3RCLFNBQVNHLGVBQ2xGcjZCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxlQUFldGMsS0FBS3NOLE1BQU1vdEIsU0FBU0ksbUJBQ2pEOTZCLEtBQUtzTixNQUFNb3RCLFNBQVNLLFdBQVd2NkIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGdCQUFxQixHQUNuRXRjLEtBQUtzTixNQUFNb3RCLFNBQVNLLFdBQ2pCdjZCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxXQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsVUFDRTJJLEVBQUFGLFFBQUF6SSxjQUFBLFVBQUttSSxLQUFLc04sTUFBTW90QixTQUFTSyxXQUF6QixLQUNBdjZCLEVBQUFGLFFBQUF6SSxjQUFBLFVBQUttSSxLQUFLc04sTUFBTW90QixTQUFTTSxXQUF6QixLQUNBeDZCLEVBQUFGLFFBQUF6SSxjQUFBLGNBQU1tSSxLQUFLc04sTUFBTW90QixTQUFTdmtCLGdCQUU1QjNWLEVBQUFGLFFBQUF6SSxjQUFBLFVBQ0UySSxFQUFBRixRQUFBekksY0FBQSxpQkFDQTJJLEVBQUFGLFFBQUF6SSxjQUFBLGlCQUNBMkksRUFBQUYsUUFBQXpJLGNBQUEsa0JBRUcsR0FFWDJJLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxnQkFDZjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxPQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBa0ksV0FBV2tiLEdBQUkxZ0IsRUFBQW9CLFFBQVEsV0FBWXl5QixnQkFBZ0IsVUFBbkQsT0FDQTMyQixFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNaWIsR0FBSTFnQixFQUFBb0IsUUFBUSxxQkFBc0J5eUIsZ0JBQWdCLFVBQXhELE9BQ0EzMkIsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUkxZ0IsRUFBQW9CLFFBQVEsc0JBQXVCeXlCLGdCQUFnQixVQUF6RCxRQUVGMzJCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxZQUNmOWIsRUFBQUYsUUFBQXpJLGNBQUEsV0FDSW1JLEtBQUtzTixNQUFNM1MsV0FHZjZGLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsUUFBQSxVeEVncU5FbTZCLEdBQ1BsNkIsRUFBT2dOLFd3RTdwTkowdEIsRUFBa0IsU0FBQ3hzQixHQUNyQixPQUNJaXNCLFNBQVVqc0IsRUFBTWdjLFFBQVFpUSxVQUloQ0QsSUFBVSxFQUFBOTVCLEVBQUFzTCxTQUFRZ3ZCLEdBQW1CcmxCLDRCQUFlNmtCLEd4RWlxTm5ENTZCLEVBQVFTLFF3RS9wTk1tNkIsR3hFbXFOVCxTQUFTcDhCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFnQ0EsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQXBDamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTXlFN3ZOamlCL1gsRUFBQXRJLEVBQUEsR3pFaXdOS3VJLEVBQVVMLEVBQXVCSSxHeUVod050Q0ssRUFBQTNJLEVBQUEsR0FDQTBJLEVBQUExSSxFQUFBLEVBQ0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSx5RUFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUNBLElBQUFnSyxHQUFBckwsRUFBQSxHQUNBaWpDLEVBQUFqakMsRUFBQSxJQUNBa2pDLEVBQUFsakMsRUFBQSxJQUNBeUssR3pFd3dObUJ2QyxFQUF1Qmc3QixHeUV4d04xQ2xqQyxFQUFBLEtBQ0FtakMsR3pFMndOb0JqN0IsRUFBdUJ1QyxHeUUzd04zQ3pLLEVBQUEsS0FFTW9qQyxFekV3eE5LLFNBQVU5Z0IsR3lFdnhObkIsUUFBQThnQixLQUFjampCLEVBQUFwWSxLQUFBcTdCLEVBQUEsSUFBQTdoQixHQUFBakIsRUFBQXZZLE1BQUFxN0IsRUFBQXJ1QixXQUFBaFMsT0FBQWdYLGVBQUFxcEIsSUFBQW5oQyxLQUFBOEYsTUFBQSxPQUVad1osR0FBSzhoQixpQkFGTzloQixFekVrNU5iLE1BMUhBaEIsR0FBVTZpQixFQUFLOWdCLEdBV2Y1QixFQUFhMGlCLElBQ1gzbEIsSUFBSyxvQkFDTGphLE1BQU8sV3lFaHlOa0IsTUFBckJ1RSxLQUFLc04sTUFBTXpKLFVBQ1o3RCxLQUFLc04sTUFBTWYsVUFBUyxFQUFBMnVCLEVBQUFsUyxhQUFZdGxCLFNBQVNPLE9BRTNDakUsS0FBS3M3QixjQUFjNWdDLEtBQ2Ysa0NBQ0FzRixLQUFLc04sTUFBTXpKLFNBQ1hILFNBQVNPLE1BRVRqRSxLQUFLc04sTUFBTXFkLFNBQVM3VCxTQUNwQjlXLEtBQUt1N0Isa0JBRVRDLEdBQUc3N0IsTUFBTSxTQUFTaTZCLEdBQ2QxbkIsRUFBS3FwQixtQkFFVCxJQUFJcnBCLEdBQU9sUyxJQUNYdzdCLElBQUdDLE1BQU0sV0FDRHZwQixFQUFLNUUsTUFBTXFkLFNBQVM3VCxTQUNwQjVFLEVBQUs1RSxNQUFNZixVQUFTLEVBQUE2dUIsRUFBQW5TLGtCQUV4QnVTLEdBQUdFLHVCQUNDeDNCLE1BQU8sb0JBQ1B5M0IsS0FBTSxvQ0FDTkMsS0FBTWw0QixTQUFTTyxLQUNmNDNCLE9BQVE1akMsRUFBUSxJQUNoQjZlLFFBQVMsYUFHVGdsQixLQUFNLFNBQVNoakMsS0FHZmlpQixPQUFRLG9CekVveU5qQnJGLElBQUssa0JBQ0xqYSxNQUFPLFd5RTl4TlIsR0FBSW9uQixHQUFNN2lCLEtBQUtzN0IsY0FBYzc4QixLQUNsQnVLLFVBQVI2WixHQUNDN2lCLEtBQUtzTixNQUFNZixVQUFTLEVBQUE2dUIsRUFBQXRTLGFBQVlqRyxPekVteU5uQ25OLElBQUssNEJBQ0xqYSxNQUFPLFN5RWp5TmdCc2dDLEdBQ3hCLEdBQUdBLEVBQVVwUixTQUFTenRCLEtBQUttMEIsVUFBVSxDQUNuQyxHQUFNRixJQUFNLEdBQUlDLE9BQU80SyxTQUN2QixJQUFHN0ssRUFBSSxJQUFPNEssRUFBVXBSLFNBQVN6dEIsS0FBS20wQixVQUFVLEVBQUUsQ0FDaEQsR0FBTTRLLElBQ0YsY0FDQSxhQUNBLFlBQ0EsYUFDQSxZQUNBLGNBQ0EsY0FDQSxzQkFDQSx5QkFFRUMsSUFDTkEsR0FBQSxPQUF1QixFQUN2QkEsRUFBQSxNQUF1QkgsRUFBVXBSLFNBQVN6dEIsS0FBbkIsTUFDdkJnL0IsRUFBQSxVQUEyQkgsRUFBVXBSLFNBQVN6dEIsS0FBS20wQixVQUFVcGYsV0FDN0RpcUIsRUFBQSxTQUEwQkgsRUFBVXBSLFNBQVN6dEIsS0FBbkIsU0FDMUJnL0IsRUFBQSxVQUEyQkgsRUFBVXBSLFNBQVN6dEIsS0FBbkIsVUFDM0JnL0IsRUFBQSxVQUEyQkQsRUFDM0JULEdBQUdXLE9BQU9ELFF6RTR4TmJ4bUIsSUFBSyxTQUNMamEsTUFBTyxXeUV4eE5SLE1BQ0UrRSxHQUFBRixRQUFBekksY0FBQSxXQUNFMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGdCQUFnQnhMLElBQUksV0FBWTlRLEtBQUtzTixNQUFNM1MsVUFDMUQ2RixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsVUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFVBQ0UySSxFQUFBRixRQUFBekksY0FBQSxVQUFJMkksRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBa0ksV0FBV3F1QixnQkFBZ0IsU0FBU25ULEdBQUExZ0IsRUFBQW9CLFNBQXBDLE9BQ0psRSxFQUFBRixRQUFBekksY0FBQSxVQUFJMkksRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTW91QixnQkFBZ0IsU0FBU25ULEdBQUkxZ0IsRUFBQW9CLFFBQVEsU0FBM0MsT0FDSmxFLEVBQUFGLFFBQUF6SSxjQUFBLFVBQUkySSxFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNb3VCLGdCQUFnQixTQUFTblQsR0FBSTFnQixFQUFBb0IsUUFBUSxXQUEzQyxjekVpME5OMjJCLEdBQ1A5NkIsRUFBT2dOLFV5RTN6TlY4dEIsSUFBTSxFQUFBMTZCLEVBQUFzTCxTQUFRLFNBQUF3QyxHQUFBLE9BQ1Y1SyxTQUFVNEssRUFBTTVLLFNBQ2hCOG1CLFNBQVNsYyxFQUFNa2MsWUFDZjBRLEd6RWcwTkh4N0IsRUFBUVMsUXlFL3pOTSs2QixHekVtME5ULFNBQVNoOUIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQWNBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQVp2RnBGLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHMEUvNk5aLElBQUE4RSxHQUFBdEksRUFBQSxHMUVvN05LdUksRUFBVUwsRUFBdUJJLEcwRW43TnRDNjdCLEVBQUFua0MsRUFBQSxJMUV1N05Lb2tDLEVBQW9CbDhCLEVBQXVCaThCLEcwRXQ3TjFDRSxFQUFNLFdBQ1IsTUFDSTk3QixHQUFBRixRQUFBekksY0FBQXdrQyxFQUFBLzdCLFFBQUEsTTFFODdOUFQsR0FBUVMsUTBFMzdOTWc4QixHMUUrN05ULFNBQVNqK0IsRUFBUXdCLEVBQVM1SCxHQUUvQixZQTRCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBaENqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNMkU5OE5qaUIvWCxFQUFBdEksRUFBQSxHM0VrOU5LdUksRUFBVUwsRUFBdUJJLEcyRWo5TnRDSyxFQUFBM0ksRUFBQSxHQUNBcUwsRUFBQXJMLEVBQUEsR0FDQWlmLEVBQUFqZixFQUFBLEkzRXU5Tks0ZSxFQUFZMVcsRUFBdUIrVyxHMkV0OU54QzhCLEVBQUEvZ0IsRUFBQSxJM0UwOU5LZ2hCLEVBQVU5WSxFQUF1QjZZLEcyRXo5TnRDbWhCLEVBQUFsaUMsRUFBQSxJM0U2OU5LbWlDLEVBQW9CajZCLEVBQXVCZzZCLEcyRTM5TjNCb0MsRTNFdytOTCxTQUFVaGlCLEcyRXYrTnRCLFFBQUFnaUIsS0FBY25rQixFQUFBcFksS0FBQXU4QixFQUFBLElBQUEvaUIsR0FBQWpCLEVBQUF2WSxNQUFBdThCLEVBQUF2dkIsV0FBQWhTLE9BQUFnWCxlQUFBdXFCLElBQUFyaUMsS0FBQThGLE1BQUEsT0FFVndaLEdBQUsvSyxPQUNEaVYsU0FBUSxHQUhGbEssRTNFeWxPYixNQWpIQWhCLEdBQVUrakIsRUFBVWhpQixHQWFwQjVCLEVBQWE0akIsSUFDVDdtQixJQUFLLHFCQUNMamEsTUFBTyxXMkVqL05RLEdBQUEwZSxHQUFBbmEsS0FBQXc4QixFQUNrQng4QixLQUFLc04sTUFBTTVKLFNBQVN3ZixNQUEvQ3ByQixFQURTMGtDLEVBQ1Qxa0MsS0FBSytyQixFQURJMlksRUFDSjNZLFdBQVc0WSxFQURQRCxFQUNPQyxRQUNqQnh2QixFQUFJMGUsVUFBVUMsVUFFZDhRLEdBRFl6dkIsRUFBRXhTLFFBQVEsWUFBYSxHQUFNd1MsRUFBRXhTLFFBQVEsUUFBUyxJQUNsRHdTLEVBQUVqRixNQUFNLGlDQUN4Qm5OLFNBQVE4SSxJQUFJQyxPQUFPQyxTQUFTcEosUUFBUSxRQUNqQ2lpQyxHQUFTOTRCLE9BQU9DLFNBQVNwSixRQUFRLFNBQVEsSUFDeENJLFFBQVE4SSxJQUFJLE1BQ1pELFNBQVNxVCxRQUFPLEdBRXBCLElBQUk0bEIsU0FDSixJQUFVLGFBQVA3a0MsRUFBa0IsSUFDVmtwQixHQUFZaGhCLEtBQUtzTixNQUFNNUosU0FBU3dmLE1BQWhDbEMsUUFDUDJiLCtDQUFxRDNiLE1BQ25ELElBQVUsVUFBUGxwQixFQUFlLElBQUE4a0MsR0FDTTU4QixLQUFLc04sTUFBTTVKLFNBQVN3ZixNQUF2Q2xKLEVBRGE0aUIsRUFDYjVpQixRQUFRd0ksRUFES29hLEVBQ0xwYSxPQUNmbWEscURBQTJEM2lCLEVBQTNELG1CQUFxRndJLEdBRXpGLEVBQUE0WCxFQUFBOTVCLFNBQU1xOEIsR0FDSmpELFlBQWEsZ0JBRVpDLEtBQUssU0FBQVUsR0FBQSxNQUFZQSxHQUFTN2QsU0FDMUJtZCxLQUFLLFNBQUFuZCxHQUNGLEdBQWlCLEdBQWRBLEVBQUtDLFFBQVcsQ0FDZnRDLEVBQUt6SixVQUFVZ1QsU0FBUyxHQUN4QixJQUFNdU4sR0FBTyxHQUFJRyxLQUNkSCxHQUFLK0ssVUFBVSxJQUFLeGYsRUFBS3RmLEtBQUsyL0IsVUFBVSxJQUFHLGNBR25DQyxHQUFULFFBQVNBLEtBQ1BDLGVBQWVDLE9BQ2IsdUJBQXdCeGdCLEVBQUt0ZixLQUM3QixTQUFTMDhCLEdBQ1csOEJBQWZBLEVBQUlxRCxRQUVMcG1CLEVBQUF2VyxRQUFRd1csUUFBUSxPQUFPLEVBQUUsV0FDckJsVyxFQUFBNEMsZUFBZTlJLEtBQUttcEIsTUFLeEJocEIsUUFBUThJLElBQUlpMkIsR0FFWi9pQixFQUFBdlcsUUFBUTRhLE1BQU0sV0FBVyxXQUNyQnRhLEVBQUE0QyxlQUFlOUksS0FBSytoQyxNQUt0Qi9rQyxTQUFTeXpCLG9CQUNYenpCLFNBQVN5ekIsb0JBQW9CLHNCQUF1QjJSLEdBQzVDcGxDLFNBQVN3ekIsY0FDakJ4ekIsU0FBUzB6QixZQUFZLHNCQUF1QjBSLEdBQzVDcGxDLFNBQVMwekIsWUFBWSx3QkFBeUIwUixNQTFCdERqaUMsU0FBUThJLElBQUksVUFnQ2lCLG1CQUFsQm81QixnQkFDTHJsQyxTQUFTcXpCLGlCQUNYcnpCLFNBQVNxekIsaUJBQWlCLHNCQUF1QitSLEdBQWUsR0FDeERwbEMsU0FBU3d6QixjQUNqQnh6QixTQUFTd3pCLFlBQVksc0JBQXVCNFIsR0FDNUNwbEMsU0FBU3d6QixZQUFZLHdCQUF5QjRSLElBR2hEQSxRQUdGamlDLFFBQVE4SSxJQUFJLFVBQ1o5SSxRQUFROEksSUFBUixRQUFvQnN0QixFQUFLK0ssVUFBVSxJQUFuQyxjQUFxRHhmLEVBQUt0ZixLQUFLMi9CLFVBQS9ELFVBQWlGNUwsRUFBSytLLFVBQVUsSUFBS3hmLEVBQUt0ZixLQUFLMi9CLFlBQy9HbjVCLFNBQVNxVCxRQUFPLFUzRWlnTzNCckIsSUFBSyxTQUNMamEsTUFBTyxXMkU1L05SLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBTzBkLEtBQUssVUFBVWpFLEtBQU0vWixLQUFLeU8sTUFBTWlWLFNBQXZDLGEzRW9nT0E2WSxHQUNUaDhCLEVBQU9nTixVQUVUMU4sR0FBUVMsUTJFN2xPWWk4QixHM0VpbU9mLFNBQVNsK0IsRUFBUXdCLEVBQVM1SCxHQUUvQixZQVlBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQVZ2RnBGLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHNEVobk9WLElBQ0EwL0IsSUFEQWxqQyxFQUFBLEdBQ0FBLEVBQUEsSzVFc25PS2lsQyxFQUFjLzhCLEVBQXVCZzdCLEc0RXBuT3BDZ0MsRUFBUyxTQUFBdmEsR0FBYyxHQUFaam9CLEdBQVlpb0IsRUFBWmpvQixRQUViLE9BQ0VrSyxPQUFBaE4sY0FBQSxXQUNFZ04sTUFBQWhOLGNBQUFxbEMsRUFBQTU4QixRQUFBLE1BQ0UzRixHNUU4bk9Ua0YsR0FBUVMsUTRFMW5PTTY4QixHNUU4bk9ULFNBQVM5K0IsRUFBUXdCLEVBQVM1SCxHQUUvQixZQWdCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBcEJqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNNkUvb09qaUIvWCxFQUFBdEksRUFBQSxHN0VtcE9LdUksRUFBVUwsRUFBdUJJLEc2RWxwT3RDNjhCLEVBQUFubEMsRUFBQSxJN0VzcE9Lb2xDLEVBQWNsOUIsRUFBdUJpOUIsRzZFcnBPcENFLEU3RWtxT08sU0FBVS9pQixHQUdsQixRQUFTK2lCLEtBR0wsTUFGQWxsQixHQUFnQnBZLEtBQU1zOUIsR0FFZi9rQixFQUEyQnZZLE1BQU9zOUIsRUFBTXR3QixXQUFhaFMsT0FBT2dYLGVBQWVzckIsSUFBUTFnQyxNQUFNb0QsS0FBTXVHLFlBVTFHLE1BZkFpUyxHQUFVOGtCLEVBQU8vaUIsR0FRakI1QixFQUFhMmtCLElBQ1Q1bkIsSUFBSyxTQUNMamEsTUFBTyxXNkUzcU9SLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQXdsQyxFQUFBLzhCLFFBQUEsVTdFK3FPQWc5QixHQUNULzhCLEVBQU9nTixVQUVUMU4sR0FBUVMsUTZFOXFPTWc5QixHN0Vrck9ULFNBQVNqL0IsRUFBUXdCLEVBQVM1SCxHQUUvQixZQThCQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEc4RXBqT2xlLFFBQVN1aUIsR0FBZ0J4c0IsR0FDdkIsT0FDRWlzQixTQUFVanNCLEVBQU1nYyxRQUFRaVEsVTlFZ2hPM0IxL0IsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE04RW5zT2ppQi9YLEVBQUF0SSxFQUFBLEc5RXVzT0t1SSxFQUFVTCxFQUF1QkksRzhFdHNPdENLLEVBQUEzSSxFQUFBLEdBQ0FxTCxFQUFBckwsRUFBQSxHQUNBMEksRUFBQTFJLEVBQUEsR0FDQStlLEVBQUEvZSxFQUFBLElBQ0FpaEIsRUFBQWpoQixFQUFBLEk5RThzT0traEIsRUFBVWhaLEVBQXVCK1ksRzhFN3NPdENoQyxFQUFBamYsRUFBQSxJOUVpdE9LNGUsRUFBWTFXLEVBQXVCK1csRThFaHRPeENqZixJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsaUZBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsSzlFK3RPQyxJOEU3dE9LaWtDLEc5RTZ0T2EsU0FBVWhqQixHOEU1dE8zQixRQUFBZ2pCLEdBQVlqd0IsR0FBTzhLLEVBQUFwWSxLQUFBdTlCLEVBQUEsSUFBQS9qQixHQUFBakIsRUFBQXZZLE1BQUF1OUIsRUFBQXZ3QixXQUFBaFMsT0FBQWdYLGVBQUF1ckIsSUFBQXJqQyxLQUFBOEYsS0FDWHNOLEdBRFcsT0FFakJrTSxHQUFLL0ssT0FDSHVILFFBQVN3RCxFQUFLbE0sTUFBTW90QixTQUFTRSxhQUM3QjNrQixJQUFLdUQsRUFBS2xNLE1BQU1vdEIsU0FBU0csY0FDekIza0IsV0FBWXNELEVBQUtsTSxNQUFNb3RCLFNBQVM4QyxnQkFDaENwbkIsYUFBY29ELEVBQUtsTSxNQUFNb3RCLFNBQVNJLGtCQUNsQzNrQixjQUFlcUQsRUFBS2xNLE1BQU1vdEIsU0FBU3ZrQixjQUNuQ3VELFdBQVUsRUFDVmlLLGFBQWEsR0FDYnpJLE9BQ0VoWCxNQUFNLEtBQ055VixVQUVJN2hCLEtBQUssVUFDTDhoQixNQUFNLEtBQ05DLFFBQVFMLEVBQUtDLFVBQVV2SixLQUFmc0osTUFJZGlrQixVQUFTLEdBRVhqa0IsRUFBS2trQixhQUFlbGtCLEVBQUtra0IsYUFBYXh0QixLQUFsQnNKLEdBQ3BCQSxFQUFLbWtCLGdCQUFrQm5rQixFQUFLbWtCLGdCQUFnQnp0QixLQUFyQnNKLEdBdkJOQSxFOUV3OU9sQixNQTNQQWhCLEdBQVUra0IsRUFBYWhqQixHQThCdkI1QixFQUFhNGtCLElBQ1g3bkIsSUFBSyxZQUNMamEsTUFBTyxXOEVudU9SdUUsS0FBSzBRLFVBQVVnSixXQUFVLE85RXV1T3hCaEUsSUFBSyxrQkFDTGphLE1BQU8sUzhFdHVPTXk1QixHQUdkLEdBQU1oakIsR0FBT2xTLElBQ2hCLElBQXlCLFFBQXRCazFCLEVBQWF6bUIsTUFDZixPQUFPLENBRUwsSUFBTTBpQixHQUFNbnhCLEtBQUt5TyxNQUNYbXZCLEVBQVc1OUIsS0FBS3NOLE1BQU1vdEIsUUFDNUIsT0FBSTE2QixNQUFLeU8sTUFBTWd2QixVQUFZdE0sRUFBSW5iLFNBQVc0bkIsRUFBU2hELGNBQWdCekosRUFBSWxiLEtBQU8ybkIsRUFBUy9DLGVBQWlCMUosRUFBSS9hLGNBQWdCd25CLEVBQVM5QyxrQkFBckksUUFDRTVvQixFQUFLeEIsVUFBVStzQixVQUFTLElBQ3hCNW1CLEVBQUF2VyxRQUFRdWEsUUFBUSxvQkFBb0IsT0FBTyxPQUN6QyxXQUNJM0ksRUFBS3hCLFVBQVUrc0IsVUFBUyxLQUU1QixXQUNJNzhCLEVBQUE0QyxlQUFlOUksS0FBS3c2QixFQUFhcHhCLGFBR2hDLE05RXV1T1I0UixJQUFLLG9CQUNMamEsTUFBTyxXOEVsdU9SWixRQUFROEksSUFBSSxrQkFBb0IzRCxLQUFLc04sTUFBTStVLFdBQzNDcmlCLEtBQUtzTixNQUFNaWEsT0FBT0Msa0JBQWtCeG5CLEtBQUtzTixNQUFNc0ssTUFBTzVYLEtBQUsyOUIsb0I5RXd1TzFEam9CLElBQUssZUFDTGphLE1BQU8sVzhFcnVPUixNQUFLLG1CQUFvQmthLEtBQUszVixLQUFLeU8sTUFBTTBILGdCQUl6Q25XLEtBQUtzTixNQUFNeUksYUFBYS9WLEtBQUt5TyxNQUFNdUgsUUFBU2hXLEtBQUt5TyxNQUFNd0gsSUFBS2pXLEtBQUt5TyxNQUFNeUgsV0FBWWxXLEtBQUt5TyxNQUFNMEgsY0FBY25XLEtBQUt5TyxNQUFNMkgsa0JBQ3ZIeFYsR0FBQTRDLGVBQWU5SSxNQUFNb0osU0FBU1IsRUFBQW9CLFFBQVUscUJBQXNCK0osTUFBTSxjQUpoRXpPLE1BQUswUSxVQUFVaVQsYUFBYSxnQkFBZ0JqSyxXQUFVLEVBQUt2RCxjQUFjLFE5RTZ1TzVFVCxJQUFLLFNBQ0xqYSxNQUFPLFc4RXZ1T0QsR0FBQTBlLEdBQUFuYSxLQUNBMDZCLEVBQVkxNkIsS0FBS3NOLE1BQWpCb3RCLFFBQ1AsT0FDRWw2QixHQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsYUFDZDliLEVBQUFGLFFBQUF6SSxjQUFBc2hCLEVBQUE3WSxTQUFPeVosS0FBTS9aLEtBQUt5TyxNQUFNaUwsVUFBV3hWLE1BQU0sS0FBS3lWLFFBQVMzWixLQUFLeU8sTUFBTXlNLE1BQU12QixTQUFVM1osS0FBS3lPLE1BQU1rVixjQUM3Rm5qQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZ0JBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLMGlDLEVBQVNwUixVQUFVOXFCLE1BQU0sR0FBRyxHQUFNLFNBRXZCLE1BQXRCazhCLEVBQVNDLFdBQ05uNkIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGFBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBU3RrQixJQUFLMGlDLEVBQVNwUixVQUFVOXFCLE1BQU0sR0FBRyxHQUFNLFFBQy9EZ0MsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLFFBQ1ZvZSxFQUFTblIsV0FFYi9vQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FDYjliLEVBQUFGLFFBQUF6SSxjQUFBLG9CQUNBMkksRUFBQUYsUUFBQXpJLGNBQUEsU0FDRTByQixZQUFZLE9BQ1o5bkIsTUFBT3VFLEtBQUt5TyxNQUFNMVQsS0FDbEI4aUMsU0FBVSxTQUFDdmtDLEdBQUs2Z0IsRUFBS3pKLFVBQVUzVixLQUFNekIsRUFBRTRlLE9BQU96YyxZQUdsRCtFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsc0JBQ0EySSxFQUFBRixRQUFBekksY0FBQSxTQUNFMHJCLFlBQVksU0FDWjluQixNQUFPdUUsS0FBS3lPLE1BQU11SCxRQUNsQjZuQixTQUFVLFNBQUN2a0MsR0FBSzZnQixFQUFLekosVUFBVXNGLFFBQVMxYyxFQUFFNGUsT0FBT3pjLFlBR3JEK0UsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ2I5YixFQUFBRixRQUFBekksY0FBQSxzQkFDQTJJLEVBQUFGLFFBQUF6SSxjQUFBLFNBQ0VDLEtBQUssU0FDTHlyQixZQUFZLFdBQ1o5bkIsTUFBT3VFLEtBQUt5TyxNQUFNMEgsY0FDbEIwbkIsU0FBVSxTQUFDdmtDLEdBQUs2Z0IsRUFBS3pKLFVBQVV5RixjQUFlN2MsRUFBRTRlLE9BQU96YyxZQUczRCtFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSw4QkFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLGlDQUNBMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQVN0YyxLQUFLeU8sTUFBTTJILGFBQWFqYSxPQUFoRCxVQUNBcUUsRUFBQUYsUUFBQXpJLGNBQUEsWUFDRTByQixZQUFZLDRCQUNaOW5CLE1BQU91RSxLQUFLeU8sTUFBTTJILGFBQ2xCeW5CLFNBQVUsU0FBQ3ZrQyxJQUNKQSxFQUFFNGUsT0FBT3pjLE1BQU1VLE9BQVMsS0FBTzdDLEVBQUU0ZSxPQUFPemMsTUFBTVUsT0FBU2dlLEVBQUsxTCxNQUFNMkgsYUFBYWphLE9BQVMsSUFDekZnZSxFQUFLekosVUFBVTBGLGFBQWM5YyxFQUFFNGUsT0FBT3pjLGFBT2hEK0UsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGFBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBU3RrQixJQUFLMGlDLEVBQVNwUixVQUFVOXFCLE1BQU0sR0FBRyxHQUFNLFFBQy9EZ0MsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLFFBQ1ZvZSxFQUFTblIsV0FFYi9vQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FDYjliLEVBQUFGLFFBQUF6SSxjQUFBLHVCQUNBMkksRUFBQUYsUUFBQXpJLGNBQUEsU0FDRTByQixZQUFZLGFBQ1o5bkIsTUFBT3VFLEtBQUt5TyxNQUFNd0gsSUFDbEI0bkIsU0FBVSxTQUFDdmtDLEdBQUs2Z0IsRUFBS3pKLFVBQVVzRixRQUFTMWMsRUFBRTRlLE9BQU96YyxZQUdyRCtFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsdUJBQ0EySSxFQUFBRixRQUFBekksY0FBQSxTQUNFMHJCLFlBQVksU0FDWjluQixNQUFPdUUsS0FBS3lPLE1BQU11SCxRQUNsQjZuQixTQUFVLFNBQUN2a0MsR0FBSzZnQixFQUFLekosVUFBVXVGLElBQUszYyxFQUFFNGUsT0FBT3pjLFlBR2pEK0UsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLDhCQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsZ0NBQ0EySSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBU3RjLEtBQUt5TyxNQUFNMkgsYUFBYWphLE9BQWhELFVBQ0FxRSxFQUFBRixRQUFBekksY0FBQSxZQUNFMHJCLFlBQVksZ0NBQ1o5bkIsTUFBT3VFLEtBQUt5TyxNQUFNMkgsYUFDbEJ5bkIsU0FBVSxTQUFDdmtDLElBQ0pBLEVBQUU0ZSxPQUFPemMsTUFBTVUsT0FBUyxLQUFPN0MsRUFBRTRlLE9BQU96YyxNQUFNVSxPQUFTZ2UsRUFBSzFMLE1BQU0ySCxhQUFhamEsT0FBUyxJQUN6RmdlLEVBQUt6SixVQUFVMEYsYUFBYzljLEVBQUU0ZSxPQUFPemMsYUFPdEQrRSxFQUFBRixRQUFBekksY0FBQSxLQUFHeWtCLFVBQVUsYUFBYXpDLFFBQVM3WixLQUFLMDlCLGNBQXhDLFc5RTR6T0FILEdBQ1BoOUIsRUFBT2dOLFU4RXh6T1Znd0IsSUFBYyxFQUFBMzhCLEVBQUFpSSxZQUFXMDBCLEc5RWswT3hCMTlCLEVBQVFTLFM4RTF6T00sRUFBQUssRUFBQXNMLFNBQ2JndkIsR0FBa0JsbEIsOEJBQ2xCd25CLEk5RTR6T0ksU0FBU2wvQixFQUFRd0IsRUFBUzVILEdBRS9CLFlBOEJBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsRytFOTlPbGUsUUFBU3VpQixHQUFnQnhzQixHQUN2QixPQUNFd2IsZ0JBQWlCeGIsRUFBTXdiLGdCQUN2QkMsV0FBV3piLEVBQU15YixXQUNqQm5HLE9BQVF0VixFQUFNZ2MsUUFBUWlRLFNBQVNyUixTL0V3N09sQ3J1QixPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTStFei9PamlCL1gsRUFBQXRJLEVBQUEsRy9FNi9PS3VJLEVBQVVMLEVBQXVCSSxHK0U1L090Q0ksRUFBQTFJLEVBQUEsR0FDQXVwQixFQUFBdnBCLEVBQUEsSUFDQW00QixFQUFBbjRCLEVBQUEsSS9Fa2dQS280QixFQUFZbHdCLEVBQXVCaXdCLEcrRWpnUHhDME4sRUFBQTdsQyxFQUFBLEkvRXFnUEs4bEMsRUFBMkI1OUIsRUFBdUIyOUIsRytFcGdQdkQzQyxFQUFBbGpDLEVBQUEsSS9Fd2dQS2lsQyxFQUFjLzhCLEVBQXVCZzdCLEUrRXZnUDFDbGpDLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxxRkFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLL0VzaFBDLEkrRXBoUEswa0MsRy9Fb2hQaUIsU0FBVXpqQixHK0VuaFAvQixRQUFBeWpCLEdBQVkxd0IsR0FBTThLLEVBQUFwWSxLQUFBZytCLEVBQUEsSUFBQXhrQixHQUFBakIsRUFBQXZZLE1BQUFnK0IsRUFBQWh4QixXQUFBaFMsT0FBQWdYLGVBQUFnc0IsSUFBQTlqQyxLQUFBOEYsS0FDVnNOLEdBRFUsT0FFaEJrTSxHQUFLL0ssT0FDSHd2QixTQUFTLEdBQ1RDLFFBQVEsR0FFVjFrQixFQUFLMmtCLGFBQWUza0IsRUFBSzJrQixhQUFhanVCLEtBQWxCc0osR0FOSkEsRS9FMmtQakIsTUF2REFoQixHQUFVd2xCLEVBQWlCempCLEdBZTNCNUIsRUFBYXFsQixJQUNYdG9CLElBQUssZUFDTGphLE1BQU8sVytFNWhQUixHQUFJMmlDLEdBQVkxbUMsU0FBUzJtQyx1QkFBdUIsaUJBQWlCLEVBQ2pFLElBQUlELEVBQVVFLGFBQWVGLEVBQVVHLFVBQVksR0FBS0gsRUFBVUksZUFBa0J4K0IsS0FBS3NOLE1BQU0yYyxnQkFBZ0I1TixVQUFXLENBQ3hILEdBQU02aEIsS0FBWWwrQixLQUFLeU8sTUFBTXl2QixPQUM3QmwrQixNQUFLMFEsVUFBVXd0QixZQUNmbCtCLEtBQUtzTixNQUFNZixVQUFTLEVBQUFpVixFQUFBZCxvQkFBbUJ3ZCxFQUFTLFMvRWlpUGpEeG9CLElBQUssb0JBQ0xqYSxNQUFPLFcrRTloUFJ1RSxLQUFLc04sTUFBTWYsVUFBUyxFQUFBaVYsRUFBQWQsb0JBQW1CLEVBQUcsS0FDMUMrZCxFQUFFLGtCQUFrQjUzQixHQUFHLFNBQVU3RyxLQUFLbStCLGlCL0VraVByQ3pvQixJQUFLLHVCQUNMamEsTUFBTyxXK0VoaVBSZ2pDLEVBQUUsa0JBQWtCejNCLElBQUksU0FBVWhILEtBQUttK0IsaUIvRW9pUHRDem9CLElBQUssU0FDTGphLE1BQU8sVytFbmlQRCxHQUFBK2hCLEdBQzBCeGQsS0FBS3NOLE1BQS9CMmMsRUFEQXpNLEVBQ0F5TSxnQkFBZ0JsRyxFQURoQnZHLEVBQ2dCdUcsTUFDdkIsT0FDRXZqQixHQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUscUJBQ2Q5YixFQUFBRixRQUFBekksY0FBQXFsQyxFQUFBNThCLFFBQUEsTUFFRTJwQixFQUFnQi9zQixLQUFLaWdCLElBQUksU0FBQzJHLEVBQVU5RSxHQUFYLE1BQ3ZCeGUsR0FBQUYsUUFBQXpJLGNBQUFrbUMsRUFBQXo5QixTQUF3QnlqQixPQUFRQSxFQUFRRCxTQUFhQSxFQUFXcE8sSUFBS3NKLEVBQU9BLE1BQU9BLE1BR3ZGeGUsRUFBQUYsUUFBQXpJLGNBQUF3NEIsRUFBQS92QixTQUFTK2IsVUFBYzROLEVBQWdCNU4saUIvRTBpUHJDMmhCLEdBQ1B6OUIsRUFBT2dOLFUrRXJpUFZ5d0IsR0FBZ0J4d0IsV0FDZHljLGdCQUFpQjFwQixFQUFBNEgsVUFBVWdFLFVBQVVHLFdBQ3JDNGQsV0FBWTNwQixFQUFBNEgsVUFBVWdFLE9BQ3BCalAsS0FBS3FELEVBQUE0SCxVQUFVZ0UsVUFBVUcsYUFDeEJBLFlBRUwweEIsRUFBZ0JodEIsY0FDZHVXLE9BQVFobkIsRUFBQTRILFVBQVVpUCxRL0VpalBuQnZYLEVBQVFTLFMrRXZpUE0sRUFBQUssRUFBQXNMLFNBQ2JndkIsR0FDQStDLEkvRXlpUEksU0FBUzMvQixFQUFRd0IsRUFBUzVILEdBRS9CLFlBc0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0ExQmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE1nRnBuUGppQi9YLEVBQUF0SSxFQUFBLEdoRnduUEt1SSxFQUFVTCxFQUF1QkksRWdGdm5QdEN0SSxHQUFBLEdBQ0FBLEVBQUEsRUFFQUEsSUFBQSxjQUFBcUIsR0FBQSxHQUFBZCxPQUFBLDJFQUFBYyxHQUFBdUgsS0FBQSxtQkFBQXZILEtBQ0EsSUFBQW1ILEdBQUF4SSxFQUFBLEloRjZuUEt5SSxFQUFhUCxFQUF1Qk0sR2dGNW5QcEJpK0IsRWhGeW9QUixTQUFVbmtCLEdnRnhvUHJCLFFBQUFta0IsR0FBWXB4QixHQUFPLE1BQUE4SyxHQUFBcFksS0FBQTArQixHQUFBbm1CLEVBQUF2WSxNQUFBMCtCLEVBQUExeEIsV0FBQWhTLE9BQUFnWCxlQUFBMHNCLElBQUF4a0MsS0FBQThGLEtBQ1hzTixJaEYrc1BQLE1BdkVBa0wsR0FBVWttQixFQUFPbmtCLEdBUWpCNUIsRUFBYStsQixJQUNYaHBCLElBQUssb0JBQ0xqYSxNQUFPLFdnRjlvUFJ1RSxLQUFLMitCLGFBQWVqK0IsRUFBQUosUUFBU3MrQixZQUFZNStCLFNoRmtwUHhDMFYsSUFBSyxPQUNMamEsTUFBTyxXZ0Yvb1BSdUUsS0FBSzIrQixhQUFhbGhCLE1BQU1DLFFBQVUsV2hGbXBQakNoSSxJQUFLLFFBQ0xqYSxNQUFPLFdnRmhwUFJ1RSxLQUFLMitCLGFBQWFsaEIsTUFBTUMsUUFBVSxVaEZvcFBqQ2hJLElBQUssVUFDTGphLE1BQU8sV2dGanBQUnVFLEtBQUtzTixNQUFNdU4sYWhGcXBQVm5GLElBQUssU0FDTGphLE1BQU8sV2dGbnBQRCxHQUFBMGUsR0FBQW5hLEtBQ0Q2K0IsRUFBUTcrQixLQUFLc04sTUFBTXV4QixLQUFRNytCLEtBQUtzTixNQUFNdXhCLEtBQU8sR0FBSyxHQUFLLEdBQ3ZEQyxFQUFPOStCLEtBQUtzTixNQUFNd3hCLElBQU85K0IsS0FBS3NOLE1BQU13eEIsSUFBTSxHQUFLLElBQU0sR0FDckRDLEVBQVUvK0IsS0FBS3NOLE1BQU15eEIsT0FBVS8rQixLQUFLc04sTUFBTXl4QixPQUFTLEdBQUsvMUIsTUFDOUQsT0FDRXhJLEdBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxxQkFBcUJoZixHQUFHLFNBQ3JDa0QsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGdCQUNWbUIsT0FBUW9oQixLQUFTQSxFQUFULE1BQW9CRyxNQUFTSCxFQUFULE1BQW9CQyxJQUFPQSxFQUFQLE1BQWlCQyxPQUFVQSxFQUFWLFFBQ3BFditCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxnQkFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUl5a0IsVUFBVSxTQUFTdGMsS0FBS3NOLE1BQU1wSixPQUNsQzFELEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFRekMsUUFBUzdaLEtBQUtpL0IsTUFBTS91QixLQUFLbFEsT0FBaEQsTUFFRlEsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ1p0YyxLQUFLc04sTUFBTTNTLFVBRWQ2RixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsa0JBRWpCOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLG1CQUFtQnpDLFFBQVMsV0FBT00sRUFBSzhrQixnQmhGMnFQckRQLEdBQ1BuK0IsRUFBT2dOLFVBRVQxTixHQUFRUyxRZ0ZwdFBZbytCLEdoRnd0UGYsU0FBU3JnQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBc0NBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR2lGNS9PbGUsUUFBU3VpQixHQUFnQnhzQixHQUN2QixPQUNFcVMsYUFBY3JTLEVBQU1xUyxhQUNwQm9KLFdBQVl6YixFQUFNeWIsWWpGKzhPckJsdkIsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE1pRnR1UGppQi9YLEVBQUF0SSxFQUFBLEdqRjB1UEt1SSxFQUFVTCxFQUF1QkksR2lGenVQdENLLEVBQUEzSSxFQUFBLEdBQ0EwSSxFQUFBMUksRUFBQSxHQUNBdXBCLEVBQUF2cEIsRUFBQSxJQUNBaW5DLEVBQUFqbkMsRUFBQSxJakZndlBLa25DLEVBQWNoL0IsRUFBdUIrK0IsR2lGL3VQMUNsbUIsRUFBQS9nQixFQUFBLElqRm12UEtnaEIsRUFBVTlZLEVBQXVCNlksR2lGbHZQdEMxVixFQUFBckwsRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsOEVBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FDQSxJQUFBODJCLEdBQUFuNEIsRUFBQSxJakZ3dlBLbzRCLEVBQVlsd0IsRUFBdUJpd0IsR2lGdnZQeENsWCxFQUFBamhCLEVBQUEsSWpGMnZQS2toQixFQUFVaFosRUFBdUIrWSxHaUYxdlBoQ2ttQixFakZ1d1BVLFNBQVU3a0IsR2lGdHdQeEIsUUFBQTZrQixHQUFZOXhCLEdBQU04SyxFQUFBcFksS0FBQW8vQixFQUFBLElBQUE1bEIsR0FBQWpCLEVBQUF2WSxNQUFBby9CLEVBQUFweUIsV0FBQWhTLE9BQUFnWCxlQUFBb3RCLElBQUFsbEMsS0FBQThGLEtBQ1ZzTixHQURVLE9BRWhCa00sR0FBSy9LLE9BQ0g0d0IsUUFBUyxFQUNUQyxZQUFZLEtBQ1pDLFlBQVksS0FDWkMsU0FBUyxFQUNUQyxZQUFZLEtBQ1ovbEIsV0FBVSxFQUNWd0IsT0FDRWhYLE1BQU0sS0FDTnlWLFVBRUk3aEIsS0FBTSxVQUNOOGhCLE1BQU8sS0FDUEMsUUFBU0wsRUFBS0MsVUFBVXZKLEtBQWZzSixNQUlmbUssYUFBYSxHQUNiK2IsYUFBYSxHQUVmbG1CLEVBQUttbUIsWUFBY25tQixFQUFLbW1CLFlBQVl6dkIsS0FBakJzSixHQUNuQkEsRUFBS29tQixrQkFBb0JwbUIsRUFBS29tQixrQkFBa0IxdkIsS0FBdkJzSixHQXZCVEEsRWpGaW5RakIsTUExV0FoQixHQUFVNG1CLEVBQVU3a0IsR0E4QnBCNUIsRUFBYXltQixJQUNYMXBCLElBQUssb0JBQ0xqYSxNQUFPLFdpRjl3UFUsR0FDWDZCLEdBQU0wQyxLQUFLc04sTUFBTXdTLE9BQWpCeGlCLEVBQ1AwQyxNQUFLc04sTUFBTXVULGdCQUFnQnZqQixNakZreFAxQm9ZLElBQUssNEJBQ0xqYSxNQUFPLFNpRmp4UGdCc2dDLEdBQVUsR0FDM0JqYixHQUFnQmliLEVBQWhCamIsWUFDRkEsR0FBYXdJLFdBQWF0cEIsS0FBS3lPLE1BQU1peEIsY0FDcENsRSxHQUFHRSx1QkFDQ3gzQixNQUFPNGMsRUFBYW9ELGlCQUNwQnlYLEtBQVM3YSxFQUFhdUQsYUFBdEIsa0JBQ0F1WCxLQUFNbDRCLFNBQVNPLEtBQ2Y0M0IsT0FBUS9hLEVBQWFzRCxhQUNyQnROLFFBQVMsYUFHVGdsQixLQUFNLFNBQVNoakMsS0FHZmlpQixPQUFRLGVBSVovYSxLQUFLMFEsVUFBVWd2QixhQUFZLFFqRnN4UGhDaHFCLElBQUssdUJBQ0xqYSxNQUFPLFdpRm54UFIsR0FBTXlXLEdBQU9sUyxJQUNidUYsY0FBYTJNLEVBQUt6RCxNQUFNZ3hCLGFBQ0csTUFBeEJ6L0IsS0FBS3lPLE1BQU02d0IsY0FDVnQvQixLQUFLeU8sTUFBTTZ3QixZQUFZTyxRQUN2QjcvQixLQUFLeU8sTUFBTTZ3QixZQUFZUSxZQUFZLEdBRXZDOS9CLEtBQUswUSxVQUFVNHVCLFlBQVksS0FBS0QsUUFBUSxJQUN4Q3IvQixLQUFLc04sTUFBTWlVLGdCQUNYaWEsR0FBR0UsdUJBQ0N4M0IsTUFBTyxvQkFDUHkzQixLQUFNLG9DQUNOQyxLQUFNbDRCLFNBQVNPLEtBQ2Y0M0IsT0FBUTVqQyxFQUFRLElBQ2hCNmUsUUFBUyxhQUdUZ2xCLEtBQU0sU0FBU2hqQyxLQUdmaWlCLE9BQVEsa0JqRjB4UFhyRixJQUFLLGdCQUNMamEsTUFBTyxTaUZyeFBJdWxCLEVBQVN6aEIsR0FDckJxbkIsa0RBQWtENUYsR0FDaEQwWSxZQUFhLGdCQUVaQyxLQUFLLFNBQUFVLEdBQUEsTUFBWUEsR0FBUzdkLFNBQzFCbWQsS0FBSyxTQUFBbmQsR0FBQSxNQUFRamQsR0FBR2lkLFFqRjB4UGxCOUcsSUFBSyxlQUNMamEsTUFBTyxTaUZ6eFBHdWxCLEdBQ1RwZ0IsRUFBQTRDLGVBQWU5SSxLQUFmNEksRUFBQW9CLFFBQUEsZ0JBQThDc2MsRUFBOUMsNkJBQW1GUixtQkFBbUI5YyxTQUFTTyxNQUEvRyxZQUFnSXVjLG1CQUFtQjljLFNBQVNPLFVqRjYwUDdKeVIsSUFBSyxXQUNMamEsTUFBTyxTaUY1eFBEdWxCLEdBQVMsR0FBQTdHLEdBQUFuYSxLQUNWa1MsRUFBTWxTLElBQ1pBLE1BQUswUSxVQUFVZ1QsU0FBUyxJQUN4QjFqQixLQUFLK2dCLGNBQWNDLEVBQVMsU0FBQXhFLEdBRTFCLEdBREFyQyxFQUFLekosVUFBVWdULFNBQVMsSUFDckJsSCxFQUFLdGYsS0FBSzIvQixVQUNYMTNCLFdBQVcsV0FDVCtNLEVBQUs2dEIsU0FBUy9lLElBQ2QsU0FDRSxJQUFHeEUsRUFBS3RmLEtBQUsybEIsSUFBSSxDQUNyQixHQUFNMUIsR0FBYWhILEVBQUs3TSxNQUFNd1MsT0FBT3hpQixFQUNyQyxJQUFHa2YsRUFBS3RmLEtBQUsrbUIsYUFBYTlDLEVBQVcsQ0FDbkMsR0FBTW1lLEdBQWMsR0FBSVUsT0FBTXhqQixFQUFLdGYsS0FBSzJsQixJQUN4QzNRLEdBQUt4QixVQUFVNHVCLFlBQVlBLElBQzNCcHRCLEVBQUsrdEIsVUFBVVgsVWpGcXlQcEI1cEIsSUFBSyxZQUNMamEsTUFBTyxTaUZqeVBBdWxCLEVBQVNzZSxHQUNqQixHQUFJWSxHQUFRbGdDLEtBQUt5TyxNQUFNNndCLGFBQWVBLEVBQ2xDcHRCLEVBQU9sUyxJQUNSa2dDLElBQ0RybEMsUUFBUThJLElBQUksZ0JBQWdCdThCLEVBQU1sb0MsS0FDbENrb0MsRUFBTUMsT0FDTkQsRUFBTW5WLGlCQUFpQixRQUFRLFdBQ3pCN1ksRUFBS3hCLFVBQVUydUIsUUFBUSxPQUc3QnIvQixLQUFLKy9CLFNBQVMvZSxNakZxeVBmdEwsSUFBSyxjQUNMamEsTUFBTyxTaUZueVBFdWxCLEVBQVM0QyxHQUNoQjVqQixLQUFLeU8sTUFBTTJ4QixZQUFjeGMsR0FDMUI1akIsS0FBSzBRLFVBQVUydUIsUUFBUSxJQUN2QnIvQixLQUFLaWdDLFVBQVVqZixJQUVmaGhCLEtBQUtxZ0MsYUFBYXJmLE1qRnV5UG5CdEwsSUFBSyxjQUNMamEsTUFBTyxTaUZyeVBFdWxCLEdBQ05oaEIsS0FBS3NOLE1BQU13VCxhQUFhMkQsZ0JBQWlCemtCLEtBQUt5TyxNQUFNMnhCLFdBR3BEcGdDLEtBQUtzTixNQUFNOFQsY0FBY0osR0FGekJoaEIsS0FBSzBRLFVBQVVpVCxhQUFhLFlBQVlqSyxXQUFVLE9qRjJ5UHJEaEUsSUFBSyxvQkFDTGphLE1BQU8sU2lGdnlQUXVsQixHQUNoQmhoQixLQUFLc04sTUFBTStULG9CQUFvQkwsTWpGMHlQOUJ0TCxJQUFLLFlBQ0xqYSxNQUFPLFdpRnh5UFJ1RSxLQUFLMFEsVUFBVWdKLFdBQVUsT2pGNHlQeEJoRSxJQUFLLFNBQ0xqYSxNQUFPLFdpRjN5UEQsR0FBQTJlLEdBQUFwYSxLQUNBOGdCLEVBQWdCOWdCLEtBQUtzTixNQUFyQndULGFBRURhLEdBQ0oyZSxFQUFHLElBQ0hDLEVBQUcsV0FHTCxPQUFTemYsR0FBYXdJLFVBQ3BCOW9CLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxZQUNkOWIsRUFBQUYsUUFBQXpJLGNBQUFzaEIsRUFBQTdZLFNBQU95WixLQUFNL1osS0FBS3lPLE1BQU1pTCxVQUFXeFYsTUFBT2xFLEtBQUt5TyxNQUFNeU0sTUFBTWhYLE1BQU95VixRQUFTM1osS0FBS3lPLE1BQU15TSxNQUFNdkIsU0FBVzNaLEtBQUt5TyxNQUFNa1YsY0FDbEhuakIsRUFBQUYsUUFBQXpJLGNBQUFvaEIsRUFBQTNZLFNBQU8wZCxLQUFLLFVBQVVqRSxLQUFNL1osS0FBS3lPLE1BQU1pVixTQUFZNUMsRUFBYTJELGdCQUFrQnprQixLQUFLeU8sTUFBTTJ4QixXQUFZLFVBQVUsV0FDbkg1L0IsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUExZ0IsRUFBQW9CLFFBQUEsUUFBd0JvYyxFQUFhdUksU0FDekM3b0IsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFlBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLOG9CLEVBQWF3SSxVQUFVOXFCLE1BQU0sR0FBRyxHQUFNLFFBQ2hEZ0MsRUFBQUYsUUFBQXpJLGNBQUEsWUFBT2lwQixFQUFheUksYUFJeEIvb0IsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLG9CQUNad0UsRUFBYW9ELGtCQUVoQjFqQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUtHLElBQUs4b0IsRUFBYXNELGFBQWE1bEIsTUFBTSxHQUFHLEdBQU0sUUFDbkRnQyxFQUFBRixRQUFBekksY0FBQSxVQUFNaXBCLEVBQWF1RCxjQUNuQjdqQixFQUFBRixRQUFBekksY0FBQSxVQUFNaXBCLEVBQWEwZixnQkFBZ0IsSUFBSTFmLEVBQWF3RCxpQkFBcEQsT0FJMkIsS0FBM0J4RCxFQUFhMmYsV0FDWGpnQyxFQUFBRixRQUFBekksY0FBQSxXQUNFMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQVN6QyxRQUFTN1osS0FBS3VrQixZQUFZclUsS0FBS2xRLEtBQUs4Z0IsRUFBYTBELFVBQVUxRCxFQUFhMkQsaUJBQzlGamtCLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBQSxTQUFvQnFGLEVBQVczaEIsS0FBS3lPLE1BQU00d0IsVUFDaEQ3K0IsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGdCQUNoQjliLEVBQUFGLFFBQUF6SSxjQUFBc25DLEVBQUE3K0IsUUFBQSxNQUNBRSxFQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsaUJBQ2hCOWIsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGVBQWdCd0UsRUFBYTJELGdCQUFrQnprQixLQUFLeU8sTUFBTTJ4QixXQUFpQyxHQUFwQnBnQyxLQUFLeU8sTUFBTTR3QixRQUFXLE9BQU8sT0FBV3ZlLEVBQWE0RCxlQUE3RyxVQUdqQ2xrQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsVUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFlBQU9pcEIsRUFBYTZELGNBQXBCLE9BQ0Fua0IsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLE9BQU93RSxFQUFhOEQsWUFBcEMsUUFFa0MsSUFBaEM5RCxFQUFhNGYsZUFDVGxnQyxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsUUFBUXpDLFFBQVMsV0FBT08sRUFBS3VsQixZQUFZN2UsRUFBYTBELGFBQ3ZFaGtCLEVBQUFGLFFBQUF6SSxjQUFBLFdBQUsySSxFQUFBRixRQUFBekksY0FBQSxLQUFHeWtCLFVBQVUsMEJBR2hCOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFFBQVF6QyxRQUFTLFdBQU9PLEVBQUt3bEIsa0JBQWtCOWUsRUFBYTBELGFBQzdFaGtCLEVBQUFGLFFBQUF6SSxjQUFBLFdBQUsySSxFQUFBRixRQUFBekksY0FBQSxLQUFHeWtCLFVBQVUsNkJBS2Y5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FBZixZQUlmOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLE9BQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBZixJQUF5QndFLEVBQWEzSyxlQUN0QzNWLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU11VCxVQUFVLGFBQWEwSCxHQUFJMWdCLEVBQUFvQixRQUFRLFNBQVNvYyxFQUFhcUQsWUFBL0QsV0FJSjNqQixFQUFBRixRQUFBekksY0FBQXc0QixFQUFBL3ZCLFFBQUEsVWpGczNQSTgrQixHQUNQNytCLEVBQU9nTixVaUZsM1BWNnhCLEdBQVM1eEIsV0FDUHNULGFBQWN2Z0IsRUFBQTRILFVBQVVnRSxVQUFVRyxXQUNsQzRkLFdBQVkzcEIsRUFBQTRILFVBQVVnRSxVQUFVRyxZakY4M1BqQ3pNLEVBQVFTLFNpRnAzUE0sRUFBQUssRUFBQXNMLFNBQ2JndkIsR0FFRTdaLDhCQUNBUCxrQ0FDQVEsMENBQ0FFLGdDQUVGNmQsSWpGcTNQSSxTQUFTL2dDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFvQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBbEJ2RnBGLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHa0Y1cFFaLElBQUFrRixHQUFBMUksRUFBQSxHQUlBNmxDLEdBSEE3bEMsRUFBQSxHQUNBQSxFQUFBLEdBRUFBLEVBQUEsS2xGbXFRSzhsQyxFQUEyQjU5QixFQUF1QjI5QixHa0ZscVF2RDZDLEVBQUExb0MsRUFBQSxJbEZzcVFLMm9DLEVBQWN6Z0MsRUFBdUJ3Z0MsR2tGcHFRcENFLEVBQWEsU0FBQWplLEdBSWIsR0FIRmtlLEdBR0VsZSxFQUhGa2UsVUFDQUMsRUFFRW5lLEVBRkZtZSxPQUNBaGQsRUFDRW5CLEVBREZtQixPQUVJbEIsRUFBTW5mLFNBQVNPLEtBQUs2ZSxNQUFNLEtBRTFCaHJCLEdBRFErcUIsRUFBSXBrQixNQUNMb2tCLEVBQUlwa0IsTUFDZixPQUFTLFlBQU4zRyxFQUVLK00sTUFBQWhOLGNBQUEsT0FBS3lrQixVQUFVLGtCQUNYelgsTUFBQWhOLGNBQUEsT0FBS3lrQixVQUFVLGdCQUFmLGFBR0F6WCxNQUFBaE4sY0FBQSxPQUFLeWtCLFVBQVUsaUJBQ1Z3a0IsRUFBVTNqQixJQUFJLFNBQUMyRyxFQUFVOUUsR0FBWCxNQUNYbmEsT0FBQWhOLGNBQUFrbUMsRUFBQXo5QixTQUF3QnlqQixPQUFVQSxFQUFRRCxTQUFhQSxFQUFXcE8sSUFBS3NKLFFBT25GbmEsTUFBQWhOLGNBQUEsT0FBS3lrQixVQUFVLGtCQUNYelgsTUFBQWhOLGNBQUEsT0FBS3lrQixVQUFVLGdCQUFmLGFBR0F6WCxNQUFBaE4sY0FBQSxPQUFLeWtCLFVBQVUsY0FDVnlrQixFQUFPNWpCLElBQUksU0FBQ2lNLEVBQU9wSyxHQUFSLE1BQ1JuYSxPQUFBaE4sY0FBQStvQyxFQUFBdGdDLFNBQVdvVixJQUFLc0osRUFBT29LLE1BQU9BLFFsRndyUXJEdnBCLEdBQVFTLFNrRi9xUU0sRUFBQUssRUFBQXNMLFNBQVEsU0FBQXdDLEdBQUEsT0FDbkJxeUIsVUFBV3J5QixFQUFNd2IsZ0JBQWdCL3NCLEtBQ2pDNmpDLE9BQVF0eUIsRUFBTTJiLFVBQVVsdEIsS0FDeEI2bUIsT0FBUXRWLEVBQU1nYyxRQUFRaVEsU0FBU3JSLFdBQy9Cd1gsSWxGcXJRRSxTQUFTeGlDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUE4QkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBNUJ2RnBGLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHbUYzdVFaLElBQUE4RSxHQUFBdEksRUFBQSxHbkZndlFLdUksRUFBVUwsRUFBdUJJLEdtRi91UXRDSSxFQUFBMUksRUFBQSxHQUNBMkksRUFBQTNJLEVBQUEsR0FDQXFMLEVBQUFyTCxFQUFBLEdBQ0F1cEIsRUFBQXZwQixFQUFBLElBQ0F5cUIsRUFBQXpxQixFQUFBLElBRUE2bEMsRUFBQTdsQyxFQUFBLEluRnV2UUs4bEMsRUFBMkI1OUIsRUFBdUIyOUIsR21GdHZRdkQ2QyxFQUFBMW9DLEVBQUEsSW5GMHZRSzJvQyxFQUFjemdDLEVBQXVCd2dDLEVtRnh2UTFDMW9DLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQTtBQUFBLEtBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FFQSxJQUFNMG5DLEdBQWUsU0FBQXBlLEdBU2YsR0FSRmtlLEdBUUVsZSxFQVJGa2UsVUFDQUMsRUFPRW5lLEVBUEZtZSxPQUNBcGdCLEVBTUVpQyxFQU5GakMsVUFDQW9ELEVBS0VuQixFQUxGbUIsT0FDQWtkLEVBSUVyZSxFQUpGcWUscUJBQ0FDLEVBR0V0ZSxFQUhGc2Usa0JBQ0FDLEVBRUV2ZSxFQUZGdWUsZ0JBQ0FqZixFQUNFVSxFQURGVixhQUVJM0csRUFBUzdYLFNBQVNPLEtBQUs2ZSxNQUFNLEtBQUtya0IsS0FNdEMsT0FMQThjLEdBQVM2bEIsVUFBVTdsQixHQUNoQkEsSUFBU29GLElBQ1J3Z0IsRUFBZ0IsRUFBRSxHQUFHNWxCLEdBQ3JCMkcsRUFBYSxFQUFFLEdBQUczRyxJQUdsQi9hLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxrQkFDWDliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxnQkFDWDliLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUl5a0IsVUFBVSxTQUFkLE1BQ3dCLFlBQXRCMmtCLEdBQW1DSCxFQUFVM2tDLE9BQU8sRUFBRXFFLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFBMWdCLEVBQUFvQixRQUFBLHdCQUFzQzZXLEdBQVUvYSxFQUFBRixRQUFBekksY0FBQSxNQUFJeWtCLFVBQVUsUUFBZCxPQUFvQyxJQUV0SjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxpQkFDYSxZQUF0QjJrQixHQUFtQ0gsRUFBVTNrQyxPQUFPLEVBQUUya0MsRUFBVTNqQixJQUFJLFNBQUMyRyxFQUFVOUUsR0FDN0UsR0FBR0EsRUFBTSxFQUNULE1BQU94ZSxHQUFBRixRQUFBekksY0FBQWttQyxFQUFBejlCLFNBQXdCeWpCLE9BQVVBLEVBQVFELFNBQWFBLEVBQVdwTyxJQUFLc0osTUFDL0V4ZSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBZixXQUVQOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGdCQUNYOWIsRUFBQUYsUUFBQXpJLGNBQUEsTUFBS3lrQixVQUFVLFNBQWYsTUFDcUIsWUFBbkI0a0IsR0FBZ0NILEVBQU81a0MsT0FBTyxFQUFFcUUsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUExZ0IsRUFBQW9CLFFBQUEscUJBQW1DNlcsR0FBVS9hLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUt5a0IsVUFBVSxRQUFmLE9BQXFDLElBRTlJOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ1UsWUFBbkI0a0IsR0FBZ0NILEVBQU81a0MsT0FBTyxFQUFFNGtDLEVBQU81akIsSUFBSSxTQUFDcGUsRUFBS2lnQixHQUMvRCxHQUFHQSxFQUFNLEVBQ0wsTUFBT3hlLEdBQUFGLFFBQUF6SSxjQUFBK29DLEVBQUF0Z0MsU0FBVzhvQixNQUFPcnFCLEVBQU0yVyxJQUFLc0osTUFDekN4ZSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBZixZbkZ3eVFsQnpjLEdBQVFTLFNtRmx5UU0sRUFBQUssRUFBQXNMLFNBQVEsU0FBQXdDLEdBQUEsT0FDbkJxeUIsVUFBV3J5QixFQUFNd2IsZ0JBQWdCL3NCLEtBQ2pDNmpDLE9BQVF0eUIsRUFBTTJiLFVBQVVsdEIsS0FDeEJ5akIsVUFBV2xTLEVBQU1rUyxVQUNqQm9ELE9BQVF0VixFQUFNZ2MsUUFBUWlRLFNBQVNyUixRQUMvQjRYLHFCQUFxQnh5QixFQUFNd2IsZ0JBQWdCb1gsYUFDM0NILGtCQUFrQnp5QixFQUFNMmIsVUFBVWlYLGVBQ25DLFNBQUE5MEIsR0FBQSxPQUNDNDBCLGdCQUFpQixTQUFDbjlCLEVBQUtzUyxFQUFJaUYsR0FDdkJoUCxHQUFTLEVBQUFpVixFQUFBZCxvQkFBbUIxYyxFQUFLc1MsRUFBSWlGLEtBRXpDMkcsYUFBYyxTQUFDbGUsRUFBS3NTLEVBQUlpRixHQUNwQmhQLEdBQVMsRUFBQW1XLEVBQUFSLGNBQWFsZSxFQUFLc1MsRUFBSWlGLFFBRW5DeWxCLEluRjB5UUUsU0FBUzNpQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBb0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0F4QmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEdBR1gsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE1vRnQzUWppQi9YLEVBQUF0SSxFQUFBLEdwRjAzUUt1SSxFQUFVTCxFQUF1QkksR29GejNRdEMyVyxFQUFBamYsRUFBQSxJcEY2M1FLNGUsRUFBWTFXLEVBQXVCK1csR29GNTNReEN6VyxFQUFBeEksRUFBQSxJQUNNcXBDLEdwRiszUVluaEMsRUFBdUJNLEdBVTdCLFNBQVU4WSxHb0Z4NFFsQixRQUFBK25CLEtBQWFscEIsRUFBQXBZLEtBQUFzaEMsRUFBQSxJQUFBOW5CLEdBQUFqQixFQUFBdlksTUFBQXNoQyxFQUFBdDBCLFdBQUFoUyxPQUFBZ1gsZUFBQXN2QixJQUFBcG5DLEtBQUE4RixNQUFBLE9BRVR3WixHQUFLL0ssT0FDRHNMLE1BQU8sR0FIRlAsRXBGODZRWixNQXJDQWhCLEdBQVU4b0IsRUFBTS9uQixHQWFoQlosRUFBYTJvQixJQUNUNXJCLElBQUssb0JBQ0xqYSxNQUFPLFdvRmo1UVJvYixFQUFBdlcsUUFBUXdXLFFBQVEsY0FBZSxFQUFHLFdBQUtvRSxNQUFNLFNBQzdDckUsRUFBQXZXLFFBQVFpaEMsS0FBSyxjQUFlLEVBQUcsV0FBS3JtQixNQUFNLFNBQzFDckUsRUFBQXZXLFFBQVF5YSxPQUFPLGNBQWUsRUFBRyxXQUFLRyxNQUFNLFlwRjI1UTNDeEYsSUFBSyxTQUNMamEsTUFBTyxXb0Z6NVFSLE1BQ0krRSxHQUFBRixRQUFBekksY0FBQSx1QnBGaTZRQXlwQyxHb0YvNlFPOWdDLEVBQUFGLFFBQU1pTixXcEZrN1F4QjFOLEdBQVFTLFFvRmg2UU1naEMsR3BGbzZRVCxTQUFTampDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFrREEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHcUYxdlFsZSxRQUFTdWlCLEdBQWdCeHNCLEdBQ3ZCLE9BQ0U0VCxVQUFXNVQsRUFBTTRULFVBQ2pCZ0ksZ0JBQWlCNWIsRUFBTTRiLGdCQUN2QkMsV0FBWTdiLEVBQU02YixZckZnc1FyQnR2QixPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJb3JCLEdBQTRCLGtCQUFYcGEsU0FBb0QsZ0JBQXBCQSxRQUFPcWEsU0FBd0IsU0FBVTFtQixHQUFPLGFBQWNBLElBQVMsU0FBVUEsR0FBTyxNQUFPQSxJQUF5QixrQkFBWHFNLFNBQXlCck0sRUFBSXlNLGNBQWdCSixRQUFVck0sSUFBUXFNLE9BQU94UixVQUFZLGVBQWtCbUYsSUFFbFF1WSxFQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNcUZoOFFqaUIvWCxFQUFBdEksRUFBQSxHckZvOFFLdUksRUFBVUwsRUFBdUJJLEdxRm44UXRDSyxFQUFBM0ksRUFBQSxHQUNBMEksRUFBQTFJLEVBQUEsR0FDQXlxQixFQUFBenFCLEVBQUEsSUFFQXVwQyxHQURBdnBDLEVBQUEsSUFDQUEsRUFBQSxLckYyOFFLd3BDLEVBQThCdGhDLEVBQXVCcWhDLEdxRjE4UTFEcFIsRUFBQW40QixFQUFBLElyRjg4UUtvNEIsRUFBWWx3QixFQUF1Qml3QixHcUY3OFF4Q3NSLEVBQUF6cEMsRUFBQSxJckZpOVFLMHBDLEVBQVl4aEMsRUFBdUJ1aEMsR3FGaDlReEMxb0IsRUFBQS9nQixFQUFBLElyRm85UUtnaEIsRUFBVTlZLEVBQXVCNlksR3FGbjlRdEM5QixFQUFBamYsRUFBQSxJckZ1OVFLNGUsRUFBWTFXLEVBQXVCK1csR3FGdDlReEM1VCxFQUFBckwsRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsZ0ZBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FFQSxJQUFBNGYsR0FBQWpoQixFQUFBLElyRjI5UUtraEIsRUFBVWhaLEVBQXVCK1ksR3FGejlRaEMwb0IsRXJGcytRWSxTQUFVcm5CLEdxRnIrUTFCLFFBQUFxbkIsR0FBWXQwQixHQUFPOEssRUFBQXBZLEtBQUE0aEMsRUFBQSxJQUFBcG9CLEdBQUFqQixFQUFBdlksTUFBQTRoQyxFQUFBNTBCLFdBQUFoUyxPQUFBZ1gsZUFBQTR2QixJQUFBMW5DLEtBQUE4RixLQUNYc04sR0FEVyxPQUVqQmtNLEdBQUsvSyxPQUNEb3pCLFdBQVcsRUFDWDNELFFBQVEsRUFDVjRELFlBQVcsRUFDWHBlLFNBQVEsRUFDUmhLLFdBQVUsRUFDVndCLE9BQ0VoWCxNQUFNLEtBQ055VixVQUVJN2hCLEtBQU0sVUFDTjhoQixNQUFPLEtBQ1BDLFFBQVNMLEVBQUtDLFVBQVV2SixLQUFmc0osTUFJZm1LLGFBQWEsR0FDYnVSLGFBQWF4eEIsU0FBU08sS0FDdEJ3NUIsVUFBVSxFQUNWaUMsYUFBYSxHQUVsQmxtQixFQUFLbWtCLGdCQUFrQm5rQixFQUFLbWtCLGdCQUFnQnp0QixLQUFyQnNKLEdBdkJIQSxFckZ5eVJsQixNQW5VQWhCLEdBQVVvcEIsRUFBWXJuQixHQThCdEI1QixFQUFhaXBCLElBQ1hsc0IsSUFBSyxZQUNMamEsTUFBTyxTcUY3K1FBdWUsRUFBUXdJLEdBQ2Q1aEIsRUFBQTRDLGVBQWU5SSxLQUFmNEksRUFBQW9CLFFBQUEsMEJBQXdEc1YsRUFBeEQsWUFBMkV3SSxFQUEzRSxZQUE4RmhDLG1CQUFtQjljLFNBQVNPLE1BQTFILGVBQUFYLEVBQUFvQixRQUFBLHlCckZvaVJEZ1IsSUFBSyxjQUNMamEsTUFBTyxXcUYvK1FSLEdBQU11ZSxHQUFVaGEsS0FBSzRRLEtBQUtvSixRQUFRdmUsS0FFbEMsSUFEQVosUUFBUThJLElBQUksaUJBQWlCcVcsR0FDakIsSUFBVEEsRUFHRCxXQURBaGEsTUFBSzBRLFVBQVVpVCxhQUFhLFVBQVVqSyxXQUFVLEdBTHZDLElBUUpwYyxHQUFNMEMsS0FBS3NOLE1BQU13UyxPQUFqQnhpQixFQUNQMEMsTUFBS3NOLE1BQU1mLFVBQVMsRUFBQW1XLEVBQUFILGVBQWN2SSxFQUFRMWMsSUFDMUMwQyxLQUFLK2hDLFVBQVUvbkIsRUFBUTFjLE1yRm8vUXRCb1ksSUFBSyxvQkFDTGphLE1BQU8sV3FGOStRUixRQUFTdW1DLEdBQVMxb0MsR0FDaEIsR0FBSXNLLE9BQU9xK0IsUUFBVXIrQixPQUFPcytCLGFBQWV4cUMsU0FBU3VqQixLQUFLcWpCLGVBQWlCdCtCLEtBQUtzTixNQUFNK2MsZ0JBQWdCaE8sVUFBVyxDQUM5RyxHQUFNNmhCLEtBQVlsK0IsS0FBS3lPLE1BQU15dkIsT0FDN0JsK0IsTUFBSzBRLFVBQVV3dEIsWUFDZmwrQixLQUFLc04sTUFBTWYsVUFBUyxFQUFBbVcsRUFBQUosb0JBQW1CaGxCLEVBQUc0Z0MsRUFBUyxNQVJyQyxHQUNYNWdDLEdBQU0wQyxLQUFLc04sTUFBTXdTLE9BQWpCeGlCLEVBQ1AwQyxNQUFLc04sTUFBTWYsVUFBUyxFQUFBbVcsRUFBQU4sY0FBYTlrQixJQUNqQzBDLEtBQUtzTixNQUFNZixVQUFTLEVBQUFtVyxFQUFBSixvQkFBbUJobEIsRUFBRyxFQUFFLEtBUTVDMEMsS0FBS3NOLE1BQU1pYSxPQUFPQyxrQkFBa0J4bkIsS0FBS3NOLE1BQU1zSyxNQUFPNVgsS0FBSzI5QixpQkFDM0RqbUMsU0FBU3F6QixpQkFBaUIsU0FBVWlYLEVBQVM5eEIsS0FBS2xRLFVyRnMvUWpEMFYsSUFBSyxrQkFDTGphLE1BQU8sU3FGcC9RTXk1QixHQUFjLEdBQUEvYSxHQUFBbmEsSUFHNUIsSUFBOEIsSUFBM0JBLEtBQUs0USxLQUFLb0osUUFBUXZlLFFBQWdCdUUsS0FBS3lPLE1BQU1xekIsYUFBZTloQyxLQUFLeU8sTUFBTWd2QixVQUFZdkksRUFBYXB4QixTQUFTckosUUFBUSxVQUFTLEVBQUcsSUFBQTBuQyxHQUFBLFdBQzlIaG9CLEVBQUt6SixVQUFVd2tCLGFBQWFBLEVBQWFweEIsU0FBUzI1QixVQUFTLElBQzNENWlDLFFBQVE4SSxJQUFJdXhCLEVBQ1osSUFBSWhqQixJQVNKLE9BUkEyRSxHQUFBdlcsUUFBUXVhLFFBQVEsaUJBQWlCLE9BQU8sS0FDdEMsV0FDSTNJLEVBQUt4QixVQUFVK3NCLFVBQVMsS0FFNUIsV0FDSTc4QixFQUFBNEMsZUFBZTlJLEtBQUt3NkIsRUFBYXB4QixhQUd2Q2dLLEdBQU8sS0FadUgsbUNBQUFxMEIsR0FBQSxZQUFBdGIsRUFBQXNiLElBQUEsTUFBQUEsR0FBQXIwQixNckZ5Z1IvSDRILElBQUssWUFDTGphLE1BQU8sV3FGMS9RUnVFLEtBQUswUSxVQUFVZ0osV0FBVSxPckY4L1F4QmhFLElBQUssNEJBQ0xqYSxNQUFPLFNxRjcvUWdCc2dDLEdBQVUsR0FDM0IxWixHQUFhMFosRUFBYjFaLFNBQ0ZBLEdBQVVpSCxXQUFhdHBCLEtBQUt5TyxNQUFNaXhCLGNBQ2pDbEUsR0FBR0UsdUJBQ0N4M0IsTUFBVW1lLEVBQVVrSCxVQUFwQixLQUFrQ2xILEVBQVV1WSxhQUE1QyxJQUE0RHZZLEVBQVV3WSxjQUN0RWMsS0FBTSxvQkFDTkMsS0FBTWw0QixTQUFTTyxLQUNmNDNCLE9BQVF4WixFQUFVaUgsVUFDbEJ4UyxRQUFTLGFBR1RnbEIsS0FBTSxTQUFTaGpDLEtBR2ZpaUIsT0FBUSxlQUlaL2EsS0FBSzBRLFVBQVVndkIsYUFBWSxRckZrZ1JoQ2hxQixJQUFLLHVCQUNMamEsTUFBTyxXcUYvL1FSOEosYUFBYXZGLEtBQUt5TyxNQUFNMnpCLGNBQ3hCcGlDLEtBQUtzTixNQUFNZixVQUFTLEVBQUFtVyxFQUFBRCxvQkFDcEIrWSxHQUFHRSx1QkFDQ3gzQixNQUFPLG9CQUNQeTNCLEtBQU0sb0NBQ05DLEtBQU1sNEIsU0FBU08sS0FDZjQzQixPQUFRNWpDLEVBQVEsSUFDaEI2ZSxRQUFTLGFBR1RnbEIsS0FBTSxTQUFTaGpDLEtBR2ZpaUIsT0FBUSxrQnJGc2dSWHJGLElBQUssaUJBQ0xqYSxNQUFPLFdxRmpnUk4sR0FBTTRtQyxHQUFPcGdCLFNBQVMyYyxZQUFZNStCLEtBQUs0USxLQUFLb0osU0FBU3ZlLEtBQ3JEdUUsTUFBSzBRLFVBQVVteEIsV0FBWVEsRUFBS2xtQyxZckZxZ1JqQ3VaLElBQUssU0FDTGphLE1BQU8sV3FGcGdSRCxHQUFBK2hCLEdBQzZCeGQsS0FBS3NOLE1BQWxDK1UsRUFEQTdFLEVBQ0E2RSxVQUFVZ0ksRUFEVjdNLEVBQ1U2TSxlQUNqQixPQUNFaEksR0FBVWlILFVBQ1Y5b0IsRUFBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGNBQ2Q5YixFQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBUXlaLEtBQU0vWixLQUFLeU8sTUFBTXF6QixZQUF6QixRQUNBdGhDLEVBQUFGLFFBQUF6SSxjQUFBb2hCLEVBQUEzWSxTQUFRMGQsS0FBSyxVQUFVakUsS0FBTS9aLEtBQUt5TyxNQUFNaVYsU0FBeEMsV0FDQWxqQixFQUFBRixRQUFBekksY0FBQXNoQixFQUFBN1ksU0FBT3laLEtBQU0vWixLQUFLeU8sTUFBTWlMLFVBQVd4VixNQUFPbEUsS0FBS3lPLE1BQU15TSxNQUFNaFgsTUFBT3lWLFFBQVMzWixLQUFLeU8sTUFBTXlNLE1BQU12QixTQUFXM1osS0FBS3lPLE1BQU1rVixjQUNsSG5qQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FDYjliLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFJMWdCLEVBQUFvQixTQUFBLGVBQXVCMmQsRUFBVWdILFVBQ3pDN29CLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUFVdGtCLElBQUtDLEVBQVEsT0FFeEN1SSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBU3RrQixJQUFLcXFCLEVBQVVpSCxVQUFVOXFCLE1BQU0sR0FBRyxHQUFNLFFBQ2hFZ0MsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLGNBQWMrRixFQUFVa0gsV0FDdEMvb0IsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLGVBQWUrRixFQUFVdVksYUFBYSxLQUFLdlksRUFBVXdZLGVBQ25FcjZCLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUl5a0IsVUFBVSxlQUFlK0YsRUFBVXlZLG1CQUN2Q3Q2QixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsYUFBS3dxQixFQUFVaWdCLGdCQUNmOWhDLEVBQUFGLFFBQUF6SSxjQUFBLGlCQUVGMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQ2I5YixFQUFBRixRQUFBekksY0FBQSxhQUFLd3FCLEVBQVUyWSxZQUNmeDZCLEVBQUFGLFFBQUF6SSxjQUFBLGtCQUdKMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGVBQ1g5YixFQUFBRixRQUFBekksY0FBQSxZQUFVaVosSUFBSSxVQUFVa29CLFVBQVUsS0FBS3VKLFFBQVN2aUMsS0FBS3dpQyxlQUFldHlCLEtBQUtsUSxNQUFPNjlCLFNBQVU3OUIsS0FBS3dpQyxlQUFldHlCLEtBQUtsUSxNQUFPdWpCLFlBQWEsSUFBSWxCLEVBQVVrSCxVQUFVLG9DQUMvSi9vQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsYUFBYXRjLEtBQUt5TyxNQUFNb3pCLFdBQXZDLFFBRUpyaEMsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQWYsSUFBeUIrRixFQUFVbE0sZUFDbkMzVixFQUFBRixRQUFBekksY0FBQSxLQUFHeWtCLFVBQVUsYUFBYXpDLFFBQVM3WixLQUFLeWlDLFlBQVl2eUIsS0FBS2xRLE9BQXpELFVBR0ZRLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxpQkFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUl5a0IsVUFBVSxTQUFkLGFBRUUrTixFQUFnQm50QixLQUFLaWdCLElBQUksU0FBQzJHLEVBQVM5RSxHQUFWLE1BQ3ZCeGUsR0FBQUYsUUFBQXpJLGNBQUE0cEMsRUFBQW5oQyxTQUEyQjdJLEtBQU00cUIsRUFBVWlILFVBQVU5cUIsTUFBTSxHQUFHLEdBQU0sTUFBT2tYLElBQUtzSixFQUFPOEUsU0FBVUEsTUFHcEd0akIsRUFBQUYsUUFBQXpJLGNBQUF3NEIsRUFBQS92QixTQUFVK2IsVUFBV2dPLEVBQWdCaE8sY0FHeEM3YixFQUFBRixRQUFBekksY0FBQThwQyxFQUFBcmhDLFFBQUEsVXJGaWxSRXNoQyxHQUNQcmhDLEVBQU9nTixVcUY3a1JWcTBCLElBQWEsRUFBQWhoQyxFQUFBaUksWUFBVys0QixHQUV4QkEsRUFBV3AwQixXQUNUNlUsVUFBVzloQixFQUFBNEgsVUFBVWdFLFVBQVVHLFlBRWpDczFCLEVBQVc1d0IsY0FDVHVXLE9BQVFobkIsRUFBQTRILFVBQVVpUCxRckYwbFJuQnZYLEVBQVFTLFNxRi9rUk0sRUFBQUssRUFBQXNMLFNBQ2JndkIsR0FDQTJHLElyRmlsUkksU0FBU3ZqQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBb0NBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR3NGcjBSbGUsUUFBU3VpQixHQUFnQnhzQixHQUN2QixPQUNFMmIsVUFBVzNiLEVBQU0yYixVQUNqQnJHLE9BQVF0VixFQUFNZ2MsUUFBUWlRLFNBQVNyUixTdEYweFJsQ3J1QixPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTXNGejFSamlCL1gsRUFBQXRJLEVBQUEsR3RGNjFSS3VJLEVBQVVMLEVBQXVCSSxHc0YzMVJ0Q0ksR0FEQTFJLEVBQUEsR0FDQUEsRUFBQSxJQUNBeXFCLEVBQUF6cUIsRUFBQSxJQUNBK2UsRUFBQS9lLEVBQUEsSUFDQTBvQyxFQUFBMW9DLEVBQUEsSXRGbzJSSzJvQyxFQUFjemdDLEVBQXVCd2dDLEdzRm4yUjFDeEYsRUFBQWxqQyxFQUFBLEl0RnUyUktpbEMsRUFBYy84QixFQUF1Qmc3QixFc0ZyMlIxQ2xqQyxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsK0VBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FDQSxJQUFBODJCLEdBQUFuNEIsRUFBQSxJdEYwMlJLbzRCLEVBQVlsd0IsRUFBdUJpd0IsR3NGeDJSbENzUyxHQUROenFDLEVBQUEsR3RGdzNSaUIsU0FBVXNpQixHc0Z0M1J6QixRQUFBbW9CLEdBQVlwMUIsR0FBTThLLEVBQUFwWSxLQUFBMGlDLEVBQUEsSUFBQWxwQixHQUFBakIsRUFBQXZZLE1BQUEwaUMsRUFBQTExQixXQUFBaFMsT0FBQWdYLGVBQUEwd0IsSUFBQXhvQyxLQUFBOEYsS0FDVnNOLEdBRFUsT0FFaEJrTSxHQUFLL0ssT0FDSHl2QixRQUFRLEdBRVYxa0IsRUFBSzJrQixhQUFlM2tCLEVBQUsya0IsYUFBYWp1QixLQUFsQnNKLEdBTEpBLEV0Rjg2UmpCLE1BdkRBaEIsR0FBVWtxQixFQUFXbm9CLEdBY3JCNUIsRUFBYStwQixJQUNYaHRCLElBQUssb0JBQ0xqYSxNQUFPLFdzRi8zUlJ1RSxLQUFLc04sTUFBTWYsVUFBUyxFQUFBbVcsRUFBQVIsY0FBYSxFQUFHLEtBQ3BDbGlCLEtBQUtzTixNQUFNZixVQUFTLEVBQUF5SyxFQUFBcEIsZ0JBQ3BCNm9CLEVBQUUsa0JBQWtCNTNCLEdBQUcsU0FBVTdHLEtBQUttK0IsaUJ0Rm00UnJDem9CLElBQUssdUJBQ0xqYSxNQUFPLFdzRmo0UlJnakMsRUFBRSxrQkFBa0J6M0IsSUFBSSxTQUFVaEgsS0FBS20rQixpQnRGcTRSdEN6b0IsSUFBSyxlQUNMamEsTUFBTyxXc0ZuNFJSLEdBQUkyaUMsR0FBWTFtQyxTQUFTMm1DLHVCQUF1QixpQkFBaUIsRUFDakUsSUFBSUQsRUFBVUUsYUFBZUYsRUFBVUcsVUFBWSxHQUFLSCxFQUFVSSxlQUFrQngrQixLQUFLc04sTUFBTThjLFVBQVUvTixVQUFXLENBQ2xILEdBQU02aEIsS0FBWWwrQixLQUFLeU8sTUFBTXl2QixPQUM3QmwrQixNQUFLMFEsVUFBVXd0QixZQUNmbCtCLEtBQUtzTixNQUFNZixVQUFTLEVBQUFtVyxFQUFBUixjQUFhZ2MsRUFBUyxTdEZ3NFIzQ3hvQixJQUFLLFNBQ0xqYSxNQUFPLFdzRnI0UkQsR0FBQStoQixHQUNxQnhkLEtBQUtzTixNQUExQjhjLEVBREE1TSxFQUNBNE0sVUFBV3JHLEVBRFh2RyxFQUNXdUcsTUFDbEIsT0FDRXZqQixHQUFBRixRQUFBekksY0FBQSxRQUFNeWtCLFVBQVUsY0FDZDliLEVBQUFGLFFBQUF6SSxjQUFBcWxDLEVBQUE1OEIsUUFBQSxNQUVFOHBCLEVBQVVsdEIsS0FBS2lnQixJQUFJLFNBQUNpTSxFQUFPcEssR0FBUixNQUNqQnhlLEdBQUFGLFFBQUF6SSxjQUFBK29DLEVBQUF0Z0MsU0FBV3lqQixPQUFRQSxFQUFRcUYsTUFBT0EsRUFBTzFULElBQUtzSixNQUdsRHhlLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsU0FBUytiLFVBQWMrTixFQUFVL04saUJ0RjQ0Ui9CcW1CLEdBQ1BuaUMsRUFBT2dOLFdzRnY0UlZtMUIsR0FBVWwxQixXQUNSNGMsVUFBVzdwQixFQUFBNEgsVUFBVWdFLFVBQVVHLFl0Rm01UmhDek0sRUFBUVMsU3NGejRSTSxFQUFBSyxFQUFBc0wsU0FDYmd2QixHQUNBeUgsSXRGMjRSSSxTQUFTcmtDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFzQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHdUZ0N1JsZSxRQUFTdWlCLEdBQWdCeHNCLEdBQ3JCLE9BQ0k0VCxVQUFXNVQsRUFBTTRULFd2RjA1UnhCcm5CLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHQUdYLElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNdUZwOVJqaUIvWCxFQUFBdEksRUFBQSxHdkZ3OVJLdUksRUFBVUwsRUFBdUJJLEd1RnQ5UnRDSSxHQURBMUksRUFBQSxHQUNBQSxFQUFBLElBQ0F5cUIsRUFBQXpxQixFQUFBLElBQ0FxTCxFQUFBckwsRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsZ0ZBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS3ZGMCtSQyxJdUZ4K1JLcXBDLEd2RncrUlksU0FBVXBvQixHQUd2QixRQUFTb29CLEtBR0wsTUFGQXZxQixHQUFnQnBZLEtBQU0yaUMsR0FFZnBxQixFQUEyQnZZLE1BQU8yaUMsRUFBVzMxQixXQUFhaFMsT0FBT2dYLGVBQWUyd0IsSUFBYS9sQyxNQUFNb0QsS0FBTXVHLFlBa0VwSCxNQXZFQWlTLEdBQVVtcUIsRUFBWXBvQixHQVF0QjVCLEVBQWFncUIsSUFDVGp0QixJQUFLLG9CQUNMamEsTUFBTyxXdUZsL1JPLEdBQ1I2QixHQUFNMEMsS0FBS3NOLE1BQU13UyxPQUFqQnhpQixFQUNQMEMsTUFBS3NOLE1BQU1mLFVBQVMsRUFBQW1XLEVBQUFOLGNBQWE5a0IsSUFDakN6QyxRQUFROEksSUFBSSxrQkFBa0IzRCxLQUFLc04sTUFBTStVLGN2RnMvUnhDM00sSUFBSyxTQUNMamEsTUFBTyxXdUZyL1JILEdBQ0c0bUIsR0FBY3JpQixLQUFLc04sTUFBbkIrVSxTQUNSLE9BQ0k3aEIsR0FBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLGNBQ1o5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZ0JBQ1g5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLcXFCLEVBQVVpSCxhQUV4QjlvQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsYUFDWDliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxTQUFTdGtCLElBQUtxcUIsRUFBVWlILFlBQ3ZDOW9CLEVBQUFGLFFBQUF6SSxjQUFBLE1BQUl5a0IsVUFBVSxRQUNUK0YsRUFBVWtILFdBRWYvb0IsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLFNBQ1QrRixFQUFVdVksYUFEZixLQUMrQnZZLEVBQVV3WSxlQUV6Q3I2QixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZUFBZixrQkFHQTliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUsrcUMsTUFBTSxNQUFNNXFDLElBQ0c2cUMsU0FBU0MsWUFBVHgvQixFQUFBb0UsV0FBQSxTQUEyQzJhLEVBQVVnSCxTQUNqRDBaLFFBQVcsR0FDWEgsTUFBUyxJQUNUSSxPQUFVLElBQ1ZDLGFBQWUsRUFDZkMsV0FBa0IsVUFDbEJDLFdBQWtCLGNBRzFDM2lDLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxPQUFmLFdBQ1k5YixFQUFBRixRQUFBekksY0FBQSxXQURaLHdCdkY4Z1NSOHFDLEdBQ1RwaUMsRUFBT2dOLFVBUVQxTixHQUFRUyxTdUZ0Z1NNLEVBQUFLLEVBQUFzTCxTQUNYZ3ZCLEdBQ0YwSCxJdkZ3Z1NJLFNBQVN0a0MsRUFBUXdCLEVBQVM1SCxHQUUvQixZQW9CQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEd3RnJqU2xlLFFBQVN1aUIsR0FBZ0J4c0IsR0FDdkIsT0FDRTIwQixLQUFNMzBCLEVBQU1pYyxleEYyaFNmMXZCLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHQUdULElBQUlrZCxHQUFlLFdBQWMsUUFBU0MsR0FBaUJWLEVBQVE1SyxHQUFTLElBQUssR0FBSXBSLEdBQUksRUFBR0EsRUFBSW9SLEVBQU1uUixPQUFRRCxJQUFLLENBQUUsR0FBSTJjLEdBQWF2TCxFQUFNcFIsRUFBSTJjLEdBQVd2ZCxXQUFhdWQsRUFBV3ZkLGFBQWMsRUFBT3VkLEVBQVd4ZCxjQUFlLEVBQVUsU0FBV3dkLEtBQVlBLEVBQVcvTCxVQUFXLEdBQU05UixPQUFPSSxlQUFlOGMsRUFBUVcsRUFBV25ELElBQUttRCxJQUFpQixNQUFPLFVBQVVQLEVBQWFRLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZRixFQUFpQk4sRUFBWXJkLFVBQVc2ZCxHQUFpQkMsR0FBYUgsRUFBaUJOLEVBQWFTLEdBQXFCVCxNd0Y1a1NqaUIvWCxFQUFBdEksRUFBQSxHeEZnbFNLdUksRUFBVUwsRUFBdUJJLEd3RjlrU3RDSSxHQURBMUksRUFBQSxHQUNBQSxFQUFBLElBQ0ErZSxFQUFBL2UsRUFBQSxHQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsK0VBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS3hGaW1TQyxJd0YvbFNLK3BDLEd4RitsU1csU0FBVTlvQixHQUd4QixRQUFTOG9CLEtBR1AsTUFGQWpyQixHQUFnQnBZLEtBQU1xakMsR0FFZjlxQixFQUEyQnZZLE1BQU9xakMsRUFBVXIyQixXQUFhaFMsT0FBT2dYLGVBQWVxeEIsSUFBWXptQyxNQUFNb0QsS0FBTXVHLFlBd0RoSCxNQTdEQWlTLEdBQVU2cUIsRUFBVzlvQixHQVFyQjVCLEVBQWEwcUIsSUFDWDN0QixJQUFLLHFCQUNMamEsTUFBTyxXd0Z4bVNSdUUsS0FBS3NOLE1BQU13SSxpQkFBaUI5VixLQUFLc04sTUFBTXdTLE9BQU94aUIsT3hGNG1TN0NvWSxJQUFLLG9CQUNMamEsTUFBTyxXd0Z4bVNSWixRQUFROEksSUFBSSxrQkFBa0IzRCxLQUFLc04sTUFBTStVLGN4RjhtU3hDM00sSUFBSyxTQUNMamEsTUFBTyxXd0Y3bVNELEdBQ0MybkMsR0FBU3BqQyxLQUFLc04sTUFBZDgxQixJQUNSLE9BQ0U1aUMsR0FBQUYsUUFBQXpJLGNBQUEsUUFBTXlrQixVQUFVLFFBQ2Q5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsZ0JBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLRyxJQUFLb3JDLEVBQUs5WixhQUVmOW9CLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxhQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQVN0a0IsSUFBS29yQyxFQUFLOVosWUFDbEM5b0IsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLFFBQ1g4bUIsRUFBSzdaLFdBRVIvb0IsRUFBQUYsUUFBQXpJLGNBQUEsTUFBSXlrQixVQUFVLFNBQ1g4bUIsRUFBS3hJLGFBRFIsSUFDdUJ3SSxFQUFLdkksY0FENUIsSUFDNEN1SSxFQUFLNUYsaUJBRWpEaDlCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNaOG1CLEVBQUt0SSx5QnhGb29TVnVJLEdBQ1A5aUMsRUFBT2dOLFV3RjduU1Y4MUIsR0FBVTcxQixXQUNSNlUsVUFBVzloQixFQUFBNEgsVUFBVTRULFFBQVF4YixFQUFBNEgsVUFBVWdFLFdBQVdHLFl4RndvU25Eek0sRUFBUVMsU3dGL25TTSxFQUFBSyxFQUFBc0wsU0FDYmd2QixHQUVFbmxCLHNDQUVGdXRCLEl4RmdvU0ksU0FBU2hsQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBa0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0F0QmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE15RjNyU2ppQi9YLEVBQUF0SSxFQUFBLEd6RityU0t1SSxFQUFVTCxFQUF1QkksR3lGOXJTdENLLEVBQUEzSSxFQUFBLEdBQ0FxTCxFQUFBckwsRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsNEZBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS3pGa3RTQyxJeUZodFNLZ3FDLEd6Rmd0U3FCLFNBQVUvb0IsR3lGL3NTbkMsUUFBQStvQixHQUFZaDJCLEdBQU8sTUFBQThLLEdBQUFwWSxLQUFBc2pDLEdBQUEvcUIsRUFBQXZZLE1BQUFzakMsRUFBQXQyQixXQUFBaFMsT0FBQWdYLGVBQUFzeEIsSUFBQXBwQyxLQUFBOEYsS0FDWHNOLEl6RjR3U1AsTUE3REFrTCxHQUFVOHFCLEVBQXFCL29CLEdBUS9CNUIsRUFBYTJxQixJQUNYNXRCLElBQUssU0FDTGphLE1BQU8sV3lGdnRTRCxHQUNBcW9CLEdBQVk5akIsS0FBS3NOLE1BQWpCd1csU0FDRGpCLEVBQTZCLEtBQXZCaUIsRUFBUzJjLFdBQVRuOUIsRUFBQW9CLFFBQUEsVUFBaURvZixFQUFTeG1CLEdBQTFEZ0csRUFBQW9CLFFBQUEsWUFBdUZvZixFQUFTeG1CLEVBQzVHLE9BQ0VrRCxHQUFBRixRQUFBekksY0FBQSxXQUFTeWtCLFVBQVUsMEJBQ2pCOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFlBQ2I5YixFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNaWIsR0FBQTFnQixFQUFBb0IsUUFBQSxRQUF3Qm9mLEVBQVN5ZixrQkFDckMvaUMsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS0csSUFBSzhyQixFQUFTd0YsVUFBVTlxQixNQUFNLEdBQUcsR0FBTSxRQUM1Q2dDLEVBQUFGLFFBQUF6SSxjQUFBLFlBQU9pc0IsRUFBU3lGLGFBR3BCL29CLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFNbkIsR0FDVnJpQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsb0JBQ2I5YixFQUFBRixRQUFBekksY0FBQSxVQUFLaXNCLEVBQVM5SixVQUVoQnhaLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUVZLEtBQXZCd0gsRUFBUzJjLFdBQ0xqZ0MsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGtCQUFmLE9BQ0E5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FBZixjekZ1dlNSZ25CLEdBQ1AvaUMsRUFBT2dOLFVBVVQxTixHQUFRUyxReUZudlNNZ2pDLEd6RnV2U1QsU0FBU2psQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBa0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0F0QmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE0wRjF5U2ppQi9YLEVBQUF0SSxFQUFBLEcxRjh5U0t1SSxFQUFVTCxFQUF1QkksRzBGN3lTdENLLEVBQUEzSSxFQUFBLEdBQ0FxTCxFQUFBckwsRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsK0dBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsSzFGaTBTQyxJMEYvelNLa3FDLEcxRit6U3dDLFNBQVVqcEIsRzBGOXpTdEQsUUFBQWlwQixHQUFZbDJCLEdBQU8sTUFBQThLLEdBQUFwWSxLQUFBd2pDLEdBQUFqckIsRUFBQXZZLE1BQUF3akMsRUFBQXgyQixXQUFBaFMsT0FBQWdYLGVBQUF3eEIsSUFBQXRwQyxLQUFBOEYsS0FDWHNOLEkxRjQyU1AsTUE5Q0FrTCxHQUFVZ3JCLEVBQXdDanBCLEdBUWxENUIsRUFBYTZxQixJQUNYOXRCLElBQUssU0FDTGphLE1BQU8sVzBGdDBTRCxHQUNBcW9CLEdBQVk5akIsS0FBS3NOLE1BQWpCd1csUUFDUCxPQUNFdGpCLEdBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFJMWdCLEVBQUFvQixRQUFRLFlBQVlvZixFQUFTeG1CLElBQ3JDa0QsRUFBQUYsUUFBQXpJLGNBQUEsV0FBU3lrQixVQUFVLDBDQUNqQjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxvQkFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLFVBQUtpc0IsRUFBUzlKLFVBRWhCeFosRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFVBRWdCLEtBQXZCd0gsRUFBUzJjLFdBQ1RqZ0MsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGtCQUFmLE9BQ0E5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FBZixjMUY4MVNSa25CLEdBQ1BqakMsRUFBT2dOLFVBRVQxTixHQUFRUyxRMEZ4MVNNa2pDLEcxRjQxU1QsU0FBU25sQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBa0NBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0F0Q2plMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE0yRng0U2ppQi9YLEVBQUF0SSxFQUFBLEczRjQ0U0t1SSxFQUFVTCxFQUF1QkksRzJGMzRTdENLLEVBQUEzSSxFQUFBLEVBQ0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxvRkFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUNBLElBQUFtcUMsR0FBQXhyQyxFQUFBLEkzRmk1U0t5ckMsRUFBVXZqQyxFQUF1QnNqQyxHMkZoNVN0QzlpQyxFQUFBMUksRUFBQSxHQUNBMHJDLEVBQUExckMsRUFBQSxJM0ZxNVNLMnJDLEVBQXdCempDLEVBQXVCd2pDLEcyRnA1U3BEM3NCLEVBQUEvZSxFQUFBLElBQ0FtNEIsRUFBQW40QixFQUFBLEkzRnk1U0tvNEIsRUFBWWx3QixFQUF1Qml3QixHMkZ4NVN4QzlzQixFQUFBckwsRUFBQSxHQUNNNHJDLEUzRm02U2EsU0FBVXRwQixHMkZqNlMzQixRQUFBc3BCLEtBQWN6ckIsRUFBQXBZLEtBQUE2akMsRUFBQSxJQUFBcnFCLEdBQUFqQixFQUFBdlksTUFBQTZqQyxFQUFBNzJCLFdBQUFoUyxPQUFBZ1gsZUFBQTZ4QixJQUFBM3BDLEtBQUE4RixNQUFBLE9BRVp3WixHQUFLL0ssT0FDSHExQixPQUFRLEdBQ1JDLFdBQVksR0FDWkMsV0FBVyxHQUVieHFCLEVBQUsya0IsYUFBZTNrQixFQUFLMmtCLGFBQWFqdUIsS0FBbEJzSixHQVBSQSxFM0Y4a1RiLE1BNUtBaEIsR0FBVXFyQixFQUFhdHBCLEdBZ0J2QjVCLEVBQWFrckIsSUFDWG51QixJQUFLLG9CQUNMamEsTUFBTyxXMkZ6NlN1QixJQUEzQnVFLEtBQUtzTixNQUFNcFEsS0FBS2YsUUFDbEI2RCxLQUFLc04sTUFBTWtKLFdBQVcsRUFBRyxJQUUzQmlvQixFQUFFLGtCQUFrQjUzQixHQUFHLFNBQVU3RyxLQUFLbStCLGlCM0Y2NlNyQ3pvQixJQUFLLHVCQUNMamEsTUFBTyxXMkYxNlNSZ2pDLEVBQUUsa0JBQWtCejNCLElBQUksU0FBVWhILEtBQUttK0IsaUIzRjg2U3RDem9CLElBQUssZUFDTGphLE1BQU8sVzJGNTZTUixNQUFJdUUsTUFBS3lPLE1BQU1zMUIsWUFBZS9qQyxLQUFLeU8sTUFBTXExQixRQUl6QzlqQyxLQUFLc04sTUFBTW9KLHFCQUFxQjFXLEtBQUt5TyxNQUFNczFCLFdBQVkvakMsS0FBS3lPLE1BQU1xMUIsWUFDbEU5akMsTUFBSzRRLEtBQUtxekIsTUFBTWhGLGFBSlovakIsT0FBTSxzQjNGbzdTVHhGLElBQUssZUFDTGphLE1BQU8sVzJGLzZTSyxHQUFBK2hCLEdBQ3NCeGQsS0FBS3NOLE1BQWpDK08sRUFETW1CLEVBQ05uQixVQUFXclksRUFETHdaLEVBQ0t4WixLQUFNMGYsRUFEWGxHLEVBQ1drRyxRQUNwQjBhLEVBQVkxbUMsU0FBUzJtQyx1QkFBdUIsaUJBQWlCLElBQzVEM2EsR0FBVzBhLEVBQVVFLGFBQWVGLEVBQVVHLFVBQVksR0FBS0gsRUFBVUksZUFBa0JuaUIsR0FDOUZyYyxLQUFLc04sTUFBTWtKLFdBQVd4UyxFQUFNLE8zRnU3UzdCMFIsSUFBSyxTQUNMamEsTUFBTyxXMkZwN1NELEdBQUEwZSxHQUFBbmEsS0FBQTBuQixFQUM2QjFuQixLQUFLc04sTUFBbENvdEIsRUFEQWhULEVBQ0FnVCxTQUFVcmUsRUFEVnFMLEVBQ1VyTCxVQUFXbmYsRUFEckJ3cUIsRUFDcUJ4cUIsSUFDNUIsT0FDRXNELEdBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxlQUVhLE1BQXhCb2UsRUFBU0MsV0FFVSxJQUFoQno5QixFQUFLZixRQUFpQmtnQixFQUVyQjdiLEVBQUFGLFFBQUF6SSxjQUFBLFdBQ0UySSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsUUFBZixVQUdBOWIsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUExZ0IsRUFBQW9CLFFBQUEsZUFBNkJnMkIsRUFBU3JSLFNBQ3hDN29CLEVBQUFGLFFBQUF6SSxjQUFBLFVBQVF5a0IsVUFBVSxlQUFsQixhQU1OOWIsRUFBQUYsUUFBQXpJLGNBQUEsV0FFSXFGLEVBQUtpZ0IsSUFBSSxTQUFDcGUsRUFBTWlnQixHQUNkLE1BQU94ZSxHQUFBRixRQUFBekksY0FBQStyQyxFQUFBdGpDLFNBQXFCd2pCLFNBQVUva0IsRUFBTTJXLElBQUtzSixNQUtuRHhlLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsU0FBUytiLFVBQWFBLEtBSzVCN2IsRUFBQUYsUUFBQXpJLGNBQUEsV0FDRTJJLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFmLFlBR0E5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsU0FBZiw0QkFHQTliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFmLHVCQUdBOWIsRUFBQUYsUUFBQXpJLGNBQUEsVUFBUXlrQixVQUFVLGNBQWN6QyxRQUFTLFNBQUN2Z0IsR0FBSzZnQixFQUFLdkosS0FBS3F6QixNQUFNdHJDLFNBQS9ELFFBR0E2SCxFQUFBRixRQUFBekksY0FBQTZyQyxFQUFBcGpDLFNBQU91K0IsS0FBSyxLQUFLQyxJQUFJLE1BQU1odUIsSUFBSSxTQUM3QnRRLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNiOWIsRUFBQUYsUUFBQXpJLGNBQUEsbUJBQ0EySSxFQUFBRixRQUFBekksY0FBQSxTQUNFQyxLQUFLLE9BQ0x3a0IsVUFBVSxlQUNWbUIsT0FBUW1sQixjQUNSbm5DLE1BQU91RSxLQUFLeU8sTUFBTXMxQixXQUNsQnhnQixZQUFZLFdBQ1pzYSxTQUFVLFNBQUN2a0MsR0FBSzZnQixFQUFLekosVUFBVXF6QixXQUFXenFDLEVBQUU0ZSxPQUFPemMsWUFHdkQrRSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsVUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBLHdCQUNBMkksRUFBQUYsUUFBQXpJLGNBQUEsU0FDRUMsS0FBSyxPQUNMMmxCLE9BQVFtbEIsZ0JBQ1J0bUIsVUFBVSxlQUNWN2dCLE1BQU91RSxLQUFLeU8sTUFBTXExQixPQUNsQmpHLFNBQVUsU0FBQ3ZrQyxHQUFLNmdCLEVBQUt6SixVQUFVb3pCLE9BQU94cUMsRUFBRTRlLE9BQU96YyxXQUVqRCtFLEVBQUFGLFFBQUF6SSxjQUFBLGtCQUVGMkksRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFNBQVN6QyxRQUFTN1osS0FBSzA5QixhQUFheHRCLEtBQUtsUSxPQUF4RCxhM0ZxK1NONmpDLEdBQ1B0akMsRUFBT2dOLFcyRjM5U0owdEIsRUFBa0IsU0FBQ3hzQixHQUN2QixPQUNFaVYsUUFBU2pWLEVBQU1nYyxRQUFReVosUUFBUXhnQixRQUMvQnhtQixLQUFNdVIsRUFBTWdjLFFBQVF5WixRQUFRaG5DLEtBQzVCbWYsVUFBVzVOLEVBQU1nYyxRQUFReVosUUFBUTduQixVQUNqQ3FlLFNBQVVqc0IsRUFBTWdjLFFBQVFpUSxTQUN4QjEyQixLQUFNeUssRUFBTWdjLFFBQVF5WixRQUFRbGdDLE1BSWhDNi9CLElBQWMsRUFBQWxqQyxFQUFBc0wsU0FBUWd2QixHQUFrQnprQix3QkFBWUUsOENBQXVCbXRCLEczRis5UzFFaGtDLEVBQVFTLFEyRjc5U011akMsRzNGaStTVCxTQUFTeGxDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFrQ0EsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnWSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJNUwsV0FBVSxxQ0FFaEgsUUFBUzZMLEdBQTJCckcsRUFBTWhZLEdBQVEsSUFBS2dZLEVBQVEsS0FBTSxJQUFJdkYsZ0JBQWUsNERBQWdFLFFBQU96UyxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCZ1ksRUFBUGhZLEVBRWxPLFFBQVNzZSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUloTSxXQUFVLGlFQUFvRWdNLEdBQWVELEdBQVN4ZCxVQUFZRCxPQUFPNFIsT0FBTzhMLEdBQWNBLEVBQVd6ZCxXQUFhNFIsYUFBZXBSLE1BQU9nZCxFQUFVbmQsWUFBWSxFQUFPd1IsVUFBVSxFQUFNelIsY0FBYyxLQUFlcWQsSUFBWTFkLE9BQU8rUixlQUFpQi9SLE9BQU8rUixlQUFlMEwsRUFBVUMsR0FBY0QsRUFBU3pMLFVBQVkwTCxHQXRDamUxZCxPQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR0FHVCxJQUFJa2QsR0FBZSxXQUFjLFFBQVNDLEdBQWlCVixFQUFRNUssR0FBUyxJQUFLLEdBQUlwUixHQUFJLEVBQUdBLEVBQUlvUixFQUFNblIsT0FBUUQsSUFBSyxDQUFFLEdBQUkyYyxHQUFhdkwsRUFBTXBSLEVBQUkyYyxHQUFXdmQsV0FBYXVkLEVBQVd2ZCxhQUFjLEVBQU91ZCxFQUFXeGQsY0FBZSxFQUFVLFNBQVd3ZCxLQUFZQSxFQUFXL0wsVUFBVyxHQUFNOVIsT0FBT0ksZUFBZThjLEVBQVFXLEVBQVduRCxJQUFLbUQsSUFBaUIsTUFBTyxVQUFVUCxFQUFhUSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUYsRUFBaUJOLEVBQVlyZCxVQUFXNmQsR0FBaUJDLEdBQWFILEVBQWlCTixFQUFhUyxHQUFxQlQsTTRGcG5UamlCL1gsRUFBQXRJLEVBQUEsRzVGd25US3VJLEVBQVVMLEVBQXVCSSxHNEZ2blR0Q0ssRUFBQTNJLEVBQUEsR0FDQTBJLEVBQUExSSxFQUFBLEVBQ0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxtRkFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUNBLElBQUFrb0MsR0FBQXZwQyxFQUFBLEk1RjhuVEt3cEMsRUFBOEJ0aEMsRUFBdUJxaEMsRzRGN25UMUQyQyxFQUFBbHNDLEVBQUEsSTVGaW9US21zQyxFQUEyQ2prQyxFQUF1QmdrQyxHNEZob1R2RW50QixFQUFBL2UsRUFBQSxJQUNBbTRCLEVBQUFuNEIsRUFBQSxJNUZxb1RLbzRCLEVBQVlsd0IsRUFBdUJpd0IsRzRGcG9UeEM5c0IsRUFBQXJMLEVBQUEsR0FFTW9zQyxFNUY4b1RZLFNBQVU5cEIsRzRGN29UMUIsUUFBQThwQixHQUFZLzJCLEdBQU84SyxFQUFBcFksS0FBQXFrQyxFQUFBLElBQUE3cUIsR0FBQWpCLEVBQUF2WSxNQUFBcWtDLEVBQUFyM0IsV0FBQWhTLE9BQUFnWCxlQUFBcXlCLElBQUFucUMsS0FBQThGLEtBQ1hzTixHQURXLE9BRWpCa00sR0FBSzJrQixhQUFlM2tCLEVBQUsya0IsYUFBYWp1QixLQUFsQnNKLEdBRkhBLEU1RnF1VGxCLE1BdkZBaEIsR0FBVTZyQixFQUFZOXBCLEdBV3RCNUIsRUFBYTByQixJQUNYM3VCLElBQUssb0JBQ0xqYSxNQUFPLFc0RnJwVHVCLElBQTNCdUUsS0FBS3NOLE1BQU1wUSxLQUFLZixRQUNsQjZELEtBQUtzTixNQUFNaUosVUFBVSxFQUFHLElBRTFCa29CLEVBQUUsa0JBQWtCNTNCLEdBQUcsU0FBVTdHLEtBQUttK0IsaUI1RnlwVHJDem9CLElBQUssdUJBQ0xqYSxNQUFPLFc0RnRwVFJnakMsRUFBRSxrQkFBa0J6M0IsSUFBSSxTQUFVaEgsS0FBS20rQixpQjVGMHBUdEN6b0IsSUFBSyxlQUNMamEsTUFBTyxXNEZ4cFRLLEdBQUEraEIsR0FDeUJ4ZCxLQUFLc04sTUFBbkMrTyxFQURLbUIsRUFDTG5CLFVBQVdyWSxFQUROd1osRUFDTXhaLEtBQU0wZixFQURabEcsRUFDWWtHLFFBQ3JCMGEsRUFBWTFtQyxTQUFTMm1DLHVCQUF1QixpQkFBaUIsSUFDNUQzYSxHQUFXMGEsRUFBVUUsYUFBZUYsRUFBVUcsVUFBWSxHQUFLSCxFQUFVSSxlQUFrQm5pQixJQUM5RnhoQixRQUFROEksSUFBSSxPQUNaM0QsS0FBS3NOLE1BQU1pSixVQUFVdlMsRUFBTSxRNUZncVQ1QjBSLElBQUssU0FDTGphLE1BQU8sVzRGN3BURCxHQUFBaXNCLEdBQ3NCMW5CLEtBQUtzTixNQUExQnBRLEVBRER3cUIsRUFDQ3hxQixLQUFNbWYsRUFEUHFMLEVBQ09yTCxTQUNkLE9BQ0U3YixHQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FFWHBmLEVBQUtmLFNBQVlrZ0IsRUFDZjdiLEVBQUFGLFFBQUF6SSxjQUFBLFdBQ0dxRixFQUFLaWdCLElBQUksU0FBQ3BlLEVBQU1pZ0IsR0FDZixPQUFRamdCLEVBQUswaEMsWUFDWCxJQUFLLElBQ0gsTUFBT2pnQyxHQUFBRixRQUFBekksY0FBQXVzQyxFQUFBOWpDLFNBQXdDb1YsSUFBS3NKLEVBQU84RSxTQUFVL2tCLEdBQ3ZFLEtBQUssSUFDSCxNQUFPeUIsR0FBQUYsUUFBQXpJLGNBQUE0cEMsRUFBQW5oQyxTQUEyQm9WLElBQUtzSixFQUFPOEUsU0FBVS9rQixHQUMxRCxTQUVFLE1BREFsRSxTQUFROEksSUFBSSxVQUFXNUUsR0FDaEIsTUFHYnlCLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsU0FBUytiLFVBQWFBLEtBR3hCN2IsRUFBQUYsUUFBQXpJLGNBQUEsV0FDRTJJLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFmLFlBR0E5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsTUFBZixNQUNLOWIsRUFBQUYsUUFBQXpJLGNBQUErSSxFQUFBbUksTUFBTWliLEdBQUkxZ0IsRUFBQW9CLFFBQVEsU0FBbEIsTUFETCxrQjVGbXJUSjIvQixHQUNQOWpDLEVBQU9nTixXNEZ6cVRKMHRCLEVBQWtCLFNBQUN4c0IsR0FDdkIsT0FDRWlWLFFBQVNqVixFQUFNZ2MsUUFBUTZaLE9BQU81Z0IsUUFDOUJ4bUIsS0FBTXVSLEVBQU1nYyxRQUFRNlosT0FBT3BuQyxLQUMzQm1mLFVBQVc1TixFQUFNZ2MsUUFBUTZaLE9BQU9qb0IsVUFDaENyWSxLQUFNeUssRUFBTWdjLFFBQVE2WixPQUFPdGdDLE1BSS9CcWdDLElBQWEsRUFBQTFqQyxFQUFBc0wsU0FBUWd2QixHQUFrQjFrQix3QkFBWTh0QixHNUY2cVRsRHhrQyxFQUFRUyxRNEYzcVRNK2pDLEc1RitxVFQsU0FBU2htQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBOEJBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQUV2RixRQUFTZ1ksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0FsQ2plMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDN0JwRSxPQUFPLEdBR1QsSUFBSWtkLEdBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE02RjF3VGppQi9YLEVBQUF0SSxFQUFBLEc3Rjh3VEt1SSxFQUFVTCxFQUF1QkksRzZGN3dUdENLLEVBQUEzSSxFQUFBLEVBQ0FBLElBQUEsY0FBQXFCLEdBQUEsR0FBQWQsT0FBQSxvRkFBQWMsR0FBQXVILEtBQUEsbUJBQUF2SCxLQUNBLElBQUEwZCxHQUFBL2UsRUFBQSxJQUNBMEksRUFBQTFJLEVBQUEsR0FDQW00QixFQUFBbjRCLEVBQUEsSTdGcXhUS280QixFQUFZbHdCLEVBQXVCaXdCLEc2RnB4VHhDME4sRUFBQTdsQyxFQUFBLEk3Rnd4VEs4bEMsRUFBMkI1OUIsRUFBdUIyOUIsRzZGdnhUdkR4NkIsRUFBQXJMLEVBQUEsR0FDTXNzQyxFN0ZreVRhLFNBQVVocUIsRzZGanlUM0IsUUFBQWdxQixHQUFZajNCLEdBQU84SyxFQUFBcFksS0FBQXVrQyxFQUFBLElBQUEvcUIsR0FBQWpCLEVBQUF2WSxNQUFBdWtDLEVBQUF2M0IsV0FBQWhTLE9BQUFnWCxlQUFBdXlCLElBQUFycUMsS0FBQThGLEtBQ1hzTixHQURXLE9BRWpCa00sR0FBSzJrQixhQUFlM2tCLEVBQUsya0IsYUFBYWp1QixLQUFsQnNKLEdBRkhBLEU3RmkzVGxCLE1BL0VBaEIsR0FBVStyQixFQUFhaHFCLEdBV3ZCNUIsRUFBYTRyQixJQUNYN3VCLElBQUssb0JBQ0xqYSxNQUFPLFc2Rnp5VHVCLElBQTNCdUUsS0FBS3NOLE1BQU1wUSxLQUFLZixRQUNsQjZELEtBQUtzTixNQUFNK0ksWUFBWSxFQUFHLElBRTVCb29CLEVBQUUsa0JBQWtCNTNCLEdBQUcsU0FBVTdHLEtBQUttK0IsaUI3RjZ5VHJDem9CLElBQUssdUJBQ0xqYSxNQUFPLFc2RjF5VFJnakMsRUFBRSxrQkFBa0J6M0IsSUFBSSxTQUFVaEgsS0FBS20rQixpQjdGOHlUdEN6b0IsSUFBSyxlQUNMamEsTUFBTyxXNkYzeVRLLEdBQUEraEIsR0FDeUJ4ZCxLQUFLc04sTUFBbkMrTyxFQURLbUIsRUFDTG5CLFVBQVdyWSxFQUROd1osRUFDTXhaLEtBQU0wZixFQURabEcsRUFDWWtHLFFBQ3JCMGEsRUFBWTFtQyxTQUFTMm1DLHVCQUF1QixpQkFBaUIsSUFDNUQzYSxHQUFXMGEsRUFBVUUsYUFBZUYsRUFBVUcsVUFBWSxHQUFLSCxFQUFVSSxlQUFrQm5pQixHQUM5RnJjLEtBQUtzTixNQUFNK0ksWUFBWXJTLEVBQU0sTzdGbXpUOUIwUixJQUFLLFNBQ0xqYSxNQUFPLFc2Rmh6VEQsR0FBQWlzQixHQUNxQjFuQixLQUFLc04sTUFBekJwUSxFQUREd3FCLEVBQ0N4cUIsS0FBTW1mLEVBRFBxTCxFQUNPckwsU0FDZCxPQUNFN2IsR0FBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGFBRVhwZixFQUFLZixTQUFXa2dCLEVBQ2Q3YixFQUFBRixRQUFBekksY0FBQSxVQUVJcUYsRUFBS2lnQixJQUFJLFNBQUMyRyxFQUFVOUUsR0FDbEIsTUFBT3hlLEdBQUFGLFFBQUF6SSxjQUFBa21DLEVBQUF6OUIsU0FBd0J3akIsU0FBVUEsRUFBVXBPLElBQUtzSixNQUczRHhlLEVBQUFGLFFBQUF6SSxjQUFBdzRCLEVBQUEvdkIsU0FBUytiLFVBQWFBLEtBR3pCN2IsRUFBQUYsUUFBQXpJLGNBQUEsV0FDRTJJLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFmLFlBQ1lwZixFQUFLZixRQUVqQnFFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxNQUFmLEtBQ0k5YixFQUFBRixRQUFBekksY0FBQStJLEVBQUFtSSxNQUFNaWIsR0FBQTFnQixFQUFBb0IsU0FBTixNQURKLGU3RnEwVEo2L0IsR0FDUGhrQyxFQUFPZ04sVzZGM3pUSjB0QixFQUFrQixTQUFDeHNCLEdBQ3ZCLE9BQ0VpVixRQUFTalYsRUFBTWdjLFFBQVErWixTQUFTOWdCLFFBQ2hDeG1CLEtBQU11UixFQUFNZ2MsUUFBUStaLFNBQVN0bkMsS0FDN0JtZixVQUFXNU4sRUFBTWdjLFFBQVErWixTQUFTbm9CLFVBQ2xDclksS0FBTXlLLEVBQU1nYyxRQUFRK1osU0FBU3hnQyxNQUdqQ3VnQyxJQUFjLEVBQUE1akMsRUFBQXNMLFNBQVFndkIsR0FBa0I1a0IsNEJBQWNrdUIsRzdGOHpUckQxa0MsRUFBUVMsUTZGN3pUTWlrQyxHN0ZpMFRULFNBQVNsbUMsRUFBUXdCLEVBQVM1SCxHQUUvQixZQTREQSxTQUFTa0ksR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsUUFBU0YsR0FFdkYsUUFBUzg1QixHQUFnQjk1QixFQUFLc1YsRUFBS2phLEdBQWlLLE1BQXBKaWEsS0FBT3RWLEdBQU9wRixPQUFPSSxlQUFlZ0YsRUFBS3NWLEdBQU9qYSxNQUFPQSxFQUFPSCxZQUFZLEVBQU1ELGNBQWMsRUFBTXlSLFVBQVUsSUFBa0IxTSxFQUFJc1YsR0FBT2phLEVBQWdCMkUsRUFFM00sUUFBU2dZLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUk1TCxXQUFVLHFDQUVoSCxRQUFTNkwsR0FBMkJyRyxFQUFNaFksR0FBUSxJQUFLZ1ksRUFBUSxLQUFNLElBQUl2RixnQkFBZSw0REFBZ0UsUUFBT3pTLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJnWSxFQUFQaFksRUFFbE8sUUFBU3NlLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSWhNLFdBQVUsaUVBQW9FZ00sR0FBZUQsR0FBU3hkLFVBQVlELE9BQU80UixPQUFPOEwsR0FBY0EsRUFBV3pkLFdBQWE0UixhQUFlcFIsTUFBT2dkLEVBQVVuZCxZQUFZLEVBQU93UixVQUFVLEVBQU16UixjQUFjLEtBQWVxZCxJQUFZMWQsT0FBTytSLGVBQWlCL1IsT0FBTytSLGVBQWUwTCxFQUFVQyxHQUFjRCxFQUFTekwsVUFBWTBMLEdBbEVqZTFkLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxHQUdULElBQUlvckIsR0FBNEIsa0JBQVhwYSxTQUFvRCxnQkFBcEJBLFFBQU9xYSxTQUF3QixTQUFVMW1CLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYcU0sU0FBeUJyTSxFQUFJeU0sY0FBZ0JKLFFBQVVyTSxJQUFRcU0sT0FBT3hSLFVBQVksZUFBa0JtRixJQUVsUXVZLEVBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE04RnA1VGppQi9YLEVBQUF0SSxFQUFBLEc5Rnc1VEt1SSxFQUFVTCxFQUF1QkksRzhGdjVUdENFLEVBQUF4SSxFQUFBLEk5RjI1VEt5SSxFQUFhUCxFQUF1Qk0sRzhGMTVUekNHLEVBQUEzSSxFQUFBLEdBQ0EwSSxFQUFBMUksRUFBQSxFQUNBQSxJQUFBLGNBQUFxQixHQUFBLEdBQUFkLE9BQUEsK0VBQUFjLEdBQUF1SCxLQUFBLG1CQUFBdkgsS0FDQSxJQUFBa29CLEdBQUF2cEIsRUFBQSxJQUNBK2UsRUFBQS9lLEVBQUEsSUFDQXFMLEVBQUFyTCxFQUFBLElBQ0EyNEIsRUFBQTM0QixFQUFBLEk5Rm82VEs0NEIsRUFBUzF3QixFQUF1Qnl3QixHOEZuNlRyQ3NPLEVBQUFqbkMsRUFBQSxJOUZ1NlRLa25DLEVBQWNoL0IsRUFBdUIrK0IsRzhGdDZUMUNsbUIsRUFBQS9nQixFQUFBLEk5RjA2VEtnaEIsRUFBVTlZLEVBQXVCNlksRzhGejZUdENraUIsRUFBQWpqQyxFQUFBLEdBQ0FtaEIsRUFBQW5oQixFQUFBLElBQ0FpaEIsRzlGNjZUaUIvWSxFQUF1QmlaLEc4Rjc2VHhDbmhCLEVBQUEsSzlGaTdUS2toQixFQUFVaFosRUFBdUIrWSxHOEZoN1R0Q2hDLEVBQUFqZixFQUFBLEk5Rm83VEs0ZSxFQUFZMVcsRUFBdUIrVyxHOEZuN1R4Q2taLEVBQUFuNEIsRUFBQSxJOUZ1N1RLbzRCLEVBQVlsd0IsRUFBdUJpd0IsRzhGdDdUbENxVSxFOUZrOFRRLFNBQVVscUI7QThGajhUdEIsUUFBQWtxQixLQUFhcnNCLEVBQUFwWSxLQUFBeWtDLEVBQUEsSUFBQWpyQixHQUFBakIsRUFBQXZZLE1BQUF5a0MsRUFBQXozQixXQUFBaFMsT0FBQWdYLGVBQUF5eUIsSUFBQXZxQyxLQUFBOEYsTUFBQSxPQUVYd1osR0FBSy9LLE9BQ0hpMkIsUUFBUyxLQUNUenJDLE9BQVEsRUFDUjByQyxlQUFlLEVBQ2Z2QyxhQUFhLEtBQ2J3QyxhQUFZLEVBQ1pDLFdBQVUsRUFDVkMsTUFBTSxFQUNOQyxJQUFJLEVBQ0p0SCxVQUFVLEVBQ1YvakIsV0FBVSxFQUNWaUssYUFBYSxHQUNiekksT0FDRWhYLE1BQU0sS0FDTnlWLFVBRUk3aEIsS0FBSyxVQUNMOGhCLE1BQU0sS0FDTkMsUUFBUUwsRUFBS0MsVUFBVXZKLEtBQWZzSixNQUlkMGIsYUFBYXh4QixTQUFTTyxNQUV4QnVWLEVBQUs4aEIsaUJBQ0w5aEIsRUFBS3dyQixhQUFleHJCLEVBQUt3ckIsYUFBYTkwQixLQUFsQnNKLEdBQ3ZCQSxFQUFLbWtCLGdCQUFrQm5rQixFQUFLbWtCLGdCQUFnQnp0QixLQUFyQnNKLEdBNUJUQSxFOUZtN1VaLE1BamZBaEIsR0FBVWlzQixFQUFRbHFCLEdBbUNsQjVCLEVBQWE4ckIsSUFDWC91QixJQUFLLFlBQ0xqYSxNQUFPLFc4Rng4VFJ1RSxLQUFLMFEsVUFBVWdKLFdBQVUsTzlGNDhUeEJoRSxJQUFLLHFCQUNMamEsTUFBTyxXOEYzOFRVLEdBQ1g2QixHQUFNMEMsS0FBS3NOLE1BQU13UyxPQUFqQnhpQixFQUNQMEMsTUFBS3NOLE1BQU11VCxnQkFBZ0J2akIsTTlGKzhUMUJvWSxJQUFLLG9CQUNMamEsTUFBTyxXOEY3OFRSdUUsS0FBS3M3QixjQUFjNWdDLEtBQ2Ysa0NBQ0FzRixLQUFLc04sTUFBTXpKLFNBQ1hILFNBQVNPLE1BRVRqRSxLQUFLc04sTUFBTXFkLFNBQVM3VCxTQUNwQjlXLEtBQUt1N0IsaUJBRVQsSUFBTXJwQixHQUFPbFMsSUF3QmJ3N0IsSUFBR0MsTUFBTSxXQUNEdnBCLEVBQUs1RSxNQUFNcWQsU0FBUzdULFNBQ3BCNUUsRUFBSzVFLE1BQU0yYixnQkFFZnVTLEdBQUd5SixnQkFDRG51QixRQUFTLFNBQVU4aUIsR0FDakIxbkIsRUFBS3hCLFVBQVV6WCxPQUFRLFNBSS9CdWlDLEdBQUc3N0IsTUFBTSxTQUFTaTZCLEdBQ2QxbkIsRUFBS3FwQixvQkFFVHY3QixLQUFLc04sTUFBTWlhLE9BQU9DLGtCQUFrQnhuQixLQUFLc04sTUFBTXNLLE1BQU81WCxLQUFLMjlCLG9COUY2OFQxRGpvQixJQUFLLGtCQUNMamEsTUFBTyxTOEY1OFRNeTVCLEdBQWMsR0FBQS9hLEdBQUFuYSxJQUc1QixLQUFJQSxLQUFLeU8sTUFBTWsyQixnQkFBZ0Iza0MsS0FBS3lPLE1BQU1ndkIsU0FBUyxJQUFBMEUsR0FBQSxXQUVqRGhvQixFQUFLekosVUFBVStzQixVQUFTLEdBQ3hCLElBQUk3aUIsVUFBWTFJLEdBQ2hCLFFBQU9pSSxFQUFLMUwsTUFBTXhWLFFBQ2QsSUFBSyxHQUNMLElBQUssR0FDRDJoQixFQUFjLGdCQUNkLE1BQ0osS0FBSyxHQUNILEdBQUlzcUIsR0FBVXhrQyxFQUFBSixRQUFTcytCLFlBQVkxc0IsRUFBS3RCLEtBQUt1MEIsZUFDN0NELEdBQVFFLFFBQ1J4cUIsRUFBYyxhQUNkLE1BQ0YsS0FBSyxHQUNMLElBQUssR0FDTCxJQUFLLEdBQ0hBLEVBQWMsaUJBZWxCLE1BVkEvRCxHQUFBdlcsUUFBUXVhLFFBQVFELEVBQWEsT0FBUSxLQUNqQyxXQUNJMUksRUFBS3hCLFVBQ0Qrc0IsVUFBVSxLQUdsQixXQUNJNzhCLEVBQUE0QyxlQUFlOUksS0FBS3c2QixFQUFhcHhCLGFBR3pDZ0ssR0FBTyxLQWhDd0MsbUNBQUFxMEIsR0FBQSxZQUFBdGIsRUFBQXNiLElBQUEsTUFBQUEsR0FBQXIwQixFQWtDbkQsT0FBTyxLOUZxOVRONEgsSUFBSyw0QkFDTGphLE1BQU8sUzhGcDlUZ0JzZ0MsR0FDeEIsR0FBR0EsRUFBVXBSLFNBQVN6dEIsS0FBS20wQixVQUFVLENBQ25DLEdBQU1GLElBQU0sR0FBSUMsT0FBTzRLLFNBQ3ZCLElBQUc3SyxFQUFJLElBQU80SyxFQUFVcFIsU0FBU3p0QixLQUFLbTBCLFVBQVUsR0FBRzBLLEVBQVVwUixTQUFTenRCLEtBQUttMEIsV0FBV3J4QixLQUFLc04sTUFBTXFkLFNBQVN6dEIsS0FBS20wQixVQUFVLENBQ3ZILEdBQU00SyxJQUNKLGNBQ0EsYUFDQSxZQUNBLGFBQ0EsWUFDQSxpQkFDQSxjQUNBLGNBQ0Esc0JBQ0EseUJBRUlDLElBQ05BLEdBQUEsT0FBdUIsRUFDdkJBLEVBQUEsTUFBdUJILEVBQVVwUixTQUFTenRCLEtBQW5CLE1BQ3ZCZy9CLEVBQUEsVUFBMkJILEVBQVVwUixTQUFTenRCLEtBQUttMEIsVUFBVXBmLFdBQzdEaXFCLEVBQUEsU0FBMEJILEVBQVVwUixTQUFTenRCLEtBQW5CLFNBQzFCZy9CLEVBQUEsVUFBMkJILEVBQVVwUixTQUFTenRCLEtBQW5CLFVBQzNCZy9CLEVBQUEsVUFBMkJELEVBQzNCVCxHQUFHVyxPQUFPRCxROUY4OFRieG1CLElBQUssdUJBQ0xqYSxNQUFPLFc4RjE4VFIsR0FBTXlXLEdBQU1sUyxJQUNadUYsY0FBYXZGLEtBQUt5TyxNQUFNMnpCLGNBQ3hCNUcsR0FBR0MsTUFBTSxXQUNQLEdBQUl5SixHQUFVeGtDLEVBQUFKLFFBQVNzK0IsWUFBWTFzQixFQUFLdEIsS0FBS3UwQixlQUM3Q0QsR0FBUS9aLG9CQUFvQixRQUFRalosRUFBSzh5QixjQUFhLFE5Ris4VHZEdHZCLElBQUssa0JBQ0xqYSxNQUFPLFc4RjM4VFIsR0FBSW9uQixHQUFNN2lCLEtBQUtzN0IsY0FBYzc4QixLQUNsQnVLLFVBQVI2WixHQUNDN2lCLEtBQUtzTixNQUFNd2IsWUFBWWpHLE05Rmc5VDFCbk4sSUFBSyxlQUNMamEsTUFBTyxTOEY5OFRHd3ZCLEdBRVgsR0FBSS9ZLEdBQU9sUyxLQUNQcWxDLEVBQXFCLFNBQVVwYSxHQUNqQ0EsRUFBTXVNLGlCQUNOZ0UsR0FBR0MsTUFBTSxXQUNMRCxHQUFHOEosYUFDRHh1QixRQUFRLFdBQ04sR0FBSWd1QixJQUFRLEdBQUkxVCxPQUFPRSxTQUN2QnBmLEdBQUt4QixVQUFVbzBCLE1BQU1BLEVBQU03ckMsT0FBTyxLQUVwQzhoQixPQUFRLFdBRU43SSxFQUFLeEIsVUFBVXpYLE9BQU8sRUFBRTBxQixhQUFhLFdBQVdqSyxXQUFVLEtBRTVEb2lCLEtBQUssV0FDRDVwQixFQUFLeEIsVUFBVXpYLE9BQU8sRUFBRTBxQixhQUFhLGVBQWVqSyxXQUFVLElBQzlEeEgsRUFBS3FwQix3QkFNYmdLLEVBQW9CLFNBQVV0YSxHQUVoQyxHQUFJOFosSUFBTSxHQUFJM1QsT0FBT0UsU0FDckIsT0FBSXlULEdBQU03eUIsRUFBS3pELE1BQU1xMkIsTUFBUyxLQUM1QkMsRUFBTSxFQUVOdkosR0FBR0MsTUFBTSxXQUNMRCxHQUFHZ0ssZUFFUHR6QixFQUFLeEIsVUFBVXpYLE9BQU8sRUFBRTBxQixhQUFhLFlBQVlqSyxXQUFVLElBQ3BELFVBRUw4aEIsSUFBR0MsTUFBTSxXQUNMRCxHQUFHZ0ssWUFDRDF1QixRQUFTLFNBQVU4aUIsR0FDakIsR0FBSThLLEdBQVU5SyxFQUFJOEssT0FDbEJ4eUIsR0FBS3hCLFVBQVVnMEIsUUFBUUEsRUFBUXpyQyxPQUFPLEtBRXhDNmlDLEtBQUssV0FDRDVwQixFQUFLeEIsVUFBVXpYLE9BQU8sRUFBRTBxQixhQUFhLGVBQWVqSyxXQUFVLElBQzlEeEgsRUFBS3FwQix3QkFNakJrSyxFQUFtQixTQUFVeGEsR0FDL0JBLEVBQU11TSxpQkFDTmdFLEdBQUdDLE1BQU0sV0FDTEQsR0FBR2tLLFdBQ0RoQixRQUFTeHlCLEVBQUt6RCxNQUFNaTJCLGFBSXhCaUIsRUFBa0IsU0FBVTFhLEdBQzlCQSxFQUFNdU0saUJBQ05nRSxHQUFHQyxNQUFNLFdBQ0xELEdBQUdvSyxXQUNEbEIsUUFBU3h5QixFQUFLekQsTUFBTWkyQixhQUl4Qm1CLEVBQWMsU0FBVTVhLEdBQzFCcHdCLFFBQVE4SSxJQUFJLGVBRWQsUUFBUXVPLEVBQUt6RCxNQUFNeFYsUUFDakIsSUFBSyxHQUNIaVosRUFBS3hCLFVBQVV6WCxPQUFRLElBQ3ZCb3NDLEVBQW1CcGEsRUFDbkIsTUFDRixLQUFLLEdBQ0g0YSxFQUFZNWEsRUFDWixNQUNGLEtBQUssR0FDSC9ZLEVBQUt4QixVQUFVelgsT0FBTyxJQUN0QnNzQyxFQUFrQnRhLEVBQ2xCLE1BQ0YsS0FBSyxHQUNINGEsRUFBWTVhLEVBQ1osTUFDRixLQUFLLEdBQ0gvWSxFQUFLeEIsVUFBVXpYLE9BQU8sSUFDdEJ3c0MsRUFBaUJ4YSxFQUNqQixNQUNGLEtBQUssR0FDSDBhLEVBQWdCMWEsR0FDaEIvWSxFQUFLeEIsVUFBVXpYLE9BQU8sUTlGdzlUekJ5YyxJQUFLLFlBQ0xqYSxNQUFPLFM4RnI5VEF5bEIsRUFBU0MsR0FBVyxHQUFBbVosR0FDdEJwb0IsRUFBT2xTLElBQ2JrUyxHQUFLeEIsVUFBVW0wQixXQUFVLElBQ3pCamUsMkNBQ0U4UyxZQUFhLGNBQ2JHLE9BQVEsT0FDUkMsU0FDRUMsT0FBVSxtQkFDVkMsZUFBZ0IscUJBTHBCRSxFQUFBSSxFQUFBLGNBT2UsZUFQZkosRUFBQUksRUFBQSxPQVFRbmhDLEtBQUs2ckIsV0FDVHVWLFVBQVVyWixFQUNWK0MsWUFBWTlDLEtBVmhCbVosSUFhR1gsS0FBSyxTQUFBQyxHQUFBLE1BQU9BLEdBQUlwZCxTQUNoQm1kLEtBQUssU0FBQW5kLEdBQ0osR0FBaUIsR0FBZEEsRUFBS0MsUUFBVyxDQUNqQnZLLEVBQUt4QixVQUFVbTBCLFdBQVUsRUFBTUYsZUFBYyxJQUM3Q3p5QixFQUFLNUUsTUFBTWtKLFdBQVcsRUFBRSxHQUN4QixJQUFJNHJCLEdBQWVqOUIsV0FBVyxXQUM1QnZFLEVBQUE0QyxlQUFlOUksS0FBS3dnQyxFQUFBeDJCLFFBQVEsd0JBQzVCLElBQ0Z3TixHQUFLeEIsVUFBVTB4QixhQUFhQSxRQUU1Qmx3QixHQUFLeEIsVUFBVWlULGFBQWEsWUFBWWpLLFdBQVUsUzlGMDlUdkRoRSxJQUFLLGdCQUNMamEsTUFBTyxXOEZ0OVRSLEdBQU15VyxHQUFPbFMsS0FDUDBrQyxFQUFVMWtDLEtBQUt5TyxNQUFNaTJCLE9BQzNCLE9BQVksT0FBVEEsTUFFRHh5QixHQUFLeEIsVUFBVWlULGFBQWEsUUFBUWpLLFdBQVUsUUFHaEQ4aEIsSUFBR3NLLGFBQ0RwQixRQUFTQSxFQUNUcUIsbUJBQW9CLEVBQ3BCanZCLFFBQVMsU0FBVThpQixHQUNqQixHQUFNMVksR0FBVzBZLEVBQUkxWSxTQUNmQyxFQUFhalAsRUFBSzVFLE1BQU13UyxPQUFPeGlCLEVBQ3JDNFUsR0FBSytPLFVBQVVDLEVBQVNDLFM5RjQ5VDNCekwsSUFBSyxZQUNMamEsTUFBTyxXOEZ2OVRSdUUsS0FBSzBRLFVBQVUydUIsU0FBUSxPOUYyOVR0QjNwQixJQUFLLFdBQ0xqYSxNQUFPLFc4Rno5VFJ1RSxLQUFLMFEsVUFBVXpYLE9BQU8sTzlGNjlUckJ5YyxJQUFLLFNBQ0xqYSxNQUFPLFc4RjU5VEQsR0FBQTJlLEdBQUFwYSxLQUNEOGdCLEVBQWU5Z0IsS0FBS3NOLE1BQU13VCxhQUMxQmEsR0FDSjJlLEVBQUksSUFDSkMsRUFBSSxJQUNKeUYsRUFBSSxNQUNKQyxFQUFJLE1BQ0pDLEVBQUksU0FDSkMsRUFBSSxhQUVBQyxHQUNKOUYsRUFBSTkvQixFQUFBRixRQUFBekksY0FBQSxtQkFDSjBvQyxFQUFJLy9CLEVBQUFGLFFBQUF6SSxjQUFBLGtCQUNKbXVDLEVBQUl4bEMsRUFBQUYsUUFBQXpJLGNBQUEsa0JBQVMySSxFQUFBRixRQUFBekksY0FBQSxXQUFULFFBQ0pvdUMsRUFBSXpsQyxFQUFBRixRQUFBekksY0FBQSxrQkFDSnF1QyxFQUFJMWxDLEVBQUFGLFFBQUF6SSxjQUFBLG1CQUNKc3VDLEVBQUkzbEMsRUFBQUYsUUFBQXpJLGNBQUEsa0JBRU4sT0FDSWlwQixHQUFhd0ksVUFDWDlvQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsa0JBQ2I5YixFQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBUXlaLEtBQU0vWixLQUFLeU8sTUFBTWsyQixlQUF6QixRQUNBbmtDLEVBQUFGLFFBQUF6SSxjQUFBb2hCLEVBQUEzWSxTQUFRMGQsS0FBSyxVQUFVakUsS0FBeUIsR0FBbkIvWixLQUFLeU8sTUFBTXhWLFFBQXhDLE9BQ0F1SCxFQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBUTBkLEtBQUssVUFBVWpFLEtBQXlCLEdBQW5CL1osS0FBS3lPLE1BQU14VixRQUF4QyxPQUNBdUgsRUFBQUYsUUFBQXpJLGNBQUFvaEIsRUFBQTNZLFNBQVEwZCxLQUFLLFVBQVVqRSxLQUFNL1osS0FBS3lPLE1BQU1tMkIsYUFBeEMsUUFDQXBrQyxFQUFBRixRQUFBekksY0FBQW9oQixFQUFBM1ksU0FBUTBkLEtBQUssVUFBVWpFLEtBQU0vWixLQUFLeU8sTUFBTW8yQixXQUF4QyxPQUNBcmtDLEVBQUFGLFFBQUF6SSxjQUFBc2hCLEVBQUE3WSxTQUFPeVosS0FBTS9aLEtBQUt5TyxNQUFNaUwsVUFBV3hWLE1BQU0sS0FBS3lWLFFBQVMzWixLQUFLeU8sTUFBTXlNLE1BQU12QixTQUFVM1osS0FBS3lPLE1BQU1rVixjQUM3Rm5qQixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsbUJBQ2I5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsUUFDYjliLEVBQUFGLFFBQUF6SSxjQUFBK0ksRUFBQW1JLE1BQU1pYixHQUFBa1gsRUFBQXgyQixRQUFBLFFBQXNCb2MsRUFBYXVJLFNBQVc3b0IsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS0csSUFBSzhvQixFQUFhd0ksVUFBVTlxQixNQUFNLEdBQUcsR0FBTSxTQUNwR2dDLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxRQUFRd0UsRUFBYXlJLFdBQ3JDL29CLEVBQUFGLFFBQUF6SSxjQUFBLFFBQU15a0IsVUFBVSxTQUFoQixLQUEyQndFLEVBQWE0RCxpQkFFMUNsa0IsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFFBQVN3RSxFQUFhb0Qsa0JBQ3JDMWpCLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxRQUFRdVUsRUFBQXZ3QixRQUFLMHdCLFlBQVlsUSxFQUFhdWxCLGVBQXJELE9BRUY3bEMsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLFFBQWYsOEJBQ0E5YixFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsYUFBYThwQixFQUFLcG1DLEtBQUt5TyxNQUFNeFYsU0FDNUN1SCxFQUFBRixRQUFBekksY0FBQSxPQUFLaVosSUFBSSxpQkFBaUJ3TCxVQUFVLGtCQUNsQzliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUtpWixJQUFJLGlCQUFpQitJLFFBQVMsU0FBQXZnQixHQUFBLE1BQUs4Z0IsR0FBSzRxQixhQUFhMXJDLElBQUlnakIsVUFBVyxtQkFBbUJxRixFQUFXM2hCLEtBQUt5TyxNQUFNeFYsU0FDaEh1SCxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsY0FDZjliLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxjQUNmOWIsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGlCQUNmOWIsRUFBQUYsUUFBQXpJLGNBQUFzbkMsRUFBQTcrQixRQUFBLFFBR0pFLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxXQUFXekMsUUFBUzdaLEtBQUtzbUMsU0FBU3AyQixLQUFLbFEsT0FBdEQsTUFDQVEsRUFBQUYsUUFBQXpJLGNBQUEsT0FBS3lrQixVQUFVLGNBQWtDLE1BQXBCdGMsS0FBS3lPLE1BQU1pMkIsUUFBYyxpQkFBaUIsbUJBQ3ZFbGtDLEVBQUFGLFFBQUF6SSxjQUFBLE9BQUt5a0IsVUFBVSxVQUFVekMsUUFBUzdaLEtBQUt1bUMsY0FBY3IyQixLQUFLbFEsT0FBMUQsT0FFRFEsRUFBQUYsUUFBQXpJLGNBQUF3NEIsRUFBQS92QixRQUFBLFU5RnVrVURta0MsR0FDUGxrQyxFQUFPZ04sVThGcGtVVmszQixJQUFTLEVBQUE3akMsRUFBQWlJLFlBQVc0N0IsR0FFcEJBLEVBQU96ekIsY0FDTHVXLE9BQVFobkIsRUFBQTRILFVBQVVpUCxPQUVwQixJQUFNNmpCLEdBQWtCLFNBQUN4c0IsR0FDdkIsT0FDRXFTLGFBQWNyUyxFQUFNcVMsYUFDcEJxSixjQUFlMWIsRUFBTTBiLGNBQ3JCUSxTQUFTbGMsRUFBTWtjLFNBQ2Y5bUIsU0FBUzRLLEVBQU01SyxVQUtuQjRnQyxJQUFTLEVBQUE5akMsRUFBQXNMLFNBQVNndkIsR0FBbUJwYSxrQ0FBZ0JJLHNCQUFVNkgsMEJBQVlHLDhCQUFjelMsMEJBQWNpdUIsRzlGdWtVdEc1a0MsRUFBUVMsUThGcmtVTW1rQyxHOUZ5a1VULFNBQVNwbUMsRUFBUXdCLEVBQVM1SCxHQUUvQixZQUVBK0MsUUFBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEcrRmgrVVosSUFBQXdiLEdBQUFoZixFQUFBLEdBQ011dUMsR0FDRjlpQixTQUFRLEVBQ1J4bUIsUUFDQW1mLFdBQVUsRUFDVnJZLEtBQUssR0FFSGtnQyxFQUFVLFdBQWtDLEdBQWpDejFCLEdBQWlDbEksVUFBQXBLLE9BQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFBLFVBQUEsR0FBekJpZ0MsRUFBY3BwQixFQUFXN1csVUFBQSxFQUM5QyxRQUFPNlcsRUFBT3RsQixNQUNWLElBQUFtZixHQUFBM0IsZUFDSSxNQUFPa3hCLEVBQ1gsS0FBQXZ2QixHQUFBNUIsaUJBQ0ksTUFBT3JhLFFBQU9rVyxVQUFXekMsR0FBUWlWLFNBQVMsR0FDOUMsS0FBQXpNLEdBQUExQixpQkFDSSxHQUFrQixHQUFmNkgsRUFBT3BaLEtBQ04sTUFBT2hKLFFBQU9rVyxVQUFXekMsR0FDckJ2UixLQUFNa2dCLEVBQU9sZ0IsS0FDYjhHLEtBQUt5SyxFQUFNekssS0FBTSxFQUNqQnFZLFVBQVdlLEVBQU9sZ0IsS0FBS2YsT0FBU2loQixFQUFPOUcsSUFDdkNvTixTQUFTLEdBR2IsSUFBTXhtQixHQUFPdVIsRUFBTXZSLEtBQUt5SSxPQUFPeVgsRUFBT2xnQixLQUN0QyxPQUFPbEMsUUFBT2tXLFVBQVd6QyxHQUNyQmlWLFNBQVMsRUFDVHhtQixLQUFLQSxFQUNMOEcsS0FBS3lLLEVBQU16SyxLQUFNLEVBQ2pCcVksVUFBV2UsRUFBT2xnQixLQUFLZixPQUFTaWhCLEVBQU85RyxLQUduRCxTQUNJLE1BQU83SCxJL0YyK1VsQjVPLEdBQVFTLFErRnYrVU00akMsRy9GMitVVCxTQUFTN2xDLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFFQStDLFFBQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxHZ0duaFZaLElBQUF3YixHQUFBaGYsRUFBQSxHQUNNdXVDLEdBQ0Y5aUIsU0FBUSxFQUNSeG1CLFFBQ0FtZixXQUFVLEVBQ1ZyWSxLQUFLLEdBRUhzZ0MsRUFBUyxXQUFrQyxHQUFqQzcxQixHQUFpQ2xJLFVBQUFwSyxPQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBQSxVQUFBLEdBQXpCaWdDLEVBQWNwcEIsRUFBVzdXLFVBQUEsRUFDN0MsUUFBTzZXLEVBQU90bEIsTUFDVixJQUFBbWYsR0FBQWhDLGNBQ0ksTUFBT3V4QixFQUNYLEtBQUF2dkIsR0FBQS9CLGdCQUNJLE1BQU9sYSxRQUFPa1csVUFBV3pDLEdBQVFpVixTQUFTLEdBQzlDLEtBQUF6TSxHQUFBOUIsZ0JBQ0ksR0FBa0IsR0FBZmlJLEVBQU9wWixLQUNOLE1BQU9oSixRQUFPa1csVUFBV3pDLEdBQ3JCNE4sVUFBV2UsRUFBT2xnQixLQUFLZixPQUFTaWhCLEVBQU85RyxJQUN2Q29OLFNBQVEsRUFDUnhtQixLQUFLa2dCLEVBQU9sZ0IsTUFHaEIsSUFBTUEsR0FBT3VSLEVBQU12UixLQUFLeUksT0FBT3lYLEVBQU9sZ0IsS0FDdEMsT0FBT2xDLFFBQU9rVyxVQUFXekMsR0FDckI0TixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUeG1CLEtBQU1BLEVBQ044RyxLQUFNeUssRUFBTXpLLEtBQU0sR0FHOUIsU0FDSSxNQUFPeUssSWhHOGhWbEI1TyxHQUFRUyxRZ0cxaFZNZ2tDLEdoRzhoVlQsU0FBU2ptQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBd0JBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQXRCdkZwRixPQUFPSSxlQUFleUUsRUFBUyxjQUMzQnBFLE9BQU8sR2lHcmtWWixJQUFBZ3JDLEdBQUF4dUMsRUFBQSxJakcwa1ZLeXVDLEVBQWF2bUMsRUFBdUJzbUMsR2lHemtWekNFLEVBQUExdUMsRUFBQSxJakc2a1ZLMnVDLEVBQWF6bUMsRUFBdUJ3bUMsR2lHNWtWekNFLEVBQUE1dUMsRUFBQSxJakdnbFZLNnVDLEVBQVczbUMsRUFBdUIwbUMsR2lHL2tWdkNFLEVBQUE5dUMsRUFBQSxJakdtbFZLK3VDLEVBQVk3bUMsRUFBdUI0bUMsR2lHbGxWeENyZCxFQUFBenhCLEVBQUEsSUFFTSttQixHQUFRLEVBQUEwSyxFQUFBckIsa0JBQ1ZxUyxtQkFDQThKLG1CQUNBRixpQkFDQUosbUJqR3lsVkhya0MsR0FBUVMsUWlHdGxWTTBlLEdqRzBsVlQsU0FBUzNnQixFQUFRd0IsRUFBUzVILEdBRS9CLFlBRUErQyxRQUFPSSxlQUFleUUsRUFBUyxjQUM3QnBFLE9BQU8sR2tHNW1WVixJQUFBd2IsR0FBQWhmLEVBQUEsR0FDTXV1QyxHQUNKOWlCLFNBQVMsRUFDVHhtQixRQUNBbWYsV0FBVyxFQUNYclksS0FBTSxHQUVGd2dDLEVBQVcsV0FBa0MsR0FBakMvMUIsR0FBaUNsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUF6QmlnQyxFQUFjcHBCLEVBQVc3VyxVQUFBLEVBQ2pELFFBQVE2VyxFQUFPdGxCLE1BQ2IsSUFBQW1mLEdBQUFuQyxpQkFDRSxNQUFPOVosUUFBT2tXLFVBQVd6QyxHQUFRaVYsU0FBUyxHQUM1QyxLQUFBek0sR0FBQWpDLGlCQUNFLEdBQUlpeUIsR0FBVTdwQixFQUFPbGdCLEtBQUtpZ0IsSUFBSSxTQUFBcGUsR0FDNUIsT0FDRXlsQixVQUFXemxCLEVBQUt5bEIsVUFDaEJJLFlBQWE3bEIsRUFBS215QixLQUNsQnpNLGVBQWUsRUFDZkUsY0FBZTVsQixFQUFLMEUsT0FDcEIwZ0IsV0FBWXBsQixFQUFLb2xCLFdBQ2pCQyxhQUFjcmxCLEVBQUtxbEIsYUFDbkJDLGFBQWN0bEIsRUFBS3NsQixhQUNuQkMsaUJBQWtCdmxCLEVBQUt1bEIsaUJBQ3ZCSixpQkFBa0JubEIsRUFBS2liLFFBQ3ZCaUssWUFBYWxsQixFQUFLekIsR0FDbEJvbkIsZUFBZTNsQixFQUFLNlgsTUFDcEJ5dkIsY0FBZXRuQyxFQUFLa3lCLEtBQ3BCNUgsUUFBU3RxQixFQUFLd2tDLGlCQUNkMkQsV0FBWW5vQyxFQUFLMGhDLFdBQ2pCMEcsT0FBUXBvQyxFQUFLb29DLFNBR2pCLElBQWtCLEdBQWYvcEIsRUFBT3BaLEtBQ1IsTUFBT2hKLFFBQU9rVyxVQUFXekMsR0FDdkI0TixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUeG1CLEtBQU0rcEMsR0FHUixJQUFNL3BDLEdBQU91UixFQUFNdlIsS0FBS3lJLE9BQU9zaEMsRUFDL0IsT0FBT2pzQyxRQUFPa1csVUFBV3pDLEdBQ3ZCNE4sVUFBV2UsRUFBT2xnQixLQUFLZixPQUFTaWhCLEVBQU85RyxJQUN2Q29OLFNBQVMsRUFDVHhtQixLQUFNQSxFQUNOOEcsS0FBTXlLLEVBQU16SyxLQUFPLEdBR3pCLFNBQ0UsTUFBT3lLLElsR3VuVlo1TyxHQUFRUyxRa0dublZNa2tDLEdsR3VuVlQsU0FBU25tQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlBRUErQyxRQUFPSSxlQUFleUUsRUFBUyxjQUMzQnBFLE9BQU8sR21HL3FWWixJQUFBd2IsR0FBQWhmLEVBQUEsR0FFTXV1QyxLQUdBOUwsRUFBVyxXQUFrQyxHQUFqQ2pzQixHQUFpQ2xJLFVBQUFwSyxPQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBQSxVQUFBLEdBQXpCaWdDLEVBQWNwcEIsRUFBVzdXLFVBQUEsRUFDL0MsUUFBTzZXLEVBQU90bEIsTUFDVixJQUFBbWYsR0FBQXJDLGtCQUNJLE1BQU81WixRQUFPa1csVUFBV3pDLEVBQU8yTyxFQUFPbGdCLEtBQzNDLFNBQ0ksTUFBT3VSLEluR3VyVmxCNU8sR0FBUVMsUW1HbnJWTW82QixHbkd1clZULFNBQVNyOEIsRUFBUXdCLEVBQVM1SCxHQUUvQixZQUVBK0MsUUFBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEdvRzFzVlosSUFBQXdiLEdBQUFoZixFQUFBLEdBRU15eUIsRUFBZ0IsV0FBd0IsR0FBdkJqYyxHQUF1QmxJLFVBQUFwSyxPQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBQSxVQUFBLE1BQVg2VyxFQUFXN1csVUFBQSxFQUMxQyxRQUFRNlcsRUFBT3RsQixNQUNYLElBQUFtZixHQUFBcEMsd0JBQ0ksTUFBTzdaLFFBQU9rVyxVQUFXekMsRUFBTzJPLEVBQU9sZ0IsS0FDM0MsU0FDSSxNQUFPdVIsSXBHbXRWbEI1TyxHQUFRUyxRb0dodFZNb3FCLEdwR290VlQsU0FBU3JzQixFQUFRd0IsRUFBUzVILEdBRS9CLFlBWUEsU0FBU212QyxHQUFtQkMsR0FBTyxHQUFJL2dDLE1BQU1pUixRQUFROHZCLEdBQU0sQ0FBRSxJQUFLLEdBQUluckMsR0FBSSxFQUFHb3JDLEVBQU9oaEMsTUFBTStnQyxFQUFJbHJDLFFBQVNELEVBQUltckMsRUFBSWxyQyxPQUFRRCxJQUFPb3JDLEVBQUtwckMsR0FBS21yQyxFQUFJbnJDLEVBQU0sT0FBT29yQyxHQUFlLE1BQU9oaEMsT0FBTW94QixLQUFLMlAsR3FHeHNWcEwsUUFBU3BkLEtBQThELEdBQTlDeGIsR0FBOENsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUF0Q2doQyxFQUFhdGQsZ0JBQWlCN00sRUFBUTdXLFVBQUEsRUFDMUUsUUFBUTZXLEVBQU90bEIsTUFDWCxJQUFBbWYsR0FBQTdELDBCQUNJLE1BQW1CLElBQWZnSyxFQUFPcFosS0FDQWhKLE9BQU9rVyxVQUFXcTJCLEVBQWF0ZCxpQkFDbEMvc0IsS0FBTWtnQixFQUFPbGdCLEtBQ2JtZixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUMmQsYUFBYSxhQUdWcm1DLE9BQU9rVyxVQUFXekMsR0FDckJ2UixLQUFNdVIsRUFBTXZSLEtBQUt5SSxPQUFPeVgsRUFBT2xnQixNQUMvQm1mLFVBQVdlLEVBQU9sZ0IsS0FBS2YsT0FBU2loQixFQUFPOUcsSUFDdkNvTixTQUFTLEVBQ1QxZixLQUFNb1osRUFBT3BaLEtBQ2JxOUIsYUFBYSxZQUd6QixLQUFBcHFCLEdBQUF4Qyx3QkFDSSxNQUFPelosUUFBT2tXLFVBQVV6QyxHQUFPNHlCLGFBQWEsYUFDaEQsS0FBQXBxQixHQUFBckQsYUFDSSxNQUFPNVksUUFBT2tXLFVBQVd6QyxHQUNyQnZSLGlCQUNPdVIsRUFBTXZSLEtBQUtzQixNQUFNLEVBQUc0ZSxFQUFPNEIsU0FDOUJoa0IsT0FBT2tXLFVBQVd6QyxFQUFNdlIsS0FBS2tnQixFQUFPNEIsUUFDaEN5RixlQUFnQixFQUNoQkUsZUFBZ0JsVyxFQUFNdlIsS0FBS2tnQixFQUFPNEIsT0FBTzJGLGNBQWdCLEdBQUcxUyxjQUpwRW0xQixFQU1PMzRCLEVBQU12UixLQUFLc0IsTUFBTTRlLEVBQU80QixNQUFRLEVBQUd2USxFQUFNdlIsS0FBS2YsV0FHN0QsU0FDSSxNQUFPc1MsSUFHWixRQUFTcVMsS0FBd0QsR0FBM0NyUyxHQUEyQ2xJLFVBQUFwSyxPQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBQSxVQUFBLEdBQW5DZ2hDLEVBQWF6bUIsYUFBYzFELEVBQVE3VyxVQUFBLEVBQ3BFLFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUEzRCxzQkFDSSxNQUFPOEosR0FBTzBELFlBQ2xCLEtBQUE3SixHQUFBdkQsdUJBQ0ksTUFBTzFZLFFBQU9rVyxVQUFXekMsR0FDckJpeUIsZUFBZ0IsRUFDaEI5YixZQUFheEgsRUFBT2xnQixLQUFLZzBCLEtBQ3pCdk0sY0FBZXZILEVBQU9sZ0IsS0FBS3VHLFFBRW5DLEtBQUF3VCxHQUFBdEQsOEJBQ0ksTUFBTzNZLFFBQU9rVyxVQUFXekMsR0FDckJpeUIsZUFBZ0IsRUFDaEI5YixZQUFheEgsRUFBT2xnQixLQUFLZzBCLEtBQ3pCdk0sY0FBZXZILEVBQU9sZ0IsS0FBS3VHLFFBRW5DLEtBQUF3VCxHQUFBcEQsZUFDSSxNQUFPMHpCLEdBQWF6bUIsWUFDeEIsU0FDSSxNQUFPclMsSUFHWixRQUFTeWIsS0FBb0QsR0FBekN6YixHQUF5Q2xJLFVBQUFwSyxPQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBQSxVQUFBLEdBQWpDZ2hDLEVBQWFyZCxXQUFZOU0sRUFBUTdXLFVBQUEsRUFDaEUsUUFBUTZXLEVBQU90bEIsTUFDWCxJQUFBbWYsR0FBQTFELG9CQUNJLE1BQU92WSxRQUFPa1csVUFBV3pDLEdBQ3JCaVYsU0FBUyxHQUVqQixLQUFBek0sR0FBQXpELG9CQUNJLE9BQ0l0VyxLQUFNa2dCLEVBQU9sZ0IsS0FDYjIvQixXQUFXLEdBQUl6TCxPQUFPNEssVUFDdEJ0WSxTQUFTLEVBRWpCLEtBQUF6TSxHQUFBcEQsZUFDSSxNQUFPMHpCLEdBQWFyZCxVQUN4QixTQUNJLE1BQU96YixJQUdaLFFBQVMwYixLQUEwRCxHQUE1QzFiLEdBQTRDbEksVUFBQXBLLE9BQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFBLFVBQUEsR0FBcENnaEMsRUFBYXBkLGNBQWUvTSxFQUFRN1csVUFBQSxFQUN0RSxRQUFRNlcsRUFBT3RsQixNQUNYLElBQUFtZixHQUFBeEQsbUJBQ0ksT0FDSSt6QixPQUFPLEVBRWYsU0FDSSxNQUFPLzRCLElyRzJtVmxCelQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFcUdqc1Zlb3FCLGtCckdrc1ZmcHFCLEVxRzlwVmVpaEIsZXJHK3BWZmpoQixFcUd6b1ZlcXFCLGFyRzBvVmZycUIsRXFHeG5WZXNxQixlQTdHaEIsSUFBQWxULEdBQUFoZixFQUFBLEdBYU1zdkMsR0FDRnRkLGlCQUNJL3NCLFFBQ0FtZixXQUFXLEVBQ1hnbEIsYUFBYyxXQUNkcjlCLEtBQU0sRUFDTnNTLElBQUssSUFFVHdLLGdCQUNBb0osWUFDSTJTLFVBQVcsRUFDWDMvQixRQUNBd21CLFNBQVMsR0FFYnlHLGVBQ0lqdEIsUUFDQXNxQyxPQUFPLEtyR3MwVlQsU0FBU25wQyxFQUFRd0IsRUFBUzVILEdBRS9CLFlzRzUwVk0sU0FBU3N5QixLQUEwRCxHQUE1QzliLEdBQTRDbEksVUFBQXBLLE9BQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFBLFVBQUEsR0FBcENnaEMsRUFBYWhkLGNBQWVuTixFQUFRN1csVUFBQSxFQUN0RSxRQUFRNlcsRUFBT3RsQixNQUNYLElBQUFtZixHQUFBN0MsdUJBQ0ksTUFBT3BaLFFBQU9rVyxVQUFVekMsR0FBT2lWLFNBQVEsR0FDM0MsS0FBQXpNLEdBQUE1Qyx1QkFDSSxNQUFtQixJQUFmK0ksRUFBT3BaLEtBQ0FoSixPQUFPa1csVUFBV3EyQixFQUFhaGQsZUFDbENydEIsS0FBTWtnQixFQUFPbGdCLEtBQ2JtZixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUMWYsS0FBTW9aLEVBQU9wWixLQUFLLElBR2ZoSixPQUFPa1csVUFBV3pDLEdBQ3JCdlIsS0FBTXVSLEVBQU12UixLQUFLeUksT0FBT3lYLEVBQU9sZ0IsTUFDL0JtZixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUMWYsS0FBTW9aLEVBQU9wWixLQUFLLEdBRzlCLEtBQUFpVCxHQUFBdEMsdUJBQ0ksTUFBTzNaLFFBQU9rVyxVQUFVekMsR0FBT3ZSLFNBQ25DLFNBQ0ksTUFBT3VSLElBR1osUUFBUytiLEtBQWtELEdBQXhDL2IsR0FBd0NsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFoQ2doQyxFQUFhL2MsVUFBV3BOLEVBQVE3VyxVQUFBLEVBQzlELFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUEzQyxtQkFDSSxNQUFPdFosUUFBT2tXLFVBQVV6QyxHQUFPaVYsU0FBUSxHQUMzQyxLQUFBek0sR0FBQTFDLG1CQUNJLE1BQU92WixRQUFPa1csVUFBVXpDLEdBQU92UixLQUFLa2dCLEVBQU9sZ0IsS0FBS3dtQixTQUFRLEVBQU1ySCxXQUFVLEdBQzVFLFNBQ0ksTUFBTzVOLElBR1osUUFBU2tTLEtBQWtELEdBQXhDbFMsR0FBd0NsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFoQ2doQyxFQUFhNW1CLFVBQVd2RCxFQUFRN1csVUFBQSxFQUM5RCxRQUFRNlcsRUFBT3RsQixNQUNYLElBQUFtZixHQUFBekMsZUFDSSxNQUFPNEksR0FBT3VELFNBQ2xCLFNBQ0ksTUFBT2xTLEl0R3F5VmxCelQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFc0dqMVZlMHFCLGdCdEdrMVZmMXFCLEVzR3h6VmUycUIsWXRHeXpWZjNxQixFc0cveVZlOGdCLFdBaEVoQixJQUFBMUosR0FBQWhmLEVBQUEsR0FTTXN2QyxHQUNGaGQsZUFDSXJ0QixRQUNBd21CLFNBQVMsRUFDVHJILFdBQVUsRUFDVnJZLEtBQU0sRUFDTnNTLElBQUssSUFFVGtVLFdBQ0l0dEIsUUFDQW1mLFdBQVUsRUFDVnFILFNBQVMsRUFDVDFmLEtBQU0sRUFDTnNTLElBQUssSUFFVHFLLFVBQVcsS3RHczZWVCxTQUFTdGlCLEVBQVF3QixFQUFTNUgsR0FFL0IsWXVHLzVWTSxTQUFTbXlCLEtBQWtELEdBQXhDM2IsR0FBd0NsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFoQ2doQyxFQUFhbmQsVUFBV2hOLEVBQVE3VyxVQUFBLEVBQzlELFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUFuRCxtQkFDSSxNQUFtQixJQUFmc0osRUFBT3BaLEtBQ0FoSixPQUFPa1csVUFBV3EyQixFQUFhbmQsV0FDbENsdEIsS0FBTWtnQixFQUFPbGdCLEtBQ2JtZixVQUFXZSxFQUFPbGdCLEtBQUtmLE9BQVNpaEIsRUFBTzlHLElBQ3ZDb04sU0FBUyxFQUNUMmQsYUFBYSxhQUdWcm1DLE9BQU9rVyxVQUFXekMsR0FDckJ2UixLQUFNdVIsRUFBTXZSLEtBQUt5SSxPQUFPeVgsRUFBT2xnQixNQUMvQm1mLFVBQVdlLEVBQU9sZ0IsS0FBS2YsT0FBU2loQixFQUFPOUcsSUFDdkNvTixTQUFTLEVBQ1QxZixLQUFNb1osRUFBT3BaLEtBQ2JxOUIsYUFBYSxZQUd6QixLQUFBcHFCLEdBQUF2QyxxQkFDSSxNQUFPMVosUUFBT2tXLFVBQVV6QyxHQUFPNHlCLGFBQWEsYUFDaEQsU0FDSSxNQUFPNXlCLElBR1osUUFBUzRULEtBQWtELEdBQXhDNVQsR0FBd0NsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFoQ2doQyxFQUFhbGxCLFVBQVdqRixFQUFRN1csVUFBQSxFQUM5RCxRQUFRNlcsRUFBT3RsQixNQUNYLElBQUFtZixHQUFBbEQsbUJBQ0ksTUFBT3FKLEdBQU9pRixTQUNsQixLQUFBcEwsR0FBQTlDLGtCQUNJLE1BQU9vekIsR0FBYWxsQixTQUN4QixTQUNJLE1BQU81VCxJQUdaLFFBQVM0YixLQUE4RCxHQUE5QzViLEdBQThDbEksVUFBQXBLLE9BQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFBLFVBQUEsR0FBdENnaEMsRUFBYWxkLGdCQUFpQmpOLEVBQVE3VyxVQUFBLEVBQzFFLFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUFqRCwwQkFDSSxNQUFrQixJQUFmb0osRUFBT3BaLEtBQ0NoSixPQUFPa1csVUFBV3EyQixFQUFhbGQsaUJBQ2xDbnRCLEtBQU1rZ0IsRUFBT2xnQixLQUNid21CLFNBQVMsRUFDVHJILFVBQVdlLEVBQU9sZ0IsS0FBS2YsT0FBU2loQixFQUFPOUcsT0FJdkNwWixLQUFNdVIsRUFBTXZSLEtBQUt5SSxPQUFPeVgsRUFBT2xnQixNQUMvQjhHLEtBQU1vWixFQUFPcFosS0FDYjBmLFNBQVMsRUFDVHJILFVBQVdlLEVBQU9sZ0IsS0FBS2YsT0FBU2loQixFQUFPOUcsSUFHbkQsS0FBQVcsR0FBQTlDLGtCQUNJLE1BQU9vekIsR0FBYWxkLGVBQ3hCLFNBQ0ksTUFBTzViLElBR1osUUFBUzZiLEtBQW9ELEdBQXpDN2IsR0FBeUNsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUFqQ2doQyxFQUFhamQsV0FBWWxOLEVBQVE3VyxVQUFBLEVBQ2hFLFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUFoRCxvQkFDSSxNQUFPalosUUFBT2tXLFVBQVd6QyxHQUNyQmlWLFNBQVMsR0FFakIsS0FBQXpNLEdBQUEvQyxvQkFDSSxPQUNJaFgsS0FBTWtnQixFQUFPbGdCLEtBQ2J3bUIsU0FBUyxFQUVqQixLQUFBek0sR0FBQTlDLGtCQUNJLE1BQU9vekIsR0FBYWpkLFVBQ3hCLFNBQ0ksTUFBTzdiLEl2R3kxVmxCelQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLElBRVhvRSxFdUdwNlZldXFCLFl2R3E2VmZ2cUIsRXVHNTRWZXdpQixZdkc2NFZmeGlCLEV1R240VmV3cUIsa0J2R280VmZ4cUIsRXVHNzJWZXlxQixZQXhGaEIsSUFBQXJULEdBQUFoZixFQUFBLEdBVU1zdkMsR0FDRm5kLFdBQ0lsdEIsUUFDQW1mLFdBQVcsRUFDWHJZLEtBQU0sRUFDTnNTLElBQUssR0FDTCtxQixhQUFjLFlBRWxCaGYsYUFDQWdJLGlCQUNJbnRCLFFBQ0FtZixXQUFXLEVBQ1hyWSxLQUFNLEdBRVZzbUIsWUFDSXB0QixRQUNBd21CLFNBQVMsS3ZHOGhXWCxTQUFTcmxCLEVBQVF3QixFQUFTNUgsR0FFL0IsWXdHNWlXTSxTQUFTMHlCLEtBQWdELEdBQXZDbGMsR0FBdUNsSSxVQUFBcEssT0FBQSxHQUFBNk0sU0FBQXpDLFVBQUEsR0FBQUEsVUFBQSxHQUEvQmdoQyxFQUFhNWMsU0FBVXZOLEVBQVE3VyxVQUFBLEVBQzVELFFBQVE2VyxFQUFPdGxCLE1BQ1gsSUFBQW1mLEdBQUEvRCxrQkFDSSxNQUFPbFksUUFBT2tXLFVBQVd6QyxHQUNyQnZSLEtBQU1rZ0IsRUFBT2xnQixNQUVyQixLQUFBK1osR0FBQWhFLGtCQUNJLE1BQU9qWSxRQUFPa1csVUFBV3pDLEdBQ3JCcUksU0FBUyxHQUVqQixTQUNJLE1BQU9ySSxJQUdaLFFBQVM1SyxLQUFnRCxHQUF2QzRLLEdBQXVDbEksVUFBQXBLLE9BQUEsR0FBQTZNLFNBQUF6QyxVQUFBLEdBQUFBLFVBQUEsR0FBL0JnaEMsRUFBYTFqQyxTQUFVdVosRUFBUTdXLFVBQUEsRUFDNUQsUUFBUTZXLEVBQU90bEIsTUFDWCxJQUFBbWYsR0FBQTlELGNBQ0ksTUFBT2lLLEdBQU92WixRQUNsQixTQUNJLE1BQU80SyxJeEcyaFdsQnpULE9BQU9JLGVBQWV5RSxFQUFTLGNBQzNCcEUsT0FBTyxJQUVYb0UsRXdHampXZThxQixXeEdraldmOXFCLEV3R3BpV2VnRSxVQTVCaEIsSUFBQW9ULEdBQUFoZixFQUFBLEdBTU1zdkMsR0FDRjVjLFVBQ0k3VCxTQUFTLEVBQ1Q1WixTQUVKMkcsU0FBVSxPeEdpbVdSLFNBQVN4RixFQUFRd0IsRUFBUzVILEdBRS9CLFlBcUJBLFNBQVNrSSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHeUdqb1d6RSxRQUFTcW5DLEdBQWVGLEdBQ3JDLEdBQU1oa0MsSUFBUSxFQUFBbW1CLEVBQUFwQixhQUFBdUIsRUFBQXZwQixRQUVaaW5DLEdBQ0EsRUFBQTdkLEVBQUF0QixpQkFBQXNmLEVBQUFwbkMsU0FBaUMsRUFBQXFuQyxFQUFBcm5DLFlBV25DLE9BTkVqQyxHQUFPL0QsSUFBSTBCLE9BQU8sR0FBZSxXQUMvQixHQUFNNHJDLEdBQWtCM3ZDLEVBQVEsSUFBZXFJLE9BQy9DaUQsR0FBTWtsQixlQUFlbWYsS0FJbEJya0MsRXpHK2xXUnZJLE9BQU9JLGVBQWV5RSxFQUFTLGNBQzdCcEUsT0FBTyxJQUVUb0UsRUFBUVMsUXlHam5XZW1uQyxDQUx4QixJQUFBL2QsR0FBQXp4QixFQUFBLElBQ0E0dkMsRUFBQTV2QyxFQUFBLEt6RzJuV0t5dkMsRUFBZXZuQyxFQUF1QjBuQyxHeUcxblczQ0MsRUFBQTd2QyxFQUFBLEt6RzhuV0swdkMsRUFBZ0J4bkMsRUFBdUIybkMsR3lHN25XNUNsZSxFQUFBM3hCLEVBQUEsSXpHaW9XSzR4QixFQUFVMXBCLEVBQXVCeXBCLElBb0JoQyxTQUFTdnJCLEVBQVF3QixFQUFTNUgsR0FFL0IsWUFrQkEsU0FBU2tJLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdBRXZGLFFBQVNnbkMsR0FBbUJDLEdBQU8sR0FBSS9nQyxNQUFNaVIsUUFBUTh2QixHQUFNLENBQUUsSUFBSyxHQUFJbnJDLEdBQUksRUFBR29yQyxFQUFPaGhDLE1BQU0rZ0MsRUFBSWxyQyxRQUFTRCxFQUFJbXJDLEVBQUlsckMsT0FBUUQsSUFBT29yQyxFQUFLcHJDLEdBQUttckMsRUFBSW5yQyxFQUFNLE9BQU9vckMsR0FBZSxNQUFPaGhDLE9BQU1veEIsS0FBSzJQLEdBRTFMLFFBQVNuTixHQUFnQjk1QixFQUFLc1YsRUFBS2phLEdBQWlLLE1BQXBKaWEsS0FBT3RWLEdBQU9wRixPQUFPSSxlQUFlZ0YsRUFBS3NWLEdBQU9qYSxNQUFPQSxFQUFPSCxZQUFZLEVBQU1ELGNBQWMsRUFBTXlSLFVBQVUsSUFBa0IxTSxFQUFJc1YsR0FBT2phLEVBQWdCMkUsRUFFM00sUUFBU3ljLEdBQXlCemMsRUFBSytRLEdBQVEsR0FBSStHLEtBQWEsS0FBSyxHQUFJaGMsS0FBS2tFLEdBQVcrUSxFQUFLMVcsUUFBUXlCLElBQU0sR0FBa0JsQixPQUFPQyxVQUFVQyxlQUFlaEIsS0FBS2tHLEVBQUtsRSxLQUFjZ2MsRUFBT2hjLEdBQUtrRSxFQUFJbEUsR0FBTSxPQUFPZ2MsR0FFbk4sUUFBU0UsR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSTVMLFdBQVUscUNBRWhILFFBQVM2TCxHQUEyQnJHLEVBQU1oWSxHQUFRLElBQUtnWSxFQUFRLEtBQU0sSUFBSXZGLGdCQUFlLDREQUFnRSxRQUFPelMsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QmdZLEVBQVBoWSxFQUVsTyxRQUFTc2UsR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJaE0sV0FBVSxpRUFBb0VnTSxHQUFlRCxHQUFTeGQsVUFBWUQsT0FBTzRSLE9BQU84TCxHQUFjQSxFQUFXemQsV0FBYTRSLGFBQWVwUixNQUFPZ2QsRUFBVW5kLFlBQVksRUFBT3dSLFVBQVUsRUFBTXpSLGNBQWMsS0FBZXFkLElBQVkxZCxPQUFPK1IsZUFBaUIvUixPQUFPK1IsZUFBZTBMLEVBQVVDLEdBQWNELEVBQVN6TCxVQUFZMEwsR0E1QmplMWQsT0FBT0ksZUFBZXlFLEVBQVMsY0FDM0JwRSxPQUFPLEdBR1gsSUFBSWljLEdBQVcxYyxPQUFPa1csUUFBVSxTQUFVZ0gsR0FBVSxJQUFLLEdBQUloYyxHQUFJLEVBQUdBLEVBQUlxSyxVQUFVcEssT0FBUUQsSUFBSyxDQUFFLEdBQUlpYyxHQUFTNVIsVUFBVXJLLEVBQUksS0FBSyxHQUFJd1osS0FBT3lDLEdBQWNuZCxPQUFPQyxVQUFVQyxlQUFlaEIsS0FBS2llLEVBQVF6QyxLQUFRd0MsRUFBT3hDLEdBQU95QyxFQUFPekMsSUFBWSxNQUFPd0MsSUFFblBTLEVBQWUsV0FBYyxRQUFTQyxHQUFpQlYsRUFBUTVLLEdBQVMsSUFBSyxHQUFJcFIsR0FBSSxFQUFHQSxFQUFJb1IsRUFBTW5SLE9BQVFELElBQUssQ0FBRSxHQUFJMmMsR0FBYXZMLEVBQU1wUixFQUFJMmMsR0FBV3ZkLFdBQWF1ZCxFQUFXdmQsYUFBYyxFQUFPdWQsRUFBV3hkLGNBQWUsRUFBVSxTQUFXd2QsS0FBWUEsRUFBVy9MLFVBQVcsR0FBTTlSLE9BQU9JLGVBQWU4YyxFQUFRVyxFQUFXbkQsSUFBS21ELElBQWlCLE1BQU8sVUFBVVAsRUFBYVEsRUFBWUMsR0FBaUosTUFBOUhELElBQVlGLEVBQWlCTixFQUFZcmQsVUFBVzZkLEdBQWlCQyxHQUFhSCxFQUFpQk4sRUFBYVMsR0FBcUJULE0wRzdwV2ppQi9YLEVBQUF0SSxFQUFBLEcxR2lxV0t1SSxFQUFVTCxFQUF1QkksRzBHaHFXdEN1YyxFQUFBN2tCLEVBQUEsSTFHb3FXSzhrQixFQUFlNWMsRUFBdUIyYyxHMEdscVdyQ2lyQixFMUdvcldNLFNBQVV4dEIsR0FHakIsUUFBU3d0QixLQUdMLE1BRkEzdkIsR0FBZ0JwWSxLQUFNK25DLEdBRWZ4dkIsRUFBMkJ2WSxNQUFPK25DLEVBQUsvNkIsV0FBYWhTLE9BQU9nWCxlQUFlKzFCLElBQU9uckMsTUFBTW9ELEtBQU11RyxZQThCeEcsTUFuQ0FpUyxHQUFVdXZCLEVBQU14dEIsR0FRaEI1QixFQUFhb3ZCLElBQ1RyeUIsSUFBSyxTQUNMamEsTUFBTyxXMEc3cldILEdBQUF1c0MsR0FBQXhxQixFQUN1Q3hkLEtBQUtzTixNQUExQzdSLEVBREYraEIsRUFDRS9oQixNQUFPMGlCLEVBRFRYLEVBQ1NXLEtBQU03QixFQURma0IsRUFDZWxCLFVBQWNlLEVBRDdCUixFQUFBVyxHQUFBLDZCQUVDeXFCLEdBQU0sRUFBQWxyQixFQUFBemMsVUFBQTBuQyxLQUFBOU4sRUFBQThOLEVBQ1AsYUFBZXZzQyxHQUFRLEdBRGhCeStCLEVBQUE4TixFQUFBLGdCQUVnQixVQUFUN3BCLEdBRlArYixFQUFBOE4sRUFHUDFyQixFQUFZQSxHQUhMMHJCLEdBTVosT0FBYyxZQUFWdnNDLEVBRUkrRSxFQUFBRixRQUFBekksY0FBQSxPQUFLeWtCLFVBQVUsbUJBRVAzVyxPQUFBeWhDLEVBQUk5Z0MsTUFBTSxNQUFLNlcsSUFBSSxTQUFDbGQsRUFBRy9ELEdBQ25CLE1BQ0lzRSxHQUFBRixRQUFBekksY0FBQSxPQUFLNmQsSUFBS3haLEVBQUdvZ0IsVUFBQSx1Q0FBa0RwZ0IsT0FTL0VzRSxFQUFBRixRQUFBekksY0FBQSxJQUFBNmYsS0FBTzJGLEdBQVFmLFVBQVcyckIsUzFHK3JXOUJGLEdBQ1R4bkMsRUFBT2dOLFUwRzNyV1Z3NkIsR0FBS3Y2QixXQUNEL1IsTUFBTytFLEVBQUFGLFFBQU02SCxVQUFVaVQsT0FDdkIrQyxLQUFNM2QsRUFBQUYsUUFBTTZILFVBQVVpVCxRQUcxQjJzQixFQUFLMTJCLGNBQ0Q1VixNQUFPLFVBQ1AwaUIsS0FBTSxTMUcrcldUdGUsRUFBUVMsUTBHN3JXTXluQyxHMUdpc1dULFNBQVMxcEMsRUFBUXdCLEVBQVM1SCxHQUUvQixHQUFJd3BCLEdBQThCQyxHMkdsdlduQyxTQUFBd21CLElBSUMsU0FBQUMsRUFBQUMsR0FDRCxZQUdBM21CLE1BQUFDLEVBQUEsV0FDQSxNQUFBMG1CLE1BQ0t4ckMsTUFBQWlELEVBQUE0aEIsS0FBQXpZLFNBQUEwWSxJQUFBcmpCLEVBQUF3QixRQUFBNmhCLEtBVUoxaEIsS0FBQSxTQUFBZ0osR0FDRCxZQXNCQSxTQUFBcS9CLEdBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLE9BQUFELEVBQ0FELEVBQUFydEMsVUFBQUQsT0FBQTRSLE9BQUEyN0IsRUFBQXR0QyxXQUNBNFIsYUFDQXBSLE1BQUE2c0MsRUFDQWh0QyxZQUFBLEVBQ0F3UixVQUFBLEVBQ0F6UixjQUFBLEtBS0EsUUFBQW90QyxHQUFBQyxFQUFBbGtDLEdBQ0F4SixPQUFBSSxlQUFBNEUsS0FBQSxRQUNBdkUsTUFBQWl0QyxFQUNBcHRDLFlBQUEsSUFFQWtKLEtBQUFySSxRQUNBbkIsT0FBQUksZUFBQTRFLEtBQUEsUUFDQXZFLE1BQUErSSxFQUNBbEosWUFBQSxJQUtBLFFBQUFxdEMsR0FBQW5rQyxFQUFBb2tDLEVBQUFudEMsR0FDQWt0QyxFQUFBSCxPQUFBdHVDLEtBQUE4RixLQUFBLElBQUF3RSxHQUNBeEosT0FBQUksZUFBQTRFLEtBQUEsT0FDQXZFLE1BQUFtdEMsRUFDQXR0QyxZQUFBLElBRUFOLE9BQUFJLGVBQUE0RSxLQUFBLE9BQ0F2RSxRQUNBSCxZQUFBLElBS0EsUUFBQXV0QyxHQUFBcmtDLEVBQUEvSSxHQUNBb3RDLEVBQUFMLE9BQUF0dUMsS0FBQThGLEtBQUEsSUFBQXdFLEdBQ0F4SixPQUFBSSxlQUFBNEUsS0FBQSxPQUNBdkUsUUFDQUgsWUFBQSxJQUtBLFFBQUF3dEMsR0FBQXRrQyxFQUFBL0ksR0FDQXF0QyxFQUFBTixPQUFBdHVDLEtBQUE4RixLQUFBLElBQUF3RSxHQUNBeEosT0FBQUksZUFBQTRFLEtBQUEsT0FDQXZFLFFBQ0FILFlBQUEsSUFLQSxRQUFBeXRDLEdBQUF2a0MsRUFBQXdhLEVBQUFqZ0IsR0FDQWdxQyxFQUFBUCxPQUFBdHVDLEtBQUE4RixLQUFBLElBQUF3RSxHQUNBeEosT0FBQUksZUFBQTRFLEtBQUEsU0FDQXZFLE1BQUF1akIsRUFDQTFqQixZQUFBLElBRUFOLE9BQUFJLGVBQUE0RSxLQUFBLFFBQ0F2RSxNQUFBc0QsRUFDQXpELFlBQUEsSUFLQSxRQUFBMHRDLEdBQUEzQixFQUFBM1AsRUFBQTFULEdBQ0EsR0FBQWlsQixHQUFBNUIsRUFBQTdvQyxPQUFBd2xCLEdBQUEwVCxHQUFBLEdBQUEyUCxFQUFBbHJDLE9BR0EsT0FGQWtyQyxHQUFBbHJDLE9BQUF1N0IsRUFBQSxFQUFBMlAsRUFBQWxyQyxPQUFBdTdCLElBQ0EyUCxFQUFBM3NDLEtBQUFrQyxNQUFBeXFDLEVBQUE0QixHQUNBNUIsRUFHQSxRQUFBNkIsR0FBQUMsR0FDQSxHQUFBcnhDLFNBQUFxeEMsRUFDQSxrQkFBQXJ4QyxFQUNBQSxFQUdBcXhDLElBQUF4Z0IsS0FDQSxPQUNLLE9BQUF3Z0IsRUFDTCxPQUNLN2lDLE1BQUFpUixRQUFBNHhCLEdBQ0wsUUFDSyxrQkFBQW51QyxPQUFBQyxVQUFBZ1gsU0FBQS9YLEtBQUFpdkMsR0FDTCxPQUNLLG1CQUFBQSxHQUFBbDNCLFVBQUEsVUFBQTBELEtBQUF3ekIsRUFBQWwzQixZQUNMLFNBRUEsU0FHQSxRQUFBbTNCLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFobEMsRUFBQWtSLEVBQUErekIsR0FDQWpsQyxPQUNBLElBQUFrbEMsR0FBQWxsQyxFQUFBaEcsTUFBQSxFQUNBLHVCQUFBa1gsR0FBQSxDQUNBLEdBQUE4ekIsRUFBQSxDQUNBLHlCQUFBQSxFQUFBRSxFQUFBaDBCLEdBQThFLE1BQzlFLHdCQUNBLEdBQUE4ekIseUJBQUFFLEVBQUFoMEIsR0FBNkUsTUFDN0UsSUFBQTh6QixFQUFBRyxVQUFBLENBQ0EsR0FBQUMsR0FBQUosRUFBQUcsVUFBQUQsRUFBQWgwQixFQUFBMnpCLEVBQUFDLEVBQ0FNLEtBQ0FQLEVBQUFPLEVBQUEsR0FDQU4sRUFBQU0sRUFBQSxNQUtBRixFQUFBaHZDLEtBQUFnYixHQUlBLFdBQUF3ekIsRUFBQUcsSUFBQSxXQUFBSCxFQUFBSSxLQUNBRCxJQUFBcDNCLFdBQ0FxM0IsSUFBQXIzQixXQUdBLElBQUE0M0IsU0FBQVIsR0FDQVMsUUFBQVIsRUFDQSxrQkFBQU8sRUFDQSxjQUFBQyxHQUNBUCxFQUFBLEdBQUFWLEdBQUFhLEVBQUFKLFFBRUssa0JBQUFRLEVBQ0xQLEVBQUEsR0FBQVQsR0FBQVksRUFBQUwsUUFDSyxJQUFBSCxFQUFBRyxLQUFBSCxFQUFBSSxHQUNMQyxFQUFBLEdBQUFaLEdBQUFlLEVBQUFMLEVBQUFDLFFBQ0ssc0JBQUF0dUMsT0FBQUMsVUFBQWdYLFNBQUEvWCxLQUFBbXZDLElBQUEsa0JBQUFydUMsT0FBQUMsVUFBQWdYLFNBQUEvWCxLQUFBb3ZDLElBQUFELEVBQUFDLElBQUEsRUFDTEMsRUFBQSxHQUFBWixHQUFBZSxFQUFBTCxFQUFBQyxRQUNLLGVBQUFPLEdBQUEsT0FBQVIsR0FBQSxPQUFBQyxHQUVMLEdBREFHLFFBQ0FBLEVBQUFodkMsUUFBQTR1QyxHQUFBLEdBRUEsR0FEQUksRUFBQS91QyxLQUFBMnVDLEdBQ0EvaUMsTUFBQWlSLFFBQUE4eEIsR0FBQSxDQUNBLEdBQUFudEMsRUFBQW10QyxHQUFBbHRDLE1BQ0EsS0FBQUQsRUFBQSxFQUFxQkEsRUFBQW10QyxFQUFBbHRDLE9BQWdCRCxJQUNyQ0EsR0FBQW90QyxFQUFBbnRDLE9BQ0FvdEMsRUFBQSxHQUFBUixHQUFBVyxFQUFBeHRDLEVBQUEsR0FBQTRzQyxHQUFBOS9CLEVBQUFxZ0MsRUFBQW50QyxNQUVBa3RDLEVBQUFDLEVBQUFudEMsR0FBQW90QyxFQUFBcHRDLEdBQUFxdEMsRUFBQUMsRUFBQUUsRUFBQXh0QyxFQUFBdXRDLEVBR0EsTUFBQXZ0QyxFQUFBb3RDLEVBQUFudEMsUUFDQW90QyxFQUFBLEdBQUFSLEdBQUFXLEVBQUF4dEMsRUFBQSxHQUFBMnNDLEdBQUE3L0IsRUFBQXNnQyxFQUFBcHRDLFlBRVMsQ0FDVCxHQUFBNnRDLEdBQUEvdUMsT0FBQW1XLEtBQUFrNEIsR0FDQVcsRUFBQWh2QyxPQUFBbVcsS0FBQW00QixFQUNBUyxHQUFBOXhCLFFBQUEsU0FBQWd5QixFQUFBL3RDLEdBQ0EsR0FBQWd1QyxHQUFBRixFQUFBdnZDLFFBQUF3dkMsRUFDQUMsSUFBQSxHQUNBZCxFQUFBQyxFQUFBWSxHQUFBWCxFQUFBVyxHQUFBVixFQUFBQyxFQUFBRSxFQUFBTyxFQUFBUixHQUNBTyxFQUFBaEIsRUFBQWdCLEVBQUFFLElBRUFkLEVBQUFDLEVBQUFZLEdBQUFqaEMsRUFBQXVnQyxFQUFBQyxFQUFBRSxFQUFBTyxFQUFBUixLQUdBTyxFQUFBL3hCLFFBQUEsU0FBQWd5QixHQUNBYixFQUFBcGdDLEVBQUFzZ0MsRUFBQVcsR0FBQVYsRUFBQUMsRUFBQUUsRUFBQU8sRUFBQVIsS0FHQUEsRUFBQXR0QyxPQUFBc3RDLEVBQUF0dEMsT0FBQSxPQUVLa3RDLEtBQUFDLElBQ0wsV0FBQU8sR0FBQU0sTUFBQWQsSUFBQWMsTUFBQWIsSUFDQUMsRUFBQSxHQUFBWixHQUFBZSxFQUFBTCxFQUFBQyxLQUtBLFFBQUFjLEdBQUFmLEVBQUFDLEVBQUFFLEVBQUFhLEdBU0EsTUFSQUEsU0FDQWpCLEVBQUFDLEVBQUFDLEVBQ0EsU0FBQWdCLEdBQ0FBLEdBQ0FELEVBQUEzdkMsS0FBQTR2QyxJQUdBZCxHQUNBYSxFQUFBLE9BQUFBLEVBQUFyaEMsRUFHQSxRQUFBdWhDLEdBQUFsRCxFQUFBcm9CLEVBQUF3ckIsR0FDQSxHQUFBQSxFQUFBaG1DLE1BQUFnbUMsRUFBQWhtQyxLQUFBckksT0FBQSxDQUNBLEdBQ0FELEdBREF1dUMsRUFBQXBELEVBQUFyb0IsR0FDQS9SLEVBQUF1OUIsRUFBQWhtQyxLQUFBckksT0FBQSxDQUNBLEtBQUFELEVBQUEsRUFBaUJBLEVBQUErUSxFQUFPL1EsSUFDeEJ1dUMsSUFBQUQsRUFBQWhtQyxLQUFBdEksR0FFQSxRQUFBc3VDLEVBQUE5QixNQUNBLFFBQ0E2QixFQUFBRSxFQUFBRCxFQUFBaG1DLEtBQUF0SSxJQUFBc3VDLEVBQUF4ckIsTUFBQXdyQixFQUFBenJDLEtBQ0EsTUFDQSxlQUNBMHJDLEdBQUFELEVBQUFobUMsS0FBQXRJLEdBQ0EsTUFDQSxTQUNBLFFBQ0F1dUMsRUFBQUQsRUFBQWhtQyxLQUFBdEksSUFBQXN1QyxFQUFBbEIsU0FJQSxRQUFBa0IsRUFBQTlCLE1BQ0EsUUFDQTZCLEVBQUFsRCxFQUFBcm9CLEdBQUF3ckIsRUFBQXhyQixNQUFBd3JCLEVBQUF6ckMsS0FDQSxNQUNBLFNBQ0Fzb0MsRUFBQTJCLEVBQUEzQixFQUFBcm9CLEVBQ0EsTUFDQSxTQUNBLFFBQ0Fxb0IsRUFBQXJvQixHQUFBd3JCLEVBQUFsQixJQUlBLE1BQUFqQyxHQUdBLFFBQUFxRCxHQUFBeHlCLEVBQUFDLEVBQUFxeUIsR0FDQSxHQUFBdHlCLEdBQUFDLEdBQUFxeUIsS0FBQTlCLEtBQUEsQ0FJQSxJQUhBLEdBQUErQixHQUFBdnlCLEVBQ0FoYyxHQUFBLEVBQ0F5dUMsRUFBQUgsRUFBQWhtQyxLQUFBZ21DLEVBQUFobUMsS0FBQXJJLE9BQUEsTUFDQUQsRUFBQXl1QyxHQUNBLG1CQUFBRixHQUFBRCxFQUFBaG1DLEtBQUF0SSxNQUNBdXVDLEVBQUFELEVBQUFobUMsS0FBQXRJLElBQUEsZ0JBQUFzdUMsR0FBQWhtQyxLQUFBdEksVUFFQXV1QyxJQUFBRCxFQUFBaG1DLEtBQUF0SSxHQUVBLFFBQUFzdUMsRUFBQTlCLE1BQ0EsUUFDQTZCLEVBQUFDLEVBQUFobUMsS0FBQWltQyxFQUFBRCxFQUFBaG1DLEtBQUF0SSxJQUFBdXVDLEVBQUFELEVBQUF4ckIsTUFBQXdyQixFQUFBenJDLEtBQ0EsTUFDQSxlQUNBMHJDLEdBQUFELEVBQUFobUMsS0FBQXRJLEdBQ0EsTUFDQSxTQUNBLFFBQ0F1dUMsRUFBQUQsRUFBQWhtQyxLQUFBdEksSUFBQXN1QyxFQUFBbEIsTUFNQSxRQUFBc0IsR0FBQXZELEVBQUFyb0IsRUFBQXdyQixHQUNBLEdBQUFBLEVBQUFobUMsTUFBQWdtQyxFQUFBaG1DLEtBQUFySSxPQUFBLENBRUEsR0FDQUQsR0FEQXV1QyxFQUFBcEQsRUFBQXJvQixHQUNBL1IsRUFBQXU5QixFQUFBaG1DLEtBQUFySSxPQUFBLENBQ0EsS0FBQUQsRUFBQSxFQUFpQkEsRUFBQStRLEVBQU8vUSxJQUN4QnV1QyxJQUFBRCxFQUFBaG1DLEtBQUF0SSxHQUVBLFFBQUFzdUMsRUFBQTlCLE1BQ0EsUUFDQWtDLEVBQUFILEVBQUFELEVBQUFobUMsS0FBQXRJLElBQUFzdUMsRUFBQXhyQixNQUFBd3JCLEVBQUF6ckMsS0FDQSxNQUNBLFNBQ0EwckMsRUFBQUQsRUFBQWhtQyxLQUFBdEksSUFBQXN1QyxFQUFBbkIsR0FDQSxNQUNBLFNBQ0FvQixFQUFBRCxFQUFBaG1DLEtBQUF0SSxJQUFBc3VDLEVBQUFuQixHQUNBLE1BQ0EsZUFDQW9CLEdBQUFELEVBQUFobUMsS0FBQXRJLFNBS0EsUUFBQXN1QyxFQUFBOUIsTUFDQSxRQUNBa0MsRUFBQXZELEVBQUFyb0IsR0FBQXdyQixFQUFBeHJCLE1BQUF3ckIsRUFBQXpyQyxLQUNBLE1BQ0EsU0FDQXNvQyxFQUFBcm9CLEdBQUF3ckIsRUFBQW5CLEdBQ0EsTUFDQSxTQUNBaEMsRUFBQXJvQixHQUFBd3JCLEVBQUFuQixHQUNBLE1BQ0EsU0FDQWhDLEVBQUEyQixFQUFBM0IsRUFBQXJvQixHQUlBLE1BQUFxb0IsR0FHQSxRQUFBd0QsR0FBQTN5QixFQUFBQyxFQUFBcXlCLEdBQ0EsR0FBQXR5QixHQUFBQyxHQUFBcXlCLEtBQUE5QixLQUFBLENBQ0EsR0FDQXhzQyxHQUFBK1EsRUFEQXc5QixFQUFBdnlCLENBR0EsS0FEQWpMLEVBQUF1OUIsRUFBQWhtQyxLQUFBckksT0FBQSxFQUNBRCxFQUFBLEVBQWlCQSxFQUFBK1EsRUFBTy9RLElBQ3hCLG1CQUFBdXVDLEdBQUFELEVBQUFobUMsS0FBQXRJLE1BQ0F1dUMsRUFBQUQsRUFBQWhtQyxLQUFBdEksUUFFQXV1QyxJQUFBRCxFQUFBaG1DLEtBQUF0SSxHQUVBLFFBQUFzdUMsRUFBQTlCLE1BQ0EsUUFHQWtDLEVBQUFILEVBQUFELEVBQUFobUMsS0FBQXRJLElBQUFzdUMsRUFBQXhyQixNQUFBd3JCLEVBQUF6ckMsS0FDQSxNQUNBLFNBRUEwckMsRUFBQUQsRUFBQWhtQyxLQUFBdEksSUFBQXN1QyxFQUFBbkIsR0FDQSxNQUNBLFNBRUFvQixFQUFBRCxFQUFBaG1DLEtBQUF0SSxJQUFBc3VDLEVBQUFuQixHQUNBLE1BQ0EsZUFFQW9CLEdBQUFELEVBQUFobUMsS0FBQXRJLE1BTUEsUUFBQTR1QyxHQUFBNXlCLEVBQUFDLEVBQUF3VyxHQUNBLEdBQUF6VyxHQUFBQyxFQUFBLENBQ0EsR0FBQTBsQixHQUFBLFNBQUEyTSxHQUNBN2IsTUFBQXpXLEVBQUFDLEVBQUFxeUIsSUFDQUUsRUFBQXh5QixFQUFBQyxFQUFBcXlCLEdBR0FwQixHQUFBbHhCLEVBQUFDLEVBQUEwbEIsSUEvVkEsR0FBQWtOLEdBQUFDLEVBQUFDLElBNllBLE9BM1lBRixHQURBLGdCQUFBN0MsTUFDQUEsRUFDRyxtQkFBQXRrQyxRQUNIQSxVQUlBb25DLEVBQUFELEVBQUFHLFNBQ0FGLEdBQ0FDLEVBQUF2d0MsS0FDQSxXQUNBLG1CQUFBc3dDLElBQUFELEVBQUFHLFdBQUFkLElBQ0FXLEVBQUFHLFNBQUFGLEVBQ0FBLEVBQUFoaUMsS0EwQ0FxL0IsRUFBQU0sRUFBQUYsR0FTQUosRUFBQVEsRUFBQUosR0FTQUosRUFBQVMsRUFBQUwsR0FhQUosRUFBQVUsRUFBQU4sR0E0UUF6dEMsT0FBQTRkLGlCQUFBd3hCLEdBRUFFLE1BQ0E3dUMsTUFBQTJ1QyxFQUNBOXVDLFlBQUEsR0FFQTZ2QyxnQkFDQTF2QyxNQUFBMnRDLEVBQ0E5dEMsWUFBQSxHQUVBd3ZDLFdBQ0FydkMsTUFBQXF2QyxFQUNBeHZDLFlBQUEsR0FFQW92QyxhQUNBanZDLE1BQUFpdkMsRUFDQXB2QyxZQUFBLEdBRUF1dkMsY0FDQXB2QyxNQUFBb3ZDLEVBQ0F2dkMsWUFBQSxHQUVBOHZDLFlBQ0EzdkMsTUFBQSxXQUNBLHlCQUFBdXZDLElBRUExdkMsWUFBQSxHQUVBK3ZDLFlBQ0E1dkMsTUFBQSxXQU9BLE1BTkF3dkMsS0FDQUEsRUFBQWh6QixRQUFBLFNBQUF3eUIsR0FDQUEsTUFFQVEsRUFBQSxNQUVBYixHQUVBOXVDLFlBQUEsS0FJQTh1QyxNM0dxdlc4Qmx3QyxLQUFLMkYsRUFBVSxXQUFhLE1BQU9HLFdBSTNELFNBQVMzQixFQUFRd0IsRUFBUzVILEc0R2hvWGhDLFFBQUFxekMsR0FBQTd2QyxHQUNBLGNBQUFBLEdBQUF1TixTQUFBdk4sRUFHQSxRQUFBOHZDLEdBQUF0ckMsR0FDQSxTQUFBQSxHQUFBLGdCQUFBQSxJQUFBLGdCQUFBQSxHQUFBOUQsVUFDQSxrQkFBQThELEdBQUF1ckMsTUFBQSxrQkFBQXZyQyxHQUFBekIsU0FHQXlCLEVBQUE5RCxPQUFBLG1CQUFBOEQsR0FBQSxLQUlBLFFBQUF3ckMsR0FBQTVzQyxFQUFBQyxFQUFBNHNDLEdBQ0EsR0FBQXh2QyxHQUFBd1osQ0FDQSxJQUFBNDFCLEVBQUF6c0MsSUFBQXlzQyxFQUFBeHNDLEdBQ0EsUUFFQSxJQUFBRCxFQUFBNUQsWUFBQTZELEVBQUE3RCxVQUFBLFFBR0EsSUFBQTB3QyxFQUFBOXNDLEdBQ0EsUUFBQThzQyxFQUFBN3NDLEtBR0FELEVBQUErc0MsRUFBQTF4QyxLQUFBMkUsR0FDQUMsRUFBQThzQyxFQUFBMXhDLEtBQUE0RSxHQUNBK3NDLEVBQUFodEMsRUFBQUMsRUFBQTRzQyxHQUVBLElBQUFILEVBQUExc0MsR0FBQSxDQUNBLElBQUEwc0MsRUFBQXpzQyxHQUNBLFFBRUEsSUFBQUQsRUFBQTFDLFNBQUEyQyxFQUFBM0MsT0FBQSxRQUNBLEtBQUFELEVBQUEsRUFBZUEsRUFBQTJDLEVBQUExQyxPQUFjRCxJQUM3QixHQUFBMkMsRUFBQTNDLEtBQUE0QyxFQUFBNUMsR0FBQSxRQUVBLFVBRUEsSUFDQSxHQUFBNHZDLEdBQUFDLEVBQUFsdEMsR0FDQW10QyxFQUFBRCxFQUFBanRDLEdBQ0csTUFBQXhGLEdBQ0gsU0FJQSxHQUFBd3lDLEVBQUEzdkMsUUFBQTZ2QyxFQUFBN3ZDLE9BQ0EsUUFLQSxLQUhBMnZDLEVBQUFHLE9BQ0FELEVBQUFDLE9BRUEvdkMsRUFBQTR2QyxFQUFBM3ZDLE9BQUEsRUFBeUJELEdBQUEsRUFBUUEsSUFDakMsR0FBQTR2QyxFQUFBNXZDLElBQUE4dkMsRUFBQTl2QyxHQUNBLFFBSUEsS0FBQUEsRUFBQTR2QyxFQUFBM3ZDLE9BQUEsRUFBeUJELEdBQUEsRUFBUUEsSUFFakMsR0FEQXdaLEVBQUFvMkIsRUFBQTV2QyxJQUNBMnZDLEVBQUFodEMsRUFBQTZXLEdBQUE1VyxFQUFBNFcsR0FBQWcyQixHQUFBLFFBRUEsY0FBQTdzQyxVQUFBQyxHQTVGQSxHQUFBOHNDLEdBQUF0bEMsTUFBQXJMLFVBQUF1RCxNQUNBdXRDLEVBQUE5ekMsRUFBQSxLQUNBMHpDLEVBQUExekMsRUFBQSxLQUVBNHpDLEVBQUF4dEMsRUFBQXdCLFFBQUEsU0FBQXFzQyxFQUFBQyxFQUFBVCxHQUdBLE1BRkFBLFdBRUFRLElBQUFDLElBR0dELFlBQUE5YSxPQUFBK2EsWUFBQS9hLE1BQ0g4YSxFQUFBNWEsWUFBQTZhLEVBQUE3YSxXQUlHNGEsSUFBQUMsR0FBQSxnQkFBQUQsSUFBQSxnQkFBQUMsR0FDSFQsRUFBQVUsT0FBQUYsSUFBQUMsRUFBQUQsR0FBQUMsRUFTQVYsRUFBQVMsRUFBQUMsRUFBQVQsTTVHd3VYTSxTQUFTcnRDLEVBQVF3QixHNkcxdlh2QixRQUFBd3NDLEdBQUFqMUIsR0FDQSw0QkFBQXBjLE9BQUFDLFVBQUFnWCxTQUFBL1gsS0FBQWtkLEdBSUEsUUFBQWsxQixHQUFBbDFCLEdBQ0EsTUFBQUEsSUFDQSxnQkFBQUEsSUFDQSxnQkFBQUEsR0FBQWpiLFFBQ0FuQixPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQWtkLEVBQUEsWUFDQXBjLE9BQUFDLFVBQUFzeEMscUJBQUFyeUMsS0FBQWtkLEVBQUEsWUFDQSxFQWxCQSxHQUFBbzFCLEdBRUMsc0JBRkQsV0FDQSxNQUFBeHhDLFFBQUFDLFVBQUFnWCxTQUFBL1gsS0FBQXFNLGFBR0ExRyxHQUFBeEIsRUFBQXdCLFFBQUEyc0MsRUFBQUgsRUFBQUMsRUFFQXpzQyxFQUFBd3NDLFlBS0F4c0MsRUFBQXlzQyxlN0dneFhNLFNBQVNqdUMsRUFBUXdCLEc4R3Z4WHZCLFFBQUE0c0MsR0FBQXJzQyxHQUNBLEdBQUErUSxLQUNBLFFBQUF1RSxLQUFBdFYsR0FBQStRLEVBQUF6VyxLQUFBZ2IsRUFDQSxPQUFBdkUsR0FQQXRSLEVBQUF4QixFQUFBd0IsUUFBQSxrQkFBQTdFLFFBQUFtVyxLQUNBblcsT0FBQW1XLEtBQUFzN0IsRUFFQTVzQyxFQUFBNHNDLFE5R3N5WFMsQ0FDQSxDQUVILFNBQVNwdUMsRUFBUXdCLEcrRzV5WHZCLFlBTUEsU0FBQW1zQixHQUFBQyxFQUFBQyxFQUFBNXpCLEdBT0EsUUFBQTZ6QixLQUVBLE1BREFDLElBQUEsRUFDQUMsT0FFQUMsS0FBQTNtQixPQUFBK21DLEVBQUF4eUMsS0FBQXFNLGlCQUlBak8sR0FBQXNFLE1BQUFvRCxLQUFBdUcsV0FHQSxRQUFBaWlCLEtBQ0EsSUFBQTRELElBSUFHLEdBQUEsR0FDQUYsR0FBQSxDQU9BLElBRkFBLEdBQUEsR0FFQUQsR0FBQUksRUFBQVAsR0FBQU0sR0FDQUEsR0FBQSxFQUNBTCxFQUFBaHlCLEtBQUE4RixLQUFBd3NCLElBQUFoRSxFQUFBMkQsRUFLQSxPQUZBRSxJQUFBLEVBRUFELE1BRUE5ekIsR0FBQXNFLE1BQUFvRCxLQUFBc3NCLFFBSUFFLEdBQUFQLEdBQUFNLElBQ0FILEdBQUEsRUFDQTl6QixPQTdDQSxHQUFBazBCLEdBQUEsRUFDQUosR0FBQSxFQUNBQyxHQUFBLEVBQ0FFLEdBQUEsRUFDQUQsRUFBQXRqQixNQTZDQXdmLEtBdERBM29CLEVBQUFRLFlBQUEsQ0FDQSxJQUFBcXNDLEdBQUFwbUMsTUFBQXJMLFVBQUF1RCxLQUNBcUIsR0FBQW1zQixhL0d1MlhNLFNBQVMzdEIsRUFBUXdCLEVBQVM1SCxJZ0gzMlhoQyxTQUFBa08sR0FBQSxZQU1BLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0E2QjdFLFFBQUF1c0MsS0FVQSxRQUFBM1osR0FBQTRaLEdBQ0EsSUFDQUEsS0FBQWhwQyxPQUFBVSxRQUFBbUssVUFDSyxNQUFBblYsR0FDTHN6QyxLQUdBLEdBQUFwb0MsR0FBQWd1QixFQUFBakgsZ0JBQ0FzaEIsRUFBQUQsRUFDQWwzQixFQUFBbTNCLEVBQUFuM0IsSUFFQWpILEVBQUF6RixNQUNBME0sR0FDQWpILEVBQUF5a0IsRUFBQWYsVUFBQXpjLElBRUFqSCxFQUFBLEtBQ0FpSCxFQUFBcFIsRUFBQXF0QixZQUVBbWIsR0FBQWxwQyxPQUFBVSxRQUFBaWlCLGFBQUE3TyxLQUE4RGsxQixHQUFpQmwzQixRQUFXLE1BRzFGLElBQUFoUyxHQUFBbWlCLEVBQUF2SyxVQUFBOVcsRUFFQSxPQUFBRixHQUFBOGhCLGVBQUExTyxLQUE2Q2hVLEdBQWErSyxVQUFlekYsT0FBQTBNLEdBR3pFLFFBQUFxM0IsR0FBQW5xQixHQUdBLFFBQUFvcUIsR0FBQS9oQixHQUNBamlCLFNBQUFpaUIsRUFBQXhjLE9BRUE0a0IsRUFBQUwsRUFBQS9ILEVBQUF4YyxRQUxBLEdBQUE0a0IsR0FBQXpRLEVBQUF5USxZQVVBLE9BRkFiLEdBQUF6SCxpQkFBQW5uQixPQUFBLFdBQUFvcEMsR0FFQSxXQUNBeGEsRUFBQXJILG9CQUFBdm5CLE9BQUEsV0FBQW9wQyxJQUlBLFFBQUExWixHQUFBNXZCLEdBQ0EsR0FBQTZ2QixHQUFBN3ZCLEVBQUE2dkIsU0FDQXp2QixFQUFBSixFQUFBSSxTQUNBeVgsRUFBQTdYLEVBQUE2WCxPQUNBQyxFQUFBOVgsRUFBQThYLEtBQ0EvTSxFQUFBL0ssRUFBQStLLE1BQ0EyTyxFQUFBMVosRUFBQTBaLE9BQ0ExSCxFQUFBaFMsRUFBQWdTLEdBRUEsSUFBQTBILElBQUFvVyxFQUFBbFYsSUFBQSxDQUVBNFUsRUFBQXJCLFVBQUFuYyxFQUFBakgsRUFFQSxJQUFBakssSUFBQSt1QixHQUFBLElBQUF6dkIsRUFBQXlYLEVBQUFDLEVBQ0FveEIsR0FDQWwzQixNQUdBLElBQUEwSCxJQUFBb1csRUFBQXBWLEtBQUEsQ0FDQSxHQUFBNnVCLEVBRUEsTUFEQXJwQyxRQUFBRixTQUFBTyxLQUFBTyxHQUNBLENBRUFaLFFBQUFVLFFBQUFnaUIsVUFBQXNtQixFQUFBLEtBQUFwb0MsT0FFSyxDQUVMLEdBQUF5b0MsRUFFQSxNQURBcnBDLFFBQUFGLFNBQUFrTyxRQUFBcE4sSUFDQSxDQUVBWixRQUFBVSxRQUFBaWlCLGFBQUFxbUIsRUFBQSxLQUFBcG9DLEtBY0EsUUFBQXNoQixHQUFBRyxHQUNBLE1BQUF5TixJQUFBd1osRUFBQUgsRUFBQXpvQyxHQUVBLElBQUFzdkIsR0FBQXR2QixFQUFBd2hCLGFBQUFHLEVBRUEsbUJBQ0EyTixJQUVBLE1BQUFGLEdBQUF3WixLQUlBLFFBQUF6cEMsR0FBQXdpQixHQUNBLE1BQUF5TixJQUFBd1osRUFBQUgsRUFBQXpvQyxHQUVBLElBQUFzdkIsR0FBQXR2QixFQUFBYixPQUFBd2lCLEVBRUEsbUJBQ0EyTixJQUVBLE1BQUFGLEdBQUF3WixLQUtBLFFBQUFwWixHQUFBL04sR0FDQSxNQUFBMk4sSUFBQXdaLEVBQUFILEVBQUF6b0MsSUFFQUEsRUFBQXd2Qix1QkFBQS9OLEdBSUEsUUFBQWdPLEdBQUFoTyxHQUNBemhCLEVBQUF5dkIseUJBQUFoTyxHQUVBLE1BQUEyTixHQUFBd1osSUFuSUEsR0FBQS91QyxHQUFBb0ksVUFBQXBLLFFBQUEsR0FBQTZNLFNBQUF6QyxVQUFBLE1BQXdFQSxVQUFBLEVBRXhFK3JCLEdBQUF6TixVQUFBN2IsT0FBQSxlQUFBN0MsRUFBQU0sSUFBQXNNLFNBQUF1TixFQUFBLDBDQUFBQSxFQUFBLFdBRUEsSUFBQTZzQixHQUFBaHZDLEVBQUFndkMsYUFFQUwsRUFBQXRhLEVBQUEvRyxrQkFDQXdoQixHQUFBSCxHQUFBSyxFQWdGQTdvQyxFQUFBMnZCLEVBQUEsUUFBQXZjLEtBQXlEdlosR0FDekQ2MEIscUJBQ0FNLG1CQUNBekIsVUFBQXFCLEVBQUFyQixhQUdBNkIsRUFBQSxFQUNBd1osRUFBQWxrQyxNQXdDQSxPQUFBME8sTUFBb0JwVCxHQUNwQndoQixlQUNBcmlCLFNBQ0Fxd0IseUJBQ0FDLDZCQTVLQWwwQixFQUFBUSxZQUFBLENBRUEsSUFBQXFYLEdBQUExYyxPQUFBa1csUUFBQSxTQUFBZ0gsR0FBbUQsT0FBQWhjLEdBQUEsRUFBZ0JBLEVBQUFxSyxVQUFBcEssT0FBc0JELElBQUEsQ0FBTyxHQUFBaWMsR0FBQTVSLFVBQUFySyxFQUEyQixRQUFBd1osS0FBQXlDLEdBQTBCbmQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFpZSxFQUFBekMsS0FBeUR3QyxFQUFBeEMsR0FBQXlDLEVBQUF6QyxJQUFpQyxNQUFBd0MsSUFJL091SSxFQUFBeG9CLEVBQUEsR0FFQXFvQixFQUFBbmdCLEVBQUFzZ0IsR0FFQStTLEVBQUF2N0IsRUFBQSxJQUVBNHRCLEVBQUE1dEIsRUFBQSxJQUVBcTZCLEVBQUFyNkIsRUFBQSxJQUVBdTZCLEVBQUF2NkIsRUFBQSxJQUVBaTdCLEVBQUFqN0IsRUFBQSxJQUVBaThCLEVBQUFqOEIsRUFBQSxJQUVBZzhCLEVBQUE5ekIsRUFBQSt6QixFQTBKQXIwQixHQUFBLFFBQUE4c0MsRUFDQXR1QyxFQUFBd0IsVUFBQSxVaEg4Mlg4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSWlIcmlZaEMsU0FBQWtPLEdBQUEsWUFNQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBVTdFLFFBQUFnbUIsS0FDQSxHQUFBMWlCLEdBQUE2QyxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsT0FBQUEsVUFBQSxHQUNBNlcsRUFBQTdXLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBaXRCLEVBQUFsVixJQUFBL1gsVUFBQSxHQUNBbVAsRUFBQW5QLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxRQUFBQSxVQUFBLEdBRUE2bUMsRUFBQTdtQyxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsUUFBQUEsVUFBQSxFQUVBLGlCQUFBN0MsT0FBQW1pQixFQUFBdkssVUFBQTVYLElBRUEsZ0JBQUEwWixLQUNBLGVBQUFqWCxFQUFBTSxJQUFBc00sU0FBQU4sRUFBQSwwR0FBa0l6SixPQUVsSXRGLEVBQUFnVSxLQUEwQmhVLEdBQWErSyxNQUFBMk8sSUFFdkNBLEVBQUExSCxHQUFBOGQsRUFBQWxWLElBQ0E1SSxFQUFBMDNCLEVBR0EsSUFBQXRwQyxHQUFBSixFQUFBSSxVQUFBLElBQ0F5WCxFQUFBN1gsRUFBQTZYLFFBQUEsR0FDQUMsRUFBQTlYLEVBQUE4WCxNQUFBLEdBQ0EvTSxFQUFBL0ssRUFBQStLLE9BQUEsSUFFQSxRQUNBM0ssV0FDQXlYLFNBQ0FDLE9BQ0EvTSxRQUNBMk8sU0FDQTFILE9BM0NBN1YsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBSS9PdkYsRUFBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsR0FFQTZnQixFQUFBdjdCLEVBQUEsSUFFQTR0QixFQUFBNXRCLEVBQUEsR0FtQ0E0SCxHQUFBLFFBQUF1bUIsRUFDQS9uQixFQUFBd0IsVUFBQSxVakh3aVk4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSWtIOWxZaEMsU0FBQWtPLEdBQUEsWUFNQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBa0I3RSxRQUFBaXRDLEdBQUFDLEdBQ0EsTUFBQUEsR0FBQTNlLE9BQUEsU0FBQTRlLEdBQ0EsTUFBQUEsR0FBQTkrQixRQUNHMGdCLE9BQUEsU0FBQXFlLEVBQUFELEdBRUgsTUFEQUMsR0FBQUQsRUFBQTczQixLQUFBNjNCLEVBQUE5K0IsTUFDQSsrQixPQUlBLFFBQUE3bEMsS0E0Q0EsUUFBQWtxQixHQUFBbmMsRUFBQWpILEdBQ0FnL0IsRUFBQS8zQixHQUFBakgsRUFHQSxRQUFBMGpCLEdBQUF6YyxHQUNBLE1BQUErM0IsR0FBQS8zQixHQUdBLFFBQUFzZCxLQUNBLEdBQUF1YSxHQUFBRCxFQUFBMVksR0FDQXJCLEVBQUFnYSxFQUFBaGEsU0FDQXp2QixFQUFBeXBDLEVBQUF6cEMsU0FDQXlYLEVBQUFneUIsRUFBQWh5QixPQUVBL1csR0FBQSt1QixHQUFBLElBQUF6dkIsR0FBQXlYLEdBQUEsSUFFQTdGLEVBQUExTSxPQUNBeUYsRUFBQXpGLE1BQ0F1a0MsR0FBQTczQixLQUNBQSxFQUFBNjNCLEVBQUE3M0IsSUFDQWpILEVBQUEwakIsRUFBQXpjLEtBRUFBLEVBQUFwUixFQUFBcXRCLFlBQ0FsakIsRUFBQSxLQUNBOCtCLEVBQUE3M0IsTUFHQSxJQUFBaFMsR0FBQW1pQixFQUFBdkssVUFBQTlXLEVBRUEsT0FBQUYsR0FBQThoQixlQUFBMU8sS0FBNkNoVSxHQUFhK0ssVUFBZXpGLE9BQUEwTSxHQUd6RSxRQUFBZzRCLEdBQUExaEMsR0FDQSxHQUFBZ1QsR0FBQTRWLEVBQUE1b0IsQ0FDQSxPQUFBZ1QsSUFBQSxHQUFBQSxFQUFBc3VCLEVBQUFueEMsT0FHQSxRQUFBOGYsR0FBQWpRLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUEwaEMsRUFBQTFoQyxHQUVBLFlBREEsZUFBQTdGLEVBQUFNLElBQUFzTSxTQUFBTixFQUFBLHVEQUFBekcsR0FBQWhELE9BSUE0ckIsSUFBQTVvQixDQUVBLElBQUEyaEMsR0FBQTNhLEdBR0ExdUIsR0FBQSt1QixhQUFBM2IsS0FBc0NpMkIsR0FBb0J2d0IsT0FBQW9XLEVBQUFsVixRQUkxRCxRQUFBZ1YsR0FBQTV2QixHQUNBLE9BQUFBLEVBQUEwWixRQUNBLElBQUFvVyxHQUFBcFYsS0FDQXdXLEdBQUEsRUFJQUEsRUFBQTBZLEVBQUFueEMsUUFBQW14QyxFQUFBN3dDLE9BQUFtNEIsR0FFQTBZLEVBQUE1eUMsS0FBQWdKLEdBQ0FtdUIsRUFBQW51QixFQUFBZ1MsSUFBQWhTLEVBQUErSyxNQUNBLE1BQ0EsS0FBQStrQixHQUFBblYsUUFDQWl2QixFQUFBMVksR0FBQWx4QixFQUNBbXVCLEVBQUFudUIsRUFBQWdTLElBQUFoUyxFQUFBK0ssUUE5R0EsR0FBQXRRLEdBQUFvSSxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsTUFBd0VBLFVBQUEsRUFFeEVELE9BQUFpUixRQUFBcFosR0FDQUEsR0FBZW12QyxRQUFBbnZDLEdBQ1osZ0JBQUFBLEtBQ0hBLEdBQWVtdkMsU0FBQW52QyxJQUdmLElBQUFtRyxHQUFBaXVCLEVBQUEsUUFBQTdhLEtBQXNEdlosR0FDdEQ2MEIscUJBQ0FNLG1CQUNBekIsWUFDQTVWLFFBR0EyeEIsRUFBQXp2QyxFQUNBbXZDLEVBQUFNLEVBQUFOLFFBQ0ExWSxFQUFBZ1osRUFBQWhaLE9BRUEsaUJBQUEwWSxHQUNBQSxNQUNHaG5DLE1BQUFpUixRQUFBKzFCLEtBQ0hBLEdBQUEsTUFHQUEsSUFBQW53QixJQUFBLFNBQUFvd0IsR0FDQSxHQUFBNzNCLEdBQUFwUixFQUFBcXRCLFdBRUEsdUJBQUE0YixJQUEyQ3pwQyxTQUFBeXBDLEVBQUE3M0IsT0FFM0MsZ0JBQUE2M0IsTUFBQTcxQixLQUE4RDYxQixHQUFVNzNCLGFBRXhFLGVBQUF2UCxFQUFBTSxJQUFBc00sU0FBQXVOLEVBQUEsb0RBQUFpdEIsR0FBQWp0QixFQUFBLGVBR0EsTUFBQXNVLEVBQ0FBLEVBQUEwWSxFQUFBbnhDLE9BQUEsRUFFQXk0QixHQUFBLEdBQUFBLEVBQUEwWSxFQUFBbnhDLE9BQUE2TSxPQUFBLGVBQUE3QyxFQUFBTSxJQUFBc00sU0FBQXVOLEVBQUEseURBQUFndEIsRUFBQW54QyxPQUFBeTRCLEdBQUF0VSxFQUFBLFdBR0EsSUFBQW10QixHQUFBSixFQUFBQyxFQTBFQSxPQUFBaHBDLEdBbkpBekUsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBSS9PdkYsRUFBQTFhLEVBQUEsR0FFQXdhLEVBQUF0UyxFQUFBd1MsR0FFQThOLEVBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQUVBb0YsRUFBQTV0QixFQUFBLElBRUF1N0IsRUFBQXY3QixFQUFBLElBRUF3NkIsRUFBQXg2QixFQUFBLElBRUFzNkIsRUFBQXB5QixFQUFBc3lCLEVBa0lBNXlCLEdBQUEsUUFBQThILEVBQ0F0SixFQUFBd0IsVUFBQSxVbEhpbVk4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixHbUgxdll2QixZQUVBLElBQUFndUMsSUFDQW5nQyxtQkFBQSxFQUNBc0QsY0FBQSxFQUNBSyxjQUFBLEVBQ0ExRCxhQUFBLEVBQ0EyRCxpQkFBQSxFQUNBQyxRQUFBLEVBQ0EvRCxXQUFBLEVBQ0ExVixNQUFBLEdBR0FnMkMsR0FDQS95QyxNQUFBLEVBQ0FvQixRQUFBLEVBQ0FsQixXQUFBLEVBQ0F1VyxRQUFBLEVBQ0FqTCxXQUFBLEVBQ0FrTCxPQUFBLEdBR0FzOEIsRUFBQSxrQkFBQS95QyxRQUFBMFcscUJBRUFyVCxHQUFBd0IsUUFBQSxTQUFBbXVDLEVBQUFDLEVBQUFDLEdBQ0EsbUJBQUFELEdBQUEsQ0FDQSxHQUFBOThCLEdBQUFuVyxPQUFBMlcsb0JBQUFzOEIsRUFHQUYsS0FDQTU4QixJQUFBeEwsT0FBQTNLLE9BQUEwVyxzQkFBQXU4QixJQUdBLFFBQUEveEMsR0FBQSxFQUF1QkEsRUFBQWlWLEVBQUFoVixTQUFpQkQsRUFDeEMsS0FBQTJ4QyxFQUFBMThCLEVBQUFqVixLQUFBNHhDLEVBQUEzOEIsRUFBQWpWLEtBQUFneUMsS0FBQS84QixFQUFBalYsS0FDQSxJQUNBOHhDLEVBQUE3OEIsRUFBQWpWLElBQUEreEMsRUFBQTk4QixFQUFBalYsSUFDaUIsTUFBQXlELEtBT2pCLE1BQUFxdUMsS25Ic3dZTSxTQUFTM3ZDLEVBQVF3QixFQUFTNUgsR29IdHpZaEMsWUFDQSxJQUFBazJDLEdBQUFsMkMsRUFBQSxJQUVBNEgsR0FBQXV1QyxRQUFBLFNBQUF2VixHQUNBLE1BQUFBLEdBQUEvVixNQUFBLGFBR0FqakIsRUFBQXpHLE1BQUEsU0FBQXkvQixHQUNBLHNCQUFBQSxPQUlBQSxJQUFBd1YsT0FBQXo4QixRQUFBLGdCQUVBaW5CLEVBSUFBLEVBQUEvVixNQUFBLEtBQUFxTSxPQUFBLFNBQUFtZixFQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUEzOEIsUUFBQSxXQUFBa1IsTUFBQSxLQUdBcE4sRUFBQTg0QixFQUFBQyxRQUNBQyxFQUFBRixFQUFBcnlDLE9BQUEsRUFBQXF5QyxFQUFBeHNCLEtBQUEsS0FBQWhaLE1BZ0JBLE9BZEEwTSxHQUFBaUssbUJBQUFqSyxHQUlBZzVCLEVBQUExbEMsU0FBQTBsQyxFQUFBLEtBQUEvdUIsbUJBQUErdUIsR0FFQUosRUFBQXB6QyxlQUFBd2EsR0FFR3BQLE1BQUFpUixRQUFBKzJCLEVBQUE1NEIsSUFDSDQ0QixFQUFBNTRCLEdBQUFoYixLQUFBZzBDLEdBRUFKLEVBQUE1NEIsSUFBQTQ0QixFQUFBNTRCLEdBQUFnNUIsR0FKQUosRUFBQTU0QixHQUFBZzVCLEVBT0FKLFlBSUF6dUMsRUFBQW1sQixVQUFBLFNBQUE1a0IsR0FDQSxNQUFBQSxHQUFBcEYsT0FBQW1XLEtBQUEvUSxHQUFBNnJDLE9BQUE5dUIsSUFBQSxTQUFBekgsR0FDQSxHQUFBZzVCLEdBQUF0dUMsRUFBQXNWLEVBRUEsT0FBQTFNLFVBQUEwbEMsRUFDQSxHQUdBLE9BQUFBLEVBQ0FoNUIsRUFHQXBQLE1BQUFpUixRQUFBbTNCLEdBQ0FBLEVBQUFsd0MsUUFBQXl0QyxPQUFBOXVCLElBQUEsU0FBQXd4QixHQUNBLE1BQUFSLEdBQUF6NEIsR0FBQSxJQUFBeTRCLEVBQUFRLEtBQ0kzc0IsS0FBQSxLQUdKbXNCLEVBQUF6NEIsR0FBQSxJQUFBeTRCLEVBQUFPLEtBQ0UvZixPQUFBLFNBQUExdUIsR0FDRixNQUFBQSxHQUFBOUQsT0FBQSxJQUNFNmxCLEtBQUEsVXBIOHpZSSxTQUFTM2pCLEVBQVF3QixFQUFTNUgsSXFIOTNZaEMsU0FBQWtPLEdBQUEsWUFVQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBUjdFUCxFQUFBUSxZQUFBLENBRUEsSUFBQThtQixHQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FFQTJGLEVBQUE3MEIsRUFBQSxJQU9BeVEsR0FFQXNJLGNBQ0ExTSxRQUFBd29CLEVBQUF4b0IsU0FHQXNxQyxtQkFBQTtBQUNBLGVBQUF6b0MsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSwrSUFDQU4sS0FBQXNFLFFBQUF0RSxLQUFBdTNCLFFBQUFqekIsU0FJQXpFLEdBQUFTLFFBQUFvSSxFQUNBckssRUFBQXdCLFVBQUEsVXJIaTRZOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEdzSGo2WWhDLFlBY0EsU0FBQWtJLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQVo3RVAsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9PM1gsRUFBQXRJLEVBQUEsR0FFQXVJLEVBQUFMLEVBQUFJLEdBRUFzdUMsRUFBQTUyQyxFQUFBLElBRUFxUixFQUFBbkosRUFBQTB1QyxHQU9BL2xDLEVBQUF0SSxFQUFBRixRQUFBZ25CLGFBQ0EzWixZQUFBLFlBQ0F4SixPQUFBLFdBQ0EsTUFBQTNELEdBQUFGLFFBQUF6SSxjQUFBeVIsRUFBQWhKLFFBQUFvWCxLQUFvRTFYLEtBQUFzTixPQUFlOHBCLG1CQUFBLE9BSW5GdjNCLEdBQUFTLFFBQUF3SSxFQUNBekssRUFBQXdCLFVBQUEsU3RIdTZZTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxJdUhsOFloQyxTQUFBa08sR0FBQSxZQXNCQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBcEI3RVAsRUFBQVEsWUFBQSxDQUVBLElBQUFFLEdBQUF0SSxFQUFBLEdBRUF1SSxFQUFBTCxFQUFBSSxHQUVBNG1CLEVBQUFsdkIsRUFBQSxHQUVBbXZCLEVBQUFqbkIsRUFBQWduQixHQUVBMUcsRUFBQXhvQixFQUFBLEdBRUFxb0IsRUFBQW5nQixFQUFBc2dCLEdBRUFxdUIsRUFBQTcyQyxFQUFBLElBRUErUixFQUFBN0osRUFBQTJ1QyxHQUVBaGlCLEVBQUE3MEIsRUFBQSxJQUlBb3ZCLEVBQUE3bUIsRUFBQUYsUUFBQTZILFVBQ0FpVCxFQUFBaU0sRUFBQWpNLE9BQ0FoRSxFQUFBaVEsRUFBQWpRLE9BTUF4TyxFQUFBcEksRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxnQkFHQThwQixTQUNBOWYsNEJBQUEsU0FBQWxLLEVBQUFzSyxHQUVBQSxFQUNBQSxFQUFBZzNCLFdBQUEva0MsRUFBQTFKLFFBQUFxWCw0QkFBQWxLLEdBRUEsZUFBQXRILEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEsc0ZBS0FrTixXQUNBd1csR0FBQTVJLEVBQUE5TyxXQUNBNFcsTUFBQTlMLEVBQ0EzSSxNQUFBMkksRUFDQXVnQixRQUFBN0ssRUFBQW5SLE1BQ0FoaEIsU0FBQW15QixFQUFBblIsT0FJQXhYLE9BQUEsV0FDQSxlQUFBZ0MsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXVOLEVBQUFoZ0IsVUFBQSw4RkFBQWdnQixFQUFBaGdCLFVBQUEsS0FJQVQsR0FBQVMsUUFBQXNJLEVBQ0F2SyxFQUFBd0IsVUFBQSxVdkhxOFk4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSXdIdmdaaEMsU0FBQWtPLEdBQUEsWUFvQkEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQWxCN0VQLEVBQUFRLFlBQUEsQ0FFQSxJQUFBRSxHQUFBdEksRUFBQSxHQUVBdUksRUFBQUwsRUFBQUksR0FFQTRtQixFQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FFQTFHLEVBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQUVBeFgsRUFBQWhSLEVBQUEsSUFFQTYwQixFQUFBNzBCLEVBQUEsSUFJQW9VLEVBQUE3TCxFQUFBRixRQUFBNkgsVUFBQWtFLEtBT0ExSCxFQUFBbkUsRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxhQUdBOHBCLFNBQ0E5Ziw0QkFBQSxTQUFBbEssRUFBQXNLLEdBRUFBLEVBQ0FBLEVBQUFnM0IsWUFBQSxFQUFBOWxDLEVBQUEwTyw2QkFBQWxLLEdBRUEsZUFBQXRILEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEsbUZBS0FrTixXQUNBaEosS0FBQXNvQixFQUFBblIsTUFDQWxYLFVBQUFxb0IsRUFBQXJvQixVQUNBcVgsV0FBQWdSLEVBQUFoUixXQUNBa3pCLGFBQUEzaUMsRUFDQTRpQyxjQUFBNWlDLEdBSUFsSSxPQUFBLFdBQ0EsZUFBQWdDLEVBQUFNLElBQUFzTSxVQUFBLEVBQUF1TixFQUFBaGdCLFVBQUEsMkZBQUFnZ0IsRUFBQWhnQixVQUFBLEtBSUFULEdBQUFTLFFBQUFxRSxFQUNBdEcsRUFBQXdCLFVBQUEsVXhIMGdaOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEl5SHprWmhDLFNBQUFrTyxHQUFBLFlBZ0JBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FkN0VQLEVBQUFRLFlBQUEsQ0FFQSxJQUFBOG1CLEdBQUFsdkIsRUFBQSxHQUVBbXZCLEVBQUFqbkIsRUFBQWduQixHQUVBNW1CLEVBQUF0SSxFQUFBLEdBRUF1SSxFQUFBTCxFQUFBSSxHQUVBa2dCLEVBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQUlBckosRUFBQTVXLEVBQUFGLFFBQUE2SCxVQUFBaVAsT0FrQkEzTyxHQUVBdUksY0FDQTFNLFFBQUE4UyxFQUFBOUssV0FJQXNMLE1BQUFSLEdBR0E1SixXQUVBb0ssTUFBQVIsR0FHQWhILGtCQUFBLFdBQ0EsZUFBQWpLLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEsa0pBQ0FOLEtBQUEyOUIsZ0JBQUEsc0JBQUF4M0IsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXVOLEVBQUFoZ0IsVUFBQSw0RUFBQWdnQixFQUFBaGdCLFVBQUEsRUFFQSxJQUFBc1gsR0FBQTVYLEtBQUFzTixNQUFBc0ssT0FBQTVYLEtBQUF1M0IsUUFBQTNmLEtBRUFBLEdBQUEsc0JBQUF6UixFQUFBTSxJQUFBc00sVUFBQSxFQUFBdU4sRUFBQWhnQixVQUFBLHFKQUFBZ2dCLEVBQUFoZ0IsVUFBQSxHQUVBTixLQUFBa3ZDLDRCQUFBbHZDLEtBQUF1M0IsUUFBQWp6QixRQUFBbWpCLHlCQUFBN1AsRUFBQTVYLEtBQUEyOUIsa0JBRUFydEIscUJBQUEsV0FDQXRRLEtBQUFrdkMsNkJBQUFsdkMsS0FBQWt2QywrQkFJQXJ2QyxHQUFBUyxRQUFBbUksRUFDQXBLLEVBQUF3QixVQUFBLFV6SDRrWjhCM0YsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxJMEhucFpoQyxTQUFBa08sR0FBQSxZQWdCQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBZDdFUCxFQUFBUSxZQUFBLENBRUEsSUFBQUUsR0FBQXRJLEVBQUEsR0FFQXVJLEVBQUFMLEVBQUFJLEdBRUFrZ0IsRUFBQXhvQixFQUFBLEdBRUFxb0IsRUFBQW5nQixFQUFBc2dCLEdBRUF4WCxFQUFBaFIsRUFBQSxJQUVBNjBCLEVBQUE3MEIsRUFBQSxJQUlBb3ZCLEVBQUE3bUIsRUFBQUYsUUFBQTZILFVBQ0FpVCxFQUFBaU0sRUFBQWpNLE9BQ0EvTyxFQUFBZ2IsRUFBQWhiLEtBYUE5SCxFQUFBL0QsRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxRQUdBOHBCLFNBQ0E5Ziw0QkFBQTFPLEVBQUEwTyw2QkFHQW5LLFdBQ0FoSixLQUFBNFcsRUFDQTNXLFVBQUFxb0IsRUFBQXJvQixVQUNBcVgsV0FBQWdSLEVBQUFoUixXQUNBa3pCLGFBQUEzaUMsRUFDQTRpQyxjQUFBNWlDLEdBSUFsSSxPQUFBLFdBQ0EsZUFBQWdDLEVBQUFNLElBQUFzTSxVQUFBLEVBQUF1TixFQUFBaGdCLFVBQUEsc0ZBQUFnZ0IsRUFBQWhnQixVQUFBLEtBSUFULEdBQUFTLFFBQUFpRSxFQUNBbEcsRUFBQXdCLFVBQUEsVTFIc3BaOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEkySGx0WmhDLFNBQUFrTyxHQUFBLFlBWUEsU0FBQWhHLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQVY3RVAsRUFBQVEsWUFBQSxDQUVBLElBQUE4bUIsR0FBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEdBRUE1bUIsRUFBQXRJLEVBQUEsR0FFQXVJLEVBQUFMLEVBQUFJLEdBSUE2VyxFQUFBNVcsRUFBQUYsUUFBQTZILFVBQUFpUCxPQVNBNU8sR0FFQWdGLFdBQ0FvSyxNQUFBUixFQUFBOUssWUFHQW9CLG1CQUNBa0ssTUFBQVIsRUFBQTlLLFlBR0FhLGdCQUFBLFdBQ0EsT0FDQXlLLE1BQUE1WCxLQUFBc04sTUFBQXNLLFFBR0FnM0IsbUJBQUEsV0FDQSxlQUFBem9DLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEseUtBSUFULEdBQUFTLFFBQUFrSSxFQUNBbkssRUFBQXdCLFVBQUEsVTNIcXRaOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEk0SHJ3WmhDLFNBQUFrTyxHQUFBLFlBd0NBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQXljLEdBQUF6YyxFQUFBK1EsR0FBOEMsR0FBQStHLEtBQWlCLFFBQUFoYyxLQUFBa0UsR0FBcUIrUSxFQUFBMVcsUUFBQXlCLElBQUEsR0FBb0NsQixPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQWtHLEVBQUFsRSxLQUE2RGdjLEVBQUFoYyxHQUFBa0UsRUFBQWxFLEdBQXNCLE9BQUFnYyxHQUUzTSxRQUFBaTNCLEdBQUE3cUMsR0FDQSxPQUFBQSxNQUFBK3pCLGtCQUlBLFFBQUErVyxHQUFBOXFDLEdBRUEsTUFBQUEsTUFBQTB1QixtQkFqREFuekIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9PbTNCLEVBQUFwM0MsRUFBQSxJQUVBcTNDLEVBQUFudkMsRUFBQWt2QyxHQUVBL1csRUFBQXJnQyxFQUFBLElBRUFrZ0MsRUFBQWg0QixFQUFBbTRCLEdBRUE3WCxFQUFBeG9CLEVBQUEsR0FFQXFvQixFQUFBbmdCLEVBQUFzZ0IsR0FFQWxnQixFQUFBdEksRUFBQSxHQUVBdUksRUFBQUwsRUFBQUksR0FFQWd2QyxFQUFBdDNDLEVBQUEsSUFFQXUzQyxFQUFBcnZDLEVBQUFvdkMsR0FFQXppQixFQUFBNzBCLEVBQUEsSUFFQXczQyxFQUFBeDNDLEVBQUEsSUFFQTJTLEVBQUF6SyxFQUFBc3ZDLEdBRUF4bUMsRUFBQWhSLEVBQUEsSUFFQXkzQyxFQUFBejNDLEVBQUEsSUFFQWt2QixFQUFBbHZCLEVBQUEsR0FFQW12QixFQUFBam5CLEVBQUFnbkIsR0FnQkFFLEVBQUE3bUIsRUFBQUYsUUFBQTZILFVBQ0FrRSxFQUFBZ2IsRUFBQWhiLEtBQ0ErSyxFQUFBaVEsRUFBQWpRLE9BUUEvUyxFQUFBN0QsRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxTQUdBSCxXQUNBbEosUUFBQThTLEVBQ0F6YyxTQUFBbXlCLEVBQUE5VSxPQUNBQSxPQUFBOFUsRUFBQTlVLE9BQ0E3VCxPQUFBa0ksRUFDQXhVLGNBQUF3VSxFQUNBc2pDLFFBQUF0akMsRUFDQXVqQyxTQUFBdmpDLEVBR0FnWixpQkFBQWhaLEVBQ0F1WixlQUFBdlosRUFHQXdqQyxhQUFBejRCLEdBR0E5RixnQkFBQSxXQUNBLE9BQ0FuTixPQUFBLFNBQUFtSixHQUNBLE1BQUE5TSxHQUFBRixRQUFBekksY0FBQStTLEVBQUF0SyxRQUFBZ04sTUFJQXdpQyxnQkFBQSxXQUNBLE9BQ0Fwc0MsU0FBQSxLQUNBc1UsT0FBQSxLQUNBOEgsT0FBQSxLQUNBaEUsV0FBQSxPQUdBaTBCLFlBQUEsU0FBQXB3QyxHQUNBLElBQUFLLEtBQUFzTixNQUFBcWlDLFFBSUEsS0FBQWh3QyxFQUhBSyxNQUFBc04sTUFBQXFpQyxRQUFBejFDLEtBQUE4RixLQUFBTCxJQU1BaXZDLG1CQUFBLFdBQ0EsR0FBQXAxQixHQUFBeFosS0FFQXdkLEVBQUF4ZCxLQUFBc04sTUFDQStYLEVBQUE3SCxFQUFBNkgsaUJBQ0FPLEVBQUFwSSxFQUFBb0ksY0FFQSxnQkFBQXpmLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFdBQUEra0IsR0FBQU8sR0FBQSx5SUFFQSxJQUFBb3FCLEdBQUFod0MsS0FBQWl3QyxzQkFFQTNyQyxFQUFBMHJDLEVBQUExckMsUUFDQTB6QixFQUFBZ1ksRUFBQWhZLGtCQUNBelEsRUFBQXlvQixFQUFBem9CLE1BR0F2bkIsTUFBQWt3QyxVQUFBbFksRUFBQXYwQixPQUFBLFNBQUE5RCxFQUFBOE8sR0FDQTlPLEVBQ0E2WixFQUFBdTJCLFlBQUFwd0MsR0FFQTZaLEVBQUE5SSxTQUFBakMsRUFBQStLLEVBQUFsTSxNQUFBc2lDLFlBSUE1dkMsS0FBQXNFLFVBQ0F0RSxLQUFBdW5CLFVBRUEwb0Isb0JBQUEsV0FDQSxHQUFBSixHQUFBN3ZDLEtBQUFzTixNQUFBdWlDLFlBRUEsSUFBQUEsRUFDQSxNQUFBQSxFQUdBLElBQUF2ckMsR0FBQXRFLEtBQUFzTixNQUFBaEosUUFDQW9qQixFQUFBMW5CLEtBQUFzTixNQUNBMEssRUFBQTBQLEVBQUExUCxPQUNBcmQsRUFBQStzQixFQUFBL3NCLFFBR0F5MEMsR0FBQTlxQyxHQUFBLGVBQUE2QixFQUFBTSxJQUFBc00sVUFBQSxFQUFBdU4sRUFBQWhnQixVQUFBLCtLQUFBZ2dCLEVBQUFoZ0IsVUFBQSxVQUVBNnVDLEVBQUE3cUMsS0FDQUEsRUFBQXRFLEtBQUFtd0Msc0JBQUE3ckMsR0FHQSxJQUFBMHpCLElBQUEsRUFBQXdYLEVBQUFsdkMsU0FBQWdFLEdBQUEsRUFBQTJFLEVBQUFYLGNBQUEwUCxHQUFBcmQsSUFDQTRzQixHQUFBLEVBQUFtb0IsRUFBQTNYLG9CQUFBenpCLEVBQUEwekIsR0FDQW9ZLEdBQUEsRUFBQVYsRUFBQXpYLHNCQUFBM3pCLEVBQUEwekIsRUFFQSxRQUFZMXpCLFFBQUE4ckMsRUFBQXBZLG9CQUFBelEsV0FFWjRvQixzQkFBQSxTQUFBN3JDLEdBQ0EsR0FBQStyQyxHQUFBcndDLEtBQUFzTixNQUNBK1gsRUFBQWdyQixFQUFBaHJCLGlCQUNBTyxFQUFBeXFCLEVBQUF6cUIsZUFHQVQsRUFBQSxNQVdBLE9BVkE3Z0IsSUFDQSxlQUFBNkIsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSxrV0FBZ1MsT0FDaFM2a0IsRUFBQSxXQUNBLE1BQUE3Z0IsTUFHQSxlQUFBNkIsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSwrSkFDQTZrQixFQUFBbXFCLEVBQUFodkMsVUFHQSxFQUFBNjNCLEVBQUE3M0IsU0FBQTZrQixJQUFxREUsbUJBQUFPLG9CQUtyRHZWLDBCQUFBLFNBQUEwckIsR0FDQSxlQUFBNTFCLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFNBQUF5N0IsRUFBQXozQixVQUFBdEUsS0FBQXNOLE1BQUFoSixRQUFBLDBEQUF1SixPQUV2SixlQUFBNkIsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQXk3QixFQUFBL2pCLFFBQUErakIsRUFBQXBoQyxhQUFBcUYsS0FBQXNOLE1BQUEwSyxRQUFBaFksS0FBQXNOLE1BQUEzUyxVQUFBLHlEQUFxTSxRQUVyTTJWLHFCQUFBLFdBQ0F0USxLQUFBa3dDLFdBQUFsd0MsS0FBQWt3QyxhQUVBL3JDLE9BQUEsUUFBQUEsS0FDQSxHQUFBbXNDLEdBQUF0d0MsS0FBQXlPLE1BQ0EvSyxFQUFBNHNDLEVBQUE1c0MsU0FDQXNVLEVBQUFzNEIsRUFBQXQ0QixPQUNBOEgsRUFBQXd3QixFQUFBeHdCLE9BQ0FoRSxFQUFBdzBCLEVBQUF4MEIsV0FDQXkwQixFQUFBdndDLEtBQUFzTixNQUNBelYsRUFBQTA0QyxFQUFBMTRDLGNBQ0FzTSxFQUFBb3NDLEVBQUFwc0MsT0FFQW1KLEVBQUF1UCxFQUFBMHpCLEdBQUEsMEJBRUEsY0FBQTdzQyxFQUFBLE1BSUExSSxPQUFBbVcsS0FBQTlNLEVBQUFtSixXQUFBeUssUUFBQSxTQUFBaVYsR0FDQSxhQUFBNWYsR0FBQTRmLEtBR0Evb0IsRUFBQXVULEtBQTZCcEssR0FDN0JoSixRQUFBdEUsS0FBQXNFLFFBQ0FpakIsT0FBQXZuQixLQUFBdW5CLE9BQ0E3akIsV0FDQXNVLFNBQ0E4SCxTQUNBaEUsYUFDQWprQixzQkFLQWdJLEdBQUFTLFFBQUErRCxFQUNBaEcsRUFBQXdCLFVBQUEsVTVId3daOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEk2SDMrWmhDLFNBQUFrTyxHQUFBLFlBZ0JBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FkN0VQLEVBQUFRLFlBQUEsQ0FFQSxJQUFBRSxHQUFBdEksRUFBQSxHQUVBdUksRUFBQUwsRUFBQUksR0FFQWt2QyxFQUFBeDNDLEVBQUEsSUFFQTJTLEVBQUF6SyxFQUFBc3ZDLEdBRUF0b0IsRUFBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEdBSUEvZSxFQUFBNUgsRUFBQUYsUUFBQWduQixhQUNBM1osWUFBQSxpQkFDQWloQyxtQkFBQSxXQUNBLGVBQUF6b0MsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSwwSkFBMkssUUFFM0s2RCxPQUFBLFdBQ0EsTUFBQTNELEdBQUFGLFFBQUF6SSxjQUFBK1MsRUFBQXRLLFFBQUFOLEtBQUFzTixTQUlBek4sR0FBQVMsUUFBQThILEVBQ0EvSixFQUFBd0IsVUFBQSxVN0g4K1o4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsSThIL2dhaEMsU0FBQWtPLEdBQUEsWUFhQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBRTdFLFFBQUFvd0MsR0FBQXpxQixFQUFBbk8sRUFBQTY0QixHQUNBLGtCQUNBLE9BQUFsK0IsR0FBQWhNLFVBQUFwSyxPQUFBa0ssRUFBQUMsTUFBQWlNLEdBQUFDLEVBQUEsRUFBbUVBLEVBQUFELEVBQWFDLElBQ2hGbk0sRUFBQW1NLEdBQUFqTSxVQUFBaU0sRUFLQSxJQUZBdVQsRUFBQW5wQixNQUFBZ2IsRUFBQXZSLEdBRUEwZixFQUFBNXBCLE9BQUFzMEMsRUFBQSxDQUNBLEdBQUFuNEMsR0FBQStOLElBQUFsSyxPQUFBLEVBR0E3RCxPQUtBLFFBQUFvNEMsR0FBQTE0QixHQUNBLE1BQUFBLEdBQUFtWCxPQUFBLFNBQUFDLEVBQUF4WCxHQUdBLE1BRkFBLEdBQUErZixTQUFBdkksRUFBQTEwQixLQUFBODFDLEVBQUE1NEIsRUFBQStmLFFBQUEvZixFQUFBLElBRUF3WCxPQUlBLFFBQUF1aEIsR0FBQTM0QixHQUNBLE1BQUFBLEdBQUFtWCxPQUFBLFNBQUFDLEVBQUF4WCxHQUVBLE1BREFBLEdBQUFpbUIsVUFBQXpPLEVBQUExMEIsS0FBQTgxQyxFQUFBNTRCLEVBQUFpbUIsU0FBQWptQixFQUFBLElBQ0F3WCxPQUlBLFFBQUF3aEIsR0FBQXowQyxFQUFBMDBDLEVBQUF2NEMsR0FPQSxRQUFBc1osR0FBQWxPLEVBQUFvdEMsRUFBQUMsR0FDQSxNQUFBRCxJQUNBLGVBQUEzcUMsRUFBQU0sSUFBQXNNLFVBQUEsRUFBQXFVLEVBQUE5bUIsVUFBQSwrSkFBdUksWUFDdkkydEIsR0FDQW5xQixTQUFBZ3RDLEVBQ0E1dEIsTUFBQTZ0QixFQUNBdGlDLE1BQUEvSyxVQU1BdXFCLEVBQUF2cUIsR0FsQkEsSUFBQXZILEVBRUEsV0FEQTdELElBSUEsSUFBQTIxQixHQUFBLFFBZ0JBLEVBQUErRyxFQUFBaEosV0FBQTd2QixFQUFBLFNBQUE2aUIsRUFBQXdKLEVBQUEyRCxHQUNBMGtCLEVBQUE3eEIsRUFBQXBOLEVBQUEsU0FBQWpTLEdBQ0FBLEdBQUFzdUIsRUFDQTlCLEVBQUF4c0IsRUFBQXN1QixHQUVBekYsT0FHR2x3QixHQWFILFFBQUF3MkIsR0FBQTlXLEVBQUErVixFQUFBejFCLEdBQ0EsR0FBQTgyQixHQUFBc2hCLEVBQUExNEIsRUFDQSxPQUFBNDRCLEdBQUF4aEIsRUFBQWp6QixPQUFBLFNBQUE2aUIsRUFBQXBOLEVBQUE0VyxHQUNBNEcsRUFBQXBRLEdBQUErTyxFQUFBbmMsRUFBQTRXLElBQ0dsd0IsR0FhSCxRQUFBdTJCLEdBQUE3VyxFQUFBdkosRUFBQXNmLEVBQUF6MUIsR0FDQSxHQUFBODJCLEdBQUF1aEIsRUFBQTM0QixFQUNBLE9BQUE0NEIsR0FBQXhoQixFQUFBanpCLE9BQUEsU0FBQTZpQixFQUFBcE4sRUFBQTRXLEdBQ0E0RyxFQUFBcFEsR0FBQXZRLEVBQUFzZixFQUFBbmMsRUFBQTRXLElBQ0dsd0IsR0FNSCxRQUFBbzJCLEdBQUExVyxFQUFBZzVCLEdBQ0EsT0FBQTkwQyxHQUFBLEVBQUE0SixFQUFBa1MsRUFBQTdiLE9BQXNDRCxFQUFBNEosSUFBUzVKLEVBQy9DOGIsRUFBQTliLEdBQUErMEMsU0FBQWo1QixFQUFBOWIsR0FBQSswQyxRQUFBLzJDLEtBQUE4ZCxFQUFBOWIsR0FBQTgwQyxHQXJIQW54QyxFQUFBUSxZQUFBLEVBQ0FSLEVBQUFpdkIsZ0JBQ0FqdkIsRUFBQWd2QixpQkFDQWh2QixFQUFBNnVCLGVBRUEsSUFBQXNHLEdBQUEvOEIsRUFBQSxJQUVBa3ZCLEVBQUFsdkIsRUFBQSxHQUVBbXZCLEVBQUFqbkIsRUFBQWduQixLOUhnb2E4Qmp0QixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEkrSC9vYWhDLFNBQUFrTyxHQUFBLFlBa0JBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FoQjdFUCxFQUFBUSxZQUFBLENBRUEsSUFBQXFYLEdBQUExYyxPQUFBa1csUUFBQSxTQUFBZ0gsR0FBbUQsT0FBQWhjLEdBQUEsRUFBZ0JBLEVBQUFxSyxVQUFBcEssT0FBc0JELElBQUEsQ0FBTyxHQUFBaWMsR0FBQTVSLFVBQUFySyxFQUEyQixRQUFBd1osS0FBQXlDLEdBQTBCbmQsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFpZSxFQUFBekMsS0FBeUR3QyxFQUFBeEMsR0FBQXlDLEVBQUF6QyxJQUFpQyxNQUFBd0MsSUFFL08zWCxFQUFBdEksRUFBQSxHQUVBdUksRUFBQUwsRUFBQUksR0FFQWt2QyxFQUFBeDNDLEVBQUEsSUFFQTJTLEVBQUF6SyxFQUFBc3ZDLEdBRUF0b0IsRUFBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEVBSUF0bkIsR0FBQVMsUUFBQSxXQUNBLE9BQUFpUyxHQUFBaE0sVUFBQXBLLE9BQUErMEMsRUFBQTVxQyxNQUFBaU0sR0FBQUMsRUFBQSxFQUF3RUEsRUFBQUQsRUFBYUMsSUFDckYwK0IsRUFBQTErQixHQUFBak0sVUFBQWlNLEVBR0EsZ0JBQUFyTSxFQUFBTSxJQUFBc00sVUFDQW0rQixFQUFBajVCLFFBQUEsU0FBQWs1QixFQUFBbnlCLEdBQ0EsZUFBQTdZLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFNBQUE2d0MsRUFBQUMscUJBQUFELEVBQUFFLHFCQUFBLHFDQUFBcnlCLEVBQUEsbUVBSUEsSUFBQXN5QixHQUFBSixFQUFBL3pCLElBQUEsU0FBQWcwQixHQUNBLE1BQUFBLEdBQUFDLHNCQUNHemlCLE9BQUE0aUIsU0FDSEMsRUFBQU4sRUFBQS96QixJQUFBLFNBQUFnMEIsR0FDQSxNQUFBQSxHQUFBRSx1QkFDRzFpQixPQUFBNGlCLFNBRUhFLEVBQUEsV0FDQSxHQUFBQyxHQUFBbnJDLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxHQUFBaEcsRUFBQTFJLGNBQUEwTyxVQUFBLEVBQ0EsaUJBQUFnSCxFQUFBRCxHQUNBLE1BQUFra0MsR0FBQTdwQixZQUFBLFNBQUFpVyxFQUFBeVQsR0FDQSxNQUFBQSxHQUFBelQsRUFBQXR3QixJQUNPb2tDLEVBQUFua0MsRUFBQUQsS0FJUCxpQkFBQXFrQyxHQUNBLE1BQUFMLEdBQUEzcEIsWUFBQSxTQUFBaVcsRUFBQXdULEdBQ0EsTUFBQUEsR0FBQXhULEVBQUErVCxJQUNLbnhDLEVBQUFGLFFBQUF6SSxjQUFBK1MsRUFBQXRLLFFBQUFvWCxLQUFvRWk2QixHQUN6RTk1QyxjQUFBNDVDLEVBQUFFLEVBQUE5NUMscUJBS0F3RyxFQUFBd0IsVUFBQSxVL0hrcGE4QjNGLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixFQUFTNUgsR2dJOXNhaEMsWUFZQSxTQUFBa0ksR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBVjdFUCxFQUFBUSxZQUFBLENBRUEsSUFBQXV4QyxHQUFBMzVDLEVBQUEsS0FFQTQ1QyxFQUFBMXhDLEVBQUF5eEMsR0FFQUUsRUFBQTc1QyxFQUFBLElBRUE4NUMsRUFBQTV4QyxFQUFBMnhDLEVBSUFqeUMsR0FBQVMsU0FBQSxFQUFBeXhDLEVBQUF6eEMsU0FBQXV4QyxFQUFBdnhDLFNBQ0FqQyxFQUFBd0IsVUFBQSxTaElvdGFNLFNBQVN4QixFQUFRd0IsRUFBUzVILEdpSW51YWhDLFlBTUEsU0FBQSs1QyxHQUFBcDZCLEVBQUFvNUIsRUFBQWpqQixHQUNBLElBQUFuVyxFQUFBcFQsS0FBQSxRQUVBLElBQUFtYSxJQUFBLEVBQUF4VixFQUFBeVcsZUFBQWhJLEVBQUFwVCxLQUVBLE9BQUFtYSxHQUFBc3pCLEtBQUEsU0FBQWx5QixHQUNBLE1BQUFpeEIsR0FBQWx4QixPQUFBQyxLQUFBZ08sRUFBQWpPLE9BQUFDLEtBaUJBLFFBQUFteUIsR0FBQWxCLEVBQUFqakIsR0FDQSxHQUFBb2tCLEdBQUFuQixLQUFBaDVCLE9BQ0FvNkIsRUFBQXJrQixFQUFBL1YsT0FFQXNXLEVBQUEsT0FDQUMsRUFBQSxPQUNBQyxFQUFBLE1BaUNBLE9BaENBMmpCLElBQ0EsV0FDQSxHQUFBRSxJQUFBLENBQ0EvakIsR0FBQTZqQixFQUFBeGpCLE9BQUEsU0FBQS9XLEdBQ0EsR0FBQXk2QixFQUNBLFFBRUEsSUFBQUMsR0FBQUYsRUFBQTMzQyxRQUFBbWQsTUFBQSxHQUFBbzZCLEVBQUFwNkIsRUFBQW81QixFQUFBampCLEVBRUEsT0FEQXVrQixLQUFBRCxHQUFBLEdBQ0FDLElBS0Foa0IsRUFBQWlrQixVQUVBL2pCLEtBQ0FELEtBRUE2akIsRUFBQW42QixRQUFBLFNBQUFMLEdBQ0EsR0FBQTQ2QixHQUFBTCxFQUFBMTNDLFFBQUFtZCxNQUFBLEVBQ0E2NkIsRUFBQW5rQixFQUFBN3pCLFFBQUFtZCxNQUFBLENBRUE0NkIsSUFBQUMsRUFBQWprQixFQUFBOXpCLEtBQUFrZCxHQUE0RDJXLEVBQUE3ekIsS0FBQWtkLFNBSTVEMFcsS0FDQUMsS0FDQUMsRUFBQTRqQixJQUlBOWpCLGNBQ0FDLGVBQ0FDLGVBckVBM3VCLEVBQUFRLFlBQUEsQ0FFQSxJQUFBOEksR0FBQWxSLEVBQUEsR0F1RUE0SCxHQUFBUyxRQUFBNHhDLEVBQ0E3ekMsRUFBQXdCLFVBQUEsU2pJeXVhTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxHa0lyemFoQyxZQVVBLFNBQUFrSSxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQXN5QyxHQUFBM2tCLEVBQUFuVyxFQUFBdGYsR0FDQSxHQUFBc2YsRUFBQW5ULFdBQUFtVCxFQUFBa0UsV0FFQSxXQURBeGpCLEdBQUEsS0FBQXNmLEVBQUFuVCxXQUFBbVQsRUFBQWtFLFdBSUEsSUFBQWt6QixHQUFBcDNCLEVBQUFvM0IsY0FBQXAzQixFQUFBcTNCLGFBQ0EsS0FBQUQsRUFFQSxXQURBMTJDLElBSUEsSUFBQW9MLEdBQUFxcUIsRUFBQXJxQixTQUVBaXZDLEdBQUEsRUFBQUMsRUFBQXR5QyxTQUFBeXRCLEVBQUFycUIsRUFFQXNyQyxHQUFBOTBDLEtBQUEwZCxFQUFBKzZCLEVBQUFyNkMsR0FVQSxRQUFBMjJDLEdBQUFsaEIsRUFBQXoxQixJQUNBLEVBQUEwOEIsRUFBQXZJLFVBQUFzQixFQUFBL1YsT0FBQSxTQUFBSixFQUFBb0gsRUFBQTFtQixHQUNBbzZDLEVBQUEza0IsRUFBQW5XLEVBQUF0ZixJQUNHQSxHQXZDSHVILEVBQUFRLFlBQUEsQ0FFQSxJQUFBMjBCLEdBQUEvOEIsRUFBQSxJQUVBNDZDLEVBQUE1NkMsRUFBQSxJQUVBMjZDLEVBQUF6eUMsRUFBQTB5QyxFQW9DQWh6QyxHQUFBUyxRQUFBMnVDLEVBQ0E1d0MsRUFBQXdCLFVBQUEsU2xJMnphTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxHbUl4MmFoQyxZQVVBLFNBQUE2NkMsR0FBQWw3QixFQUFBa0ksR0FDQSxHQUFBOEgsS0FFQSxPQUFBaFEsR0FBQXBULE9BRUEsRUFBQTJFLEVBQUF5VyxlQUFBaEksRUFBQXBULE1BQUF5VCxRQUFBLFNBQUEvZixHQUNBOEMsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUE0bEIsRUFBQTVuQixLQUNBMHZCLEVBQUExdkIsR0FBQTRuQixFQUFBNW5CLE1BSUEwdkIsR0FSQUEsRUFYQS9uQixFQUFBUSxZQUFBLENBRUEsSUFBQThJLEdBQUFsUixFQUFBLEdBb0JBNEgsR0FBQVMsUUFBQXd5QyxFQUNBejBDLEVBQUF3QixVQUFBLFNuSTgyYU0sU0FBU3hCLEVBQVF3QixFQUFTNUgsR29JdjRhaEMsWUFZQSxTQUFBa0ksR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBVjdFUCxFQUFBUSxZQUFBLENBRUEsSUFBQWd2QyxHQUFBcDNDLEVBQUEsSUFFQXEzQyxFQUFBbnZDLEVBQUFrdkMsR0FFQXlDLEVBQUE3NUMsRUFBQSxJQUVBODVDLEVBQUE1eEMsRUFBQTJ4QyxFQUlBanlDLEdBQUFTLFNBQUEsRUFBQXl4QyxFQUFBenhDLFNBQUFndkMsRUFBQWh2QyxTQUNBakMsRUFBQXdCLFVBQUEsU3BJNjRhTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxHcUk1NWFoQyxZQVVBLFNBQUE0ekMsR0FBQWh0QyxFQUFBQyxHQUNBLEdBQUFELEdBQUFDLEVBQUEsUUFFQSxVQUFBRCxHQUFBLE1BQUFDLEVBQUEsUUFFQSxJQUFBd0gsTUFBQWlSLFFBQUExWSxHQUNBLE1BQUF5SCxPQUFBaVIsUUFBQXpZLElBQUFELEVBQUExQyxTQUFBMkMsRUFBQTNDLFFBQUEwQyxFQUFBMlksTUFBQSxTQUFBelksRUFBQWlnQixHQUNBLE1BQUE2c0IsR0FBQTlzQyxFQUFBRCxFQUFBa2dCLEtBSUEsbUNBQUFuZ0IsR0FBQSxZQUFBZ29CLEVBQUFob0IsSUFBQSxDQUNBLE9BQUEzRyxLQUFBMkcsR0FDQSxHQUFBN0QsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUEyRSxFQUFBM0csR0FJQSxHQUFBOFEsU0FBQW5LLEVBQUEzRyxJQUNBLEdBQUE4USxTQUFBbEssRUFBQTVHLEdBQ0EsYUFFTyxLQUFBOEMsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUE0RSxFQUFBNUcsR0FDUCxRQUNPLEtBQUEyekMsRUFBQWh0QyxFQUFBM0csR0FBQTRHLEVBQUE1RyxJQUNQLFNBSUEsU0FHQSxNQUFBNjZDLFFBQUFsMEMsS0FBQWswQyxPQUFBajBDLEdBUUEsUUFBQWswQyxHQUFBbHZDLEVBQUFtdkMsR0FpQkEsTUFkQSxNQUFBQSxFQUFBN3pCLE9BQUEsS0FDQTZ6QixFQUFBLElBQUFBLEdBTUEsTUFBQW52QyxFQUFBc2IsT0FBQXRiLEVBQUEzSCxPQUFBLEtBQ0EySCxHQUFBLEtBRUEsTUFBQW12QyxFQUFBN3pCLE9BQUE2ekIsRUFBQTkyQyxPQUFBLEtBQ0E4MkMsR0FBQSxLQUdBQSxJQUFBbnZDLEVBTUEsUUFBQW92QyxHQUFBcHZDLEVBQUFrVSxFQUFBOEgsR0FNQSxPQUxBTixHQUFBMWIsRUFDQTZhLEtBQ0FlLEtBR0F4akIsRUFBQSxFQUFBNEosRUFBQWtTLEVBQUE3YixPQUFzQ0QsRUFBQTRKLElBQVM1SixFQUFBLENBQy9DLEdBQUEwYixHQUFBSSxFQUFBOWIsR0FDQXVpQixFQUFBN0csRUFBQXBULE1BQUEsRUFRQSxJQU5BLE1BQUFpYSxFQUFBVyxPQUFBLEtBQ0FJLEVBQUExYixFQUNBNmEsS0FDQWUsTUFHQSxPQUFBRixHQUFBZixFQUFBLENBQ0EsR0FBQTAwQixJQUFBLEVBQUFocUMsRUFBQWdXLGNBQUFWLEVBQUFlLEVBU0EsSUFSQTJ6QixHQUNBM3pCLEVBQUEyekIsRUFBQTN6QixrQkFDQWIsS0FBQWhaLE9BQUFnWixFQUFBdzBCLEVBQUF4MEIsWUFDQWUsS0FBQS9aLE9BQUErWixFQUFBeXpCLEVBQUF6ekIsY0FFQUYsRUFBQSxLQUdBLEtBQUFBLEVBSUEsTUFBQWIsR0FBQW5ILE1BQUEsU0FBQXVJLEVBQUFmLEdBQ0EsTUFBQSt6QixRQUFBcnpCLEVBQUFWLE1BQUErekIsT0FBQWp6QixFQUFBQyxPQU1BLFNBT0EsUUFBQXF6QixHQUFBbHdCLEVBQUFtd0IsR0FDQSxhQUFBQSxFQUFBLE1BQUFud0IsRUFFQSxNQUFBQSxHQUVBMm9CLEVBQUEzb0IsRUFBQW13QixHQU9BLFFBQUFybUIsR0FBQXBLLEVBQUE4SyxFQUFBaWdCLEVBQUEzMUIsRUFBQThILEdBQ0EsR0FBQWhjLEdBQUE4ZSxFQUFBOWUsU0FDQW9mLEVBQUFOLEVBQUFNLEtBRUEsY0FBQXlxQixJQUtBLE1BQUE3cEMsRUFBQXNiLE9BQUEsS0FDQXRiLEVBQUEsSUFBQUEsTUFHQWt2QyxFQUFBbHZDLEVBQUE2cEMsRUFBQTdwQyxZQUdBNHBCLEdBQUF3bEIsRUFBQXB2QyxFQUFBa1UsRUFBQThILEtBS0FzekIsRUFBQWx3QixFQUFBeXFCLEVBQUF6cUIsUUFuSkFyakIsRUFBQVEsWUFBQSxDQUVBLElBQUF3bUIsR0FBQSxrQkFBQXBhLFNBQUEsZ0JBQUFBLFFBQUFxYSxTQUFBLFNBQUExbUIsR0FBb0csYUFBQUEsSUFBcUIsU0FBQUEsR0FBbUIsTUFBQUEsSUFBQSxrQkFBQXFNLFNBQUFyTSxFQUFBeU0sY0FBQUosT0FBQSxlQUFBck0sR0FFNUlQLEdBQUFTLFFBQUEwc0IsQ0FFQSxJQUFBN2pCLEdBQUFsUixFQUFBLEdBK0lBb0csR0FBQXdCLFVBQUEsU3JJazZhTSxTQUFTeEIsRUFBUXdCLEVBQVM1SCxJc0l6amJoQyxTQUFBa08sR0FBQSxZQXdCQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBRTdFLFFBQUF5YyxHQUFBemMsRUFBQStRLEdBQThDLEdBQUErRyxLQUFpQixRQUFBaGMsS0FBQWtFLEdBQXFCK1EsRUFBQTFXLFFBQUF5QixJQUFBLEdBQW9DbEIsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFrRyxFQUFBbEUsS0FBNkRnYyxFQUFBaGMsR0FBQWtFLEVBQUFsRSxHQUFzQixPQUFBZ2MsR0FXM00sUUFBQWxRLEdBQUE0YSxFQUFBdHFCLEdBQ0EsR0FBQWdNLEdBQUFzZSxFQUFBdGUsUUFDQTBULEVBQUE0SyxFQUFBNUssT0FDQXRVLEVBQUFrZixFQUFBbGYsU0FFQXZGLEVBQUEwZSxFQUFBK0YsR0FBQSwrQkFFQXRlLElBQUFaLEVBQUEsc0JBQUF5QyxFQUFBTSxJQUFBc00sVUFBQSxFQUFBdU4sRUFBQWhnQixVQUFBLDRDQUFBZ2dCLEVBQUFoZ0IsVUFBQSxHQUVBZ0UsT0FBQSxFQUFBcUgsRUFBQXJMLFNBQUFuQyxFQUNBLElBQUE2NUIsSUFBQSxFQUFBd1gsRUFBQWx2QyxTQUFBZ0UsR0FBQSxFQUFBMkUsRUFBQVgsY0FBQTBQLElBRUE0YixFQUFBLE1BRUFsd0IsR0FFQUEsRUFBQVksRUFBQThoQixlQUFBMWlCLEdBSUFrd0IsRUFBQXR2QixFQUFBYixPQUFBLFNBQUE2dkMsR0FDQTV2QyxFQUFBNHZDLEdBSUEsSUFBQS9yQixJQUFBLEVBQUFtb0IsRUFBQTNYLG9CQUFBenpCLEVBQUEwekIsRUFDQTF6QixJQUFBLEVBQUFvckMsRUFBQXpYLHNCQUFBM3pCLEVBQUEwekIsR0FFQUEsRUFBQWh3QixNQUFBdEUsRUFBQSxTQUFBL0QsRUFBQW13QixFQUFBL0IsR0FDQXoxQixFQUFBcUgsRUFBQW13QixHQUFBdkksRUFBQW5CLGVBQUEwSixFQUFBMEQsRUFBQW5WLFNBQUEwUCxHQUFBclcsS0FBMkhxVyxHQUMzSHpwQixVQUNBaWpCLFNBQ0Fzb0IsY0FBcUJ2ckMsVUFBQTB6QixvQkFBQXpRLGFBTXJCcU0sR0FDQUEsTUExRUEvekIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9Pc2IsRUFBQXY3QixFQUFBLElBRUF3b0IsRUFBQXhvQixFQUFBLEdBRUFxb0IsRUFBQW5nQixFQUFBc2dCLEdBRUErWCxFQUFBdmdDLEVBQUEsSUFFQTBULEVBQUF4TCxFQUFBcTRCLEdBRUErVyxFQUFBdDNDLEVBQUEsSUFFQXUzQyxFQUFBcnZDLEVBQUFvdkMsR0FFQXRtQyxFQUFBaFIsRUFBQSxJQUVBeTNDLEVBQUF6M0MsRUFBQSxHQTJEQTRILEdBQUFTLFFBQUEwSCxFQUNBM0osRUFBQXdCLFVBQUEsVXRJNGpiOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEl1SWxwYmhDLFNBQUFrTyxHQUFBLFlBd0JBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQW16QyxHQUFBMzdCLEVBQUFsVSxFQUFBaWIsRUFBQWUsRUFBQXBuQixHQUNBLEdBQUFzZixFQUFBQyxZQUNBLFlBQUFELEVBQUFDLFlBRUEsS0FBQUQsRUFBQTI3QixlQUNBLFFBR0EsSUFBQWxuQixJQUFBLEVBQ0FwdEIsRUFBQSxPQUVBMnVCLEdBQ0FscUIsV0FDQW9jLE9BQUEwekIsRUFBQTcwQixFQUFBZSxJQUdBK3pCLEdBQUEsRUFBQWIsRUFBQXR5QyxTQUFBc3RCLEVBQUFscUIsRUFhQSxPQVhBa1UsR0FBQTI3QixlQUFBRSxFQUFBLFNBQUE5ekMsRUFBQWtZLEdBRUEsTUFEQUEsSUFBQWxZLElBQUEsRUFBQXNKLEVBQUFYLGNBQUF1UCxHQUNBd1UsT0FDQXB0QixHQUFBVSxFQUFBa1ksUUFJQXZmLEdBQUFxSCxFQUFBa1ksS0FHQXdVLEdBQUEsRUFDQXB0QixFQUdBLFFBQUF5MEMsR0FBQTk3QixFQUFBbFUsRUFBQWliLEVBQUFlLEVBQUFwbkIsR0FDQSxHQUFBc2YsRUFBQW0zQixXQUNBejJDLEVBQUEsS0FBQXNmLEVBQUFtM0IsZ0JBQ0csSUFBQW4zQixFQUFBODdCLGNBQUEsQ0FDSCxHQUFBOWxCLElBQ0FscUIsV0FDQW9jLE9BQUEwekIsRUFBQTcwQixFQUFBZSxJQUdBK3pCLEdBQUEsRUFBQWIsRUFBQXR5QyxTQUFBc3RCLEVBQUFscUIsRUFFQWtVLEdBQUE4N0IsY0FBQUQsRUFBQSxTQUFBOXpDLEVBQUFvdkMsR0FDQXoyQyxFQUFBcUgsT0FBQSxFQUFBc0osRUFBQVgsY0FBQXltQyxHQUFBLFVBRUduM0IsR0FBQUMsYUFDSCxXQUNBLEdBQUE4N0IsR0FBQS83QixFQUFBQyxZQUFBOFcsT0FBQSxTQUFBaWxCLEdBQ0EsT0FBQUEsRUFBQXB2QyxRQUdBLEVBQUF3d0IsRUFBQWhKLFdBQUEybkIsRUFBQXgzQyxPQUFBLFNBQUE2aUIsRUFBQXdKLEVBQUEyRCxHQUNBdW5CLEVBQUFDLEVBQUEzMEIsR0FBQXRiLEVBQUFpYixFQUFBZSxFQUFBLFNBQUEvZixFQUFBb3ZDLEdBQ0EsR0FBQXB2QyxHQUFBb3ZDLEVBQUEsQ0FDQSxHQUFBLzJCLElBQUEyN0IsRUFBQTMwQixJQUFBclosT0FBQVcsTUFBQWlSLFFBQUF3M0IsU0FDQTVpQixHQUFBeHNCLEVBQUFxWSxPQUVBd1EsUUFHTyxTQUFBMXZCLEVBQUFrZixHQUNQMWYsRUFBQSxLQUFBMGYsUUFJQTFmLElBSUEsUUFBQXU3QyxHQUFBL3pCLEVBQUFuQixFQUFBZSxHQUNBLE1BQUFmLEdBQUF3USxPQUFBLFNBQUFyUCxFQUFBQyxFQUFBZixHQUNBLEdBQUFvQixHQUFBVixLQUFBVixFQVVBLE9BUkExWSxPQUFBaVIsUUFBQXVJLEVBQUFDLElBQ0FELEVBQUFDLEdBQUFybEIsS0FBQTBsQixHQUNLTCxJQUFBRCxHQUNMQSxFQUFBQyxJQUFBRCxFQUFBQyxHQUFBSyxHQUVBTixFQUFBQyxHQUFBSyxFQUdBTixHQUNHQSxHQUdILFFBQUEwekIsR0FBQTcwQixFQUFBZSxHQUNBLE1BQUFtMEIsTUFBd0JsMUIsRUFBQWUsR0FHeEIsUUFBQW8wQixHQUFBbDhCLEVBQUFsVSxFQUFBOGIsRUFBQWIsRUFBQWUsRUFBQXBuQixHQUNBLEdBQUFtbUIsR0FBQTdHLEVBQUFwVCxNQUFBLEVBVUEsSUFSQSxNQUFBaWEsRUFBQVcsT0FBQSxLQUNBSSxFQUFBOWIsRUFBQUksU0FDQTZhLEtBQ0FlLE1BS0EsT0FBQUYsR0FBQWYsRUFBQSxDQUNBLElBQ0EsR0FBQTAwQixJQUFBLEVBQUFocUMsRUFBQWdXLGNBQUFWLEVBQUFlLEVBQ0EyekIsSUFDQTN6QixFQUFBMnpCLEVBQUEzekIsa0JBQ0FiLEtBQUFoWixPQUFBZ1osRUFBQXcwQixFQUFBeDBCLFlBQ0FlLEtBQUEvWixPQUFBK1osRUFBQXl6QixFQUFBenpCLGNBRUFGLEVBQUEsS0FFSyxNQUFBN2YsR0FDTHJILEVBQUFxSCxHQUtBLFFBQUE2ZixFQUFBLENBQ0EsR0FBQXUwQixHQUFBLFdBQ0EsR0FBQS9yQyxJQUNBZ1EsUUFBQUosR0FDQWtJLE9BQUEwekIsRUFBQTcwQixFQUFBZSxHQXVCQSxPQXBCQWcwQixHQUFBOTdCLEVBQUFsVSxFQUFBaWIsRUFBQWUsRUFBQSxTQUFBL2YsRUFBQW92QyxHQUNBLEdBQUFwdkMsRUFDQXJILEVBQUFxSCxPQUNXLENBQ1gsR0FBQTJHLE1BQUFpUixRQUFBdzNCLEdBQUEsQ0FDQSxHQUFBaUYsRUFFQSxnQkFBQTd0QyxFQUFBTSxJQUFBc00sVUFBQSxFQUFBcVUsRUFBQTltQixTQUFBeXVDLEVBQUF2M0IsTUFBQSxTQUFBSSxHQUNBLE9BQUFBLEVBQUFwVCxPQUNlLDhDQUNmd3ZDLEVBQUFoc0MsRUFBQWdRLFFBQUF0ZCxLQUFBa0MsTUFBQW8zQyxFQUFBakYsT0FDYUEsS0FDYixlQUFBNW9DLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUF5dUMsRUFBQXZxQyxLQUFBLDZDQUNBd0QsRUFBQWdRLE9BQUF0ZCxLQUFBcTBDLEdBR0F6MkMsR0FBQSxLQUFBMFAsT0FLQThGLEVBQUEsVUFJQSxtQ0FBQWltQyxHQUFBLFlBQUFsdEIsRUFBQWt0QixJQUFBLE1BQUFBLEdBQUFqbUMsR0FJQSxTQUFBMFIsR0FBQTVILEVBQUFDLFlBQUEsQ0FJQSxHQUFBbzhCLEdBQUEsU0FBQXQwQyxFQUFBa1ksR0FDQWxZLEVBQ0FySCxFQUFBcUgsR0FDT2tZLEVBRVBxOEIsRUFBQXI4QixFQUFBblUsRUFBQSxTQUFBL0QsRUFBQXFJLEdBQ0FySSxFQUNBckgsRUFBQXFILEdBQ1dxSSxHQUVYQSxFQUFBZ1EsT0FBQW04QixRQUFBdjhCLEdBQ0F0ZixFQUFBLEtBQUEwUCxJQUVBMVAsS0FFU2tuQixFQUFBYixFQUFBZSxHQUVUcG5CLEtBSUEyRyxFQUFBczBDLEVBQUEzN0IsRUFBQWxVLEVBQUFpYixFQUFBZSxFQUFBdTBCLEVBQ0FoMUMsSUFDQWcxQyxFQUFBcjNDLE1BQUFvTSxPQUFBL0osT0FHQTNHLEtBZUEsUUFBQTQ3QyxHQUFBbDhCLEVBQUF0VSxFQUFBcEwsRUFBQWtuQixHQUNBLEdBQUFiLEdBQUFwWSxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsTUFBQUEsVUFBQSxHQUNBbVosRUFBQW5aLFVBQUFwSyxRQUFBLEdBQUE2TSxTQUFBekMsVUFBQSxNQUFBQSxVQUFBLEVBRUF5QyxVQUFBd1csSUFJQSxNQUFBOWIsRUFBQUksU0FBQXNiLE9BQUEsS0FDQTFiLEVBQUFnVSxLQUE0QmhVLEdBQzVCSSxTQUFBLElBQUFKLEVBQUFJLFlBR0EwYixFQUFBOWIsRUFBQUksV0FHQSxFQUFBa3hCLEVBQUFoSixXQUFBaFUsRUFBQTdiLE9BQUEsU0FBQTZpQixFQUFBd0osRUFBQTJELEdBQ0EybkIsRUFBQTk3QixFQUFBZ0gsR0FBQXRiLEVBQUE4YixFQUFBYixFQUFBZSxFQUFBLFNBQUEvZixFQUFBcUksR0FDQXJJLEdBQUFxSSxFQUNBbWtCLEVBQUF4c0IsRUFBQXFJLEdBRUF3Z0IsT0FHR2x3QixHQXRQSHVILEVBQUFRLFlBQUEsQ0FFQSxJQUFBcVgsR0FBQTFjLE9BQUFrVyxRQUFBLFNBQUFnSCxHQUFtRCxPQUFBaGMsR0FBQSxFQUFnQkEsRUFBQXFLLFVBQUFwSyxPQUFzQkQsSUFBQSxDQUFPLEdBQUFpYyxHQUFBNVIsVUFBQXJLLEVBQTJCLFFBQUF3WixLQUFBeUMsR0FBMEJuZCxPQUFBQyxVQUFBQyxlQUFBaEIsS0FBQWllLEVBQUF6QyxLQUF5RHdDLEVBQUF4QyxHQUFBeUMsRUFBQXpDLElBQWlDLE1BQUF3QyxJQUUvTzJPLEVBQUEsa0JBQUFwYSxTQUFBLGdCQUFBQSxRQUFBcWEsU0FBQSxTQUFBMW1CLEdBQW9HLGFBQUFBLElBQXFCLFNBQUFBLEdBQW1CLE1BQUFBLElBQUEsa0JBQUFxTSxTQUFBck0sRUFBQXlNLGNBQUFKLE9BQUEsZUFBQXJNLEdBRTVJUCxHQUFBUyxRQUFBNHpDLENBRUEsSUFBQWxmLEdBQUEvOEIsRUFBQSxJQUVBNDZDLEVBQUE1NkMsRUFBQSxJQUVBMjZDLEVBQUF6eUMsRUFBQTB5QyxHQUVBMXBDLEVBQUFsUixFQUFBLElBRUFrdkIsRUFBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEdBRUFsZSxFQUFBaFIsRUFBQSxHQW9PQW9HLEdBQUF3QixVQUFBLFV2SXFwYjhCM0YsS0FBSzJGLEVBQVM1SCxFQUFvQixLQUkxRCxTQUFTb0csRUFBUXdCLEVBQVM1SCxJd0luNWJoQyxTQUFBa08sR0FBQSxZQWtCQSxTQUFBaEcsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBRTdFLFFBQUF5YyxHQUFBemMsRUFBQStRLEdBQThDLEdBQUErRyxLQUFpQixRQUFBaGMsS0FBQWtFLEdBQXFCK1EsRUFBQTFXLFFBQUF5QixJQUFBLEdBQW9DbEIsT0FBQUMsVUFBQUMsZUFBQWhCLEtBQUFrRyxFQUFBbEUsS0FBNkRnYyxFQUFBaGMsR0FBQWtFLEVBQUFsRSxHQUFzQixPQUFBZ2MsR0FhM00sUUFBQTNQLEdBQUE0YyxHQUdBLE1BRkEsZUFBQWhmLEVBQUFNLElBQUFzTSxVQUFBLEVBQUFxVSxFQUFBOW1CLFVBQUEscUZBRUEsV0FDQSxHQUFBc2lCLEdBQUFyYyxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsTUFBdUVBLFVBQUEsR0FFdkV5UixFQUFBNEssRUFBQTVLLE9BRUE3WixFQUFBMGUsRUFBQStGLEdBQUEsV0FFQXRlLEdBQUEsRUFBQTZ6QixFQUFBNzNCLFNBQUE2a0IsR0FBQWhuQixHQUNBNjVCLEdBQUEsRUFBQXdYLEVBQUFsdkMsU0FBQWdFLEVBQUEwVCxFQUNBLE9BQUFOLE1BQXNCcFQsRUFBQTB6QixJQTNDdEJuNEIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLElBRS9Pb2dCLEVBQUFyZ0MsRUFBQSxJQUVBa2dDLEVBQUFoNEIsRUFBQW00QixHQUVBaVgsRUFBQXQzQyxFQUFBLElBRUF1M0MsRUFBQXJ2QyxFQUFBb3ZDLEdBRUFwb0IsRUFBQWx2QixFQUFBLEdBRUFtdkIsRUFBQWpuQixFQUFBZ25CLEVBaUNBdG5CLEdBQUFTLFFBQUFpSSxFQUNBbEssRUFBQXdCLFVBQUEsVXhJczViOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEl5STU4YmhDLFNBQUFrTyxHQUFBLFlBc0JBLFNBQUFoRyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FFN0UsUUFBQWcwQyxHQUFBcmpDLEdBQ0EsTUFBQUEsR0FBQXBELGFBQUFvRCxFQUFBaFcsTUFBQSxZQUdBLFFBQUE4TixHQUFBa0ksRUFBQTVTLEdBQ0EsR0FBQWlRLEdBQUFqUSxLQUFBaVEsUUFFQWltQyxFQUFBN3pDLEVBQUFGLFFBQUFnbkIsYUFDQTNaLFlBQUEsYUFFQXFELGNBQW1CdVcsT0FBQTBQLEVBQUFodkIsYUFDbkJ1RixXQUFnQitaLE9BQUEwUCxFQUFBaHZCLGFBRWhCMEksbUJBQUEsV0FHQSxNQUZBdkMsR0FBcUssT0FBckssZUFBQWpJLEVBQUFNLElBQUFzTSxVQUFBLEVBQUF1TixFQUFBaGdCLFVBQUEsK0hBQXFLLEVBQUFnZ0IsRUFBQWhnQixVQUFBLEdBRXJLTixLQUFBNlEsaUJBRUExTSxPQUFBLFdBQ0EsR0FBQXFWLEdBQUF4WixLQUVBdW5CLEVBQUF2bkIsS0FBQXNOLE1BQUFpYSxRQUFBdm5CLEtBQUF1M0IsUUFBQWhRLE9BQ0FqYSxFQUFBb0ssS0FBNkIxWCxLQUFBc04sT0FBZWlhLFVBUTVDLE9BTkFuWixLQUNBZCxFQUFBd0QsSUFBQSxTQUFBblQsR0FDQTZiLEVBQUEzSSxnQkFBQWxULElBSUE2QyxFQUFBRixRQUFBekksY0FBQWtaLEVBQUF6RCxLQU9BLE9BSEErbUMsR0FBQTFtQyxZQUFBLGNBQUF5bUMsRUFBQXJqQyxHQUFBLElBQ0FzakMsRUFBQXRqQyxvQkFFQSxFQUFBdWpDLEVBQUFoMEMsU0FBQSt6QyxFQUFBdGpDLEdBM0RBbFIsRUFBQVEsWUFBQSxDQUVBLElBQUFxWCxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLEdBRS9PclksR0FBQVMsUUFBQXVJLENBRUEsSUFBQTRYLEdBQUF4b0IsRUFBQSxHQUVBcW9CLEVBQUFuZ0IsRUFBQXNnQixHQUVBbGdCLEVBQUF0SSxFQUFBLEdBRUF1SSxFQUFBTCxFQUFBSSxHQUVBZzBDLEVBQUF0OEMsRUFBQSxLQUVBcThDLEVBQUFuMEMsRUFBQW8wQyxHQUVBdGQsRUFBQWgvQixFQUFBLEdBMkNBb0csR0FBQXdCLFVBQUEsVXpJKzhiOEIzRixLQUFLMkYsRUFBUzVILEVBQW9CLEtBSTFELFNBQVNvRyxFQUFRd0IsRUFBUzVILEcwSWxoY2hDLFlBYUEsU0FBQWtJLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxRQUFBRixHQUU3RSxRQUFBZ25DLEdBQUFDLEdBQWtDLEdBQUEvZ0MsTUFBQWlSLFFBQUE4dkIsR0FBQSxDQUEwQixPQUFBbnJDLEdBQUEsRUFBQW9yQyxFQUFBaGhDLE1BQUErZ0MsRUFBQWxyQyxRQUEwQ0QsRUFBQW1yQyxFQUFBbHJDLE9BQWdCRCxJQUFPb3JDLEVBQUFwckMsR0FBQW1yQyxFQUFBbnJDLEVBQW9CLE9BQUFvckMsR0FBc0IsTUFBQWhoQyxPQUFBb3hCLEtBQUEyUCxHQUV2SyxRQUFBeGdCLEdBQUF6bUIsR0FBdUIsTUFBQUEsSUFBQSxtQkFBQXFNLFNBQUFyTSxFQUFBeU0sY0FBQUosT0FBQSxlQUFBck0sR0FZdkIsUUFBQW8wQyxHQUFBQyxFQUFBcjNCLEVBQUFzM0IsRUFBQTU4QyxHQUNBLDBCQUFBMjhDLEdBQUEsWUFBQTV0QixFQUFBNHRCLElBQ0EsYUFDQSx3QkFBQUEsR0FBQTM4QyxHQUFBMjhDLEVBQUEzOEMsR0FBQThFLE1BQUE2M0MsRUFBQXJOLEVBQUFzTixJQUFBRCxFQUFBMzhDLEVBQ0EsZ0JBQ0EsTUFBQTI4QyxHQUFBcjNCLEVBQ0EsU0FDQSxNQUFBcTNCLElBSUEsUUFBQUUsR0FBQXgyQyxHQUNBLEdBQUFrekIsR0FBQWx6QixFQUFBa3pCLFVBQ0FoWCxFQUFBbGMsRUFBQWtjLFFBRUEsaUJBQUErQyxFQUFBNlQsRUFBQTJqQixHQUNBLEdBQUFwRyxJQUFBLFNBUUEsT0FQQW5kLElBQ0FtZCxFQUFBOXpDLEtBQUEsS0FBQXUyQixHQUVBdWQsRUFBQTl6QyxLQUFBMGlCLEVBQUF0bEIsTUFDQXVpQixHQUNBbTBCLEVBQUE5ekMsS0FBQSxPQUFBazZDLEVBQUFDLFFBQUEsV0FFQXJHLEVBQUF4c0IsS0FBQSxNQUlBLFFBQUE4eUIsR0FBQUMsRUFBQTUyQyxHQUNBLEdBQUE2MkMsR0FBQTcyQyxFQUFBNjJDLE9BQ0FDLEVBQUE5MkMsRUFBQTgyQyxrQkFDQUMsRUFBQS8yQyxFQUFBZzNDLGVBQ0FBLEVBQUFuc0MsU0FBQWtzQyxFQUFBUCxFQUFBeDJDLEdBQUErMkMsRUFDQUUsRUFBQWozQyxFQUFBaTNDLFVBQ0FDLEVBQUFsM0MsRUFBQWszQyxPQUNBWixFQUFBdDJDLEVBQUFzMkMsTUFDQW5LLEVBQUFuc0MsRUFBQW1zQyxJQUVBeUssR0FBQTk4QixRQUFBLFNBQUFxOUIsRUFBQTUvQixHQUNBLEdBQUE2L0IsR0FBQUQsRUFBQUMsUUFDQUMsRUFBQUYsRUFBQUUsWUFDQXA0QixFQUFBazRCLEVBQUFsNEIsT0FDQTR6QixFQUFBc0UsRUFBQXRFLFVBQ0FyeEMsRUFBQTIxQyxFQUFBMzFDLE1BQ0FpMUMsRUFBQVUsRUFBQVYsS0FDQTdtQixFQUFBdW5CLEVBQUF2bkIsVUFFQTBuQixFQUFBVixFQUFBci9CLEVBQUEsRUFFQSsvQixLQUNBMW5CLEVBQUEwbkIsRUFBQXpFLFVBQ0E0RCxFQUFBYSxFQUFBRixVQUlBLElBQUFHLEdBQUFULEVBQUE3M0IsR0FDQXU0QixFQUFBLGtCQUFBUCxLQUFBLFdBQ0EsTUFBQXJuQixJQUNLM1EsR0FBQWc0QixFQUVMUSxHQUFBLEVBQUFDLEVBQUE1YyxZQUFBdWMsR0FDQU0sRUFBQVQsRUFBQW54QyxNQUFBLFVBQUFteEMsRUFBQW54QyxNQUFBd3hDLEdBQUEsSUFBZ0YsS0FDaEZ4eEMsRUFBQWl4QyxFQUFBTyxFQUFBRSxFQUFBaEIsRUFHQSxLQUNBZSxFQUNBTixFQUFBbnhDLE1BQUE4d0MsRUFBQWUsZUFBQSxNQUFBN3hDLEVBQUE0eEMsR0FBeUVkLEVBQUFlLGVBQUE3eEMsR0FFekVteEMsRUFBQW54QyxNQUFBOHdDLEVBQUFnQixNQUFBLE1BQUE5eEMsRUFBQTR4QyxHQUFnRWQsRUFBQWdCLE1BQUE5eEMsR0FFM0QsTUFBQTVLLEdBQ0wwN0MsRUFBQXJ4QyxJQUFBTyxHQUdBLEdBQUEreEMsR0FBQXpCLEVBQUFDLEVBQUFpQixHQUFBMUUsR0FBQSxhQUNBa0YsRUFBQTFCLEVBQUFDLEVBQUFpQixNQUFBLFVBQ0FTLEVBQUEzQixFQUFBQyxFQUFBaUIsR0FBQS8xQyxFQUFBcXhDLEdBQUEsU0FDQW9GLEVBQUE1QixFQUFBQyxFQUFBaUIsR0FBQTNuQixHQUFBLFlBRUFrb0IsS0FDQVosRUFBQXJFLFVBQUFnRSxFQUFBaUIsR0FBQSwwQkFBQVosRUFBQXJFLGFBQUEsc0JBQWdIQSxHQUFnQ2dFLEVBQUFpQixHQUFBLGFBQUFqRixJQUdoSmtGLElBQ0FiLEVBQUFqNEIsT0FBQTQzQixFQUFBa0IsR0FBQSxzQkFBQWIsRUFBQWo0QixPQUFBczRCLEdBQUEsc0JBQXlHQSxHQUFzQ1YsRUFBQWtCLEdBQUEsU0FBQVIsSUFHL0kvMUMsR0FBQXcyQyxJQUNBZCxFQUFBMTFDLE1BQUFxMUMsRUFBQW1CLEdBQUEscUJBQUFkLEVBQUExMUMsUUFBQXF4QyxHQUFBLHNCQUFzR3J4QyxHQUE0QnExQyxFQUFBbUIsR0FBQSxRQUFBeDJDLElBR2xJeTJDLElBQ0FmLEVBQUF0bkIsVUFBQWluQixFQUFBb0IsR0FBQSwwQkFBQWYsRUFBQXRuQixhQUFBLHNCQUFnSEEsR0FBZ0NpbkIsRUFBQW9CLEdBQUEsYUFBQXJvQixJQUdoSnVjLElBQ0EsRUFBQStMLEVBQUEvMUMsU0FBQTB3QyxFQUFBampCLEVBQUFpbkIsRUFBQVcsRUFHQSxLQUNBWCxFQUFBc0IsV0FDSyxNQUFBaDlDLEdBQ0wwN0MsRUFBQXJ4QyxJQUFBLG9CQWxJQTNJLE9BQUFJLGVBQUF5RSxFQUFBLGNBQ0FwRSxPQUFBLElBRUFvRSxFQUFBaTFDLGFBRUEsSUFBQWUsR0FBQTU5QyxFQUFBLElBRUFzK0MsRUFBQXQrQyxFQUFBLEtBRUFvK0MsRUFBQWwyQyxFQUFBbzJDLEkxSW9wY00sU0FBU2w0QyxFQUFRd0IsRzJJL3BjdkIsWUFFQTdFLFFBQUFJLGVBQUF5RSxFQUFBLGNBQ0FwRSxPQUFBLElBRUFvRSxFQUFBUyxTQUNBbTBDLE1BQUEsTUFDQU8sT0FBQW42QyxRQUNBMjdDLFdBQUEsRUFDQXBCLFVBQUFwc0MsT0FDQXl0QyxVQUFBenRDLE9BQ0FxUixVQUFBLEVBQ0FnWCxXQUFBLEVBQ0FxbEIsaUJBQUEsU0FBQWpvQyxHQUNBLE1BQUFBLElBRUF3bUMsa0JBQUEsU0FBQTczQixHQUNBLE1BQUFBLElBRUF1NUIsaUJBQUEsU0FBQWgzQyxHQUNBLE1BQUFBLElBRUEwMUMsUUFDQW54QyxNQUFBLFdBQ0EsaUJBRUE4c0MsVUFBQSxXQUNBLGlCQUVBNXpCLE9BQUEsV0FDQSxpQkFFQTJRLFVBQUEsV0FDQSxpQkFFQXB1QixNQUFBLFdBQ0Esa0JBR0EycUMsTUFBQSxFQUNBc00sY0FBQTV0QyxPQUdBNnRDLFlBQUE3dEMsUUFFQTNLLEVBQUF3QixVQUFBLFMzSXFxY00sU0FBU3hCLEVBQVF3QixFQUFTNUgsRzRJbHRjaEMsWUFXQSxTQUFBa0ksR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFFBQUFGLEdBc0I3RSxRQUFBcWQsR0FBQWlyQixHQUNBLGdCQUFBb08sRUFBQXBPLEdBQUFxTyxNQUFBLHNCQUdBLFFBQUE1eUMsR0FBQW1tQyxHQUNBLEdBQUE1QixHQUFBNEIsRUFBQTVCLEtBQ0Fsa0MsRUFBQThsQyxFQUFBOWxDLEtBQ0E2a0MsRUFBQWlCLEVBQUFqQixJQUNBQyxFQUFBZ0IsRUFBQWhCLElBQ0F0cUIsRUFBQXNyQixFQUFBdHJCLE1BQ0FqZ0IsRUFBQXVyQyxFQUFBdnJDLElBRUEsUUFBQTJwQyxHQUNBLFFBQ0EsTUFBQWxrQyxHQUFBd2QsS0FBQSxTQUFBcW5CLEVBQUEsTUFBQUMsQ0FDQSxTQUNBLE1BQUE5a0MsR0FBQXdkLEtBQUEsU0FBQXNuQixDQUNBLFNBQ0EsU0FBQTlrQyxFQUFBd2QsS0FBQSxJQUNBLFNBQ0EsT0FBQXhkLEVBQUF3ZCxLQUFBLFNBQUFoRCxFQUFBLElBQUFqZ0IsRUFDQSxTQUNBLGFBSUEsUUFBQWk0QyxHQUFBaEcsRUFBQWlHLEVBQUFqQyxFQUFBVyxHQUNBLEdBQUFyTCxJQUFBLEVBQUE0TSxFQUFBNTJDLFNBQUEwd0MsRUFBQWlHLEVBRUEsS0FDQXRCLEVBQ0FYLEVBQUFlLGVBQUEsUUFFQWYsRUFBQWdCLE1BQUEsUUFFRyxNQUFBMThDLEdBQ0gwN0MsRUFBQXJ4QyxJQUFBLFFBR0EybUMsRUFDQUEsRUFBQXJ5QixRQUFBLFNBQUFrL0IsR0FDQSxHQUFBek8sR0FBQXlPLEVBQUF6TyxLQUVBME8sRUFBQWp6QyxFQUFBZ3pDLEVBRUFuQyxHQUFBcnhDLElBQUEsTUFBQW16QyxFQUFBcE8sR0FBQXJHLEtBQUE1a0IsRUFBQWlyQixHQUFBME8sS0FHQXBDLEVBQUFyeEMsSUFBQSxnQkFHQSxLQUNBcXhDLEVBQUFzQixXQUNHLE1BQUFoOUMsR0FDSDA3QyxFQUFBcnhDLElBQUEsb0JBckZBM0ksT0FBQUksZUFBQXlFLEVBQUEsY0FDQXBFLE9BQUEsSUFFQW9FLEVBQUFTLFFBQUEwMkMsQ0FFQSxJQUFBSyxHQUFBcC9DLEVBQUEsS0FFQWkvQyxFQUFBLzJDLEVBQUFrM0MsR0FLQVAsR0FDQVEsR0FDQVAsTUFBQSxVQUNBMVUsS0FBQSxZQUVBa1YsR0FDQVIsTUFBQSxVQUNBMVUsS0FBQSxVQUVBL3pCLEdBQ0F5b0MsTUFBQSxVQUNBMVUsS0FBQSxZQUVBbVYsR0FDQVQsTUFBQSxVQUNBMVUsS0FBQSxVQTZEQWhrQyxHQUFBd0IsVUFBQSxTNUl3dGNNLFNBQVN4QixFQUFRd0IsRUFBUzVILEc2SWx6Y2hDLFlBZ0JBLFNBQUFrSSxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsUUFBQUYsR0FxQjdFLFFBQUFxM0MsS0FDQSxHQUFBdDVDLEdBQUFvSSxVQUFBcEssUUFBQSxHQUFBNk0sU0FBQXpDLFVBQUEsTUFBd0VBLFVBQUEsR0FFeEVteEMsRUFBQWhnQyxLQUFpQ2lnQyxFQUFBcjNDLFFBQUFuQyxHQUVqQzYyQyxFQUFBMEMsRUFBQTFDLE9BQ0E2QixFQUFBYSxFQUFBYixZQUNBSCxFQUFBZ0IsRUFBQWhCLGlCQUNBQyxFQUFBZSxFQUFBZixpQkFDQUYsRUFBQWlCLEVBQUFqQixVQUNBRCxFQUFBa0IsRUFBQWxCLFVBQ0FJLEVBQUFjLEVBQUFkLGFBSUEsdUJBQUE1QixHQUNBLGtCQUNBLGdCQUFBeHNCLEdBQ0EsZ0JBQUFwTCxHQUNBLE1BQUFvTCxHQUFBcEwsS0FNQXk1QixJQUNBaDhDLFFBQUE4RSxNQUFBLHNFQUdBLElBQUFpNEMsS0FFQSxpQkFBQWgxQixHQUNBLEdBQUFwVyxHQUFBb1csRUFBQXBXLFFBQ0EsaUJBQUFnYyxHQUNBLGdCQUFBcEwsR0FFQSxxQkFBQXE1QixPQUFBanFDLEVBQUE0USxHQUNBLE1BQUFvTCxHQUFBcEwsRUFHQSxJQUFBazRCLEtBQ0FzQyxHQUFBbDlDLEtBQUE0NkMsR0FFQUEsRUFBQUMsUUFBQU0sRUFBQXZjLE1BQUFuSSxNQUNBbWtCLEVBQUFFLFlBQUEsR0FBQXBrQixNQUNBa2tCLEVBQUF0RSxVQUFBMEYsRUFBQWxxQyxLQUNBOG9DLEVBQUFsNEIsUUFFQSxJQUFBeTZCLEdBQUE3dUMsTUFDQSxJQUFBd3RDLEVBQ0EsSUFDQXFCLEVBQUFydkIsRUFBQXBMLEdBQ1csTUFBQTlqQixHQUNYZzhDLEVBQUEzMUMsTUFBQWczQyxFQUFBcjlDLE9BR0F1K0MsR0FBQXJ2QixFQUFBcEwsRUFHQWs0QixHQUFBVixLQUFBaUIsRUFBQXZjLE1BQUFuSSxNQUFBbWtCLEVBQUFDLFFBQ0FELEVBQUF2bkIsVUFBQTJvQixFQUFBbHFDLElBRUEsSUFBQTg5QixHQUFBb04sRUFBQXBOLE1BQUEsa0JBQUFzTSxLQUFBcHFDLEVBQUE0USxHQUFBczZCLEVBQUFwTixJQUtBLEtBSEEsRUFBQXdOLEVBQUFoRCxhQUFBOEMsRUFBQWxnQyxLQUFxRGdnQyxHQUFrQnBOLFVBQ3ZFc04sRUFBQXo3QyxPQUFBLEVBRUFtNUMsRUFBQTMxQyxNQUFBLEtBQUEyMUMsR0FBQTMxQyxLQUNBLE9BQUFrNEMsTUF2R0EsR0FBQW5nQyxHQUFBMWMsT0FBQWtXLFFBQUEsU0FBQWdILEdBQW1ELE9BQUFoYyxHQUFBLEVBQWdCQSxFQUFBcUssVUFBQXBLLE9BQXNCRCxJQUFBLENBQU8sR0FBQWljLEdBQUE1UixVQUFBckssRUFBMkIsUUFBQXdaLEtBQUF5QyxHQUEwQm5kLE9BQUFDLFVBQUFDLGVBQUFoQixLQUFBaWUsRUFBQXpDLEtBQXlEd0MsRUFBQXhDLEdBQUF5QyxFQUFBekMsSUFBaUMsTUFBQXdDLEdBRS9PbGQsUUFBQUksZUFBQXlFLEVBQUEsY0FDQXBFLE9BQUEsR0FHQSxJQUFBcThDLEdBQUE3L0MsRUFBQSxLQUVBNDlDLEVBQUE1OUMsRUFBQSxJQUVBOC9DLEVBQUE5L0MsRUFBQSxLQUVBMC9DLEVBQUF4M0MsRUFBQTQzQyxFQWlHQWw0QyxHQUFBUyxRQUFBbTNDLEVBQ0FwNUMsRUFBQXdCLFVBQUEsUzdJd3pjTSxTQUFTeEIsRUFBUXdCLEc4SXg2Y3ZCLFlBR0EsU0FBQW00QyxHQUFBQyxHQUNBLGdCQUFBcjFCLEdBQ0EsR0FBQXJXLEdBQUFxVyxFQUFBclcsU0FDQUMsRUFBQW9XLEVBQUFwVyxRQUNBLGlCQUFBZ2MsR0FDQSxnQkFBQXBMLEdBQ0Esd0JBQUFBLEdBQ0FBLEVBQUE3USxFQUFBQyxFQUFBeXJDLEdBR0F6dkIsRUFBQXBMLE1BWEF2ZCxFQUFBUSxZQUFBLENBaUJBLElBQUE2M0MsR0FBQUYsR0FDQUUsR0FBQUMsa0JBQUFILEVBRUFuNEMsRUFBQSxRQUFBcTRDLEc5STg2Y00sU0FBUzc1QyxFQUFRd0IsRytJcDhjdkIsWUFDQXhCLEdBQUF3QixRQUFBLFNBQUFnNUIsR0FDQSxNQUFBclksb0JBQUFxWSxHQUFBam5CLFFBQUEsb0JBQUFqVSxHQUNBLFVBQUFBLEVBQUF5NkMsV0FBQSxHQUFBbm1DLFNBQUEsSUFBQW9tQyxrQi9JNjhjTSxTQUFTaDZDLEVBQVF3QixHZ0poOWN2QnhCLEVBQUF3QixRQUFBLHN6RGhKczljTSxTQUFTeEIsRUFBUXdCLEdpSnQ5Y3ZCeEIsRUFBQXdCLFFBQUEsc3hEako0OWNNLFNBQVN4QixFQUFRd0IsR2tKNTljdkJ4QixFQUFBd0IsUUFBQSxrMENsSmsrY00sU0FBU3hCLEVBQVF3QixHbUpsK2N2QnhCLEVBQUF3QixRQUFBO0VuSncrY00sU0FBU3hCLEVBQVF3QixFQUFTNUgsSW9KeCtjaEMsU0FBQWtPLEdBU0EsWUFTQSxJQUFBc1AsR0FBQSxZQUVBLGdCQUFBdFAsRUFBQU0sSUFBQXNNLFdBQ0EwQyxFQUFBLFNBQUE1QyxFQUFBQyxFQUFBek0sR0FDQSxHQUFBUCxHQUFBUyxVQUFBcEssTUFDQWtLLEdBQUEsR0FBQUMsT0FBQVIsRUFBQSxFQUFBQSxFQUFBLElBQ0EsUUFBQTRQLEdBQUEsRUFBcUJBLEVBQUE1UCxFQUFXNFAsSUFDaENyUCxFQUFBcVAsRUFBQSxHQUFBblAsVUFBQW1QLEVBRUEsSUFBQTFNLFNBQUE4SixFQUNBLFNBQUF0YSxPQUNBLDRFQUtBLElBQUFzYSxFQUFBM1csT0FBQSxlQUFBd1osS0FBQTdDLEdBQ0EsU0FBQXRhLE9BQ0Esb0hBQ0FzYSxFQUlBLEtBQUFELEVBQUEsQ0FDQSxHQUFBRyxHQUFBLEVBQ0FYLEVBQUEsWUFDQVMsRUFBQWxCLFFBQUEsaUJBQ0EsTUFBQXZMLEdBQUEyTSxNQUVBLG9CQUFBblksVUFDQUEsUUFBQThFLE1BQUEwUyxFQUVBLEtBR0EsU0FBQTdaLE9BQUE2WixHQUNPLE1BQUFwUyxRQUtQNUIsRUFBQXdCLFFBQUE0VixJcEo0K2M4QnZiLEtBQUsyRixFQUFTNUgsRUFBb0IsS0FJMUQsU0FBU29HLEVBQVF3QixJcUozaWR2QixTQUFBcVMsR0FDQSxZQTJDQSxTQUFBb21DLEdBQUF2OUMsR0FJQSxHQUhBLGdCQUFBQSxLQUNBQSxFQUFBZzRDLE9BQUFoNEMsSUFFQSw2QkFBQTRhLEtBQUE1YSxHQUNBLFNBQUEyUixXQUFBLHlDQUVBLE9BQUEzUixHQUFBdzlDLGNBR0EsUUFBQUMsR0FBQS84QyxHQUlBLE1BSEEsZ0JBQUFBLEtBQ0FBLEVBQUFzM0MsT0FBQXQzQyxJQUVBQSxFQUlBLFFBQUFnOUMsR0FBQUMsR0FDQSxHQUFBNXhCLElBQ0EwQixLQUFBLFdBQ0EsR0FBQS9zQixHQUFBaTlDLEVBQUFqSyxPQUNBLFFBQWdCdGlCLEtBQUFuakIsU0FBQXZOLFlBVWhCLE9BTkFrOUMsR0FBQUMsV0FDQTl4QixFQUFBcmEsT0FBQXFhLFVBQUEsV0FDQSxNQUFBQSxLQUlBQSxFQUdBLFFBQUEreEIsR0FBQS9lLEdBQ0E5NUIsS0FBQW1kLE9BRUEyYyxZQUFBK2UsR0FDQS9lLEVBQUE3aEIsUUFBQSxTQUFBeGMsRUFBQVYsR0FDQWlGLEtBQUE4NEMsT0FBQS85QyxFQUFBVSxJQUNPdUUsTUFFRjg1QixHQUNMOStCLE9BQUEyVyxvQkFBQW1vQixHQUFBN2hCLFFBQUEsU0FBQWxkLEdBQ0FpRixLQUFBODRDLE9BQUEvOUMsRUFBQSsrQixFQUFBLytCLEtBQ09pRixNQTBEUCxRQUFBKzRDLEdBQUE5OUIsR0FDQSxNQUFBQSxHQUFBKzlCLFNBQ0FDLFFBQUFDLE9BQUEsR0FBQXhzQyxXQUFBLHNCQUVBdU8sRUFBQSs5QixVQUFBLEdBR0EsUUFBQUcsR0FBQUMsR0FDQSxVQUFBSCxTQUFBLFNBQUFJLEVBQUFILEdBQ0FFLEVBQUFFLE9BQUEsV0FDQUQsRUFBQUQsRUFBQW42QyxTQUVBbTZDLEVBQUFHLFFBQUEsV0FDQUwsRUFBQUUsRUFBQXo1QyxVQUtBLFFBQUE2NUMsR0FBQUMsR0FDQSxHQUFBTCxHQUFBLEdBQUFNLFlBQ0FDLEVBQUFSLEVBQUFDLEVBRUEsT0FEQUEsR0FBQVEsa0JBQUFILEdBQ0FFLEVBR0EsUUFBQUUsR0FBQUosR0FDQSxHQUFBTCxHQUFBLEdBQUFNLFlBQ0FDLEVBQUFSLEVBQUFDLEVBRUEsT0FEQUEsR0FBQVUsV0FBQUwsR0FDQUUsRUFHQSxRQUFBSSxHQUFBQyxHQUlBLE9BSEFDLEdBQUEsR0FBQUMsWUFBQUYsR0FDQUcsRUFBQSxHQUFBN3pDLE9BQUEyekMsRUFBQTk5QyxRQUVBRCxFQUFBLEVBQW1CQSxFQUFBKzlDLEVBQUE5OUMsT0FBaUJELElBQ3BDaStDLEVBQUFqK0MsR0FBQTYyQyxPQUFBcUgsYUFBQUgsRUFBQS85QyxHQUVBLE9BQUFpK0MsR0FBQW40QixLQUFBLElBR0EsUUFBQXE0QixHQUFBTCxHQUNBLEdBQUFBLEVBQUF4N0MsTUFDQSxNQUFBdzdDLEdBQUF4N0MsTUFBQSxFQUVBLElBQUF5N0MsR0FBQSxHQUFBQyxZQUFBRixFQUFBTSxXQUVBLE9BREFMLEdBQUF6K0MsSUFBQSxHQUFBMCtDLFlBQUFGLElBQ0FDLEVBQUFsRixPQUlBLFFBQUF3RixLQTBGQSxNQXpGQXY2QyxNQUFBZzVDLFVBQUEsRUFFQWg1QyxLQUFBdzZDLFVBQUEsU0FBQXYvQixHQUVBLEdBREFqYixLQUFBeTZDLFVBQUF4L0IsRUFDQUEsRUFFTyxtQkFBQUEsR0FDUGpiLEtBQUEwNkMsVUFBQXovQixNQUNPLElBQUEwOUIsRUFBQWMsTUFBQWtCLEtBQUExL0MsVUFBQTIvQyxjQUFBMy9CLEdBQ1BqYixLQUFBNjZDLFVBQUE1L0IsTUFDTyxJQUFBMDlCLEVBQUFtQyxVQUFBQyxTQUFBOS9DLFVBQUEyL0MsY0FBQTMvQixHQUNQamIsS0FBQWc3QyxjQUFBLy9CLE1BQ08sSUFBQTA5QixFQUFBc0MsY0FBQUMsZ0JBQUFqZ0QsVUFBQTIvQyxjQUFBMy9CLEdBQ1BqYixLQUFBMDZDLFVBQUF6L0IsRUFBQWhKLGVBQ08sSUFBQTBtQyxFQUFBd0MsYUFBQXhDLEVBQUFjLE1BQUEyQixFQUFBbmdDLEdBQ1BqYixLQUFBcTdDLGlCQUFBaEIsRUFBQXAvQixFQUFBODVCLFFBRUEvMEMsS0FBQXk2QyxVQUFBLEdBQUFFLE9BQUEzNkMsS0FBQXE3Qyx1QkFDTyxLQUFBMUMsRUFBQXdDLGNBQUFHLFlBQUFyZ0QsVUFBQTIvQyxjQUFBMy9CLEtBQUFzZ0MsRUFBQXRnQyxHQUdQLFNBQUF6aUIsT0FBQSw0QkFGQXdILE1BQUFxN0MsaUJBQUFoQixFQUFBcC9CLE9BZEFqYixNQUFBMDZDLFVBQUEsRUFtQkExNkMsTUFBQTg1QixRQUFBditCLElBQUEsa0JBQ0EsZ0JBQUEwZixHQUNBamIsS0FBQTg1QixRQUFBdCtCLElBQUEsMkNBQ1N3RSxLQUFBNjZDLFdBQUE3NkMsS0FBQTY2QyxVQUFBL2lELEtBQ1RrSSxLQUFBODVCLFFBQUF0K0IsSUFBQSxlQUFBd0UsS0FBQTY2QyxVQUFBL2lELE1BQ1M2Z0QsRUFBQXNDLGNBQUFDLGdCQUFBamdELFVBQUEyL0MsY0FBQTMvQixJQUNUamIsS0FBQTg1QixRQUFBdCtCLElBQUEsb0VBS0FtOUMsRUFBQWMsT0FDQXo1QyxLQUFBeTVDLEtBQUEsV0FDQSxHQUFBK0IsR0FBQXpDLEVBQUEvNEMsS0FDQSxJQUFBdzdDLEVBQ0EsTUFBQUEsRUFHQSxJQUFBeDdDLEtBQUE2NkMsVUFDQSxNQUFBNUIsU0FBQUksUUFBQXI1QyxLQUFBNjZDLFVBQ1MsSUFBQTc2QyxLQUFBcTdDLGlCQUNULE1BQUFwQyxTQUFBSSxRQUFBLEdBQUFzQixPQUFBMzZDLEtBQUFxN0MsbUJBQ1MsSUFBQXI3QyxLQUFBZzdDLGNBQ1QsU0FBQXhpRCxPQUFBLHVDQUVBLE9BQUF5Z0QsU0FBQUksUUFBQSxHQUFBc0IsT0FBQTM2QyxLQUFBMDZDLGNBSUExNkMsS0FBQW03QyxZQUFBLFdBQ0EsTUFBQW43QyxNQUFBcTdDLGlCQUNBdEMsRUFBQS80QyxPQUFBaTVDLFFBQUFJLFFBQUFyNUMsS0FBQXE3QyxrQkFFQXI3QyxLQUFBeTVDLE9BQUE5ZixLQUFBNmYsS0FLQXg1QyxLQUFBcWlDLEtBQUEsV0FDQSxHQUFBbVosR0FBQXpDLEVBQUEvNEMsS0FDQSxJQUFBdzdDLEVBQ0EsTUFBQUEsRUFHQSxJQUFBeDdDLEtBQUE2NkMsVUFDQSxNQUFBaEIsR0FBQTc1QyxLQUFBNjZDLFVBQ08sSUFBQTc2QyxLQUFBcTdDLGlCQUNQLE1BQUFwQyxTQUFBSSxRQUFBVSxFQUFBLzVDLEtBQUFxN0Msa0JBQ08sSUFBQXI3QyxLQUFBZzdDLGNBQ1AsU0FBQXhpRCxPQUFBLHVDQUVBLE9BQUF5Z0QsU0FBQUksUUFBQXI1QyxLQUFBMDZDLFlBSUEvQixFQUFBbUMsV0FDQTk2QyxLQUFBODZDLFNBQUEsV0FDQSxNQUFBOTZDLE1BQUFxaUMsT0FBQTFJLEtBQUE4aEIsS0FJQXo3QyxLQUFBd2MsS0FBQSxXQUNBLE1BQUF4YyxNQUFBcWlDLE9BQUExSSxLQUFBeGdDLEtBQUFDLFFBR0E0RyxLQU1BLFFBQUEwN0MsR0FBQTdoQixHQUNBLEdBQUE4aEIsR0FBQTloQixFQUFBd2UsYUFDQSxPQUFBdUQsR0FBQW5oRCxRQUFBa2hELElBQUEsRUFBQUEsRUFBQTloQixFQUdBLFFBQUFnaUIsR0FBQXo0QixFQUFBamxCLEdBQ0FBLE9BQ0EsSUFBQThjLEdBQUE5YyxFQUFBOGMsSUFFQSxvQkFBQW1JLEdBQ0FwakIsS0FBQTZpQixJQUFBTyxNQUNLLENBQ0wsR0FBQUEsRUFBQTQxQixTQUNBLFNBQUF0c0MsV0FBQSxlQUVBMU0sTUFBQTZpQixJQUFBTyxFQUFBUCxJQUNBN2lCLEtBQUEwNUIsWUFBQXRXLEVBQUFzVyxZQUNBdjdCLEVBQUEyN0IsVUFDQTk1QixLQUFBODVCLFFBQUEsR0FBQStlLEdBQUF6MUIsRUFBQTBXLFVBRUE5NUIsS0FBQTY1QixPQUFBelcsRUFBQXlXLE9BQ0E3NUIsS0FBQTg3QyxLQUFBMTRCLEVBQUEwNEIsS0FDQTdnQyxHQUFBLE1BQUFtSSxFQUFBcTNCLFlBQ0F4L0IsRUFBQW1JLEVBQUFxM0IsVUFDQXIzQixFQUFBNDFCLFVBQUEsR0FZQSxHQVJBaDVDLEtBQUEwNUIsWUFBQXY3QixFQUFBdTdCLGFBQUExNUIsS0FBQTA1QixhQUFBLFFBQ0F2N0IsRUFBQTI3QixTQUFBOTVCLEtBQUE4NUIsVUFDQTk1QixLQUFBODVCLFFBQUEsR0FBQStlLEdBQUExNkMsRUFBQTI3QixVQUVBOTVCLEtBQUE2NUIsT0FBQTZoQixFQUFBdjlDLEVBQUEwN0IsUUFBQTc1QixLQUFBNjVCLFFBQUEsT0FDQTc1QixLQUFBODdDLEtBQUEzOUMsRUFBQTI5QyxNQUFBOTdDLEtBQUE4N0MsTUFBQSxLQUNBOTdDLEtBQUErN0MsU0FBQSxNQUVBLFFBQUEvN0MsS0FBQTY1QixRQUFBLFNBQUE3NUIsS0FBQTY1QixTQUFBNWUsRUFDQSxTQUFBdk8sV0FBQSw0Q0FFQTFNLE1BQUF3NkMsVUFBQXYvQixHQU9BLFFBQUF3Z0MsR0FBQXhnQyxHQUNBLEdBQUErZ0MsR0FBQSxHQUFBakIsU0FTQSxPQVJBOS9CLEdBQUFvekIsT0FBQXZyQixNQUFBLEtBQUE3SyxRQUFBLFNBQUFna0MsR0FDQSxHQUFBQSxFQUFBLENBQ0EsR0FBQW41QixHQUFBbTVCLEVBQUFuNUIsTUFBQSxLQUNBL25CLEVBQUErbkIsRUFBQTJyQixRQUFBNzhCLFFBQUEsV0FDQW5XLEVBQUFxbkIsRUFBQWQsS0FBQSxLQUFBcFEsUUFBQSxVQUNBb3FDLEdBQUFsRCxPQUFBbjVCLG1CQUFBNWtCLEdBQUE0a0IsbUJBQUFsa0IsT0FHQXVnRCxFQUdBLFFBQUFFLEdBQUFDLEdBQ0EsR0FBQXJpQixHQUFBLEdBQUErZSxFQVNBLE9BUkFzRCxHQUFBcjVCLE1BQUEsUUFBQTdLLFFBQUEsU0FBQW1rQyxHQUNBLEdBQUE1TixHQUFBNE4sRUFBQXQ1QixNQUFBLEtBQ0FwTixFQUFBODRCLEVBQUFDLFFBQUFKLE1BQ0EsSUFBQTM0QixFQUFBLENBQ0EsR0FBQWphLEdBQUEreUMsRUFBQXhzQixLQUFBLEtBQUFxc0IsTUFDQXZVLEdBQUFnZixPQUFBcGpDLEVBQUFqYSxNQUdBcStCLEVBS0EsUUFBQXVpQixHQUFBQyxFQUFBbitDLEdBQ0FBLElBQ0FBLE1BR0E2QixLQUFBbEksS0FBQSxVQUNBa0ksS0FBQS9HLE9BQUEsVUFBQWtGLEtBQUFsRixPQUFBLElBQ0ErRyxLQUFBaTFCLEdBQUFqMUIsS0FBQS9HLFFBQUEsS0FBQStHLEtBQUEvRyxPQUFBLElBQ0ErRyxLQUFBdThDLFdBQUEsY0FBQXArQyxLQUFBbytDLFdBQUEsS0FDQXY4QyxLQUFBODVCLFFBQUEsR0FBQStlLEdBQUExNkMsRUFBQTI3QixTQUNBOTVCLEtBQUE2aUIsSUFBQTFrQixFQUFBMGtCLEtBQUEsR0FDQTdpQixLQUFBdzZDLFVBQUE4QixHQTFYQSxJQUFBcHFDLEVBQUEwVSxNQUFBLENBSUEsR0FBQSt4QixJQUNBc0MsYUFBQSxtQkFBQS9vQyxHQUNBMG1DLFNBQUEsVUFBQTFtQyxJQUFBLFlBQUF6RixRQUNBZ3RDLEtBQUEsY0FBQXZuQyxJQUFBLFFBQUFBLElBQUEsV0FDQSxJQUVBLE1BREEsSUFBQXlvQyxPQUNBLEVBQ08sTUFBQXJoRCxHQUNQLGFBR0F3aEQsU0FBQSxZQUFBNW9DLEdBQ0FpcEMsWUFBQSxlQUFBanBDLEdBR0EsSUFBQXltQyxFQUFBd0MsWUFDQSxHQUFBcUIsSUFDQSxxQkFDQSxzQkFDQSw2QkFDQSxzQkFDQSx1QkFDQSxzQkFDQSx1QkFDQSx3QkFDQSx5QkFHQXBCLEVBQUEsU0FBQWg3QyxHQUNBLE1BQUFBLElBQUFxOEMsU0FBQXhoRCxVQUFBMi9DLGNBQUF4NkMsSUFHQW03QyxFQUFBRCxZQUFBb0IsUUFBQSxTQUFBdDhDLEdBQ0EsTUFBQUEsSUFBQW84QyxFQUFBL2hELFFBQUFPLE9BQUFDLFVBQUFnWCxTQUFBL1gsS0FBQWtHLEtBQUEsRUFzREF5NEMsR0FBQTU5QyxVQUFBNjlDLE9BQUEsU0FBQS85QyxFQUFBVSxHQUNBVixFQUFBdTlDLEVBQUF2OUMsR0FDQVUsRUFBQSs4QyxFQUFBLzhDLEVBQ0EsSUFBQWtoRCxHQUFBMzhDLEtBQUFtZCxJQUFBcGlCLEVBQ0FpRixNQUFBbWQsSUFBQXBpQixHQUFBNGhELElBQUEsSUFBQWxoRCxLQUdBbzlDLEVBQUE1OUMsVUFBQSxnQkFBQUYsU0FDQWlGLE1BQUFtZCxJQUFBbTdCLEVBQUF2OUMsS0FHQTg5QyxFQUFBNTlDLFVBQUFNLElBQUEsU0FBQVIsR0FFQSxNQURBQSxHQUFBdTlDLEVBQUF2OUMsR0FDQWlGLEtBQUE0OEMsSUFBQTdoRCxHQUFBaUYsS0FBQW1kLElBQUFwaUIsR0FBQSxNQUdBODlDLEVBQUE1OUMsVUFBQTJoRCxJQUFBLFNBQUE3aEQsR0FDQSxNQUFBaUYsTUFBQW1kLElBQUFqaUIsZUFBQW85QyxFQUFBdjlDLEtBR0E4OUMsRUFBQTU5QyxVQUFBTyxJQUFBLFNBQUFULEVBQUFVLEdBQ0F1RSxLQUFBbWQsSUFBQW03QixFQUFBdjlDLElBQUF5OUMsRUFBQS84QyxJQUdBbzlDLEVBQUE1OUMsVUFBQWdkLFFBQUEsU0FBQTNmLEVBQUF1a0QsR0FDQSxPQUFBOWhELEtBQUFpRixNQUFBbWQsSUFDQW5kLEtBQUFtZCxJQUFBamlCLGVBQUFILElBQ0F6QyxFQUFBNEIsS0FBQTJpRCxFQUFBNzhDLEtBQUFtZCxJQUFBcGlCLEtBQUFpRixPQUtBNjRDLEVBQUE1OUMsVUFBQWtXLEtBQUEsV0FDQSxHQUFBdW5DLEtBRUEsT0FEQTE0QyxNQUFBaVksUUFBQSxTQUFBeGMsRUFBQVYsR0FBd0MyOUMsRUFBQWgrQyxLQUFBSyxLQUN4QzA5QyxFQUFBQyxJQUdBRyxFQUFBNTlDLFVBQUF5eEIsT0FBQSxXQUNBLEdBQUFnc0IsS0FFQSxPQURBMTRDLE1BQUFpWSxRQUFBLFNBQUF4YyxHQUFrQ2k5QyxFQUFBaCtDLEtBQUFlLEtBQ2xDZzlDLEVBQUFDLElBR0FHLEVBQUE1OUMsVUFBQXF5QyxRQUFBLFdBQ0EsR0FBQW9MLEtBRUEsT0FEQTE0QyxNQUFBaVksUUFBQSxTQUFBeGMsRUFBQVYsR0FBd0MyOUMsRUFBQWgrQyxNQUFBSyxFQUFBVSxNQUN4Q2c5QyxFQUFBQyxJQUdBQyxFQUFBQyxXQUNBQyxFQUFBNTlDLFVBQUF3UixPQUFBcWEsVUFBQSt4QixFQUFBNTlDLFVBQUFxeUMsUUFxSkEsSUFBQXNPLElBQUEsNkNBNENBQyxHQUFBNWdELFVBQUE2aEQsTUFBQSxXQUNBLFVBQUFqQixHQUFBNzdDLE1BQThCaWIsS0FBQWpiLEtBQUF5NkMsYUE2QjlCRixFQUFBcmdELEtBQUEyaEQsRUFBQTVnRCxXQWdCQXMvQyxFQUFBcmdELEtBQUFtaUQsRUFBQXBoRCxXQUVBb2hELEVBQUFwaEQsVUFBQTZoRCxNQUFBLFdBQ0EsVUFBQVQsR0FBQXI4QyxLQUFBeTZDLFdBQ0F4aEQsT0FBQStHLEtBQUEvRyxPQUNBc2pELFdBQUF2OEMsS0FBQXU4QyxXQUNBemlCLFFBQUEsR0FBQStlLEdBQUE3NEMsS0FBQTg1QixTQUNBalgsSUFBQTdpQixLQUFBNmlCLE9BSUF3NUIsRUFBQTE4QyxNQUFBLFdBQ0EsR0FBQTA2QixHQUFBLEdBQUFnaUIsR0FBQSxNQUF1Q3BqRCxPQUFBLEVBQUFzakQsV0FBQSxJQUV2QyxPQURBbGlCLEdBQUF2aUMsS0FBQSxRQUNBdWlDLEVBR0EsSUFBQTBpQixJQUFBLG9CQUVBVixHQUFBVyxTQUFBLFNBQUFuNkIsRUFBQTVwQixHQUNBLEdBQUE4akQsRUFBQXRpRCxRQUFBeEIsTUFBQSxFQUNBLFNBQUFna0QsWUFBQSxzQkFHQSxXQUFBWixHQUFBLE1BQStCcGpELFNBQUE2Z0MsU0FBMEJwMkIsU0FBQW1mLE1BR3pEM1EsRUFBQTJtQyxVQUNBM21DLEVBQUEycEMsVUFDQTNwQyxFQUFBbXFDLFdBRUFucUMsRUFBQTBVLE1BQUEsU0FBQXhELEVBQUE4NUIsR0FDQSxVQUFBakUsU0FBQSxTQUFBSSxFQUFBSCxHQUNBLEdBQUF6Z0QsR0FBQSxHQUFBb2pELEdBQUF6NEIsRUFBQTg1QixHQUNBQyxFQUFBLEdBQUE1a0QsZUFFQTRrRCxHQUFBN0QsT0FBQSxXQUNBLEdBQUFuN0MsSUFDQWxGLE9BQUFra0QsRUFBQWxrRCxPQUNBc2pELFdBQUFZLEVBQUFaLFdBQ0F6aUIsUUFBQW9pQixFQUFBaUIsRUFBQUMseUJBQUEsSUFFQWovQyxHQUFBMGtCLElBQUEsZUFBQXM2QixLQUFBRSxZQUFBbC9DLEVBQUEyN0IsUUFBQXYrQixJQUFBLGdCQUNBLElBQUEwZixHQUFBLFlBQUFraUMsS0FBQTlpQixTQUFBOGlCLEVBQUE5akQsWUFDQWdnRCxHQUFBLEdBQUFnRCxHQUFBcGhDLEVBQUE5YyxLQUdBZy9DLEVBQUE1RCxRQUFBLFdBQ0FMLEVBQUEsR0FBQXhzQyxXQUFBLDRCQUdBeXdDLEVBQUFHLFVBQUEsV0FDQXBFLEVBQUEsR0FBQXhzQyxXQUFBLDRCQUdBeXdDLEVBQUF4a0QsS0FBQUYsRUFBQW9oQyxPQUFBcGhDLEVBQUFvcUIsS0FBQSxHQUVBLFlBQUFwcUIsRUFBQWloQyxjQUNBeWpCLEVBQUFJLGlCQUFBLEdBR0EsZ0JBQUFKLElBQUF4RSxFQUFBYyxPQUNBMEQsRUFBQUssYUFBQSxRQUdBL2tELEVBQUFxaEMsUUFBQTdoQixRQUFBLFNBQUF4YyxFQUFBVixHQUNBb2lELEVBQUFNLGlCQUFBMWlELEVBQUFVLEtBR0EwaEQsRUFBQXRrRCxLQUFBLG1CQUFBSixHQUFBZ2lELFVBQUEsS0FBQWhpRCxFQUFBZ2lELGNBR0F2b0MsRUFBQTBVLE1BQUE4MkIsVUFBQSxJQUNDLG1CQUFBeHJDLFdBQUFsUyxPckpramRLLFNBQVMzQixFQUFRd0IsR3NKMy9kdkJ4QixFQUFBd0IsU0FBQSIsImZpbGUiOiJtb2JpbGUuMTgzMWJiN2ZiYWMzYWJkZjRkZTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuLyoqKioqKi8gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbi8qKioqKiovIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuLyoqKioqKi8gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4vKioqKioqLyBcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbi8qKioqKiovIFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHRpbWVvdXRcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrKGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1cGRhdGUpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYmVmNDViMC9zcmMvc2hhcmVkL3V0aWxzL2NhbkRlZmluZVByb3BlcnR5LmpzXHJcbi8qKioqKiovIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbi8qKioqKiovIFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJ4XCIsIHtcclxuLyoqKioqKi8gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR9IGNhdGNoKHgpIHtcclxuLyoqKioqKi8gXHRcdC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIxODMxYmI3ZmJhYzNhYmRmNGRlM1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuLyoqKioqKi8gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIChmdW5jdGlvbihuYW1lKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0obmFtZSkpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZW5zdXJlKGNodW5rSWQsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuLyoqKioqKi8gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG51bGwsIGZuKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdHZhbHVlOiBlbnN1cmVcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRmbi5lID0gZW5zdXJlO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIGZuO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhvdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbi8qKioqKiovIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJudW1iZXJcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbi8qKioqKiovIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuLyoqKioqKi8gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbi8qKioqKiovIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuLyoqKioqKi8gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuLyoqKioqKi8gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHksIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBhcHBseSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4vKioqKioqLyBcdFx0aG90RG93bmxvYWRNYW5pZmVzdChmdW5jdGlvbihlcnIsIHVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRpZighdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB1cGRhdGUuYy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcFt1cGRhdGUuY1tpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbi8qKioqKiovIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbi8qKioqKiovIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbi8qKioqKiovIFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRob3RDYWxsYmFjayA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRpZighY2FsbGJhY2spIHJldHVybjtcclxuLyoqKioqKi8gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSwgY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgbW9kdWxlSWQgKyBcIiBpbiBcIiArIHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIFtvdXRkYXRlZE1vZHVsZXMsIG91dGRhdGVkRGVwZW5kZW5jaWVzXTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuLyoqKioqKi8gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0WzBdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdFsxXSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0WzFdW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuLyoqKioqKi8gXHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2Iob3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4vKioqKioqLyBcdFx0aWYoZXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbi8qKioqKiovIFx0XHRcdHBhcmVudHM6IGhvdEN1cnJlbnRQYXJlbnRzLFxuLyoqKioqKi8gXHRcdFx0Y2hpbGRyZW46IFtdXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImh0dHA6Ly9oNWFwcC43ZHlrLmNvbS9hbWEvN2R5ay9kaXN0L1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vc3R5bGVzaGVldHMvc3R5bGUuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX0FwcCA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXHRcblx0dmFyIF9BcHAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXBwKTtcblx0XG5cdHZhciBfSG90ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdFxuXHR2YXIgX0hvdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib3QpO1xuXHRcblx0dmFyIF9UdXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXHRcblx0dmFyIF9UdXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UdXRvcik7XG5cdFxuXHR2YXIgX0FjY291bnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfQWNjb3VudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY2NvdW50KTtcblx0XG5cdHZhciBfTGl0ZW5lZExpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfTGl0ZW5lZExpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGl0ZW5lZExpc3QpO1xuXHRcblx0dmFyIF9Bc2tlZE1lTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oOTApO1xuXHRcblx0dmFyIF9Bc2tlZE1lTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Bc2tlZE1lTGlzdCk7XG5cdFxuXHR2YXIgX0lBc2tlZExpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0XG5cdHZhciBfSUFza2VkTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JQXNrZWRMaXN0KTtcblx0XG5cdHZhciBfQWNjb3VudEVkaXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0XG5cdHZhciBfQWNjb3VudEVkaXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWNjb3VudEVkaXQpO1xuXHRcblx0dmFyIF9RdWVzdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRcblx0dmFyIF9RdWVzdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWVzdGlvbik7XG5cdFxuXHR2YXIgX1R1dG9ySW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0XG5cdHZhciBfVHV0b3JJbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UdXRvckluZGV4KTtcblx0XG5cdHZhciBfVHV0b3JTaGFyZSA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXHRcblx0dmFyIF9UdXRvclNoYXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R1dG9yU2hhcmUpO1xuXHRcblx0dmFyIF9Vc2VySW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0XG5cdHZhciBfVXNlckluZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1VzZXJJbmRleCk7XG5cdFxuXHR2YXIgX0Fuc3dlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF9BbnN3ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQW5zd2VyKTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG5cdFxuXHR2YXIgX1NlYXJjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWFyY2gpO1xuXHRcblx0dmFyIF9TZWFyY2hUaXBzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX1NlYXJjaFRpcHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoVGlwcyk7XG5cdFxuXHR2YXIgX1NlYXJjaFJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9TZWFyY2hSZXN1bHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoUmVzdWx0KTtcblx0XG5cdHZhciBfUmVzdWx0TGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRcblx0dmFyIF9SZXN1bHRMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jlc3VsdExpc3QpO1xuXHRcblx0dmFyIF9QYXlJbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXHRcblx0dmFyIF9QYXlJbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXlJbmRleCk7XG5cdFxuXHR2YXIgX1Rlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblx0XG5cdHZhciBfVGVzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXN0KTtcblx0XG5cdHZhciBfY29uZmlndXJlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cdFxuXHR2YXIgX2NvbmZpZ3VyZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZ3VyZVN0b3JlKTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgVXNlclNoYXJlIGZyb20gJy4vY29udGFpbmVycy9Vc2VyU2hhcmUnXG5cdHZhciBzdG9yZSA9ICgwLCBfY29uZmlndXJlU3RvcmUyLmRlZmF1bHQpKCk7XG5cdFxuXHRcblx0X3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcblx0ICBjb25zb2xlLmxvZygnXFx1NTNEMVxcdTkwMDFcXHU1RjUzXFx1NTI0RFxcdTdGNTFcXHU1NzQwXFx1NTIzMFxcdThDMzdcXHU2QjRDXFx1N0VERlxcdThCQTEnKTtcblx0ICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24pO1xuXHQgIGlmICghd2luZG93LmxhbmRQYWdlKSB7XG5cdCAgICB3aW5kb3cubGFuZFBhZ2UgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cdCAgfVxuXHQgIGlmIChnYSkge1xuXHQgICAgZ2EoJ3NlbmQnLCAncGFnZXZpZXcnLCB7XG5cdCAgICAgIHBhZ2U6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLCAvLyDmiYvliqjorr7nva4gcGF0aFxuXHQgICAgICB0aXRsZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIC8vIOS5n+WPr+S7peaJi+WKqOiuvue9rumhtemdouagh+mimFxuXHQgICAgfSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdF9yZWFjdERvbTIuZGVmYXVsdC5yZW5kZXIoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgX3JlYWN0UmVkdXguUHJvdmlkZXIsXG5cdCAgeyBzdG9yZTogc3RvcmUgfSxcblx0ICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgIF9yZWFjdFJvdXRlci5Sb3V0ZXIsXG5cdCAgICB7IGhpc3Rvcnk6IF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeSB9LFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6ICcvYW1hLzdkeWsvdGVzdCcsIGNvbXBvbmVudDogX1Rlc3QyLmRlZmF1bHQgfSksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX3JlYWN0Um91dGVyLlJvdXRlLFxuXHQgICAgICB7IHBhdGg6IF9jb25maWcuYmFzZVVybCwgY29tcG9uZW50OiBfQXBwMi5kZWZhdWx0IH0sXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5JbmRleFJvdXRlLCB7IGNvbXBvbmVudDogX0hvdDIuZGVmYXVsdCB9KSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6IF9jb25maWcuYmFzZVVybCArIFwicGF5XCIsIGNvbXBvbmVudDogX1BheUluZGV4Mi5kZWZhdWx0IH0pLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJ0dXRvclwiLCBjb21wb25lbnQ6IF9UdXRvcjIuZGVmYXVsdCB9KSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX3JlYWN0Um91dGVyLlJvdXRlLFxuXHQgICAgICAgIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJhY2NvdW50XCIsIGNvbXBvbmVudDogX0FjY291bnQyLmRlZmF1bHQgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuSW5kZXhSb3V0ZSwgeyBjb21wb25lbnQ6IF9MaXRlbmVkTGlzdDIuZGVmYXVsdCB9KSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJhY2NvdW50L0Fza2VkTWVMaXN0XCIsIGNvbXBvbmVudDogX0Fza2VkTWVMaXN0Mi5kZWZhdWx0IH0pLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiBfY29uZmlnLmJhc2VVcmwgKyBcImFjY291bnQvSUFza2VkTGlzdFwiLCBjb21wb25lbnQ6IF9JQXNrZWRMaXN0Mi5kZWZhdWx0IH0pXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiBfY29uZmlnLmJhc2VVcmwgKyBcImFuc3dlci86aWRcIiwgY29tcG9uZW50OiBfQW5zd2VyMi5kZWZhdWx0IH0pLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJlZGl0XCIsIGNvbXBvbmVudDogX0FjY291bnRFZGl0Mi5kZWZhdWx0IH0pLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJxdWVzdGlvbi86aWRcIiwgY29tcG9uZW50OiBfUXVlc3Rpb24yLmRlZmF1bHQgfSksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9yZWFjdFJvdXRlci5Sb3V0ZSxcblx0ICAgICAgICB7IHBhdGg6IF9jb25maWcuYmFzZVVybCArICd0dXRvcicgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgJ3R1dG9yLzppZCcsIGNvbXBvbmVudDogX1R1dG9ySW5kZXgyLmRlZmF1bHQgfSksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6IF9jb25maWcuYmFzZVVybCArICd0dXRvci9zaGFyZS86aWQnLCBjb21wb25lbnQ6IF9UdXRvclNoYXJlMi5kZWZhdWx0IH0pXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiBfY29uZmlnLmJhc2VVcmwgKyBcInVzZXIvOmlkXCIsIGNvbXBvbmVudDogX1VzZXJJbmRleDIuZGVmYXVsdCB9KSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX3JlYWN0Um91dGVyLlJvdXRlLFxuXHQgICAgICAgIHsgcGF0aDogX2NvbmZpZy5iYXNlVXJsICsgXCJzZWFyY2hcIiwgY29tcG9uZW50OiBfU2VhcmNoMi5kZWZhdWx0IH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6IF9jb25maWcuYmFzZVVybCArIFwic2VhcmNoL3Jlc3VsdC86cXVlcnlcIiwgY29tcG9uZW50OiBfU2VhcmNoUmVzdWx0Mi5kZWZhdWx0IH0pLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiBfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC9saXN0Lzp0eXBlLzpxdWVyeVwiLCBjb21wb25lbnQ6IF9SZXN1bHRMaXN0Mi5kZWZhdWx0IH0pLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiBfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC90aXBzXCIsIGNvbXBvbmVudDogX1NlYXJjaFRpcHMyLmRlZmF1bHQgfSlcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgIClcblx0KSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG5cdC8vXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG5cdH1cblx0ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9ICgpKVxuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaChlKXtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuXHQgICAgICAgIH0gY2F0Y2goZSl7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHRcblx0fVxuXHRmdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG5cdCAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cdCAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG5cdCAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuXHQgICAgfSBjYXRjaCAoZSl7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKXtcblx0ICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG5cdCAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcblx0ICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdFxuXHR9XG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgZG9tYWluID0gZXhwb3J0cy5kb21haW4gPSAnaHR0cDovL2g1YXBwLjdkeWsuY29tL2FtYS9hcGkvcHVibGljJztcblx0dmFyIGJhc2VVcmwgPSBleHBvcnRzLmJhc2VVcmwgPSBcIi9hbWEvN2R5ay9cIjtcblx0dmFyIGRvbWFpblBhdGggPSBleHBvcnRzLmRvbWFpblBhdGggPSAnaHR0cDovL2g1YXBwLjdkeWsuY29tL2FtYS83ZHlrLyc7XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNyZWF0ZU1lbW9yeUhpc3RvcnkgPSBleHBvcnRzLmhhc2hIaXN0b3J5ID0gZXhwb3J0cy5icm93c2VySGlzdG9yeSA9IGV4cG9ydHMuYXBwbHlSb3V0ZXJNaWRkbGV3YXJlID0gZXhwb3J0cy5mb3JtYXRQYXR0ZXJuID0gZXhwb3J0cy51c2VSb3V0ZXJIaXN0b3J5ID0gZXhwb3J0cy5tYXRjaCA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSBleHBvcnRzLmxvY2F0aW9uU2hhcGUgPSBleHBvcnRzLlByb3BUeXBlcyA9IGV4cG9ydHMuUm91dGluZ0NvbnRleHQgPSBleHBvcnRzLlJvdXRlckNvbnRleHQgPSBleHBvcnRzLmNyZWF0ZVJvdXRlcyA9IGV4cG9ydHMudXNlUm91dGVzID0gZXhwb3J0cy5Sb3V0ZUNvbnRleHQgPSBleHBvcnRzLkxpZmVjeWNsZSA9IGV4cG9ydHMuSGlzdG9yeSA9IGV4cG9ydHMuUm91dGUgPSBleHBvcnRzLlJlZGlyZWN0ID0gZXhwb3J0cy5JbmRleFJvdXRlID0gZXhwb3J0cy5JbmRleFJlZGlyZWN0ID0gZXhwb3J0cy53aXRoUm91dGVyID0gZXhwb3J0cy5JbmRleExpbmsgPSBleHBvcnRzLkxpbmsgPSBleHBvcnRzLlJvdXRlciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjcmVhdGVSb3V0ZXMnLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXM7XG5cdCAgfVxuXHR9KTtcblx0XG5cdHZhciBfUHJvcFR5cGVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdsb2NhdGlvblNoYXBlJywge1xuXHQgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICByZXR1cm4gX1Byb3BUeXBlczIubG9jYXRpb25TaGFwZTtcblx0ICB9XG5cdH0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JvdXRlclNoYXBlJywge1xuXHQgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICByZXR1cm4gX1Byb3BUeXBlczIucm91dGVyU2hhcGU7XG5cdCAgfVxuXHR9KTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2Zvcm1hdFBhdHRlcm4nLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm47XG5cdCAgfVxuXHR9KTtcblx0XG5cdHZhciBfUm91dGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KTtcblx0XG5cdHZhciBfUm91dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlcjIpO1xuXHRcblx0dmFyIF9MaW5rMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9MaW5rMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmsyKTtcblx0XG5cdHZhciBfSW5kZXhMaW5rMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblx0XG5cdHZhciBfSW5kZXhMaW5rMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4TGluazIpO1xuXHRcblx0dmFyIF93aXRoUm91dGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XG5cdHZhciBfd2l0aFJvdXRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoUm91dGVyMik7XG5cdFxuXHR2YXIgX0luZGV4UmVkaXJlY3QyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXHRcblx0dmFyIF9JbmRleFJlZGlyZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4UmVkaXJlY3QyKTtcblx0XG5cdHZhciBfSW5kZXhSb3V0ZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG5cdFxuXHR2YXIgX0luZGV4Um91dGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXhSb3V0ZTIpO1xuXHRcblx0dmFyIF9SZWRpcmVjdDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblx0XG5cdHZhciBfUmVkaXJlY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVkaXJlY3QyKTtcblx0XG5cdHZhciBfUm91dGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXHRcblx0dmFyIF9Sb3V0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZTIpO1xuXHRcblx0dmFyIF9IaXN0b3J5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfSGlzdG9yeTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IaXN0b3J5Mik7XG5cdFxuXHR2YXIgX0xpZmVjeWNsZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cdFxuXHR2YXIgX0xpZmVjeWNsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaWZlY3ljbGUyKTtcblx0XG5cdHZhciBfUm91dGVDb250ZXh0MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblx0XG5cdHZhciBfUm91dGVDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlQ29udGV4dDIpO1xuXHRcblx0dmFyIF91c2VSb3V0ZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzcpO1xuXHRcblx0dmFyIF91c2VSb3V0ZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVzMik7XG5cdFxuXHR2YXIgX1JvdXRlckNvbnRleHQyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX1JvdXRlckNvbnRleHQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyQ29udGV4dDIpO1xuXHRcblx0dmFyIF9Sb3V0aW5nQ29udGV4dDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNik7XG5cdFxuXHR2YXIgX1JvdXRpbmdDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRpbmdDb250ZXh0Mik7XG5cdFxuXHR2YXIgX1Byb3BUeXBlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9wVHlwZXMyKTtcblx0XG5cdHZhciBfbWF0Y2gyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXHRcblx0dmFyIF9tYXRjaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRjaDIpO1xuXHRcblx0dmFyIF91c2VSb3V0ZXJIaXN0b3J5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRcblx0dmFyIF91c2VSb3V0ZXJIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVJvdXRlckhpc3RvcnkyKTtcblx0XG5cdHZhciBfYXBwbHlSb3V0ZXJNaWRkbGV3YXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcblx0XG5cdHZhciBfYXBwbHlSb3V0ZXJNaWRkbGV3YXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5Um91dGVyTWlkZGxld2FyZTIpO1xuXHRcblx0dmFyIF9icm93c2VySGlzdG9yeTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHR2YXIgX2Jyb3dzZXJIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jyb3dzZXJIaXN0b3J5Mik7XG5cdFxuXHR2YXIgX2hhc2hIaXN0b3J5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0XG5cdHZhciBfaGFzaEhpc3RvcnkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzaEhpc3RvcnkyKTtcblx0XG5cdHZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdHZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVNZW1vcnlIaXN0b3J5Mik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5Sb3V0ZXIgPSBfUm91dGVyMy5kZWZhdWx0OyAvKiBjb21wb25lbnRzICovXG5cdFxuXHRleHBvcnRzLkxpbmsgPSBfTGluazMuZGVmYXVsdDtcblx0ZXhwb3J0cy5JbmRleExpbmsgPSBfSW5kZXhMaW5rMy5kZWZhdWx0O1xuXHRleHBvcnRzLndpdGhSb3V0ZXIgPSBfd2l0aFJvdXRlcjMuZGVmYXVsdDtcblx0XG5cdC8qIGNvbXBvbmVudHMgKGNvbmZpZ3VyYXRpb24pICovXG5cdFxuXHRleHBvcnRzLkluZGV4UmVkaXJlY3QgPSBfSW5kZXhSZWRpcmVjdDMuZGVmYXVsdDtcblx0ZXhwb3J0cy5JbmRleFJvdXRlID0gX0luZGV4Um91dGUzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUmVkaXJlY3QgPSBfUmVkaXJlY3QzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUm91dGUgPSBfUm91dGUzLmRlZmF1bHQ7XG5cdFxuXHQvKiBtaXhpbnMgKi9cblx0XG5cdGV4cG9ydHMuSGlzdG9yeSA9IF9IaXN0b3J5My5kZWZhdWx0O1xuXHRleHBvcnRzLkxpZmVjeWNsZSA9IF9MaWZlY3ljbGUzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUm91dGVDb250ZXh0ID0gX1JvdXRlQ29udGV4dDMuZGVmYXVsdDtcblx0XG5cdC8qIHV0aWxzICovXG5cdFxuXHRleHBvcnRzLnVzZVJvdXRlcyA9IF91c2VSb3V0ZXMzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuUm91dGVyQ29udGV4dCA9IF9Sb3V0ZXJDb250ZXh0My5kZWZhdWx0O1xuXHRleHBvcnRzLlJvdXRpbmdDb250ZXh0ID0gX1JvdXRpbmdDb250ZXh0My5kZWZhdWx0O1xuXHRleHBvcnRzLlByb3BUeXBlcyA9IF9Qcm9wVHlwZXMzLmRlZmF1bHQ7XG5cdGV4cG9ydHMubWF0Y2ggPSBfbWF0Y2gzLmRlZmF1bHQ7XG5cdGV4cG9ydHMudXNlUm91dGVySGlzdG9yeSA9IF91c2VSb3V0ZXJIaXN0b3J5My5kZWZhdWx0O1xuXHRleHBvcnRzLmFwcGx5Um91dGVyTWlkZGxld2FyZSA9IF9hcHBseVJvdXRlck1pZGRsZXdhcmUzLmRlZmF1bHQ7XG5cdFxuXHQvKiBoaXN0b3JpZXMgKi9cblx0XG5cdGV4cG9ydHMuYnJvd3Nlckhpc3RvcnkgPSBfYnJvd3Nlckhpc3RvcnkzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuaGFzaEhpc3RvcnkgPSBfaGFzaEhpc3RvcnkzLmRlZmF1bHQ7XG5cdGV4cG9ydHMuY3JlYXRlTWVtb3J5SGlzdG9yeSA9IF9jcmVhdGVNZW1vcnlIaXN0b3J5My5kZWZhdWx0O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0IWZ1bmN0aW9uKHQsZSl7IHRydWU/bW9kdWxlLmV4cG9ydHM9ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fd2VicGFja19yZXF1aXJlX18oMzMpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCIsXCJyZWR1eFwiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJlYWN0UmVkdXg9ZShyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcInJlZHV4XCIpKTp0LlJlYWN0UmVkdXg9ZSh0LlJlYWN0LHQuUmVkdXgpfSh0aGlzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobyl7aWYocltvXSlyZXR1cm4gcltvXS5leHBvcnRzO3ZhciBuPXJbb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiB0W29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGUpLG4ubG9hZGVkPSEwLG4uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gZS5tPXQsZS5jPXIsZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZS5fX2VzTW9kdWxlPSEwLGUuY29ubmVjdD1lLlByb3ZpZGVyPXZvaWQgMDt2YXIgbj1yKDUpLHM9byhuKSxpPXIoNiksYT1vKGkpO2UuUHJvdmlkZXI9c1tcImRlZmF1bHRcIl0sZS5jb25uZWN0PWFbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbihlLHIpe2UuZXhwb3J0cz10fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZS5fX2VzTW9kdWxlPSEwO3ZhciBvPXIoMSk7ZVtcImRlZmF1bHRcIl09by5Qcm9wVHlwZXMuc2hhcGUoe3N1YnNjcmliZTpvLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsZGlzcGF0Y2g6by5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLGdldFN0YXRlOm8uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZH0pfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IodCk7dHJ5e3Rocm93IEVycm9yKHQpfWNhdGNoKHQpe319ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPXJ9LGZ1bmN0aW9uKHQsZSxyKXt2YXIgbz1yKDE3KSxuPW8uU3ltYm9sO3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBpKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPXZvaWQgMDt2YXIgYT1yKDEpLHA9cigyKSx1PW8ocCksYz1yKDMpLGY9KG8oYyksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG8pe24odGhpcyxlKTt2YXIgaT1zKHRoaXMsdC5jYWxsKHRoaXMscixvKSk7cmV0dXJuIGkuc3RvcmU9ci5zdG9yZSxpfXJldHVybiBpKGUsdCksZS5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJue3N0b3JlOnRoaXMuc3RvcmV9fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pfSxlfShhLkNvbXBvbmVudCkpO2VbXCJkZWZhdWx0XCJdPWYsZi5wcm9wVHlwZXM9e3N0b3JlOnVbXCJkZWZhdWx0XCJdLmlzUmVxdWlyZWQsY2hpbGRyZW46YS5Qcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkfSxmLmNoaWxkQ29udGV4dFR5cGVzPXtzdG9yZTp1W1wiZGVmYXVsdFwiXS5pc1JlcXVpcmVkfX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gaSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQuZGlzcGxheU5hbWV8fHQubmFtZXx8XCJDb21wb25lbnRcIn1mdW5jdGlvbiBwKHQsZSl7dHJ5e3JldHVybiB0LmFwcGx5KGUpfWNhdGNoKHQpe3JldHVybiBDLnZhbHVlPXQsQ319ZnVuY3Rpb24gdSh0LGUscil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LHU9ISF0LGw9dHx8eCxkPXZvaWQgMDtkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTplPygwLHZbXCJkZWZhdWx0XCJdKShlKTpqO3ZhciBQPXJ8fFQsYj1vLnB1cmUsZz12b2lkIDA9PT1ifHxiLE89by53aXRoUmVmLG09dm9pZCAwIT09TyYmTyxfPWcmJlAhPT1ULEQ9TSsrO3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxyKXt2YXIgbz1QKHQsZSxyKTtyZXR1cm4gb312YXIgcj1cIkNvbm5lY3QoXCIrYSh0KStcIilcIixvPWZ1bmN0aW9uKG8pe2Z1bmN0aW9uIGEodCxlKXtuKHRoaXMsYSk7dmFyIGk9cyh0aGlzLG8uY2FsbCh0aGlzLHQsZSkpO2kudmVyc2lvbj1ELGkuc3RvcmU9dC5zdG9yZXx8ZS5zdG9yZSwoMCx3W1wiZGVmYXVsdFwiXSkoaS5zdG9yZSwnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnKygncHJvcHMgb2YgXCInK3IrJ1wiLiAnKStcIkVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sIFwiKygnb3IgZXhwbGljaXRseSBwYXNzIFwic3RvcmVcIiBhcyBhIHByb3AgdG8gXCInK3IrJ1wiLicpKTt2YXIgcD1pLnN0b3JlLmdldFN0YXRlKCk7cmV0dXJuIGkuc3RhdGU9e3N0b3JlU3RhdGU6cH0saS5jbGVhckNhY2hlKCksaX1yZXR1cm4gaShhLG8pLGEucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiFnfHx0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWR8fHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWR9LGEucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZSh0LGUpO3ZhciByPXQuZ2V0U3RhdGUoKSxvPXRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcz90aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHIsZSk6dGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhyKTtyZXR1cm4gb30sYS5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBTdGF0ZT1mdW5jdGlvbih0LGUpe3ZhciByPWwodC5nZXRTdGF0ZSgpLGUpLG89XCJmdW5jdGlvblwiPT10eXBlb2YgcjtyZXR1cm4gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcz1vP3I6bCx0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM9MSE9PXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoLG8/dGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0LGUpOnJ9LGEucHJvdG90eXBlLmNvbXB1dGVEaXNwYXRjaFByb3BzPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMpcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCh0LGUpO3ZhciByPXQuZGlzcGF0Y2gsbz10aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM/dGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhyLGUpOnRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMocik7cmV0dXJuIG99LGEucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgcj1kKHQuZGlzcGF0Y2gsZSksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByO3JldHVybiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzPW8/cjpkLHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcz0xIT09dGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcy5sZW5ndGgsbz90aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHQsZSk6cn0sYS5wcm90b3R5cGUudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0aGlzLnN0b3JlLHRoaXMucHJvcHMpO3JldHVybighdGhpcy5zdGF0ZVByb3BzfHwhKDAseVtcImRlZmF1bHRcIl0pKHQsdGhpcy5zdGF0ZVByb3BzKSkmJih0aGlzLnN0YXRlUHJvcHM9dCwhMCl9LGEucHJvdG90eXBlLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHModGhpcy5zdG9yZSx0aGlzLnByb3BzKTtyZXR1cm4oIXRoaXMuZGlzcGF0Y2hQcm9wc3x8ISgwLHlbXCJkZWZhdWx0XCJdKSh0LHRoaXMuZGlzcGF0Y2hQcm9wcykpJiYodGhpcy5kaXNwYXRjaFByb3BzPXQsITApfSxhLnByb3RvdHlwZS51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzLnN0YXRlUHJvcHMsdGhpcy5kaXNwYXRjaFByb3BzLHRoaXMucHJvcHMpO3JldHVybiEodGhpcy5tZXJnZWRQcm9wcyYmXyYmKDAseVtcImRlZmF1bHRcIl0pKHQsdGhpcy5tZXJnZWRQcm9wcykpJiYodGhpcy5tZXJnZWRQcm9wcz10LCEwKX0sYS5wcm90b3R5cGUuaXNTdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy51bnN1YnNjcmliZX0sYS5wcm90b3R5cGUudHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKCl7dSYmIXRoaXMudW5zdWJzY3JpYmUmJih0aGlzLnVuc3Vic2NyaWJlPXRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcykpLHRoaXMuaGFuZGxlQ2hhbmdlKCkpfSxhLnByb3RvdHlwZS50cnlVbnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUmJih0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy51bnN1YnNjcmliZT1udWxsKX0sYS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnRyeVN1YnNjcmliZSgpfSxhLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzPWZ1bmN0aW9uKHQpe2cmJigwLHlbXCJkZWZhdWx0XCJdKSh0LHRoaXMucHJvcHMpfHwodGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkPSEwKX0sYS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnRyeVVuc3Vic2NyaWJlKCksdGhpcy5jbGVhckNhY2hlKCl9LGEucHJvdG90eXBlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoUHJvcHM9bnVsbCx0aGlzLnN0YXRlUHJvcHM9bnVsbCx0aGlzLm1lcmdlZFByb3BzPW51bGwsdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkPSEwLHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ9ITAsdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkPSExLHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I9bnVsbCx0aGlzLnJlbmRlcmVkRWxlbWVudD1udWxsLHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHM9bnVsbCx0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzPW51bGx9LGEucHJvdG90eXBlLmhhbmRsZUNoYW5nZT1mdW5jdGlvbigpe2lmKHRoaXMudW5zdWJzY3JpYmUpe3ZhciB0PXRoaXMuc3RvcmUuZ2V0U3RhdGUoKSxlPXRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtpZighZ3x8ZSE9PXQpe2lmKGcmJiF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpe3ZhciByPXAodGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsdGhpcyk7aWYoIXIpcmV0dXJuO3I9PT1DJiYodGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcj1DLnZhbHVlKSx0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ9ITB9dGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZD0hMCx0aGlzLnNldFN0YXRlKHtzdG9yZVN0YXRlOnR9KX19fSxhLnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4oMCx3W1wiZGVmYXVsdFwiXSkobSxcIlRvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSB7IHdpdGhSZWY6IHRydWUgfSBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IG9mIHRoZSBjb25uZWN0KCkgY2FsbC5cIiksdGhpcy5yZWZzLndyYXBwZWRJbnN0YW5jZX0sYS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkLHI9dGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCxvPXRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCxuPXRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3Iscz10aGlzLnJlbmRlcmVkRWxlbWVudDtpZih0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQ9ITEsdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZD0hMSx0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ9ITEsdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcj1udWxsLG4pdGhyb3cgbjt2YXIgaT0hMCxhPSEwO2cmJnMmJihpPXJ8fGUmJnRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyxhPWUmJnRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyk7dmFyIHA9ITEsdT0hMTtvP3A9ITA6aSYmKHA9dGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSksYSYmKHU9dGhpcy51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKSk7dmFyIGw9ITA7cmV0dXJuIGw9ISEocHx8dXx8ZSkmJnRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpLCFsJiZzP3M6dGhpcy5yZW5kZXJlZEVsZW1lbnQ9bT8oMCxmLmNyZWF0ZUVsZW1lbnQpKHQsYyh7fSx0aGlzLm1lcmdlZFByb3BzLHtyZWY6XCJ3cmFwcGVkSW5zdGFuY2VcIn0pKTooMCxmLmNyZWF0ZUVsZW1lbnQpKHQsdGhpcy5tZXJnZWRQcm9wcyl9LGF9KGYuQ29tcG9uZW50KTtyZXR1cm4gby5kaXNwbGF5TmFtZT1yLG8uV3JhcHBlZENvbXBvbmVudD10LG8uY29udGV4dFR5cGVzPXtzdG9yZTpoW1wiZGVmYXVsdFwiXX0sby5wcm9wVHlwZXM9e3N0b3JlOmhbXCJkZWZhdWx0XCJdfSwoMCxTW1wiZGVmYXVsdFwiXSkobyx0KX19ZS5fX2VzTW9kdWxlPSEwO3ZhciBjPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2FyZ3VtZW50cy5sZW5ndGg+ZTtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIG8gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKHRbb109cltvXSl9cmV0dXJuIHR9O2VbXCJkZWZhdWx0XCJdPXU7dmFyIGY9cigxKSxsPXIoMiksaD1vKGwpLGQ9cig3KSx5PW8oZCksUD1yKDgpLHY9byhQKSxiPXIoMyksZz0obyhiKSxyKDE5KSksTz0obyhnKSxyKDkpKSxTPW8oTyksbT1yKDEwKSx3PW8obSkseD1mdW5jdGlvbih0KXtyZXR1cm57fX0saj1mdW5jdGlvbih0KXtyZXR1cm57ZGlzcGF0Y2g6dH19LFQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBjKHt9LHIsdCxlKX0sQz17dmFsdWU6bnVsbH0sTT0wfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgcj1PYmplY3Qua2V5cyh0KSxvPU9iamVjdC5rZXlzKGUpO2lmKHIubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscz0wO3IubGVuZ3RoPnM7cysrKWlmKCFuLmNhbGwoZSxyW3NdKXx8dFtyW3NdXSE9PWVbcltzXV0pcmV0dXJuITE7cmV0dXJuITB9ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPXJ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4oMCxuLmJpbmRBY3Rpb25DcmVhdG9ycykodCxlKX19ZS5fX2VzTW9kdWxlPSEwLGVbXCJkZWZhdWx0XCJdPW87dmFyIG49cigyMCl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e2NoaWxkQ29udGV4dFR5cGVzOiEwLGNvbnRleHRUeXBlczohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAsZ2V0RGVmYXVsdFByb3BzOiEwLG1peGluczohMCxwcm9wVHlwZXM6ITAsdHlwZTohMH0sbz17bmFtZTohMCxsZW5ndGg6ITAscHJvdG90eXBlOiEwLGNhbGxlcjohMCxhcmd1bWVudHM6ITAsYXJpdHk6ITB9LG49XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLHMpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKTtuJiYoaT1pLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKSk7Zm9yKHZhciBhPTA7aS5sZW5ndGg+YTsrK2EpaWYoIShyW2lbYV1dfHxvW2lbYV1dfHxzJiZzW2lbYV1dKSl0cnl7dFtpW2FdXT1lW2lbYV1dfWNhdGNoKHQpe319cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24odCxlLHIsbyxuLHMsaSxhKXtpZighdCl7dmFyIHA7aWYodm9pZCAwPT09ZSlwPUVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgdT1bcixvLG4scyxpLGFdLGM9MDtwPUVycm9yKGUucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiB1W2MrK119KSkscC5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifXRocm93IHAuZnJhbWVzVG9Qb3A9MSxwfX07dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBvKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMD09PXQ/cDphOih0PU9iamVjdCh0KSx1JiZ1IGluIHQ/cyh0KTppKHQpKX12YXIgbj1yKDQpLHM9cigxNCksaT1yKDE1KSxhPVwiW29iamVjdCBOdWxsXVwiLHA9XCJbb2JqZWN0IFVuZGVmaW5lZF1cIix1PW4/bi50b1N0cmluZ1RhZzp2b2lkIDA7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciByPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9cn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpfSxmdW5jdGlvbih0LGUscil7dmFyIG89cigxNiksbj1vKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpO3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbyh0KXt2YXIgZT1pLmNhbGwodCxwKSxyPXRbcF07dHJ5e3RbcF09dm9pZCAwO3ZhciBvPSEwfWNhdGNoKHQpe312YXIgbj1hLmNhbGwodCk7cmV0dXJuIG8mJihlP3RbcF09cjpkZWxldGUgdFtwXSksbn12YXIgbj1yKDQpLHM9T2JqZWN0LnByb3RvdHlwZSxpPXMuaGFzT3duUHJvcGVydHksYT1zLnRvU3RyaW5nLHA9bj9uLnRvU3RyaW5nVGFnOnZvaWQgMDt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBuLmNhbGwodCl9dmFyIG89T2JqZWN0LnByb3RvdHlwZSxuPW8udG9TdHJpbmc7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gdChlKHIpKX19dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxyKXt2YXIgbz1yKDEyKSxuPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixzPW98fG58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG8odCl7aWYoIWkodCl8fG4odCkhPWEpcmV0dXJuITE7dmFyIGU9cyh0KTtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgcj1mLmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiZlLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIgaW5zdGFuY2VvZiByJiZjLmNhbGwocik9PWx9dmFyIG49cigxMSkscz1yKDEzKSxpPXIoMTgpLGE9XCJbb2JqZWN0IE9iamVjdF1cIixwPUZ1bmN0aW9uLnByb3RvdHlwZSx1PU9iamVjdC5wcm90b3R5cGUsYz1wLnRvU3RyaW5nLGY9dS5oYXNPd25Qcm9wZXJ0eSxsPWMuY2FsbChPYmplY3QpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LHIpe3QuZXhwb3J0cz1lfV0pfSk7XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmRlZmF1bHQgPSByb3V0ZXJXYXJuaW5nO1xuXHRleHBvcnRzLl9yZXNldFdhcm5lZCA9IF9yZXNldFdhcm5lZDtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgd2FybmVkID0ge307XG5cdFxuXHRmdW5jdGlvbiByb3V0ZXJXYXJuaW5nKGZhbHNlVG9XYXJuLCBtZXNzYWdlKSB7XG5cdCAgLy8gT25seSBpc3N1ZSBkZXByZWNhdGlvbiB3YXJuaW5ncyBvbmNlLlxuXHQgIGlmIChtZXNzYWdlLmluZGV4T2YoJ2RlcHJlY2F0ZWQnKSAhPT0gLTEpIHtcblx0ICAgIGlmICh3YXJuZWRbbWVzc2FnZV0pIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHdhcm5lZFttZXNzYWdlXSA9IHRydWU7XG5cdCAgfVxuXHRcblx0ICBtZXNzYWdlID0gJ1tyZWFjdC1yb3V0ZXJdICcgKyBtZXNzYWdlO1xuXHRcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgX3dhcm5pbmcyLmRlZmF1bHQuYXBwbHkodW5kZWZpbmVkLCBbZmFsc2VUb1dhcm4sIG1lc3NhZ2VdLmNvbmNhdChhcmdzKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9yZXNldFdhcm5lZCgpIHtcblx0ICB3YXJuZWQgPSB7fTtcblx0fVxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICovXG5cdFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0dmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoIWNvbmRpdGlvbikge1xuXHQgICAgdmFyIGVycm9yO1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuXHQgICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcblx0ICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG5cdCAgICAgICk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0ICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG5cdCAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcblx0ICAgICAgKTtcblx0ICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvKipcblx0ICogQ3JlYXRlZCBieSB6c2ggb24gMjAxNi8zLzExLlxuXHQgKi9cblx0dmFyIFdYX0NPTkZJR19TVUNDRVNTID0gZXhwb3J0cy5XWF9DT05GSUdfU1VDQ0VTUyA9ICdXWF9DT05GSUdfU1VDQ0VTUyc7XG5cdHZhciBSRUNFSVZFX1dYX0NPTkZJRyA9IGV4cG9ydHMuUkVDRUlWRV9XWF9DT05GSUcgPSAnUkVDRUlWRV9XWF9DT05GSUcnO1xuXHR2YXIgU0VUX0xBTkRfUEFHRSA9IGV4cG9ydHMuU0VUX0xBTkRfUEFHRSA9ICdTRVRfTEFORF9QQUdFJztcblx0LyoqKioqKioqKumXrumimCoqKioqKioqKiovXG5cdHZhciBSRUNFSVZFX0hPVF9RVUVTVElPTl9MSVNUID0gZXhwb3J0cy5SRUNFSVZFX0hPVF9RVUVTVElPTl9MSVNUID0gJ1JFQ0VJVkVfSE9UX1FVRVNUSU9OX0xJU1QnO1xuXHR2YXIgSE9UX1FVRVNUSU9OX0xJU1RfQ09NUExFVEVEID0gZXhwb3J0cy5IT1RfUVVFU1RJT05fTElTVF9DT01QTEVURUQgPSAnSE9UX1FVRVNUSU9OX0xJU1RfQ09NUExFVEVEJztcblx0dmFyIFJFQ0VJVkVfUVVFU1RJT05fSU5GTyA9IGV4cG9ydHMuUkVDRUlWRV9RVUVTVElPTl9JTkZPID0gJ1JFQ0VJVkVfUVVFU1RJT05fSU5GTyc7XG5cdHZhciBSRVFVRVNUX0xJU1RFTl9JTkZPID0gZXhwb3J0cy5SRVFVRVNUX0xJU1RFTl9JTkZPID0gJ1JFUVVFU1RfTElTVEVOX0lORk8nO1xuXHR2YXIgUkVDRUlWRV9MSVNURU5fSU5GTyA9IGV4cG9ydHMuUkVDRUlWRV9MSVNURU5fSU5GTyA9ICdSRUNFSVZFX0xJU1RFTl9JTkZPJztcblx0dmFyIFJFQ0VJVkVfU0FWRV9WT0lDRSA9IGV4cG9ydHMuUkVDRUlWRV9TQVZFX1ZPSUNFID0gJ1JFQ0VJVkVfU0FWRV9WT0lDRSc7XG5cdHZhciBSRUNFSVZFX1BSSVNFX1FVRVNUSU9OID0gZXhwb3J0cy5SRUNFSVZFX1BSSVNFX1FVRVNUSU9OID0gJ1JFQ0VJVkVfUFJJU0VfUVVFU1RJT04nO1xuXHR2YXIgUkVDRUlWRV9DQU5DRUxfUFJJU0VfUVVFU1RJT04gPSBleHBvcnRzLlJFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OID0gJ1JFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OJztcblx0dmFyIFJFQ0VJVkVfUEFJRCA9IGV4cG9ydHMuUkVDRUlWRV9QQUlEID0gJ1JFQ0VJVkVfUEFJRCc7XG5cdHZhciBDTEVBUl9RVUVTVElPTiA9IGV4cG9ydHMuQ0xFQVJfUVVFU1RJT04gPSAnQ0xFQVJfUVVFU1RJT04nO1xuXHRcblx0LyoqKioqKioqKuWvvOW4iCoqKioqKioqKiovXG5cdHZhciBSRUNFSVZFX1RVVE9SX0xJU1QgPSBleHBvcnRzLlJFQ0VJVkVfVFVUT1JfTElTVCA9ICdSRUNFSVZFX1RVVE9SX0xJU1QnO1xuXHR2YXIgUkVDRUlWRV9UVVRPUl9JTkZPID0gZXhwb3J0cy5SRUNFSVZFX1RVVE9SX0lORk8gPSAnUkVDRUlWRV9UVVRPUl9JTkZPJztcblx0dmFyIFJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QgPSBleHBvcnRzLlJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QgPSAnUkVDRUlWRV9UVVRPUl9BTlNXRVJfTElTVCc7XG5cdHZhciBSRVFVRVNUX1BSRVBBWV9JTkZPID0gZXhwb3J0cy5SRVFVRVNUX1BSRVBBWV9JTkZPID0gJ1JFUVVFU1RfUFJFUEFZX0lORk8nO1xuXHR2YXIgUkVDRUlWRV9QUkVQQVlfSU5GTyA9IGV4cG9ydHMuUkVDRUlWRV9QUkVQQVlfSU5GTyA9ICdSRUNFSVZFX1BSRVBBWV9JTkZPJztcblx0dmFyIENMRUFSX1RVVE9SX0lOREVYID0gZXhwb3J0cy5DTEVBUl9UVVRPUl9JTkRFWCA9ICdDTEVBUl9UVVRPUl9JTkRFWCc7XG5cdFxuXHQvKioqKioqKioq5pCc57SiKioqKioqKioqKi9cblx0dmFyIFJFUVVFU1RfSElTVE9SWV9TRUFSQ0ggPSBleHBvcnRzLlJFUVVFU1RfSElTVE9SWV9TRUFSQ0ggPSAnUkVRVUVTVF9ISVNUT1JZX1NFQVJDSCc7XG5cdHZhciBSRUNFSVZFX0hJU1RPUllfU0VBUkNIID0gZXhwb3J0cy5SRUNFSVZFX0hJU1RPUllfU0VBUkNIID0gJ1JFQ0VJVkVfSElTVE9SWV9TRUFSQ0gnO1xuXHR2YXIgUkVRVUVTVF9IT1RfU0VBUkNIID0gZXhwb3J0cy5SRVFVRVNUX0hPVF9TRUFSQ0ggPSAnUkVRVUVTVF9IT1RfU0VBUkNIJztcblx0dmFyIFJFQ0VJVkVfSE9UX1NFQVJDSCA9IGV4cG9ydHMuUkVDRUlWRV9IT1RfU0VBUkNIID0gJ1JFQ0VJVkVfSE9UX1NFQVJDSCc7XG5cdHZhciBTRVRfQ1VSX1NFQVJDSCA9IGV4cG9ydHMuU0VUX0NVUl9TRUFSQ0ggPSAnU0VUX0NVUl9TRUFSQ0gnO1xuXHR2YXIgUkVRVUVTVF9TRUFSQ0hfUVVFU1RJT04gPSBleHBvcnRzLlJFUVVFU1RfU0VBUkNIX1FVRVNUSU9OID0gJ1JFUVVFU1RfU0VBUkNIX1FVRVNUSU9OJztcblx0dmFyIFJFUVVFU1RfU0VBUkNIX1RVVE9SID0gZXhwb3J0cy5SRVFVRVNUX1NFQVJDSF9UVVRPUiA9ICdSRVFVRVNUX1NFQVJDSF9UVVRPUic7XG5cdHZhciBERUxFVEVfSElTVE9SWV9TVUNDRVNTID0gZXhwb3J0cy5ERUxFVEVfSElTVE9SWV9TVUNDRVNTID0gJ0RFTEVURV9ISVNUT1JZX1NVQ0NFU1MnO1xuXHRcblx0LyoqKioqKioqKuaIkeeahCoqKioqKioqKiovXG5cdC8v6I635Y+W5Yiw55So5oi35raI5oGvXG5cdHZhciBSRUNFSVZFX1VTRVJfSU5GTyA9IGV4cG9ydHMuUkVDRUlWRV9VU0VSX0lORk8gPSAnUkVDRUlWRV9VU0VSX0lORk8nO1xuXHR2YXIgUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8gPSBleHBvcnRzLlJFQ0VJVkVfT1RIRVJfVVNFUl9JTkZPID0gJ1JFQ0VJVkVfT1RIRVJfVVNFUl9JTkZPJztcblx0XG5cdC8v6I635Y+W5ZCs6L+H55qE6Zeu6aKY5YiX6KGoXG5cdHZhciBSRVFVRVNUX0xJU1RFTkVEID0gZXhwb3J0cy5SRVFVRVNUX0xJU1RFTkVEID0gJ1JFUVVFU1RfTElTVEVORUQnO1xuXHR2YXIgTElTVEVORURfQ09NUExFVEVEID0gZXhwb3J0cy5MSVNURU5FRF9DT01QTEVURUQgPSAnTElTVEVORURfQ09NUExFVEVEJztcblx0dmFyIFJFQ0VJVkVfTElTVEVORUQgPSBleHBvcnRzLlJFQ0VJVkVfTElTVEVORUQgPSAnUkVDRUlWRV9MSVNURU5FRCc7XG5cdC8v6I635Y+W5oiR6Zeu55qE6Zeu6aKY5YiX6KGoXG5cdHZhciBDTEVBUl9JX0FTS0VEID0gZXhwb3J0cy5DTEVBUl9JX0FTS0VEID0gJ0NMRUFSX0lfQVNLRUQnO1xuXHR2YXIgUkVRVUVTVF9JX0FTS0VEID0gZXhwb3J0cy5SRVFVRVNUX0lfQVNLRUQgPSAnUkVRVUVTVF9JX0FTS0VEJztcblx0dmFyIFJFQ0VJVkVfSV9BU0tFRCA9IGV4cG9ydHMuUkVDRUlWRV9JX0FTS0VEID0gJ1JFQ0VJVkVfSV9BU0tFRCc7XG5cdHZhciBJX0FTS0VEX0NPTVBMRVRFRCA9IGV4cG9ydHMuSV9BU0tFRF9DT01QTEVURUQgPSAnSV9BU0tFRF9DT01QTEVURUQnO1xuXHRcblx0Ly/ojrflj5bpl67miJHnmoTpl67popjliJfooahcblx0dmFyIFJFUVVFU1RfQVNLRURfTUUgPSBleHBvcnRzLlJFUVVFU1RfQVNLRURfTUUgPSAnUkVRVUVTVF9BU0tFRF9NRSc7XG5cdHZhciBDTEVBUl9BU0tFRF9NRSA9IGV4cG9ydHMuQ0xFQVJfQVNLRURfTUUgPSAnQ0xFQVJfQVNLRURfTUUnO1xuXHR2YXIgUkVDRUlWRV9BU0tFRF9NRSA9IGV4cG9ydHMuUkVDRUlWRV9BU0tFRF9NRSA9ICdSRUNFSVZFX0FTS0VEX01FJztcblx0dmFyIEFTS0VEX01FX0NPTVBMRVRFRCA9IGV4cG9ydHMuQVNLRURfTUVfQ09NUExFVEVEID0gJ0FTS0VEX01FX0NPTVBMRVRFRCc7XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG5cdCAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcblx0ICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcblx0ICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG5cdCAqL1xuXHRcblx0dmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcblx0ICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuXHQgICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuXHQgICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG5cdCAgICB9XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcblx0ICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG5cdCAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuXHQgICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuXHQgICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgICAgfSBjYXRjaCh4KSB7fVxuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRVc2VySW5mbyA9IGdldFVzZXJJbmZvO1xuXHRleHBvcnRzLmdldE90aGVyVXNlckluZm8gPSBnZXRPdGhlclVzZXJJbmZvO1xuXHRleHBvcnRzLmVkaXRVc2VySW5mbyA9IGVkaXRVc2VySW5mbztcblx0ZXhwb3J0cy5nZXRMaXN0ZW5lZCA9IGdldExpc3RlbmVkO1xuXHRleHBvcnRzLmdldElBc2tlZCA9IGdldElBc2tlZDtcblx0ZXhwb3J0cy5nZXRBc2tlZE1lID0gZ2V0QXNrZWRNZTtcblx0ZXhwb3J0cy5jbGVhckFza2VkTWUgPSBjbGVhckFza2VkTWU7XG5cdGV4cG9ydHMucmVxdWVzdEJlY29tZVRlYWNoZXIgPSByZXF1ZXN0QmVjb21lVGVhY2hlcjtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9hY2NvdW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FjY291bnQpO1xuXHRcblx0dmFyIF9BY3Rpb25UeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX21lc3NhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfbWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXNzYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRVc2VySW5mbygpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdCAgICBfYWNjb3VudDIuZGVmYXVsdC5nZXRVc2VySW5mbyhmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfVVNFUl9JTkZPLFxuXHQgICAgICAgIGRhdGE6IGRhdGFcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRPdGhlclVzZXJJbmZvKGlkKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgX2FjY291bnQyLmRlZmF1bHQuZ2V0T3RoZXJVc2VySW5mbyhpZCwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRUNFSVZFX09USEVSX1VTRVJfSU5GTyxcblx0ICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZWRpdFVzZXJJbmZvKGNvbXBhbnksIGpvYiwgZXhwZXJpZW5jZSwgdGVhY2hlcl9wcml6ZSwgaW50cm9kdWN0aW9uKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgX2FjY291bnQyLmRlZmF1bHQuZWRpdFVzZXJJbmZvKGNvbXBhbnksIGpvYiwgZXhwZXJpZW5jZSwgdGVhY2hlcl9wcml6ZSwgaW50cm9kdWN0aW9uLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfVVNFUl9JTkZPLFxuXHQgICAgICAgIGRhdGE6IGRhdGFcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9XG5cdGZ1bmN0aW9uIGdldExpc3RlbmVkKHBhZ2UsIG51bSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgIGRpc3BhdGNoKHtcblx0ICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFUVVFU1RfTElTVEVORURcblx0ICAgIH0pO1xuXHQgICAgX2FjY291bnQyLmRlZmF1bHQuZ2V0TGlzdGVuZWQocGFnZSwgbnVtLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfTElTVEVORUQsXG5cdCAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICBwYWdlOiBwYWdlLFxuXHQgICAgICAgIG51bTogbnVtXG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SUFza2VkKHBhZ2UsIG51bSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgIGlmIChwYWdlID09IDEpIHtcblx0ICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5DTEVBUl9JX0FTS0VEXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgZGlzcGF0Y2goe1xuXHQgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVRVUVTVF9JX0FTS0VEXG5cdCAgICB9KTtcblx0ICAgIF9hY2NvdW50Mi5kZWZhdWx0LmdldElBc2tlZChwYWdlLCBudW0sIGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9JX0FTS0VELFxuXHQgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgcGFnZTogcGFnZSxcblx0ICAgICAgICBudW06IG51bVxuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEFza2VkTWUocGFnZSwgbnVtKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgaWYgKHBhZ2UgPT0gMSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLkNMRUFSX0FTS0VEX01FXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgZGlzcGF0Y2goe1xuXHQgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVRVUVTVF9BU0tFRF9NRVxuXHQgICAgfSk7XG5cdCAgICBfYWNjb3VudDIuZGVmYXVsdC5nZXRBc2tlZE1lKHBhZ2UsIG51bSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRUNFSVZFX0FTS0VEX01FLFxuXHQgICAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgICAgcGFnZTogcGFnZSxcblx0ICAgICAgICBudW06IG51bVxuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblx0ZnVuY3Rpb24gY2xlYXJBc2tlZE1lKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgIGRpc3BhdGNoKHtcblx0ICAgICAgdHlwZTogX0FjdGlvblR5cGVzLkNMRUFSX0FTS0VEX01FXG5cdCAgICB9KTtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXF1ZXN0QmVjb21lVGVhY2hlcihpbnZpdGUsIHByaXplKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgX2FjY291bnQyLmRlZmF1bHQucmVxdWVzdEJlY29tZVRlYWNoZXIoaW52aXRlLCBwcml6ZSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgX21lc3NhZ2UyLmRlZmF1bHQuc3VjY2Vzcygn55Sz6K+35oiQ5YqfIScsIDEuNSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9VU0VSX0lORk8sXG5cdCAgICAgICAgZGF0YTogZGF0YVxuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMuaXNSZWFjdENoaWxkcmVuID0gaXNSZWFjdENoaWxkcmVuO1xuXHRleHBvcnRzLmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudCA9IGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDtcblx0ZXhwb3J0cy5jcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuO1xuXHRleHBvcnRzLmNyZWF0ZVJvdXRlcyA9IGNyZWF0ZVJvdXRlcztcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gaXNWYWxpZENoaWxkKG9iamVjdCkge1xuXHQgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQob2JqZWN0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNSZWFjdENoaWxkcmVuKG9iamVjdCkge1xuXHQgIHJldHVybiBpc1ZhbGlkQ2hpbGQob2JqZWN0KSB8fCBBcnJheS5pc0FycmF5KG9iamVjdCkgJiYgb2JqZWN0LmV2ZXJ5KGlzVmFsaWRDaGlsZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVJvdXRlKGRlZmF1bHRQcm9wcywgcHJvcHMpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRQcm9wcywgcHJvcHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCkge1xuXHQgIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuXHQgIHZhciByb3V0ZSA9IGNyZWF0ZVJvdXRlKHR5cGUuZGVmYXVsdFByb3BzLCBlbGVtZW50LnByb3BzKTtcblx0XG5cdCAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG5cdCAgICB2YXIgY2hpbGRSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihyb3V0ZS5jaGlsZHJlbiwgcm91dGUpO1xuXHRcblx0ICAgIGlmIChjaGlsZFJvdXRlcy5sZW5ndGgpIHJvdXRlLmNoaWxkUm91dGVzID0gY2hpbGRSb3V0ZXM7XG5cdFxuXHQgICAgZGVsZXRlIHJvdXRlLmNoaWxkcmVuO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHJvdXRlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIHJvdXRlcyBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gUmVhY3RDaGlsZHJlbi4gSlNYXG5cdCAqIHByb3ZpZGVzIGEgY29udmVuaWVudCB3YXkgdG8gdmlzdWFsaXplIGhvdyByb3V0ZXMgaW4gdGhlIGhpZXJhcmNoeSBhcmVcblx0ICogbmVzdGVkLlxuXHQgKlxuXHQgKiAgIGltcG9ydCB7IFJvdXRlLCBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiB9IGZyb20gJ3JlYWN0LXJvdXRlcidcblx0ICpcblx0ICogICBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihcblx0ICogICAgIDxSb3V0ZSBjb21wb25lbnQ9e0FwcH0+XG5cdCAqICAgICAgIDxSb3V0ZSBwYXRoPVwiaG9tZVwiIGNvbXBvbmVudD17RGFzaGJvYXJkfS8+XG5cdCAqICAgICAgIDxSb3V0ZSBwYXRoPVwibmV3c1wiIGNvbXBvbmVudD17TmV3c0ZlZWR9Lz5cblx0ICogICAgIDwvUm91dGU+XG5cdCAqICAgKVxuXHQgKlxuXHQgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IHVzZWQgd2hlbiB5b3UgcHJvdmlkZSA8Um91dGU+IGNoaWxkcmVuXG5cdCAqIHRvIGEgPFJvdXRlcj4gY29tcG9uZW50LlxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudFJvdXRlKSB7XG5cdCAgdmFyIHJvdXRlcyA9IFtdO1xuXHRcblx0ICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0ICAgIGlmIChfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcblx0ICAgICAgLy8gQ29tcG9uZW50IGNsYXNzZXMgbWF5IGhhdmUgYSBzdGF0aWMgY3JlYXRlKiBtZXRob2QuXG5cdCAgICAgIGlmIChlbGVtZW50LnR5cGUuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KSB7XG5cdCAgICAgICAgdmFyIHJvdXRlID0gZWxlbWVudC50eXBlLmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50LCBwYXJlbnRSb3V0ZSk7XG5cdFxuXHQgICAgICAgIGlmIChyb3V0ZSkgcm91dGVzLnB1c2gocm91dGUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJvdXRlcy5wdXNoKGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHJvdXRlcztcblx0fVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYW5kIHJldHVybnMgYW4gYXJyYXkgb2Ygcm91dGVzIGZyb20gdGhlIGdpdmVuIG9iamVjdCB3aGljaFxuXHQgKiBtYXkgYmUgYSBKU1ggcm91dGUsIGEgcGxhaW4gb2JqZWN0IHJvdXRlLCBvciBhbiBhcnJheSBvZiBlaXRoZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVSb3V0ZXMocm91dGVzKSB7XG5cdCAgaWYgKGlzUmVhY3RDaGlsZHJlbihyb3V0ZXMpKSB7XG5cdCAgICByb3V0ZXMgPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihyb3V0ZXMpO1xuXHQgIH0gZWxzZSBpZiAocm91dGVzICYmICFBcnJheS5pc0FycmF5KHJvdXRlcykpIHtcblx0ICAgIHJvdXRlcyA9IFtyb3V0ZXNdO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHJvdXRlcztcblx0fVxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfdG9hc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfdG9hc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9hc3QpO1xuXHRcblx0dmFyIF9hbGVydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9hbGVydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbGVydCk7XG5cdFxuXHR2YXIgX2NvbmZpcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfY29uZmlybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maXJtKTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEFsZXJ0MSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQWxlcnQxLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBBbGVydDEoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFsZXJ0MSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBbGVydDEuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBbGVydDEpKS5jYWxsKHRoaXMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuaGlkZUFsZXJ0ID0gX3RoaXMuaGlkZUFsZXJ0LmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93QWxlcnQ6IHRydWUsXG5cdCAgICAgICAgICAgIGJ1dHRvbnM6IFt7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcblx0ICAgICAgICAgICAgICAgIGxhYmVsOiBcIuehruWumlwiLFxuXHQgICAgICAgICAgICAgICAgb25DbGljazogX3RoaXMuaGlkZUFsZXJ0XG5cdCAgICAgICAgICAgIH1dXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEFsZXJ0MSwgW3tcblx0ICAgICAgICBrZXk6ICdoaWRlQWxlcnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQWxlcnQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93QWxlcnQ6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25DbG9zZSA9PSAnZnVuY3Rpb24nKSB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfYWxlcnQyLmRlZmF1bHQsXG5cdCAgICAgICAgICAgICAgICB7IHNob3c6IHRoaXMuc3RhdGUuc2hvd0FsZXJ0LCB0aXRsZTogJ1xcdTYzRDBcXHU3OTNBJywgYnV0dG9uczogdGhpcy5zdGF0ZS5idXR0b25zIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNvbnRlbnRcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEFsZXJ0MTtcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdHZhciBUb2FzdDEgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDIpIHtcblx0ICAgIF9pbmhlcml0cyhUb2FzdDEsIF9SZWFjdCRDb21wb25lbnQyKTtcblx0XG5cdCAgICBmdW5jdGlvbiBUb2FzdDEoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvYXN0MSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVG9hc3QxLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9hc3QxKSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzMi5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hvdzogdHJ1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzMjtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVG9hc3QxLCBbe1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcyk7XG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsgc2hvdzogZmFsc2UgfSk7XG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMucHJvcHMpO1xuXHQgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczMucHJvcHMub25DbG9zZSA9PSAnZnVuY3Rpb24nKSBfdGhpczMucHJvcHMub25DbG9zZSgpO1xuXHQgICAgICAgICAgICB9LCB0aGlzLnByb3BzLmR1cmF0aW9uICogMTAwMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90b2FzdDIuZGVmYXVsdCwgeyBzaG93OiB0aGlzLnN0YXRlLnNob3csIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNvbnRlbnQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUb2FzdDE7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgU21hcnRDb25maXJtID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhTbWFydENvbmZpcm0sIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNtYXJ0Q29uZmlybShwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTbWFydENvbmZpcm0pO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXM0ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNtYXJ0Q29uZmlybS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNtYXJ0Q29uZmlybSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXM0LnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93Q29uZmlybTogdHJ1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzNDtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoU21hcnRDb25maXJtLCBbe1xuXHQgICAgICAgIGtleTogJ2NvbmZpcm0nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maXJtKCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0NvbmZpcm06IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25Db25maXJtID09PSBcImZ1bmN0aW9uXCIpIHRoaXMucHJvcHMub25Db25maXJtKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NhbmNlbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb25maXJtOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLm9uQ2FuY2VsID09PSBcImZ1bmN0aW9uXCIpIHRoaXMucHJvcHMub25DYW5jZWwoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfY29uZmlybTIuZGVmYXVsdCxcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInByaW1hcnlcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMuY29uZmlybVRleHQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY29uZmlybS5iaW5kKHRoaXMpXG5cdCAgICAgICAgICAgICAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMuY2FuY2VsVGV4dCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5jYW5jZWwuYmluZCh0aGlzKVxuXHQgICAgICAgICAgICAgICAgICAgIH1dLFxuXHQgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnXFx1NjNEMFxcdTc5M0EnLFxuXHQgICAgICAgICAgICAgICAgICAgIHNob3c6IHRoaXMuc3RhdGUuc2hvd0NvbmZpcm1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNvbnRlbnRcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFNtYXJ0Q29uZmlybTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBtZXNzYWdlID0ge307XG5cdG1lc3NhZ2Uuc3VjY2VzcyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cdCAgICB2YXIgZHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cdCAgICB2YXIgb25DbG9zZSA9IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBkaXYuaWQgPSAnbWVzc2FnZS1zdWNjZXNzJztcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0ICAgIF9yZWFjdERvbTIuZGVmYXVsdC5yZW5kZXIoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9hc3QxLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIG9uQ2xvc2U6IG9uQ2xvc2UsIGR1cmF0aW9uOiBkdXJhdGlvbiB9KSwgZGl2KTtcblx0fTtcblx0bWVzc2FnZS5hbGVydCA9IGZ1bmN0aW9uIChjb250ZW50LCBvbkNsb3NlKSB7XG5cdCAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBkaXYuaWQgPSAnbWVzc2FnZS1hbGVydCc7XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cdCAgICBfcmVhY3REb20yLmRlZmF1bHQucmVuZGVyKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0MSwgeyBjb250ZW50OiBjb250ZW50LCBvbkNsb3NlOiBvbkNsb3NlIH0pLCBkaXYpO1xuXHR9O1xuXHRtZXNzYWdlLmNvbmZpcm0gPSBmdW5jdGlvbiAoY29udGVudCkge1xuXHQgICAgdmFyIGNvbmZpcm1UZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBcIuehruWumlwiO1xuXHQgICAgdmFyIGNhbmNlbFRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFwi5Y+W5raIXCI7XG5cdCAgICB2YXIgb25Db25maXJtID0gYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIG9uQ2FuY2VsID0gYXJndW1lbnRzWzRdO1xuXHRcblx0ICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHQgICAgZGl2LmlkID0gJ21lc3NhZ2UtY29uZmlybSc7XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cdCAgICBfcmVhY3REb20yLmRlZmF1bHQucmVuZGVyKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNtYXJ0Q29uZmlybSwgeyBjb250ZW50OiBjb250ZW50LCBvbkNvbmZpcm06IG9uQ29uZmlybSwgb25DYW5jZWw6IG9uQ2FuY2VsLCBjb25maXJtVGV4dDogY29uZmlybVRleHQsIGNhbmNlbFRleHQ6IGNhbmNlbFRleHQgfSksIGRpdik7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtZXNzYWdlO1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5leHRyYWN0UGF0aCA9IGV4dHJhY3RQYXRoO1xuXHRleHBvcnRzLnBhcnNlUGF0aCA9IHBhcnNlUGF0aDtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBleHRyYWN0UGF0aChzdHJpbmcpIHtcblx0ICB2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goL15odHRwcz86XFwvXFwvW15cXC9dKi8pO1xuXHRcblx0ICBpZiAobWF0Y2ggPT0gbnVsbCkgcmV0dXJuIHN0cmluZztcblx0XG5cdCAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcblx0ICB2YXIgcGF0aG5hbWUgPSBleHRyYWN0UGF0aChwYXRoKTtcblx0ICB2YXIgc2VhcmNoID0gJyc7XG5cdCAgdmFyIGhhc2ggPSAnJztcblx0XG5cdCAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHBhdGggPT09IHBhdGhuYW1lLCAnQSBwYXRoIG11c3QgYmUgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoIG9ubHksIG5vdCBhIGZ1bGx5IHF1YWxpZmllZCBVUkwgbGlrZSBcIiVzXCInLCBwYXRoKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcblx0ICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuXHQgICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuXHQgICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcblx0ICB9XG5cdFxuXHQgIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcblx0ICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG5cdCAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuXHQgICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgc2VhcmNoSW5kZXgpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHBhdGhuYW1lID09PSAnJykgcGF0aG5hbWUgPSAnLyc7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXRobmFtZTogcGF0aG5hbWUsXG5cdCAgICBzZWFyY2g6IHNlYXJjaCxcblx0ICAgIGhhc2g6IGhhc2hcblx0ICB9O1xuXHR9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLnJvdXRlcyA9IGV4cG9ydHMucm91dGUgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudCA9IGV4cG9ydHMuaGlzdG9yeSA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0cy5mYWxzeSA9IGZhbHN5O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgZnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYztcblx0dmFyIG9iamVjdCA9IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0O1xuXHR2YXIgYXJyYXlPZiA9IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZjtcblx0dmFyIG9uZU9mVHlwZSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlO1xuXHR2YXIgZWxlbWVudCA9IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudDtcblx0dmFyIHNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5zaGFwZTtcblx0dmFyIHN0cmluZyA9IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nO1xuXHRmdW5jdGlvbiBmYWxzeShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcblx0ICBpZiAocHJvcHNbcHJvcE5hbWVdKSByZXR1cm4gbmV3IEVycm9yKCc8JyArIGNvbXBvbmVudE5hbWUgKyAnPiBzaG91bGQgbm90IGhhdmUgYSBcIicgKyBwcm9wTmFtZSArICdcIiBwcm9wJyk7XG5cdH1cblx0XG5cdHZhciBoaXN0b3J5ID0gZXhwb3J0cy5oaXN0b3J5ID0gc2hhcGUoe1xuXHQgIGxpc3RlbjogZnVuYy5pc1JlcXVpcmVkLFxuXHQgIHB1c2g6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICByZXBsYWNlOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ286IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBnb0JhY2s6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBnb0ZvcndhcmQ6IGZ1bmMuaXNSZXF1aXJlZFxuXHR9KTtcblx0XG5cdHZhciBjb21wb25lbnQgPSBleHBvcnRzLmNvbXBvbmVudCA9IG9uZU9mVHlwZShbZnVuYywgc3RyaW5nXSk7XG5cdHZhciBjb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnRzID0gb25lT2ZUeXBlKFtjb21wb25lbnQsIG9iamVjdF0pO1xuXHR2YXIgcm91dGUgPSBleHBvcnRzLnJvdXRlID0gb25lT2ZUeXBlKFtvYmplY3QsIGVsZW1lbnRdKTtcblx0dmFyIHJvdXRlcyA9IGV4cG9ydHMucm91dGVzID0gb25lT2ZUeXBlKFtyb3V0ZSwgYXJyYXlPZihyb3V0ZSldKTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9jb21tb24uc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzcvMi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHRcblx0dmFyIExvYWRpbmcgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhMb2FkaW5nLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTG9hZGluZygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2FkaW5nKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExvYWRpbmcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2FkaW5nKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoTG9hZGluZywgW3tcblx0ICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBjb21wbGV0ZWQgPSB0aGlzLnByb3BzLmNvbXBsZXRlZDtcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBcImxvYWRpbmdcIiB9LFxuXHQgICAgICAgIGNvbXBsZXRlZCA/ICfliqDovb3lrozmiJDvvIEnIDogJ+ato+WcqOWKoOi9veKApuKApidcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBMb2FkaW5nO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGluZztcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvKipcblx0ICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi83LzguXG5cdCAqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgaGFuZGxlUmVzcG9uc2U6IGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKSB7XG5cdCAgICBzd2l0Y2ggKGpzb24uZXJyQ29kZSkge1xuXHQgICAgICBjYXNlIDA6XG5cdCAgICAgICAgcmV0dXJuIGNiKGpzb24uZGF0YSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgMTAxOlxuXHQgICAgICAgIHZhciByZWRpcmVjdFVybCA9IGxvY2F0aW9uLmhyZWY7XG5cdCAgICAgICAgbG9jYXRpb24uaHJlZiA9IGpzb24uZGF0YS5sb2dpbl91cmwgKyBcIj9yZWRpcmVjdF91cmw9XCIgKyByZWRpcmVjdFVybDtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGpzb24ubXNnKTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9tYXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX21hc2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFzayk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuL3dldWlfbWFzay5jc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi93ZXVpX2RpYWxvZy5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgamYgb24gMTUvMTAvMjcuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0dmFyIEFsZXJ0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhBbGVydCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQWxlcnQoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFsZXJ0KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBbGVydC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFsZXJ0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEFsZXJ0LCBbe1xuXHQgICAgICAgIGtleTogJ19yZW5kZXJCdXR0b25zJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckJ1dHRvbnMoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmJ1dHRvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb24sIGlkeCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24udHlwZSxcblx0ICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGFjdGlvbi5sYWJlbCxcblx0ICAgICAgICAgICAgICAgICAgICBvdGhlcnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoYWN0aW9uLCBbJ3R5cGUnLCAnbGFiZWwnXSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoe1xuXHQgICAgICAgICAgICAgICAgICAgIHdldWlfYnRuX2RpYWxvZzogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB0eXBlID09PSAnZGVmYXVsdCcsXG5cdCAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogdHlwZSA9PT0gJ3ByaW1hcnknXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHsga2V5OiBpZHgsIGhyZWY6ICdqYXZhc2NyaXB0OjsnIH0sIG90aGVycywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBsYWJlbFxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcblx0ICAgICAgICAgICAgICAgIHNob3cgPSBfcHJvcHMuc2hvdyxcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dldWlfZGlhbG9nX2FsZXJ0Jywgc3R5bGU6IHsgZGlzcGxheTogc2hvdyA/ICdibG9jaycgOiAnbm9uZScgfSB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX21hc2syLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd3ZXVpX2RpYWxvZycgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2dfaGQnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cm9uZycsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dldWlfZGlhbG9nX3RpdGxlJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dldWlfZGlhbG9nX2JkJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dldWlfZGlhbG9nX2Z0JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJCdXR0b25zKClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBBbGVydDtcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdEFsZXJ0LnByb3BUeXBlcyA9IHtcblx0ICAgIGJ1dHRvbnM6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBzaG93OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB0aXRsZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdEFsZXJ0LmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGJ1dHRvbnM6IFtdLFxuXHQgICAgc2hvdzogZmFsc2UsXG5cdCAgICB0aXRsZTogJydcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFsZXJ0O1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9tYXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX21hc2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFzayk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuL3dldWlfbWFzay5jc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi93ZXVpX3RvYXN0LmNzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuL3dldWlfaWNvbl9mb250LmNzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IGpmIG9uIDE1LzEwLzI3LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdHZhciBUb2FzdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVG9hc3QsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFRvYXN0KCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2FzdCk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVG9hc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb2FzdCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhUb2FzdCwgW3tcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICAgICAgaWNvbiA9IF9wcm9wcy5pY29uLFxuXHQgICAgICAgICAgICAgICAgc2hvdyA9IF9wcm9wcy5zaG93LFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgICAgICBpY29uU2l6ZSA9IF9wcm9wcy5pY29uU2l6ZTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBpY29uID09PSAnbG9hZGluZycgPyAnd2V1aV9sb2FkaW5nX3RvYXN0JyA6ICcnLCBzdHlsZTogeyBkaXNwbGF5OiBzaG93ID8gJ2Jsb2NrJyA6ICdub25lJyB9IH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWFzazIuZGVmYXVsdCwgeyB0cmFuc3BhcmVudDogdHJ1ZSB9KSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV90b2FzdCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB2YWx1ZTogaWNvbiwgc2l6ZTogaWNvblNpemUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdwJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd3ZXVpX3RvYXN0X2NvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVG9hc3Q7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRUb2FzdC5wcm9wVHlwZXMgPSB7XG5cdCAgICBpY29uOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGljb25TaXplOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNob3c6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbFxuXHR9O1xuXHRcblx0VG9hc3QuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgaWNvbjogJ3RvYXN0Jyxcblx0ICAgIHNob3c6IGZhbHNlXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2FzdDtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IGEgY2FsbCB0byBoaXN0b3J5LnB1c2guXG5cdCAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHR2YXIgUFVTSCA9ICdQVVNIJztcblx0XG5cdGV4cG9ydHMuUFVTSCA9IFBVU0g7XG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgYSBjYWxsIHRvIGhpc3RvcnkucmVwbGFjZS5cblx0ICovXG5cdHZhciBSRVBMQUNFID0gJ1JFUExBQ0UnO1xuXHRcblx0ZXhwb3J0cy5SRVBMQUNFID0gUkVQTEFDRTtcblx0LyoqXG5cdCAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBzb21lIG90aGVyIGFjdGlvbiBzdWNoXG5cdCAqIGFzIHVzaW5nIGEgYnJvd3NlcidzIGJhY2svZm9yd2FyZCBidXR0b25zIGFuZC9vciBtYW51YWxseSBtYW5pcHVsYXRpbmdcblx0ICogdGhlIFVSTCBpbiBhIGJyb3dzZXIncyBsb2NhdGlvbiBiYXIuIFRoaXMgaXMgdGhlIGRlZmF1bHQuXG5cdCAqXG5cdCAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93RXZlbnRIYW5kbGVycy9vbnBvcHN0YXRlXG5cdCAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKi9cblx0dmFyIFBPUCA9ICdQT1AnO1xuXHRcblx0ZXhwb3J0cy5QT1AgPSBQT1A7XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcblx0ICBQVVNIOiBQVVNILFxuXHQgIFJFUExBQ0U6IFJFUExBQ0UsXG5cdCAgUE9QOiBQT1Bcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuY29tcGlsZVBhdHRlcm4gPSBjb21waWxlUGF0dGVybjtcblx0ZXhwb3J0cy5tYXRjaFBhdHRlcm4gPSBtYXRjaFBhdHRlcm47XG5cdGV4cG9ydHMuZ2V0UGFyYW1OYW1lcyA9IGdldFBhcmFtTmFtZXM7XG5cdGV4cG9ydHMuZ2V0UGFyYW1zID0gZ2V0UGFyYW1zO1xuXHRleHBvcnRzLmZvcm1hdFBhdHRlcm4gPSBmb3JtYXRQYXR0ZXJuO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG5cdCAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfY29tcGlsZVBhdHRlcm4ocGF0dGVybikge1xuXHQgIHZhciByZWdleHBTb3VyY2UgPSAnJztcblx0ICB2YXIgcGFyYW1OYW1lcyA9IFtdO1xuXHQgIHZhciB0b2tlbnMgPSBbXTtcblx0XG5cdCAgdmFyIG1hdGNoID0gdm9pZCAwLFxuXHQgICAgICBsYXN0SW5kZXggPSAwLFxuXHQgICAgICBtYXRjaGVyID0gLzooW2EtekEtWl8kXVthLXpBLVowLTlfJF0qKXxcXCpcXCp8XFwqfFxcKHxcXCkvZztcblx0ICB3aGlsZSAobWF0Y2ggPSBtYXRjaGVyLmV4ZWMocGF0dGVybikpIHtcblx0ICAgIGlmIChtYXRjaC5pbmRleCAhPT0gbGFzdEluZGV4KSB7XG5cdCAgICAgIHRva2Vucy5wdXNoKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuXHQgICAgICByZWdleHBTb3VyY2UgKz0gZXNjYXBlUmVnRXhwKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChtYXRjaFsxXSkge1xuXHQgICAgICByZWdleHBTb3VyY2UgKz0gJyhbXi9dKyknO1xuXHQgICAgICBwYXJhbU5hbWVzLnB1c2gobWF0Y2hbMV0pO1xuXHQgICAgfSBlbHNlIGlmIChtYXRjaFswXSA9PT0gJyoqJykge1xuXHQgICAgICByZWdleHBTb3VyY2UgKz0gJyguKiknO1xuXHQgICAgICBwYXJhbU5hbWVzLnB1c2goJ3NwbGF0Jyk7XG5cdCAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKicpIHtcblx0ICAgICAgcmVnZXhwU291cmNlICs9ICcoLio/KSc7XG5cdCAgICAgIHBhcmFtTmFtZXMucHVzaCgnc3BsYXQnKTtcblx0ICAgIH0gZWxzZSBpZiAobWF0Y2hbMF0gPT09ICcoJykge1xuXHQgICAgICByZWdleHBTb3VyY2UgKz0gJyg/Oic7XG5cdCAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKScpIHtcblx0ICAgICAgcmVnZXhwU291cmNlICs9ICcpPyc7XG5cdCAgICB9XG5cdFxuXHQgICAgdG9rZW5zLnB1c2gobWF0Y2hbMF0pO1xuXHRcblx0ICAgIGxhc3RJbmRleCA9IG1hdGNoZXIubGFzdEluZGV4O1xuXHQgIH1cblx0XG5cdCAgaWYgKGxhc3RJbmRleCAhPT0gcGF0dGVybi5sZW5ndGgpIHtcblx0ICAgIHRva2Vucy5wdXNoKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBwYXR0ZXJuLmxlbmd0aCkpO1xuXHQgICAgcmVnZXhwU291cmNlICs9IGVzY2FwZVJlZ0V4cChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgcGF0dGVybi5sZW5ndGgpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXR0ZXJuOiBwYXR0ZXJuLFxuXHQgICAgcmVnZXhwU291cmNlOiByZWdleHBTb3VyY2UsXG5cdCAgICBwYXJhbU5hbWVzOiBwYXJhbU5hbWVzLFxuXHQgICAgdG9rZW5zOiB0b2tlbnNcblx0ICB9O1xuXHR9XG5cdFxuXHR2YXIgQ29tcGlsZWRQYXR0ZXJuc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XG5cdGZ1bmN0aW9uIGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pIHtcblx0ICBpZiAoIUNvbXBpbGVkUGF0dGVybnNDYWNoZVtwYXR0ZXJuXSkgQ29tcGlsZWRQYXR0ZXJuc0NhY2hlW3BhdHRlcm5dID0gX2NvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXHRcblx0ICByZXR1cm4gQ29tcGlsZWRQYXR0ZXJuc0NhY2hlW3BhdHRlcm5dO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXR0ZW1wdHMgdG8gbWF0Y2ggYSBwYXR0ZXJuIG9uIHRoZSBnaXZlbiBwYXRobmFtZS4gUGF0dGVybnMgbWF5IHVzZVxuXHQgKiB0aGUgZm9sbG93aW5nIHNwZWNpYWwgY2hhcmFjdGVyczpcblx0ICpcblx0ICogLSA6cGFyYW1OYW1lICAgICBNYXRjaGVzIGEgVVJMIHNlZ21lbnQgdXAgdG8gdGhlIG5leHQgLywgPywgb3IgIy4gVGhlXG5cdCAqICAgICAgICAgICAgICAgICAgY2FwdHVyZWQgc3RyaW5nIGlzIGNvbnNpZGVyZWQgYSBcInBhcmFtXCJcblx0ICogLSAoKSAgICAgICAgICAgICBXcmFwcyBhIHNlZ21lbnQgb2YgdGhlIFVSTCB0aGF0IGlzIG9wdGlvbmFsXG5cdCAqIC0gKiAgICAgICAgICAgICAgQ29uc3VtZXMgKG5vbi1ncmVlZHkpIGFsbCBjaGFyYWN0ZXJzIHVwIHRvIHRoZSBuZXh0XG5cdCAqICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyIGluIHRoZSBwYXR0ZXJuLCBvciB0byB0aGUgZW5kIG9mIHRoZSBVUkwgaWZcblx0ICogICAgICAgICAgICAgICAgICB0aGVyZSBpcyBub25lXG5cdCAqIC0gKiogICAgICAgICAgICAgQ29uc3VtZXMgKGdyZWVkeSkgYWxsIGNoYXJhY3RlcnMgdXAgdG8gdGhlIG5leHQgY2hhcmFjdGVyXG5cdCAqICAgICAgICAgICAgICAgICAgaW4gdGhlIHBhdHRlcm4sIG9yIHRvIHRoZSBlbmQgb2YgdGhlIFVSTCBpZiB0aGVyZSBpcyBub25lXG5cdCAqXG5cdCAqICBUaGUgZnVuY3Rpb24gY2FsbHMgY2FsbGJhY2soZXJyb3IsIG1hdGNoZWQpIHdoZW4gZmluaXNoZWQuXG5cdCAqIFRoZSByZXR1cm4gdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHQgKlxuXHQgKiAtIHJlbWFpbmluZ1BhdGhuYW1lXG5cdCAqIC0gcGFyYW1OYW1lc1xuXHQgKiAtIHBhcmFtVmFsdWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXRjaFBhdHRlcm4ocGF0dGVybiwgcGF0aG5hbWUpIHtcblx0ICAvLyBFbnN1cmUgcGF0dGVybiBzdGFydHMgd2l0aCBsZWFkaW5nIHNsYXNoIGZvciBjb25zaXN0ZW5jeSB3aXRoIHBhdGhuYW1lLlxuXHQgIGlmIChwYXR0ZXJuLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdCAgICBwYXR0ZXJuID0gJy8nICsgcGF0dGVybjtcblx0ICB9XG5cdFxuXHQgIHZhciBfY29tcGlsZVBhdHRlcm4yID0gY29tcGlsZVBhdHRlcm4ocGF0dGVybik7XG5cdFxuXHQgIHZhciByZWdleHBTb3VyY2UgPSBfY29tcGlsZVBhdHRlcm4yLnJlZ2V4cFNvdXJjZTtcblx0ICB2YXIgcGFyYW1OYW1lcyA9IF9jb21waWxlUGF0dGVybjIucGFyYW1OYW1lcztcblx0ICB2YXIgdG9rZW5zID0gX2NvbXBpbGVQYXR0ZXJuMi50b2tlbnM7XG5cdFxuXHRcblx0ICBpZiAocGF0dGVybi5jaGFyQXQocGF0dGVybi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdCAgICByZWdleHBTb3VyY2UgKz0gJy8/JzsgLy8gQWxsb3cgb3B0aW9uYWwgcGF0aCBzZXBhcmF0b3IgYXQgZW5kLlxuXHQgIH1cblx0XG5cdCAgLy8gU3BlY2lhbC1jYXNlIHBhdHRlcm5zIGxpa2UgJyonIGZvciBjYXRjaC1hbGwgcm91dGVzLlxuXHQgIGlmICh0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdID09PSAnKicpIHtcblx0ICAgIHJlZ2V4cFNvdXJjZSArPSAnJCc7XG5cdCAgfVxuXHRcblx0ICB2YXIgbWF0Y2ggPSBwYXRobmFtZS5tYXRjaChuZXcgUmVnRXhwKCdeJyArIHJlZ2V4cFNvdXJjZSwgJ2knKSk7XG5cdCAgaWYgKG1hdGNoID09IG51bGwpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0XG5cdCAgdmFyIG1hdGNoZWRQYXRoID0gbWF0Y2hbMF07XG5cdCAgdmFyIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG5cdFxuXHQgIGlmIChyZW1haW5pbmdQYXRobmFtZSkge1xuXHQgICAgLy8gUmVxdWlyZSB0aGF0IHRoZSBtYXRjaCBlbmRzIGF0IGEgcGF0aCBzZXBhcmF0b3IsIGlmIHdlIGRpZG4ndCBtYXRjaFxuXHQgICAgLy8gdGhlIGZ1bGwgcGF0aCwgc28gYW55IHJlbWFpbmluZyBwYXRobmFtZSBpcyBhIG5ldyBwYXRoIHNlZ21lbnQuXG5cdCAgICBpZiAobWF0Y2hlZFBhdGguY2hhckF0KG1hdGNoZWRQYXRoLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gSWYgdGhlcmUgaXMgYSByZW1haW5pbmcgcGF0aG5hbWUsIHRyZWF0IHRoZSBwYXRoIHNlcGFyYXRvciBhcyBwYXJ0IG9mXG5cdCAgICAvLyB0aGUgcmVtYWluaW5nIHBhdGhuYW1lIGZvciBwcm9wZXJseSBjb250aW51aW5nIHRoZSBtYXRjaC5cblx0ICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gJy8nICsgcmVtYWluaW5nUGF0aG5hbWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcmVtYWluaW5nUGF0aG5hbWU6IHJlbWFpbmluZ1BhdGhuYW1lLFxuXHQgICAgcGFyYW1OYW1lczogcGFyYW1OYW1lcyxcblx0ICAgIHBhcmFtVmFsdWVzOiBtYXRjaC5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgcmV0dXJuIHYgJiYgZGVjb2RlVVJJQ29tcG9uZW50KHYpO1xuXHQgICAgfSlcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQYXJhbU5hbWVzKHBhdHRlcm4pIHtcblx0ICByZXR1cm4gY29tcGlsZVBhdHRlcm4ocGF0dGVybikucGFyYW1OYW1lcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyYW1zKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG5cdCAgdmFyIG1hdGNoID0gbWF0Y2hQYXR0ZXJuKHBhdHRlcm4sIHBhdGhuYW1lKTtcblx0ICBpZiAoIW1hdGNoKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdFxuXHQgIHZhciBwYXJhbU5hbWVzID0gbWF0Y2gucGFyYW1OYW1lcztcblx0ICB2YXIgcGFyYW1WYWx1ZXMgPSBtYXRjaC5wYXJhbVZhbHVlcztcblx0XG5cdCAgdmFyIHBhcmFtcyA9IHt9O1xuXHRcblx0ICBwYXJhbU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtTmFtZSwgaW5kZXgpIHtcblx0ICAgIHBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZXNbaW5kZXhdO1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcGFyYW1zO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIHZlcnNpb24gb2YgdGhlIGdpdmVuIHBhdHRlcm4gd2l0aCBwYXJhbXMgaW50ZXJwb2xhdGVkLiBUaHJvd3Ncblx0ICogaWYgdGhlcmUgaXMgYSBkeW5hbWljIHNlZ21lbnQgb2YgdGhlIHBhdHRlcm4gZm9yIHdoaWNoIHRoZXJlIGlzIG5vIHBhcmFtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZm9ybWF0UGF0dGVybihwYXR0ZXJuLCBwYXJhbXMpIHtcblx0ICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG5cdFxuXHQgIHZhciBfY29tcGlsZVBhdHRlcm4zID0gY29tcGlsZVBhdHRlcm4ocGF0dGVybik7XG5cdFxuXHQgIHZhciB0b2tlbnMgPSBfY29tcGlsZVBhdHRlcm4zLnRva2Vucztcblx0XG5cdCAgdmFyIHBhcmVuQ291bnQgPSAwLFxuXHQgICAgICBwYXRobmFtZSA9ICcnLFxuXHQgICAgICBzcGxhdEluZGV4ID0gMDtcblx0XG5cdCAgdmFyIHRva2VuID0gdm9pZCAwLFxuXHQgICAgICBwYXJhbU5hbWUgPSB2b2lkIDAsXG5cdCAgICAgIHBhcmFtVmFsdWUgPSB2b2lkIDA7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRva2Vucy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFxuXHQgICAgaWYgKHRva2VuID09PSAnKicgfHwgdG9rZW4gPT09ICcqKicpIHtcblx0ICAgICAgcGFyYW1WYWx1ZSA9IEFycmF5LmlzQXJyYXkocGFyYW1zLnNwbGF0KSA/IHBhcmFtcy5zcGxhdFtzcGxhdEluZGV4KytdIDogcGFyYW1zLnNwbGF0O1xuXHRcblx0ICAgICAgIShwYXJhbVZhbHVlICE9IG51bGwgfHwgcGFyZW5Db3VudCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ01pc3Npbmcgc3BsYXQgIyVzIGZvciBwYXRoIFwiJXNcIicsIHNwbGF0SW5kZXgsIHBhdHRlcm4pIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0XG5cdCAgICAgIGlmIChwYXJhbVZhbHVlICE9IG51bGwpIHBhdGhuYW1lICs9IGVuY29kZVVSSShwYXJhbVZhbHVlKTtcblx0ICAgIH0gZWxzZSBpZiAodG9rZW4gPT09ICcoJykge1xuXHQgICAgICBwYXJlbkNvdW50ICs9IDE7XG5cdCAgICB9IGVsc2UgaWYgKHRva2VuID09PSAnKScpIHtcblx0ICAgICAgcGFyZW5Db3VudCAtPSAxO1xuXHQgICAgfSBlbHNlIGlmICh0b2tlbi5jaGFyQXQoMCkgPT09ICc6Jykge1xuXHQgICAgICBwYXJhbU5hbWUgPSB0b2tlbi5zdWJzdHJpbmcoMSk7XG5cdCAgICAgIHBhcmFtVmFsdWUgPSBwYXJhbXNbcGFyYW1OYW1lXTtcblx0XG5cdCAgICAgICEocGFyYW1WYWx1ZSAhPSBudWxsIHx8IHBhcmVuQ291bnQgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdNaXNzaW5nIFwiJXNcIiBwYXJhbWV0ZXIgZm9yIHBhdGggXCIlc1wiJywgcGFyYW1OYW1lLCBwYXR0ZXJuKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgICBpZiAocGFyYW1WYWx1ZSAhPSBudWxsKSBwYXRobmFtZSArPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1WYWx1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBwYXRobmFtZSArPSB0b2tlbjtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBwYXRobmFtZS5yZXBsYWNlKC9cXC8rL2csICcvJyk7XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0SG90UXVlc3Rpb25MaXN0ID0gZ2V0SG90UXVlc3Rpb25MaXN0O1xuXHRleHBvcnRzLmdldFF1ZXN0aW9uSW5mbyA9IGdldFF1ZXN0aW9uSW5mbztcblx0ZXhwb3J0cy5nZXRMaXN0ZW5JbmZvID0gZ2V0TGlzdGVuSW5mbztcblx0ZXhwb3J0cy5zYXZlVm9pY2UgPSBzYXZlVm9pY2U7XG5cdGV4cG9ydHMucHJpc2VRdWVzdGlvbiA9IHByaXNlUXVlc3Rpb247XG5cdGV4cG9ydHMuY2FuY2VsUHJpc2VRdWVzdGlvbiA9IGNhbmNlbFByaXNlUXVlc3Rpb247XG5cdGV4cG9ydHMuaGFuZGxlUGFpZCA9IGhhbmRsZVBhaWQ7XG5cdGV4cG9ydHMuY2xlYXJRdWVzaXRvbiA9IGNsZWFyUXVlc2l0b247XG5cdFxuXHR2YXIgX3F1ZXN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cdFxuXHR2YXIgX3F1ZXN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3F1ZXN0aW9uKTtcblx0XG5cdHZhciBfQWN0aW9uVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTMuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRIb3RRdWVzdGlvbkxpc3QocGFnZSwgbnVtLCBzZWFyY2gpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5TRVRfQ1VSX1NFQVJDSCxcblx0ICAgICAgICAgICAgY3VyU2VhcmNoOiBzZWFyY2ggfHwgXCJcIlxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogX0FjdGlvblR5cGVzLlJFUVVFU1RfU0VBUkNIX1FVRVNUSU9OIH0pO1xuXHQgICAgICAgIF9xdWVzdGlvbjIuZGVmYXVsdC5nZXRIb3RRdWVzdGlvbkxpc3QocGFnZSwgbnVtLCBzZWFyY2gsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRUNFSVZFX0hPVF9RVUVTVElPTl9MSVNULFxuXHQgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG5cdCAgICAgICAgICAgICAgICBudW06IG51bVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblx0ZnVuY3Rpb24gZ2V0UXVlc3Rpb25JbmZvKGlkKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdCAgICAgICAgX3F1ZXN0aW9uMi5kZWZhdWx0LmdldFF1ZXN0aW9uSW5mbyhpZCwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfUVVFU1RJT05fSU5GTyxcblx0ICAgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mbzogZGF0YVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblx0ZnVuY3Rpb24gZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFUVVFU1RfTElTVEVOX0lORk9cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfcXVlc3Rpb24yLmRlZmF1bHQuZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfTElTVEVOX0lORk8sXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBzYXZlVm9pY2Uoc2VydmVySWQsIHF1ZXN0aW9uSWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBfcXVlc3Rpb24yLmRlZmF1bHQuc2F2ZVZvaWNlKHNlcnZlcklkLCBxdWVzdGlvbklkLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9TQVZFX1ZPSUNFLFxuXHQgICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8v54K56LWeXG5cdGZ1bmN0aW9uIHByaXNlUXVlc3Rpb24oYW5zd2VySWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBfcXVlc3Rpb24yLmRlZmF1bHQucHJpc2VRdWVzdGlvbihhbnN3ZXJJZCwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfUFJJU0VfUVVFU1RJT04sXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRcblx0Ly/lj5bmtojngrnotZ5cblx0ZnVuY3Rpb24gY2FuY2VsUHJpc2VRdWVzdGlvbihhbnN3ZXJJZCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIF9xdWVzdGlvbjIuZGVmYXVsdC5jYW5jZWxQcmlzZVF1ZXN0aW9uKGFuc3dlcklkLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9DQU5DRUxfUFJJU0VfUVVFU1RJT04sXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHQvL+aUr+S7mOaIkOWKn1xuXHRmdW5jdGlvbiBoYW5kbGVQYWlkKGluZGV4KSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdCAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9QQUlELFxuXHQgICAgICAgICAgICBpbmRleDogaW5kZXhcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblx0ZnVuY3Rpb24gY2xlYXJRdWVzaXRvbigpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLkNMRUFSX1FVRVNUSU9OXG5cdCAgICB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvY29tbW9uLnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi83LzIuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBMb2FkaW5nID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoTG9hZGluZywgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIExvYWRpbmcoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGluZyk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2FkaW5nLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9hZGluZykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExvYWRpbmcsIFt7XG5cdCAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICB7IGNsYXNzTmFtZTogXCJsb2FkaW5nXCIgfSxcblx0ICAgICAgICBcIlxcdTZCNjNcXHU1NzI4XFx1NTJBMFxcdThGN0RcXHUyMDI2XFx1MjAyNlwiXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gTG9hZGluZztcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExvYWRpbmc7XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qIVxuXHQgIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuXHQgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdCAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuXHQqL1xuXHQvKiBnbG9iYWwgZGVmaW5lICovXG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHRcdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRcblx0XHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHRcdHZhciBjbGFzc2VzID0gW107XG5cdFxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXHRcblx0XHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXHRcblx0XHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0XHR9XG5cdFxuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHRcdH0gZWxzZSBpZiAodHJ1ZSkge1xuXHRcdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdFx0IShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHRcdH0uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHRcdH1cblx0fSgpKTtcblxuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUmVhY3RET007XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRUdXRvckxpc3QgPSBnZXRUdXRvckxpc3Q7XG5cdGV4cG9ydHMuZ2V0VHV0b3JJbmZvID0gZ2V0VHV0b3JJbmZvO1xuXHRleHBvcnRzLmdldFR1dG9yQW5zd2VyTGlzdCA9IGdldFR1dG9yQW5zd2VyTGlzdDtcblx0ZXhwb3J0cy5nZXRQcmVwYXlJbmZvID0gZ2V0UHJlcGF5SW5mbztcblx0ZXhwb3J0cy5jbGVhclR1dG9ySW5kZXggPSBjbGVhclR1dG9ySW5kZXg7XG5cdFxuXHR2YXIgX3R1dG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdFxuXHR2YXIgX3R1dG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R1dG9yKTtcblx0XG5cdHZhciBfQWN0aW9uVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTQuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRUdXRvckxpc3QocGFnZSwgbnVtLCBzZWFyY2gpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRVFVRVNUX1NFQVJDSF9UVVRPUlxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIF90dXRvcjIuZGVmYXVsdC5nZXRUdXRvckxpc3QocGFnZSwgbnVtLCBzZWFyY2gsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRUNFSVZFX1RVVE9SX0xJU1QsXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcblx0ICAgICAgICAgICAgICAgIG51bTogbnVtXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBnZXRUdXRvckluZm8oaWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBfdHV0b3IyLmRlZmF1bHQuZ2V0VHV0b3JJbmZvKGlkLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9UVVRPUl9JTkZPLFxuXHQgICAgICAgICAgICAgICAgdHV0b3JJbmZvOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBnZXRUdXRvckFuc3dlckxpc3QoaWQsIHBhZ2UsIG51bSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIF90dXRvcjIuZGVmYXVsdC5nZXRUdXRvckFuc3dlckxpc3QoaWQsIHBhZ2UsIG51bSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QsXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcblx0ICAgICAgICAgICAgICAgIG51bTogbnVtXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBnZXRQcmVwYXlJbmZvKGNvbnRlbnQsIHR1dG9ySWQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRVFVRVNUX1BSRVBBWV9JTkZPXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3R1dG9yMi5kZWZhdWx0LmdldFByZXBheUluZm8oY29udGVudCwgdHV0b3JJZCwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfUFJFUEFZX0lORk8sXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBjbGVhclR1dG9ySW5kZXgoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5DTEVBUl9UVVRPUl9JTkRFWFxuXHQgICAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBTZWFyY2hCYXIgPSBmdW5jdGlvbiBTZWFyY2hCYXIoX3JlZikge1xuXHQgICAgdmFyIGN1clNlYXJjaCA9IF9yZWYuY3VyU2VhcmNoO1xuXHRcblx0ICAgIHZhciB1cmwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcblx0ICAgIGlmICh1cmwuaW5kZXhPZihcInNlYXJjaFwiKSA+IDAgJiYgY3VyU2VhcmNoICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNzZWFyY2gtaW5wdXRcIikpIHtcblx0ICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZSAhPSBjdXJTZWFyY2gpIHtcblx0ICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZSA9IGN1clNlYXJjaDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgc2hvd1RpcHMgPSBmdW5jdGlvbiBzaG93VGlwcygpIHtcblx0ICAgICAgICAvLyBsZXQgdGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXRpcHNcIilcblx0ICAgICAgICAvLyB0aXBzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcblx0ICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC90aXBzXCIpO1xuXHQgICAgfTtcblx0ICAgIC8vIGNvbnN0IGhpZGVUaXBzPSgpPT57XG5cdCAgICAvLyAgICAgbGV0IHRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC10aXBzXCIpXG5cdCAgICAvLyAgICAgdGlwcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcblx0ICAgIC8vIH1cblx0ICAgIHZhciBoYW5kbGVTZWFyY2ggPSBmdW5jdGlvbiBoYW5kbGVTZWFyY2goKSB7XG5cdCAgICAgICAgdmFyIHF1ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcInF1ZXJ5IGlzIFwiICsgcXVlcnkpO1xuXHQgICAgICAgIGlmIChxdWVyeSAhPSBcIlwiKSBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC9yZXN1bHQvXCIgKyBxdWVyeSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGNsZWFySW5wdXQgPSBmdW5jdGlvbiBjbGVhcklucHV0KCkge1xuXHQgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNzZWFyY2gtaW5wdXRcIik7XG5cdCAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuXHQgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICB7IGNsYXNzTmFtZTogXCJzZWFyY2gtYmFyXCIgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJzZWFyY2gtaWNvblwiIH0sXG5cdCAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBzcmM6IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KSB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgdHlwZTogXCJzZWFyY2hcIiwgb25Gb2N1czogc2hvd1RpcHMsIGlkOiBcInNlYXJjaC1pbnB1dFwiLCBwbGFjZWhvbGRlcjogXCJcXHU4RjkzXFx1NTE2NVxcdTUxNzNcXHU5NTJFXFx1OEJDRFxcdTY0MUNcXHU3RDIyXFx1OTVFRVxcdTk4OThcXHU1NDhDXFx1NUJGQ1xcdTVFMDhcIiB9KSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHsgY2xhc3NOYW1lOiBcImNsb3NlXCIsIG9uQ2xpY2s6IGNsZWFySW5wdXQsIHNyYzogX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpIH0pLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIFwiYnV0dG9uXCIsXG5cdCAgICAgICAgICAgIHsgb25DbGljazogaGFuZGxlU2VhcmNoIH0sXG5cdCAgICAgICAgICAgIFwiXFx1NjQxQ1xcdTdEMjJcIlxuXHQgICAgICAgIClcblx0ICAgICk7XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgY3VyU2VhcmNoOiBzdGF0ZS5jdXJTZWFyY2hcblx0ICAgIH07XG5cdH0pKFNlYXJjaEJhcik7XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdG9hc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfdG9hc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9hc3QpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hcGlIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX2FwaUhhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBpSGFuZGxlcik7XG5cdFxuXHR2YXIgX3F1ZXN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX2FsZXJ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX2FsZXJ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FsZXJ0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoUXVlc3Rpb25JdGVtV2l0aEF2YXRhciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVlc3Rpb25JdGVtV2l0aEF2YXRhcik7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyKSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgICBzaG93QWxlcnQ6IGZhbHNlLFxuXHQgICAgICBhbGVydDoge1xuXHQgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxuXHQgICAgICAgIGJ1dHRvbnM6IFt7XG5cdCAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG5cdCAgICAgICAgICBsYWJlbDogJ+ehruWumicsXG5cdCAgICAgICAgICBvbkNsaWNrOiBfdGhpcy5oaWRlQWxlcnQuYmluZChfdGhpcylcblx0ICAgICAgICB9XVxuXHQgICAgICB9LFxuXHQgICAgICBhbGVydENvbnRlbnQ6ICcnXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIsIFt7XG5cdCAgICBrZXk6ICdidWJibGVDbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnViYmxlQ2xpY2soYW5zd2VySWQsIHF1ZXN0aW9uSWQsIGlzUGF5ZWQpIHtcblx0ICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICB2YXIgc3VjY2Vzc1VybCA9IF9jb25maWcuYmFzZVVybCArICdxdWVzdGlvbi8nICsgcXVlc3Rpb25JZDtcblx0ICAgICAgaWYgKGlzUGF5ZWQpIHtcblx0ICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChzdWNjZXNzVXJsKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChfY29uZmlnLmJhc2VVcmwgKyAncGF5P2Fuc3dlcklkPScgKyBhbnN3ZXJJZCArICcmdHlwZT1xdWVzdGlvbiZzdWNjZXNzVXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQoc3VjY2Vzc1VybCkgKyAnJmZhaWxVcmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSk7XG5cdCAgICAgICAgLy/lj5bpooTmlK/ku5jorqLljZVcblx0ICAgICAgICAvLyAgIHNlbGYuc2V0U3RhdGUoe2xvYWRpbmc6IHRydWV9KTtcblx0ICAgICAgICAvLyAgIGZldGNoKGAke2RvbWFpbn0vYXBpL3YxL2Fuc3dlci9saXN0ZW4/YW5zd2VyX2lkPSR7YW5zd2VySWR9YCwge1xuXHQgICAgICAgIC8vICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIC8vICAgfSlcblx0ICAgICAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuXHQgICAgICAgIC8vICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbiwgKGRhdGEpPT4ge1xuXHQgICAgICAgIC8vICAgICAgIHNlbGYuc2V0U3RhdGUoe2xvYWRpbmc6IGZhbHNlfSk7XG5cdCAgICAgICAgLy8gICAgICAgaWYgKGRhdGEudGltZVN0YW1wICE9IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIC8vICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKClcblx0ICAgICAgICAvLyAgICAgICAgIC8vIGFsZXJ0KCduZXhzdGF0ZTonICsgZGF0YS50aW1lU3RhbXAgKyAnJyArICh0aW1lLnZhbHVlT2YoKS8xMDAwIC0gZGF0YS50aW1lU3RhbXApKTtcblx0ICAgICAgICAvLyAgICAgICAgIGlmICh0aW1lLnZhbHVlT2YoKSAvIDEwMDAgLSBkYXRhLnRpbWVTdGFtcCA8IDEwMDApIHtcblx0ICAgICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCLov5vlhaXlvq7kv6HmlK/ku5hcIilcblx0ICAgICAgICAvLyAgICAgICAgICAgLy8gYWxlcnQoJ2VudGVyIHBheScpO1xuXHQgICAgICAgIC8vICAgICAgICAgICBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KCkge1xuXHQgICAgICAgIC8vICAgICAgICAgICAgIFdlaXhpbkpTQnJpZGdlLmludm9rZShcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGRhdGEsXG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyX21zZyA9PSBcImdldF9icmFuZF93Y3BheV9yZXF1ZXN0Om9rXCIpIHtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaUr+S7mOaIkOWKn++8gVwiKVxuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIHNlbGYucHJvcHMuaGFuZGxlUGFpZChpbmRleCk7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHtiYXNlVXJsfXF1ZXN0aW9uLyR7cXVlc3Rpb25JZH1gKVxuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJIaXN0b3J5LnB1c2goYCR7YmFzZVVybH1xdWVzdGlvbi8ke3F1ZXN0aW9uSWR9YClcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHthbGVydENvbnRlbnQ6XCLmlK/ku5jlpLHotKVcIixzaG93QWxlcnQ6dHJ1ZX0pXG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vICAgYWxlcnQoXCLmlK/ku5jlpLHotKXvvIzljp/lm6DvvJpcIiArIEpTT04uc3RyaW5naWZ5KHJlcykpXG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCdvbldlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyDkvb/nlKjku6XkuIrmlrnlvI/liKTmlq3liY3nq6/ov5Tlm54s5b6u5L+h5Zui6Zif6YOR6YeN5o+Q56S677yacmVzLmVycl9tc2flsIblnKjnlKjmiLfmlK/ku5jmiJDlip/lkI7ov5Tlm54gICAgb2vvvIzkvYblubbkuI3kv53or4HlroPnu53lr7nlj6/pnaDjgIJcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAvLyAgICAgICAgICAgICApO1xuXHQgICAgICAgIC8vICAgICAgICAgICB9XG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyAgICAgICAgICAgaWYgKHR5cGVvZiBXZWl4aW5KU0JyaWRnZSA9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5LCBmYWxzZSk7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkge1xuXHQgICAgICAgIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgICAgICAvLyAgICAgICAgICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbldlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgICAgICAvLyAgICAgICAgICAgICB9XG5cdCAgICAgICAgLy8gICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gICAgICAgICAgICAgb25CcmlkZ2VSZWFkeSgpO1xuXHQgICAgICAgIC8vICAgICAgICAgICB9XG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS51cmwgIT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgLy8gICAgICAgICAgIC8vIHRoaXMuY29udGV4dC5yb3V0ZXIucHVzaChgcXVlc3Rpb24vJHtzZWxmLnN0YXRlLmN1clF1ZXN0aW9uSWR9YClcblx0ICAgICAgICAvLyAgICAgICAgIH1cblx0ICAgICAgICAvLyAgICAgICB9XG5cdCAgICAgICAgLy9cblx0ICAgICAgICAvLyAgICAgfSkpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoaWRlQWxlcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVBbGVydCgpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dBbGVydDogZmFsc2UgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgcXVlc3Rpb24gPSBfcHJvcHMucXVlc3Rpb24sXG5cdCAgICAgICAgICB1c2VySWQgPSBfcHJvcHMudXNlcklkO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdhcnRpY2xlJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ3F1ZXN0aW9uLWl0ZW0td2l0aC1hdmF0YXInIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfYWxlcnQyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHNob3c6IHRoaXMuc3RhdGUuc2hvd0FsZXJ0LCB0aXRsZTogdGhpcy5zdGF0ZS5hbGVydC50aXRsZSwgYnV0dG9uczogdGhpcy5zdGF0ZS5hbGVydC5idXR0b25zIH0sXG5cdCAgICAgICAgICB0aGlzLnN0YXRlLmFsZXJ0Q29udGVudFxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IGljb246ICdsb2FkaW5nJywgc2hvdzogdGhpcy5zdGF0ZS5sb2FkaW5nIH0sXG5cdCAgICAgICAgICAnXFx1NkI2M1xcdTU3MjhcXHU4QkY3XFx1NkM0MlxcdTIwMjZcXHUyMDI2J1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArIFwicXVlc3Rpb24vXCIgKyBxdWVzdGlvbi5xdWVzdGlvbl9pZCB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3F1ZXN0aW9uLWNvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdoNCcsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICBxdWVzdGlvbi5xdWVzdGlvbl9jb250ZW50XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICB7IHRvOiB1c2VySWQgPT0gcXVlc3Rpb24udGVhY2hlcl9pZCA/IF9jb25maWcuYmFzZVVybCArICdhY2NvdW50JyA6IF9jb25maWcuYmFzZVVybCArICd0dXRvci8nICsgcXVlc3Rpb24udGVhY2hlcl9pZCB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21lbnRvcicgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBxdWVzdGlvbi50ZWFjaGVyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMicgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbWVudG9yLWluZm8nIH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hbWUnIH0sXG5cdCAgICAgICAgICAgICAgICBxdWVzdGlvbi50ZWFjaGVyX25hbWVcblx0ICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIHF1ZXN0aW9uLnRlYWNoZXJfcG9zaXRpb25cblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Fuc3dlcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnViYmxlJyxcblx0ICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmJ1YmJsZUNsaWNrLmJpbmQodGhpcywgcXVlc3Rpb24uYW5zd2VyX2lkLCBxdWVzdGlvbi5xdWVzdGlvbl9pZCwgcXVlc3Rpb24uYW5zd2VyX2lzcGF5ZWQpIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdidWJibGUtdGFpbCcgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdidWJibGUtdm9pY2UnIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidWJibGUtdGV4dCcgfSxcblx0ICAgICAgICAgICAgICBxdWVzdGlvbi5hbnN3ZXJfaXNwYXllZCA/IFwi54K55Ye75YG35YG35ZCsXCIgOiBcIjHlhYPlgbflgbflkKxcIlxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgeyB0bzogX2NvbmZpZy5iYXNlVXJsICsgXCJxdWVzdGlvbi9cIiArIHF1ZXN0aW9uLnF1ZXN0aW9uX2lkIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncmVtYXJrJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3ZhbHVlJyB9LFxuXHQgICAgICAgICAgICAgICdcXHVGRkU1XFx4QTAnLFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uLnF1ZXN0aW9uX3ByaXplXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncmVtYXJrLWluZm8nIH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgcXVlc3Rpb24uYW5zd2VyX2xpc3Rlbixcblx0ICAgICAgICAgICAgICAgICdcXHU0RUJBXFx1NTA3N1xcdTU0MkMnXG5cdCAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAna3VpJyB9LFxuXHQgICAgICAgICAgICAgICAgcXVlc3Rpb24uYW5zd2VyX2xpa2UsXG5cdCAgICAgICAgICAgICAgICAnXFx1NEVCQVxcdTg5QzlcXHU1Rjk3XFx1OEQ1RSdcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUXVlc3Rpb25JdGVtV2l0aEF2YXRhcjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIuZGVmYXVsdFByb3BzID0ge1xuXHQgIHF1ZXN0aW9uOiB7fSxcblx0ICBpbmRleDogMFxuXHR9O1xuXHRRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKHVuZGVmaW5lZCwgeyBoYW5kbGVQYWlkOiBfcXVlc3Rpb24uaGFuZGxlUGFpZCB9KShRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUXVlc3Rpb25JdGVtV2l0aEF2YXRhcjtcblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHR2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0ZXhwb3J0cy5jYW5Vc2VET00gPSBjYW5Vc2VET007XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX3F1ZXJ5U3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9kZXByZWNhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cdFxuXHR2YXIgU0VBUkNIX0JBU0VfS0VZID0gJyRzZWFyY2hCYXNlJztcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTdHJpbmdpZnlRdWVyeShxdWVyeSkge1xuXHQgIHJldHVybiBfcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHF1ZXJ5KS5yZXBsYWNlKC8lMjAvZywgJysnKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRQYXJzZVF1ZXJ5U3RyaW5nID0gX3F1ZXJ5U3RyaW5nLnBhcnNlO1xuXHRcblx0ZnVuY3Rpb24gaXNOZXN0ZWRPYmplY3Qob2JqZWN0KSB7XG5cdCAgZm9yICh2YXIgcCBpbiBvYmplY3QpIHtcblx0ICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwKSAmJiB0eXBlb2Ygb2JqZWN0W3BdID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShvYmplY3RbcF0pICYmIG9iamVjdFtwXSAhPT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cdCAgfXJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBuZXcgY3JlYXRlSGlzdG9yeSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZVxuXHQgKiBoaXN0b3J5IG9iamVjdHMgdGhhdCBrbm93IGhvdyB0byBoYW5kbGUgVVJMIHF1ZXJpZXMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1c2VRdWVyaWVzKGNyZWF0ZUhpc3RvcnkpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgICB2YXIgaGlzdG9yeSA9IGNyZWF0ZUhpc3Rvcnkob3B0aW9ucyk7XG5cdFxuXHQgICAgdmFyIHN0cmluZ2lmeVF1ZXJ5ID0gb3B0aW9ucy5zdHJpbmdpZnlRdWVyeTtcblx0ICAgIHZhciBwYXJzZVF1ZXJ5U3RyaW5nID0gb3B0aW9ucy5wYXJzZVF1ZXJ5U3RyaW5nO1xuXHRcblx0ICAgIGlmICh0eXBlb2Ygc3RyaW5naWZ5UXVlcnkgIT09ICdmdW5jdGlvbicpIHN0cmluZ2lmeVF1ZXJ5ID0gZGVmYXVsdFN0cmluZ2lmeVF1ZXJ5O1xuXHRcblx0ICAgIGlmICh0eXBlb2YgcGFyc2VRdWVyeVN0cmluZyAhPT0gJ2Z1bmN0aW9uJykgcGFyc2VRdWVyeVN0cmluZyA9IGRlZmF1bHRQYXJzZVF1ZXJ5U3RyaW5nO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGFkZFF1ZXJ5KGxvY2F0aW9uKSB7XG5cdCAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSA9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcblx0XG5cdCAgICAgICAgbG9jYXRpb24ucXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKHNlYXJjaC5zdWJzdHJpbmcoMSkpO1xuXHQgICAgICAgIGxvY2F0aW9uW1NFQVJDSF9CQVNFX0tFWV0gPSB7IHNlYXJjaDogc2VhcmNoLCBzZWFyY2hCYXNlOiAnJyB9O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBUT0RPOiBJbnN0ZWFkIG9mIGFsbCB0aGUgYm9vay1rZWVwaW5nIGhlcmUsIHRoaXMgc2hvdWxkIGp1c3Qgc3RyaXAgdGhlXG5cdCAgICAgIC8vIHN0cmluZ2lmaWVkIHF1ZXJ5IGZyb20gdGhlIHNlYXJjaC5cblx0XG5cdCAgICAgIHJldHVybiBsb2NhdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBhcHBlbmRRdWVyeShsb2NhdGlvbiwgcXVlcnkpIHtcblx0ICAgICAgdmFyIF9leHRlbmRzMjtcblx0XG5cdCAgICAgIHZhciBzZWFyY2hCYXNlU3BlYyA9IGxvY2F0aW9uW1NFQVJDSF9CQVNFX0tFWV07XG5cdCAgICAgIHZhciBxdWVyeVN0cmluZyA9IHF1ZXJ5ID8gc3RyaW5naWZ5UXVlcnkocXVlcnkpIDogJyc7XG5cdCAgICAgIGlmICghc2VhcmNoQmFzZVNwZWMgJiYgIXF1ZXJ5U3RyaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oc3RyaW5naWZ5UXVlcnkgIT09IGRlZmF1bHRTdHJpbmdpZnlRdWVyeSB8fCAhaXNOZXN0ZWRPYmplY3QocXVlcnkpLCAndXNlUXVlcmllcyBkb2VzIG5vdCBzdHJpbmdpZnkgbmVzdGVkIHF1ZXJ5IG9iamVjdHMgYnkgZGVmYXVsdDsgJyArICd1c2UgYSBjdXN0b20gc3RyaW5naWZ5UXVlcnkgZnVuY3Rpb24nKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblx0XG5cdCAgICAgIHZhciBzZWFyY2hCYXNlID0gdW5kZWZpbmVkO1xuXHQgICAgICBpZiAoc2VhcmNoQmFzZVNwZWMgJiYgbG9jYXRpb24uc2VhcmNoID09PSBzZWFyY2hCYXNlU3BlYy5zZWFyY2gpIHtcblx0ICAgICAgICBzZWFyY2hCYXNlID0gc2VhcmNoQmFzZVNwZWMuc2VhcmNoQmFzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzZWFyY2hCYXNlID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgc2VhcmNoID0gc2VhcmNoQmFzZTtcblx0ICAgICAgaWYgKHF1ZXJ5U3RyaW5nKSB7XG5cdCAgICAgICAgc2VhcmNoICs9IChzZWFyY2ggPyAnJicgOiAnPycpICsgcXVlcnlTdHJpbmc7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIChfZXh0ZW5kczIgPSB7XG5cdCAgICAgICAgc2VhcmNoOiBzZWFyY2hcblx0ICAgICAgfSwgX2V4dGVuZHMyW1NFQVJDSF9CQVNFX0tFWV0gPSB7IHNlYXJjaDogc2VhcmNoLCBzZWFyY2hCYXNlOiBzZWFyY2hCYXNlIH0sIF9leHRlbmRzMikpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE92ZXJyaWRlIGFsbCByZWFkIG1ldGhvZHMgd2l0aCBxdWVyeS1hd2FyZSB2ZXJzaW9ucy5cblx0ICAgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShob29rKSB7XG5cdCAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbkJlZm9yZShmdW5jdGlvbiAobG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKGhvb2ssIGFkZFF1ZXJ5KGxvY2F0aW9uKSwgY2FsbGJhY2spO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcblx0ICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuXHQgICAgICAgIGxpc3RlbmVyKGFkZFF1ZXJ5KGxvY2F0aW9uKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE92ZXJyaWRlIGFsbCB3cml0ZSBtZXRob2RzIHdpdGggcXVlcnktYXdhcmUgdmVyc2lvbnMuXG5cdCAgICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG5cdCAgICAgIGhpc3RvcnkucHVzaChhcHBlbmRRdWVyeShsb2NhdGlvbiwgbG9jYXRpb24ucXVlcnkpKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG5cdCAgICAgIGhpc3RvcnkucmVwbGFjZShhcHBlbmRRdWVyeShsb2NhdGlvbiwgbG9jYXRpb24ucXVlcnkpKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uLCBxdWVyeSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oIXF1ZXJ5LCAndGhlIHF1ZXJ5IGFyZ3VtZW50IHRvIGNyZWF0ZVBhdGggaXMgZGVwcmVjYXRlZDsgdXNlIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVQYXRoKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBxdWVyeSB8fCBsb2NhdGlvbi5xdWVyeSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24sIHF1ZXJ5KSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXSghcXVlcnksICd0aGUgcXVlcnkgYXJndW1lbnQgdG8gY3JlYXRlSHJlZiBpcyBkZXByZWNhdGVkOyB1c2UgYSBsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUhyZWYoYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5IHx8IGxvY2F0aW9uLnF1ZXJ5KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24obG9jYXRpb24pIHtcblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBmdWxsTG9jYXRpb24gPSBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uLmFwcGx5KGhpc3RvcnksIFthcHBlbmRRdWVyeShsb2NhdGlvbiwgbG9jYXRpb24ucXVlcnkpXS5jb25jYXQoYXJncykpO1xuXHQgICAgICBpZiAobG9jYXRpb24ucXVlcnkpIHtcblx0ICAgICAgICBmdWxsTG9jYXRpb24ucXVlcnkgPSBsb2NhdGlvbi5xdWVyeTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYWRkUXVlcnkoZnVsbExvY2F0aW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBkZXByZWNhdGVkXG5cdCAgICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgsIHF1ZXJ5KSB7XG5cdCAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblx0XG5cdCAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCwgeyBxdWVyeTogcXVlcnkgfSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlcHJlY2F0ZWRcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCwgcXVlcnkpIHtcblx0ICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoLCB7IHF1ZXJ5OiBxdWVyeSB9KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG5cdCAgICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuXHQgICAgICBsaXN0ZW46IGxpc3Rlbixcblx0ICAgICAgcHVzaDogcHVzaCxcblx0ICAgICAgcmVwbGFjZTogcmVwbGFjZSxcblx0ICAgICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcblx0ICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcblx0ICAgICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXHRcblx0ICAgICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG5cdCAgICAgIHJlcGxhY2VTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZXBsYWNlU3RhdGUsICdyZXBsYWNlU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHJlcGxhY2UgaW5zdGVhZCcpXG5cdCAgICB9KTtcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSB1c2VRdWVyaWVzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRoZSB3aGF0d2ctZmV0Y2ggcG9seWZpbGwgaW5zdGFsbHMgdGhlIGZldGNoKCkgZnVuY3Rpb25cblx0Ly8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuXHQvL1xuXHQvLyBSZXR1cm4gdGhhdCBhcyB0aGUgZXhwb3J0IGZvciB1c2UgaW4gV2VicGFjaywgQnJvd3NlcmlmeSBldGMuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMpO1xuXHRcblx0dmFyIF9nZXRSb3V0ZVBhcmFtcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0XG5cdHZhciBfZ2V0Um91dGVQYXJhbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Um91dGVQYXJhbXMpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcblx0dmFyIGFycmF5ID0gX1JlYWN0JFByb3BUeXBlcy5hcnJheTtcblx0dmFyIGZ1bmMgPSBfUmVhY3QkUHJvcFR5cGVzLmZ1bmM7XG5cdHZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblx0XG5cdC8qKlxuXHQgKiBBIDxSb3V0ZXJDb250ZXh0PiByZW5kZXJzIHRoZSBjb21wb25lbnQgdHJlZSBmb3IgYSBnaXZlbiByb3V0ZXIgc3RhdGVcblx0ICogYW5kIHNldHMgdGhlIGhpc3Rvcnkgb2JqZWN0IGFuZCB0aGUgY3VycmVudCBsb2NhdGlvbiBpbiBjb250ZXh0LlxuXHQgKi9cblx0XG5cdHZhciBSb3V0ZXJDb250ZXh0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1JvdXRlckNvbnRleHQnLFxuXHRcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBoaXN0b3J5OiBvYmplY3QsXG5cdCAgICByb3V0ZXI6IG9iamVjdC5pc1JlcXVpcmVkLFxuXHQgICAgbG9jYXRpb246IG9iamVjdC5pc1JlcXVpcmVkLFxuXHQgICAgcm91dGVzOiBhcnJheS5pc1JlcXVpcmVkLFxuXHQgICAgcGFyYW1zOiBvYmplY3QuaXNSZXF1aXJlZCxcblx0ICAgIGNvbXBvbmVudHM6IGFycmF5LmlzUmVxdWlyZWQsXG5cdCAgICBjcmVhdGVFbGVtZW50OiBmdW5jLmlzUmVxdWlyZWRcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGNyZWF0ZUVsZW1lbnQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50XG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHRcblx0ICBjaGlsZENvbnRleHRUeXBlczoge1xuXHQgICAgaGlzdG9yeTogb2JqZWN0LFxuXHQgICAgbG9jYXRpb246IG9iamVjdC5pc1JlcXVpcmVkLFxuXHQgICAgcm91dGVyOiBvYmplY3QuaXNSZXF1aXJlZFxuXHQgIH0sXG5cdFxuXHQgIGdldENoaWxkQ29udGV4dDogZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcm91dGVyID0gX3Byb3BzLnJvdXRlcjtcblx0ICAgIHZhciBoaXN0b3J5ID0gX3Byb3BzLmhpc3Rvcnk7XG5cdCAgICB2YXIgbG9jYXRpb24gPSBfcHJvcHMubG9jYXRpb247XG5cdFxuXHQgICAgaWYgKCFyb3V0ZXIpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgPFJvdXRlckNvbnRleHQ+YCBleHBlY3RzIGEgYHJvdXRlcmAgcmF0aGVyIHRoYW4gYSBgaGlzdG9yeWAnKSA6IHZvaWQgMDtcblx0XG5cdCAgICAgIHJvdXRlciA9IF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG5cdCAgICAgICAgc2V0Um91dGVMZWF2ZUhvb2s6IGhpc3RvcnkubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlXG5cdCAgICAgIH0pO1xuXHQgICAgICBkZWxldGUgcm91dGVyLmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICBsb2NhdGlvbiA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkobG9jYXRpb24sICdgY29udGV4dC5sb2NhdGlvbmAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBhIHJvdXRlIGNvbXBvbmVudFxcJ3MgYHByb3BzLmxvY2F0aW9uYCBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItYWNjZXNzaW5nbG9jYXRpb24nKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4geyBoaXN0b3J5OiBoaXN0b3J5LCBsb2NhdGlvbjogbG9jYXRpb24sIHJvdXRlcjogcm91dGVyIH07XG5cdCAgfSxcblx0ICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcblx0ICAgIHJldHVybiBjb21wb25lbnQgPT0gbnVsbCA/IG51bGwgOiB0aGlzLnByb3BzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcyk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGhpc3RvcnkgPSBfcHJvcHMyLmhpc3Rvcnk7XG5cdCAgICB2YXIgbG9jYXRpb24gPSBfcHJvcHMyLmxvY2F0aW9uO1xuXHQgICAgdmFyIHJvdXRlcyA9IF9wcm9wczIucm91dGVzO1xuXHQgICAgdmFyIHBhcmFtcyA9IF9wcm9wczIucGFyYW1zO1xuXHQgICAgdmFyIGNvbXBvbmVudHMgPSBfcHJvcHMyLmNvbXBvbmVudHM7XG5cdFxuXHQgICAgdmFyIGVsZW1lbnQgPSBudWxsO1xuXHRcblx0ICAgIGlmIChjb21wb25lbnRzKSB7XG5cdCAgICAgIGVsZW1lbnQgPSBjb21wb25lbnRzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChlbGVtZW50LCBjb21wb25lbnRzLCBpbmRleCkge1xuXHQgICAgICAgIGlmIChjb21wb25lbnRzID09IG51bGwpIHJldHVybiBlbGVtZW50OyAvLyBEb24ndCBjcmVhdGUgbmV3IGNoaWxkcmVuOyB1c2UgdGhlIGdyYW5kY2hpbGRyZW4uXG5cdFxuXHQgICAgICAgIHZhciByb3V0ZSA9IHJvdXRlc1tpbmRleF07XG5cdCAgICAgICAgdmFyIHJvdXRlUGFyYW1zID0gKDAsIF9nZXRSb3V0ZVBhcmFtczIuZGVmYXVsdCkocm91dGUsIHBhcmFtcyk7XG5cdCAgICAgICAgdmFyIHByb3BzID0ge1xuXHQgICAgICAgICAgaGlzdG9yeTogaGlzdG9yeSxcblx0ICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcblx0ICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuXHQgICAgICAgICAgcm91dGU6IHJvdXRlLFxuXHQgICAgICAgICAgcm91dGVQYXJhbXM6IHJvdXRlUGFyYW1zLFxuXHQgICAgICAgICAgcm91dGVzOiByb3V0ZXNcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBpZiAoKDAsIF9Sb3V0ZVV0aWxzLmlzUmVhY3RDaGlsZHJlbikoZWxlbWVudCkpIHtcblx0ICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gZWxlbWVudDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZWxlbWVudCkge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHByb3ApKSBwcm9wc1twcm9wXSA9IGVsZW1lbnRbcHJvcF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoKHR5cGVvZiBjb21wb25lbnRzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjb21wb25lbnRzKSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICB2YXIgZWxlbWVudHMgPSB7fTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50cykge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbXBvbmVudHMsIGtleSkpIHtcblx0ICAgICAgICAgICAgICAvLyBQYXNzIHRocm91Z2ggdGhlIGtleSBhcyBhIHByb3AgdG8gY3JlYXRlRWxlbWVudCB0byBhbGxvd1xuXHQgICAgICAgICAgICAgIC8vIGN1c3RvbSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9ucyB0byBrbm93IHdoaWNoIG5hbWVkIGNvbXBvbmVudFxuXHQgICAgICAgICAgICAgIC8vIHRoZXkncmUgcmVuZGVyaW5nLCBmb3IgZS5nLiBtYXRjaGluZyB1cCB0byBmZXRjaGVkIGRhdGEuXG5cdCAgICAgICAgICAgICAgZWxlbWVudHNba2V5XSA9IF90aGlzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50c1trZXldLCBfZXh0ZW5kcyh7XG5cdCAgICAgICAgICAgICAgICBrZXk6IGtleSB9LCBwcm9wcykpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cywgcHJvcHMpO1xuXHQgICAgICB9LCBlbGVtZW50KTtcblx0ICAgIH1cblx0XG5cdCAgICAhKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UgfHwgX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgcm9vdCByb3V0ZSBtdXN0IHJlbmRlciBhIHNpbmdsZSBlbGVtZW50JykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHRcblx0ICAgIHJldHVybiBlbGVtZW50O1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5jYW5Vc2VNZW1icmFuZSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGNhblVzZU1lbWJyYW5lID0gZXhwb3J0cy5jYW5Vc2VNZW1icmFuZSA9IGZhbHNlO1xuXHRcblx0Ly8gTm8tb3AgYnkgZGVmYXVsdC5cblx0dmFyIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKG9iamVjdCkge1xuXHQgIHJldHVybiBvYmplY3Q7XG5cdH07XG5cdFxuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgIHRyeSB7XG5cdCAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0pLngpIHtcblx0ICAgICAgZXhwb3J0cy5jYW5Vc2VNZW1icmFuZSA9IGNhblVzZU1lbWJyYW5lID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdCAgfSBjYXRjaCAoZSkge31cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG5cdFxuXHQgIGlmIChjYW5Vc2VNZW1icmFuZSkge1xuXHQgICAgZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMob2JqZWN0LCBtZXNzYWdlKSB7XG5cdCAgICAgIC8vIFdyYXAgdGhlIGRlcHJlY2F0ZWQgb2JqZWN0IGluIGEgbWVtYnJhbmUgdG8gd2FybiBvbiBwcm9wZXJ0eSBhY2Nlc3MuXG5cdCAgICAgIHZhciBtZW1icmFuZSA9IHt9O1xuXHRcblx0ICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcCkge1xuXHQgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcCkpIHtcblx0ICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHR5cGVvZiBvYmplY3RbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIC8vIENhbid0IHVzZSBmYXQgYXJyb3cgaGVyZSBiZWNhdXNlIG9mIHVzZSBvZiBhcmd1bWVudHMgYmVsb3cuXG5cdCAgICAgICAgICBtZW1icmFuZVtwcm9wXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsIG1lc3NhZ2UpIDogdm9pZCAwO1xuXHQgICAgICAgICAgICByZXR1cm4gb2JqZWN0W3Byb3BdLmFwcGx5KG9iamVjdCwgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vbi1lbnVtZXJhYmxlIHRvIHByZXZlbnQgUmVhY3QgZGV2IHRvb2xzIGZyb21cblx0ICAgICAgICAvLyBzZWVpbmcgdGhlbSBhbmQgY2F1c2luZyBzcHVyaW91cyB3YXJuaW5ncyB3aGVuIGFjY2Vzc2luZyB0aGVtLiBJblxuXHQgICAgICAgIC8vIHByaW5jaXBsZSB0aGlzIGNvdWxkIGJlIGRvbmUgd2l0aCBhIHByb3h5LCBidXQgc3VwcG9ydCBmb3IgdGhlXG5cdCAgICAgICAgLy8gb3duS2V5cyB0cmFwIG9uIHByb3hpZXMgaXMgbm90IHVuaXZlcnNhbCwgZXZlbiBhbW9uZyBicm93c2VycyB0aGF0XG5cdCAgICAgICAgLy8gb3RoZXJ3aXNlIHN1cHBvcnQgcHJveGllcy5cblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWVtYnJhbmUsIHByb3AsIHtcblx0ICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmplY3RbcHJvcF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICBmb3IgKHZhciBwcm9wIGluIG9iamVjdCkge1xuXHQgICAgICAgIHZhciBfcmV0ID0gX2xvb3AocHJvcCk7XG5cdFxuXHQgICAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG1lbWJyYW5lO1xuXHQgICAgfTtcblx0ICB9XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXM7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQhZnVuY3Rpb24odCxlKXsgdHJ1ZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJlZHV4PWUoKTp0LlJlZHV4PWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgbz1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWUuX19lc01vZHVsZT0hMCxlLmNvbXBvc2U9ZS5hcHBseU1pZGRsZXdhcmU9ZS5iaW5kQWN0aW9uQ3JlYXRvcnM9ZS5jb21iaW5lUmVkdWNlcnM9ZS5jcmVhdGVTdG9yZT12b2lkIDA7dmFyIG89bigyKSx1PXIobyksaT1uKDcpLGM9cihpKSxhPW4oNiksZj1yKGEpLHM9big1KSxkPXIocyksbD1uKDEpLHA9cihsKSx5PW4oMyk7cih5KTtlLmNyZWF0ZVN0b3JlPXVbXCJkZWZhdWx0XCJdLGUuY29tYmluZVJlZHVjZXJzPWNbXCJkZWZhdWx0XCJdLGUuYmluZEFjdGlvbkNyZWF0b3JzPWZbXCJkZWZhdWx0XCJdLGUuYXBwbHlNaWRkbGV3YXJlPWRbXCJkZWZhdWx0XCJdLGUuY29tcG9zZT1wW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7dD5uO24rKyllW25dPWFyZ3VtZW50c1tuXTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0fTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIHI9ZVtlLmxlbmd0aC0xXSxvPWUuc2xpY2UoMCwtMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG8ucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSh0KX0sci5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1ufSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCxlLG4pe2Z1bmN0aW9uIHIoKXtiPT09aCYmKGI9aC5zbGljZSgpKX1mdW5jdGlvbiB1KCl7cmV0dXJuIHZ9ZnVuY3Rpb24gYyh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIGU9ITA7cmV0dXJuIHIoKSxiLnB1c2godCksZnVuY3Rpb24oKXtpZihlKXtlPSExLHIoKTt2YXIgbj1iLmluZGV4T2YodCk7Yi5zcGxpY2UobiwxKX19fWZ1bmN0aW9uIHModCl7aWYoISgwLGlbXCJkZWZhdWx0XCJdKSh0KSl0aHJvdyBFcnJvcihcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuXCIpO2lmKHZvaWQgMD09PXQudHlwZSl0aHJvdyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiBIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7aWYobSl0aHJvdyBFcnJvcihcIlJlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy5cIik7dHJ5e209ITAsdj15KHYsdCl9ZmluYWxseXttPSExfWZvcih2YXIgZT1oPWIsbj0wO2UubGVuZ3RoPm47bisrKWVbbl0oKTtyZXR1cm4gdH1mdW5jdGlvbiBkKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7eT10LHMoe3R5cGU6Zi5JTklUfSl9ZnVuY3Rpb24gbCgpe3ZhciB0LGU9YztyZXR1cm4gdD17c3Vic2NyaWJlOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt0Lm5leHQmJnQubmV4dCh1KCkpfWlmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LlwiKTtuKCk7dmFyIHI9ZShuKTtyZXR1cm57dW5zdWJzY3JpYmU6cn19fSx0W2FbXCJkZWZhdWx0XCJdXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0fXZhciBwO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJnZvaWQgMD09PW4mJihuPWUsZT12b2lkIDApLHZvaWQgMCE9PW4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7cmV0dXJuIG4obykodCxlKX1pZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIHk9dCx2PWUsaD1bXSxiPWgsbT0hMTtyZXR1cm4gcyh7dHlwZTpmLklOSVR9KSxwPXtkaXNwYXRjaDpzLHN1YnNjcmliZTpjLGdldFN0YXRlOnUscmVwbGFjZVJlZHVjZXI6ZH0scFthW1wiZGVmYXVsdFwiXV09bCxwfWUuX19lc01vZHVsZT0hMCxlLkFjdGlvblR5cGVzPXZvaWQgMCxlW1wiZGVmYXVsdFwiXT1vO3ZhciB1PW4oNCksaT1yKHUpLGM9bigxMiksYT1yKGMpLGY9ZS5BY3Rpb25UeXBlcz17SU5JVDpcIkBAcmVkdXgvSU5JVFwifX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpO3RyeXt0aHJvdyBFcnJvcih0KX1jYXRjaChlKXt9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZighaSh0KXx8cC5jYWxsKHQpIT1jfHx1KHQpKXJldHVybiExO3ZhciBlPW8odCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIG49ZC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmcy5jYWxsKG4pPT1sfXZhciBvPW4oOCksdT1uKDkpLGk9bigxMSksYz1cIltvYmplY3QgT2JqZWN0XVwiLGE9RnVuY3Rpb24ucHJvdG90eXBlLGY9T2JqZWN0LnByb3RvdHlwZSxzPWEudG9TdHJpbmcsZD1mLmhhc093blByb3BlcnR5LGw9cy5jYWxsKE9iamVjdCkscD1mLnRvU3RyaW5nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDt0Pm47bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPXQobixyLG8pLGE9aS5kaXNwYXRjaCxmPVtdLHM9e2dldFN0YXRlOmkuZ2V0U3RhdGUsZGlzcGF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGEodCl9fTtyZXR1cm4gZj1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdChzKX0pLGE9Y1tcImRlZmF1bHRcIl0uYXBwbHkodm9pZCAwLGYpKGkuZGlzcGF0Y2gpLHUoe30saSx7ZGlzcGF0Y2g6YX0pfX19ZS5fX2VzTW9kdWxlPSEwO3ZhciB1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9O2VbXCJkZWZhdWx0XCJdPW87dmFyIGk9bigxKSxjPXIoaSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX1mdW5jdGlvbiByKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gbih0LGUpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dCl0aHJvdyBFcnJvcihcImJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBcIisobnVsbD09PXQ/XCJudWxsXCI6dHlwZW9mIHQpKycuIERpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7Zm9yKHZhciByPU9iamVjdC5rZXlzKHQpLG89e30sdT0wO3IubGVuZ3RoPnU7dSsrKXt2YXIgaT1yW3VdLGM9dFtpXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYob1tpXT1uKGMsZSkpfXJldHVybiBvfWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCxlKXt2YXIgbj1lJiZlLnR5cGUscj1uJiYnXCInK24rJ1wiJ3x8XCJhbiBhY3Rpb25cIjtyZXR1cm5cIkdpdmVuIGFjdGlvbiBcIityKycsIHJlZHVjZXIgXCInK3QrJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLid9ZnVuY3Rpb24gdSh0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV0scj1uKHZvaWQgMCx7dHlwZTpjLkFjdGlvblR5cGVzLklOSVR9KTtpZih2b2lkIDA9PT1yKXRocm93IEVycm9yKCdSZWR1Y2VyIFwiJytlKydcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO3ZhciBvPVwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl9cIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoXCJcIikuam9pbihcIi5cIik7aWYodm9pZCAwPT09bih2b2lkIDAse3R5cGU6b30pKXRocm93IEVycm9yKCdSZWR1Y2VyIFwiJytlKydcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnKyhcIkRvbid0IHRyeSB0byBoYW5kbGUgXCIrYy5BY3Rpb25UeXBlcy5JTklUKycgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKStcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuXCIpfSl9ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9T2JqZWN0LmtleXModCksbj17fSxyPTA7ZS5sZW5ndGg+cjtyKyspe3ZhciBpPWVbcl07XCJmdW5jdGlvblwiPT10eXBlb2YgdFtpXSYmKG5baV09dFtpXSl9dmFyIGMsYT1PYmplY3Qua2V5cyhuKTt0cnl7dShuKX1jYXRjaChmKXtjPWZ9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzWzFdO2lmKGMpdGhyb3cgYztmb3IodmFyIHI9ITEsdT17fSxpPTA7YS5sZW5ndGg+aTtpKyspe3ZhciBmPWFbaV0scz1uW2ZdLGQ9dFtmXSxsPXMoZCxlKTtpZih2b2lkIDA9PT1sKXt2YXIgcD1vKGYsZSk7dGhyb3cgRXJyb3IocCl9dVtmXT1sLHI9cnx8bCE9PWR9cmV0dXJuIHI/dTp0fX1lLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09aTt2YXIgYz1uKDIpLGE9big0KSxmPShyKGEpLG4oMykpO3IoZil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxvPXIoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT0hMTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnRvU3RyaW5nKXRyeXtlPSEhKHQrXCJcIil9Y2F0Y2gobil7fXJldHVybiBlfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuISF0JiZcIm9iamVjdFwiPT10eXBlb2YgdH10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDEzKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxNCksdT1yKG8pLGk9dm9pZCAwO3ZvaWQgMCE9PXQ/aT10OlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihpPXdpbmRvdyk7dmFyIGM9KDAsdVtcImRlZmF1bHRcIl0pKGkpO2VbXCJkZWZhdWx0XCJdPWN9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZSxuPXQuU3ltYm9sO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bi5vYnNlcnZhYmxlP2U9bi5vYnNlcnZhYmxlOihlPW4oXCJvYnNlcnZhYmxlXCIpLG4ub2JzZXJ2YWJsZT1lKTplPVwiQEBvYnNlcnZhYmxlXCIsZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlW1wiZGVmYXVsdFwiXT1ufV0pfSk7XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmdldFdYQ29uZmlnID0gZ2V0V1hDb25maWc7XG5cdGV4cG9ydHMuc2V0TGFuZFBhZ2UgPSBzZXRMYW5kUGFnZTtcblx0ZXhwb3J0cy5jb25maWdTdWNjZXNzID0gY29uZmlnU3VjY2Vzcztcblx0XG5cdHZhciBfd2VpeGluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdFxuXHR2YXIgX3dlaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWl4aW4pO1xuXHRcblx0dmFyIF9BY3Rpb25UeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZWQgYnkgenNoIG9uIDIwMTYvNy8xMS5cblx0ICovXG5cdGZ1bmN0aW9uIGdldFdYQ29uZmlnKHVybCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIF93ZWl4aW4yLmRlZmF1bHQuZ2V0V1hDb25maWcodXJsLCBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9XWF9DT05GSUcsXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBzZXRMYW5kUGFnZShsYW5kUGFnZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlNFVF9MQU5EX1BBR0UsXG5cdCAgICAgICAgICAgIGxhbmRQYWdlOiBsYW5kUGFnZVxuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBjb25maWdTdWNjZXNzKCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLldYX0NPTkZJR19TVUNDRVNTXG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1R1dG9ySXRlbS5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVHV0b3JJdGVtID0gZnVuY3Rpb24gVHV0b3JJdGVtKF9yZWYpIHtcblx0ICB2YXIgdHV0b3IgPSBfcmVmLnR1dG9yLFxuXHQgICAgICBpbmRleCA9IF9yZWYuaW5kZXgsXG5cdCAgICAgIHVzZXJJZCA9IF9yZWYudXNlcklkO1xuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgIHsga2V5OiBpbmRleCwgdG86IHR1dG9yLnVzZXJfaWQgPT0gdXNlcklkID8gX2NvbmZpZy5iYXNlVXJsICsgJ2FjY291bnQnIDogX2NvbmZpZy5iYXNlVXJsICsgJ3R1dG9yLycgKyB0dXRvci51c2VyX2lkIH0sXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2FydGljbGUnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogJ3R1dG9yLWl0ZW0nIH0sXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndHV0b3ItaW5mbycgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6IHR1dG9yLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd0dXRvci1pbnRybycgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICB0dXRvci51c2VyX25hbWVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgdHV0b3IudXNlcl90aXRsZVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ2Fuc3dlci1pbmZvJyB9LFxuXHQgICAgICAgIHR1dG9yLmFuc3dlcl9udW1iZXIsXG5cdCAgICAgICAgJ1xcdTRFMkFcXHU1NkRFXFx1N0I1NCdcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUdXRvckl0ZW07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX3F1ZXN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuXHRcblx0dmFyIF90dXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblx0XG5cdHZhciBfc2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuXHRcblx0dmFyIF93ZWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblx0XG5cdHZhciBfb3RoZXJVc2VySW5mbyA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9vdGhlclVzZXJJbmZvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX290aGVyVXNlckluZm8pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciByb290UmVkdWNlciA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgaG90UXVlc3Rpb25MaXN0OiBfcXVlc3Rpb24uaG90UXVlc3Rpb25MaXN0LCBxdWVzdGlvbkluZm86IF9xdWVzdGlvbi5xdWVzdGlvbkluZm8sIGxpc3RlbkluZm86IF9xdWVzdGlvbi5saXN0ZW5JbmZvLCBzYXZlVm9pY2VJbmZvOiBfcXVlc3Rpb24uc2F2ZVZvaWNlSW5mbyxcblx0ICB0dXRvckxpc3Q6IF90dXRvci50dXRvckxpc3QsIHR1dG9ySW5mbzogX3R1dG9yLnR1dG9ySW5mbywgdHV0b3JBbnN3ZXJMaXN0OiBfdHV0b3IudHV0b3JBbnN3ZXJMaXN0LCBwcmVwYXlJbmZvOiBfdHV0b3IucHJlcGF5SW5mbyxcblx0ICBoaXN0b3J5U2VhcmNoOiBfc2VhcmNoLmhpc3RvcnlTZWFyY2gsIGhvdFNlYXJjaDogX3NlYXJjaC5ob3RTZWFyY2gsIGN1clNlYXJjaDogX3NlYXJjaC5jdXJTZWFyY2gsXG5cdCAgYWNjb3VudDogX2luZGV4Mi5kZWZhdWx0LFxuXHQgIG90aGVyVXNlckluZm86IF9vdGhlclVzZXJJbmZvMi5kZWZhdWx0LFxuXHQgIFdYQ29uZmlnOiBfd2VpeGluLldYQ29uZmlnLCBsYW5kUGFnZTogX3dlaXhpbi5sYW5kUGFnZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJvb3RSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgamYgb24gMTUvMTAvMjcuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0dmFyIE1hc2sgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKE1hc2ssIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE1hc2soKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2spO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1hc2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNYXNrKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKE1hc2ssIFt7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50ID0gX3Byb3BzLnRyYW5zcGFyZW50LFxuXHQgICAgICAgICAgICAgICAgb3RoZXJzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWyd0cmFuc3BhcmVudCddKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKHtcblx0ICAgICAgICAgICAgICAgICd3ZXVpX21hc2snOiAhdHJhbnNwYXJlbnQsXG5cdCAgICAgICAgICAgICAgICAnd2V1aV9tYXNrX3RyYW5zcGFyZW50JzogdHJhbnNwYXJlbnRcblx0ICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9leHRlbmRzKHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSwgb3RoZXJzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBNYXNrO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0TWFzay5wcm9wVHlwZXMgPSB7XG5cdCAgICB0cmFuc3BhcmVudDogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdE1hc2suZGVmYXVsdFByb3BzID0ge1xuXHQgICAgdHJhbnNwYXJlbnQ6IGZhbHNlXG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBNYXNrO1xuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XG5cdGV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXI7XG5cdGV4cG9ydHMuZ2V0SGFzaFBhdGggPSBnZXRIYXNoUGF0aDtcblx0ZXhwb3J0cy5yZXBsYWNlSGFzaFBhdGggPSByZXBsYWNlSGFzaFBhdGg7XG5cdGV4cG9ydHMuZ2V0V2luZG93UGF0aCA9IGdldFdpbmRvd1BhdGg7XG5cdGV4cG9ydHMuZ28gPSBnbztcblx0ZXhwb3J0cy5nZXRVc2VyQ29uZmlybWF0aW9uID0gZ2V0VXNlckNvbmZpcm1hdGlvbjtcblx0ZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBzdXBwb3J0c0hpc3Rvcnk7XG5cdGV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaDtcblx0XG5cdGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG5cdCAgaWYgKG5vZGUuYWRkRXZlbnRMaXN0ZW5lcikge1xuXHQgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcblx0ICBpZiAobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG5cdCAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcblx0ICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG5cdCAgLy8gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMgLSBGaXJlZm94IHdpbGwgcHJlLWRlY29kZSBpdCFcblx0ICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVsxXSB8fCAnJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKHBhdGgpIHtcblx0ICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgJyMnICsgcGF0aCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFdpbmRvd1BhdGgoKSB7XG5cdCAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ28obikge1xuXHQgIGlmIChuKSB3aW5kb3cuaGlzdG9yeS5nbyhuKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuXHQgIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cblx0ICpcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuXHQgKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWNrdC9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcblx0ICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHQgIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gd2luZG93Lmhpc3RvcnkgJiYgJ3B1c2hTdGF0ZScgaW4gd2luZG93Lmhpc3Rvcnk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG5cdCAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0ICByZXR1cm4gdWEuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcblx0fVxuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBkZXByZWNhdGUoZm4sIG1lc3NhZ2UpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldICcgKyBtZXNzYWdlKSA6IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGRlcHJlY2F0ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gcnVuVHJhbnNpdGlvbkhvb2soaG9vaywgbG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgdmFyIHJlc3VsdCA9IGhvb2sobG9jYXRpb24sIGNhbGxiYWNrKTtcblx0XG5cdCAgaWYgKGhvb2subGVuZ3RoIDwgMikge1xuXHQgICAgLy8gQXNzdW1lIHRoZSBob29rIHJ1bnMgc3luY2hyb25vdXNseSBhbmQgYXV0b21hdGljYWxseVxuXHQgICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgcmV0dXJuIHZhbHVlLlxuXHQgICAgY2FsbGJhY2socmVzdWx0KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHJlc3VsdCA9PT0gdW5kZWZpbmVkLCAnWW91IHNob3VsZCBub3QgXCJyZXR1cm5cIiBpbiBhIHRyYW5zaXRpb24gaG9vayB3aXRoIGEgY2FsbGJhY2sgYXJndW1lbnQ7IGNhbGwgdGhlIGNhbGxiYWNrIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblx0ICB9XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJ1blRyYW5zaXRpb25Ib29rO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5sb29wQXN5bmMgPSBsb29wQXN5bmM7XG5cdGV4cG9ydHMubWFwQXN5bmMgPSBtYXBBc3luYztcblx0ZnVuY3Rpb24gbG9vcEFzeW5jKHR1cm5zLCB3b3JrLCBjYWxsYmFjaykge1xuXHQgIHZhciBjdXJyZW50VHVybiA9IDAsXG5cdCAgICAgIGlzRG9uZSA9IGZhbHNlO1xuXHQgIHZhciBzeW5jID0gZmFsc2UsXG5cdCAgICAgIGhhc05leHQgPSBmYWxzZSxcblx0ICAgICAgZG9uZUFyZ3MgPSB2b2lkIDA7XG5cdFxuXHQgIGZ1bmN0aW9uIGRvbmUoKSB7XG5cdCAgICBpc0RvbmUgPSB0cnVlO1xuXHQgICAgaWYgKHN5bmMpIHtcblx0ICAgICAgLy8gSXRlcmF0ZSBpbnN0ZWFkIG9mIHJlY3Vyc2luZyBpZiBwb3NzaWJsZS5cblx0ICAgICAgZG9uZUFyZ3MgPSBbXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbmV4dCgpIHtcblx0ICAgIGlmIChpc0RvbmUpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGhhc05leHQgPSB0cnVlO1xuXHQgICAgaWYgKHN5bmMpIHtcblx0ICAgICAgLy8gSXRlcmF0ZSBpbnN0ZWFkIG9mIHJlY3Vyc2luZyBpZiBwb3NzaWJsZS5cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHN5bmMgPSB0cnVlO1xuXHRcblx0ICAgIHdoaWxlICghaXNEb25lICYmIGN1cnJlbnRUdXJuIDwgdHVybnMgJiYgaGFzTmV4dCkge1xuXHQgICAgICBoYXNOZXh0ID0gZmFsc2U7XG5cdCAgICAgIHdvcmsuY2FsbCh0aGlzLCBjdXJyZW50VHVybisrLCBuZXh0LCBkb25lKTtcblx0ICAgIH1cblx0XG5cdCAgICBzeW5jID0gZmFsc2U7XG5cdFxuXHQgICAgaWYgKGlzRG9uZSkge1xuXHQgICAgICAvLyBUaGlzIG1lYW5zIHRoZSBsb29wIGZpbmlzaGVkIHN5bmNocm9ub3VzbHkuXG5cdCAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGRvbmVBcmdzKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjdXJyZW50VHVybiA+PSB0dXJucyAmJiBoYXNOZXh0KSB7XG5cdCAgICAgIGlzRG9uZSA9IHRydWU7XG5cdCAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBuZXh0KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hcEFzeW5jKGFycmF5LCB3b3JrLCBjYWxsYmFjaykge1xuXHQgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdCAgdmFyIHZhbHVlcyA9IFtdO1xuXHRcblx0ICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gY2FsbGJhY2sobnVsbCwgdmFsdWVzKTtcblx0XG5cdCAgdmFyIGlzRG9uZSA9IGZhbHNlLFxuXHQgICAgICBkb25lQ291bnQgPSAwO1xuXHRcblx0ICBmdW5jdGlvbiBkb25lKGluZGV4LCBlcnJvciwgdmFsdWUpIHtcblx0ICAgIGlmIChpc0RvbmUpIHJldHVybjtcblx0XG5cdCAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgaXNEb25lID0gdHJ1ZTtcblx0ICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuXHRcblx0ICAgICAgaXNEb25lID0gKytkb25lQ291bnQgPT09IGxlbmd0aDtcblx0XG5cdCAgICAgIGlmIChpc0RvbmUpIGNhbGxiYWNrKG51bGwsIHZhbHVlcyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgd29yayhpdGVtLCBpbmRleCwgZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xuXHQgICAgICBkb25lKGluZGV4LCBlcnJvciwgdmFsdWUpO1xuXHQgICAgfSk7XG5cdCAgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMucm91dGVyID0gZXhwb3J0cy5yb3V0ZXMgPSBleHBvcnRzLnJvdXRlID0gZXhwb3J0cy5jb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnQgPSBleHBvcnRzLmxvY2F0aW9uID0gZXhwb3J0cy5oaXN0b3J5ID0gZXhwb3J0cy5mYWxzeSA9IGV4cG9ydHMubG9jYXRpb25TaGFwZSA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIEludGVybmFsUHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0ludGVybmFsUHJvcFR5cGVzKTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBmdW5jID0gX3JlYWN0LlByb3BUeXBlcy5mdW5jO1xuXHR2YXIgb2JqZWN0ID0gX3JlYWN0LlByb3BUeXBlcy5vYmplY3Q7XG5cdHZhciBzaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGU7XG5cdHZhciBzdHJpbmcgPSBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZztcblx0dmFyIHJvdXRlclNoYXBlID0gZXhwb3J0cy5yb3V0ZXJTaGFwZSA9IHNoYXBlKHtcblx0ICBwdXNoOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgcmVwbGFjZTogZnVuYy5pc1JlcXVpcmVkLFxuXHQgIGdvOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ29CYWNrOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgZ29Gb3J3YXJkOiBmdW5jLmlzUmVxdWlyZWQsXG5cdCAgc2V0Um91dGVMZWF2ZUhvb2s6IGZ1bmMuaXNSZXF1aXJlZCxcblx0ICBpc0FjdGl2ZTogZnVuYy5pc1JlcXVpcmVkXG5cdH0pO1xuXHRcblx0dmFyIGxvY2F0aW9uU2hhcGUgPSBleHBvcnRzLmxvY2F0aW9uU2hhcGUgPSBzaGFwZSh7XG5cdCAgcGF0aG5hbWU6IHN0cmluZy5pc1JlcXVpcmVkLFxuXHQgIHNlYXJjaDogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgc3RhdGU6IG9iamVjdCxcblx0ICBhY3Rpb246IHN0cmluZy5pc1JlcXVpcmVkLFxuXHQgIGtleTogc3RyaW5nXG5cdH0pO1xuXHRcblx0Ly8gRGVwcmVjYXRlZCBzdHVmZiBiZWxvdzpcblx0XG5cdHZhciBmYWxzeSA9IGV4cG9ydHMuZmFsc3kgPSBJbnRlcm5hbFByb3BUeXBlcy5mYWxzeTtcblx0dmFyIGhpc3RvcnkgPSBleHBvcnRzLmhpc3RvcnkgPSBJbnRlcm5hbFByb3BUeXBlcy5oaXN0b3J5O1xuXHR2YXIgbG9jYXRpb24gPSBleHBvcnRzLmxvY2F0aW9uID0gbG9jYXRpb25TaGFwZTtcblx0dmFyIGNvbXBvbmVudCA9IGV4cG9ydHMuY29tcG9uZW50ID0gSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50O1xuXHR2YXIgY29tcG9uZW50cyA9IGV4cG9ydHMuY29tcG9uZW50cyA9IEludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudHM7XG5cdHZhciByb3V0ZSA9IGV4cG9ydHMucm91dGUgPSBJbnRlcm5hbFByb3BUeXBlcy5yb3V0ZTtcblx0dmFyIHJvdXRlcyA9IGV4cG9ydHMucm91dGVzID0gSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzO1xuXHR2YXIgcm91dGVyID0gZXhwb3J0cy5yb3V0ZXIgPSByb3V0ZXJTaGFwZTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkZXByZWNhdGVQcm9wVHlwZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZVByb3BUeXBlKHByb3BUeXBlLCBtZXNzYWdlKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsIG1lc3NhZ2UpIDogdm9pZCAwO1xuXHQgICAgICAgIHJldHVybiBwcm9wVHlwZS5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH07XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlID0gZnVuY3Rpb24gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShwcm9wVHlwZSkge1xuXHQgICAgICByZXR1cm4gZGVwcmVjYXRlUHJvcFR5cGUocHJvcFR5cGUsICdUaGlzIHByb3AgdHlwZSBpcyBub3QgaW50ZW5kZWQgZm9yIGV4dGVybmFsIHVzZSwgYW5kIHdhcyBwcmV2aW91c2x5IGV4cG9ydGVkIGJ5IG1pc3Rha2UuIFRoZXNlIGludGVybmFsIHByb3AgdHlwZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGV4dGVybmFsIHVzZSwgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGxhdGVyIHZlcnNpb24uJyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBkZXByZWNhdGVSZW5hbWVkUHJvcFR5cGUgPSBmdW5jdGlvbiBkZXByZWNhdGVSZW5hbWVkUHJvcFR5cGUocHJvcFR5cGUsIG5hbWUpIHtcblx0ICAgICAgcmV0dXJuIGRlcHJlY2F0ZVByb3BUeXBlKHByb3BUeXBlLCAnVGhlIGAnICsgbmFtZSArICdgIHByb3AgdHlwZSBpcyBub3cgZXhwb3J0ZWQgYXMgYCcgKyBuYW1lICsgJ1NoYXBlYCB0byBhdm9pZCBuYW1lIGNvbmZsaWN0cy4gVGhpcyBleHBvcnQgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4nKTtcblx0ICAgIH07XG5cdFxuXHQgICAgZXhwb3J0cy5mYWxzeSA9IGZhbHN5ID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShmYWxzeSk7XG5cdCAgICBleHBvcnRzLmhpc3RvcnkgPSBoaXN0b3J5ID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShoaXN0b3J5KTtcblx0ICAgIGV4cG9ydHMuY29tcG9uZW50ID0gY29tcG9uZW50ID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShjb21wb25lbnQpO1xuXHQgICAgZXhwb3J0cy5jb21wb25lbnRzID0gY29tcG9uZW50cyA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUoY29tcG9uZW50cyk7XG5cdCAgICBleHBvcnRzLnJvdXRlID0gcm91dGUgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKHJvdXRlKTtcblx0ICAgIGV4cG9ydHMucm91dGVzID0gcm91dGVzID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShyb3V0ZXMpO1xuXHRcblx0ICAgIGV4cG9ydHMubG9jYXRpb24gPSBsb2NhdGlvbiA9IGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZShsb2NhdGlvbiwgJ2xvY2F0aW9uJyk7XG5cdCAgICBleHBvcnRzLnJvdXRlciA9IHJvdXRlciA9IGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZShyb3V0ZXIsICdyb3V0ZXInKTtcblx0ICB9KSgpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdEV4cG9ydCA9IHtcblx0ICBmYWxzeTogZmFsc3ksXG5cdCAgaGlzdG9yeTogaGlzdG9yeSxcblx0ICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgY29tcG9uZW50OiBjb21wb25lbnQsXG5cdCAgY29tcG9uZW50czogY29tcG9uZW50cyxcblx0ICByb3V0ZTogcm91dGUsXG5cdCAgLy8gRm9yIHNvbWUgcmVhc29uLCByb3V0ZXMgd2FzIG5ldmVyIGhlcmUuXG5cdCAgcm91dGVyOiByb3V0ZXJcblx0fTtcblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgZGVmYXVsdEV4cG9ydCA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkoZGVmYXVsdEV4cG9ydCwgJ1RoZSBkZWZhdWx0IGV4cG9ydCBmcm9tIGByZWFjdC1yb3V0ZXIvbGliL1Byb3BUeXBlc2AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgbmFtZWQgZXhwb3J0cyBpbnN0ZWFkLicpO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBkZWZhdWx0RXhwb3J0O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdHZhciBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzApO1xuXHRcblx0dmFyIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wdXRlQ2hhbmdlZFJvdXRlczIpO1xuXHRcblx0dmFyIF9UcmFuc2l0aW9uVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHR2YXIgX2lzQWN0aXZlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0XG5cdHZhciBfaXNBY3RpdmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBY3RpdmUyKTtcblx0XG5cdHZhciBfZ2V0Q29tcG9uZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcblx0XG5cdHZhciBfZ2V0Q29tcG9uZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRDb21wb25lbnRzKTtcblx0XG5cdHZhciBfbWF0Y2hSb3V0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgX21hdGNoUm91dGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGNoUm91dGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBoYXNBbnlQcm9wZXJ0aWVzKG9iamVjdCkge1xuXHQgIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcCkpIHJldHVybiB0cnVlO1xuXHQgIH1yZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKGhpc3RvcnksIHJvdXRlcykge1xuXHQgIHZhciBzdGF0ZSA9IHt9O1xuXHRcblx0ICAvLyBTaWduYXR1cmUgc2hvdWxkIGJlIChsb2NhdGlvbiwgaW5kZXhPbmx5KSwgYnV0IG5lZWRzIHRvIHN1cHBvcnQgKHBhdGgsXG5cdCAgLy8gcXVlcnksIGluZGV4T25seSlcblx0ICBmdW5jdGlvbiBpc0FjdGl2ZShsb2NhdGlvbikge1xuXHQgICAgdmFyIGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGVwcmVjYXRlZEluZGV4T25seSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMl07XG5cdFxuXHQgICAgdmFyIGluZGV4T25seSA9IHZvaWQgMDtcblx0ICAgIGlmIChpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSAmJiBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSAhPT0gdHJ1ZSB8fCBkZXByZWNhdGVkSW5kZXhPbmx5ICE9PSBudWxsKSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYGlzQWN0aXZlKHBhdGhuYW1lLCBxdWVyeSwgaW5kZXhPbmx5KSBpcyBkZXByZWNhdGVkOyB1c2UgYGlzQWN0aXZlKGxvY2F0aW9uLCBpbmRleE9ubHkpYCB3aXRoIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG5cdCAgICAgIGxvY2F0aW9uID0geyBwYXRobmFtZTogbG9jYXRpb24sIHF1ZXJ5OiBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSB9O1xuXHQgICAgICBpbmRleE9ubHkgPSBkZXByZWNhdGVkSW5kZXhPbmx5IHx8IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbG9jYXRpb24gPSBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcblx0ICAgICAgaW5kZXhPbmx5ID0gaW5kZXhPbmx5T3JEZXByZWNhdGVkUXVlcnk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICgwLCBfaXNBY3RpdmUzLmRlZmF1bHQpKGxvY2F0aW9uLCBpbmRleE9ubHksIHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5yb3V0ZXMsIHN0YXRlLnBhcmFtcyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGFydGlhbE5leHRTdGF0ZSA9IHZvaWQgMDtcblx0XG5cdCAgZnVuY3Rpb24gbWF0Y2gobG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgICBpZiAocGFydGlhbE5leHRTdGF0ZSAmJiBwYXJ0aWFsTmV4dFN0YXRlLmxvY2F0aW9uID09PSBsb2NhdGlvbikge1xuXHQgICAgICAvLyBDb250aW51ZSBmcm9tIHdoZXJlIHdlIGxlZnQgb2ZmLlxuXHQgICAgICBmaW5pc2hNYXRjaChwYXJ0aWFsTmV4dFN0YXRlLCBjYWxsYmFjayk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAoMCwgX21hdGNoUm91dGVzMi5kZWZhdWx0KShyb3V0ZXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIG5leHRTdGF0ZSkge1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICBmaW5pc2hNYXRjaChfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KSwgY2FsbGJhY2spO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBjYWxsYmFjaygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaW5pc2hNYXRjaChuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgX2NvbXB1dGVDaGFuZ2VkUm91dGVzID0gKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIG5leHRTdGF0ZSk7XG5cdFxuXHQgICAgdmFyIGxlYXZlUm91dGVzID0gX2NvbXB1dGVDaGFuZ2VkUm91dGVzLmxlYXZlUm91dGVzO1xuXHQgICAgdmFyIGNoYW5nZVJvdXRlcyA9IF9jb21wdXRlQ2hhbmdlZFJvdXRlcy5jaGFuZ2VSb3V0ZXM7XG5cdCAgICB2YXIgZW50ZXJSb3V0ZXMgPSBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMuZW50ZXJSb3V0ZXM7XG5cdFxuXHRcblx0ICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkxlYXZlSG9va3MpKGxlYXZlUm91dGVzLCBzdGF0ZSk7XG5cdFxuXHQgICAgLy8gVGVhciBkb3duIGNvbmZpcm1hdGlvbiBob29rcyBmb3IgbGVmdCByb3V0ZXNcblx0ICAgIGxlYXZlUm91dGVzLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHtcblx0ICAgICAgcmV0dXJuIGVudGVyUm91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMTtcblx0ICAgIH0pLmZvckVhY2gocmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZSk7XG5cdFxuXHQgICAgLy8gY2hhbmdlIGFuZCBlbnRlciBob29rcyBhcmUgcnVuIGluIHNlcmllc1xuXHQgICAgKDAsIF9UcmFuc2l0aW9uVXRpbHMucnVuQ2hhbmdlSG9va3MpKGNoYW5nZVJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgZnVuY3Rpb24gKGVycm9yLCByZWRpcmVjdEluZm8pIHtcblx0ICAgICAgaWYgKGVycm9yIHx8IHJlZGlyZWN0SW5mbykgcmV0dXJuIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKTtcblx0XG5cdCAgICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkVudGVySG9va3MpKGVudGVyUm91dGVzLCBuZXh0U3RhdGUsIGZpbmlzaEVudGVySG9va3MpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZnVuY3Rpb24gZmluaXNoRW50ZXJIb29rcyhlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgIGlmIChlcnJvciB8fCByZWRpcmVjdEluZm8pIHJldHVybiBoYW5kbGVFcnJvck9yUmVkaXJlY3QoZXJyb3IsIHJlZGlyZWN0SW5mbyk7XG5cdFxuXHQgICAgICAvLyBUT0RPOiBGZXRjaCBjb21wb25lbnRzIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG5cdCAgICAgICgwLCBfZ2V0Q29tcG9uZW50czIuZGVmYXVsdCkobmV4dFN0YXRlLCBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudHMpIHtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gVE9ETzogTWFrZSBtYXRjaCBhIHB1cmUgZnVuY3Rpb24gYW5kIGhhdmUgc29tZSBvdGhlciBBUElcblx0ICAgICAgICAgIC8vIGZvciBcIm1hdGNoIGFuZCB1cGRhdGUgc3RhdGVcIi5cblx0ICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwsIHN0YXRlID0gX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwgeyBjb21wb25lbnRzOiBjb21wb25lbnRzIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgIGlmIChlcnJvcikgY2FsbGJhY2soZXJyb3IpO2Vsc2UgY2FsbGJhY2sobnVsbCwgcmVkaXJlY3RJbmZvKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBSb3V0ZUd1aWQgPSAxO1xuXHRcblx0ICBmdW5jdGlvbiBnZXRSb3V0ZUlEKHJvdXRlKSB7XG5cdCAgICB2YXIgY3JlYXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICByZXR1cm4gcm91dGUuX19pZF9fIHx8IGNyZWF0ZSAmJiAocm91dGUuX19pZF9fID0gUm91dGVHdWlkKyspO1xuXHQgIH1cblx0XG5cdCAgdmFyIFJvdXRlSG9va3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcblx0ICBmdW5jdGlvbiBnZXRSb3V0ZUhvb2tzRm9yUm91dGVzKHJvdXRlcykge1xuXHQgICAgcmV0dXJuIHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKGhvb2tzLCByb3V0ZSkge1xuXHQgICAgICBob29rcy5wdXNoLmFwcGx5KGhvb2tzLCBSb3V0ZUhvb2tzW2dldFJvdXRlSUQocm91dGUpXSk7XG5cdCAgICAgIHJldHVybiBob29rcztcblx0ICAgIH0sIFtdKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHRyYW5zaXRpb25Ib29rKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuXHQgICAgKDAsIF9tYXRjaFJvdXRlczIuZGVmYXVsdCkocm91dGVzLCBsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBuZXh0U3RhdGUpIHtcblx0ICAgICAgaWYgKG5leHRTdGF0ZSA9PSBudWxsKSB7XG5cdCAgICAgICAgLy8gVE9ETzogV2UgZGlkbid0IGFjdHVhbGx5IG1hdGNoIGFueXRoaW5nLCBidXQgaGFuZ1xuXHQgICAgICAgIC8vIG9udG8gZXJyb3IvbmV4dFN0YXRlIHNvIHdlIGRvbid0IGhhdmUgdG8gbWF0Y2hSb3V0ZXNcblx0ICAgICAgICAvLyBhZ2FpbiBpbiB0aGUgbGlzdGVuIGNhbGxiYWNrLlxuXHQgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBDYWNoZSBzb21lIHN0YXRlIGhlcmUgc28gd2UgZG9uJ3QgaGF2ZSB0b1xuXHQgICAgICAvLyBtYXRjaFJvdXRlcygpIGFnYWluIGluIHRoZSBsaXN0ZW4gY2FsbGJhY2suXG5cdCAgICAgIHBhcnRpYWxOZXh0U3RhdGUgPSBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcblx0XG5cdCAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoKDAsIF9jb21wdXRlQ2hhbmdlZFJvdXRlczMuZGVmYXVsdCkoc3RhdGUsIHBhcnRpYWxOZXh0U3RhdGUpLmxlYXZlUm91dGVzKTtcblx0XG5cdCAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob29rcy5sZW5ndGg7IHJlc3VsdCA9PSBudWxsICYmIGkgPCBsZW47ICsraSkge1xuXHQgICAgICAgIC8vIFBhc3NpbmcgdGhlIGxvY2F0aW9uIGFyZyBoZXJlIGluZGljYXRlcyB0b1xuXHQgICAgICAgIC8vIHRoZSB1c2VyIHRoYXQgdGhpcyBpcyBhIHRyYW5zaXRpb24gaG9vay5cblx0ICAgICAgICByZXN1bHQgPSBob29rc1tpXShsb2NhdGlvbik7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiB1bnRlc3RhYmxlIHdpdGggS2FybWEgKi9cblx0ICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRIb29rKCkge1xuXHQgICAgLy8gU3luY2hyb25vdXNseSBjaGVjayB0byBzZWUgaWYgYW55IHJvdXRlIGhvb2tzIHdhbnRcblx0ICAgIC8vIHRvIHByZXZlbnQgdGhlIGN1cnJlbnQgd2luZG93L3RhYiBmcm9tIGNsb3NpbmcuXG5cdCAgICBpZiAoc3RhdGUucm91dGVzKSB7XG5cdCAgICAgIHZhciBob29rcyA9IGdldFJvdXRlSG9va3NGb3JSb3V0ZXMoc3RhdGUucm91dGVzKTtcblx0XG5cdCAgICAgIHZhciBtZXNzYWdlID0gdm9pZCAwO1xuXHQgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9va3MubGVuZ3RoOyB0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycgJiYgaSA8IGxlbjsgKytpKSB7XG5cdCAgICAgICAgLy8gUGFzc2luZyBubyBhcmdzIGluZGljYXRlcyB0byB0aGUgdXNlciB0aGF0IHRoaXMgaXMgYVxuXHQgICAgICAgIC8vIGJlZm9yZXVubG9hZCBob29rLiBXZSBkb24ndCBrbm93IHRoZSBuZXh0IGxvY2F0aW9uLlxuXHQgICAgICAgIG1lc3NhZ2UgPSBob29rc1tpXSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbWVzc2FnZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciB1bmxpc3RlbkJlZm9yZSA9IHZvaWQgMCxcblx0ICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSB2b2lkIDA7XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUocm91dGUpIHtcblx0ICAgIHZhciByb3V0ZUlEID0gZ2V0Um91dGVJRChyb3V0ZSwgZmFsc2UpO1xuXHQgICAgaWYgKCFyb3V0ZUlEKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBkZWxldGUgUm91dGVIb29rc1tyb3V0ZUlEXTtcblx0XG5cdCAgICBpZiAoIWhhc0FueVByb3BlcnRpZXMoUm91dGVIb29rcykpIHtcblx0ICAgICAgLy8gdGVhcmRvd24gdHJhbnNpdGlvbiAmIGJlZm9yZXVubG9hZCBob29rc1xuXHQgICAgICBpZiAodW5saXN0ZW5CZWZvcmUpIHtcblx0ICAgICAgICB1bmxpc3RlbkJlZm9yZSgpO1xuXHQgICAgICAgIHVubGlzdGVuQmVmb3JlID0gbnVsbDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHVubGlzdGVuQmVmb3JlVW5sb2FkKSB7XG5cdCAgICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQoKTtcblx0ICAgICAgICB1bmxpc3RlbkJlZm9yZVVubG9hZCA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4gaG9vayBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxlYXZpbmcgdGhlIGdpdmVuIHJvdXRlLlxuXHQgICAqXG5cdCAgICogRHVyaW5nIGEgbm9ybWFsIHRyYW5zaXRpb24sIHRoZSBob29rIGZ1bmN0aW9uIHJlY2VpdmVzIHRoZSBuZXh0IGxvY2F0aW9uXG5cdCAgICogYXMgaXRzIG9ubHkgYXJndW1lbnQgYW5kIGNhbiByZXR1cm4gZWl0aGVyIGEgcHJvbXB0IG1lc3NhZ2UgKHN0cmluZykgdG8gc2hvdyB0aGUgdXNlcixcblx0ICAgKiB0byBtYWtlIHN1cmUgdGhleSB3YW50IHRvIGxlYXZlIHRoZSBwYWdlOyBvciBgZmFsc2VgLCB0byBwcmV2ZW50IHRoZSB0cmFuc2l0aW9uLlxuXHQgICAqIEFueSBvdGhlciByZXR1cm4gdmFsdWUgd2lsbCBoYXZlIG5vIGVmZmVjdC5cblx0ICAgKlxuXHQgICAqIER1cmluZyB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IChpbiBicm93c2VycykgdGhlIGhvb2sgcmVjZWl2ZXMgbm8gYXJndW1lbnRzLlxuXHQgICAqIEluIHRoaXMgY2FzZSBpdCBtdXN0IHJldHVybiBhIHByb21wdCBtZXNzYWdlIHRvIHByZXZlbnQgdGhlIHRyYW5zaXRpb24uXG5cdCAgICpcblx0ICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byB1bmJpbmQgdGhlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZShyb3V0ZSwgaG9vaykge1xuXHQgICAgLy8gVE9ETzogV2FybiBpZiB0aGV5IHJlZ2lzdGVyIGZvciBhIHJvdXRlIHRoYXQgaXNuJ3QgY3VycmVudGx5XG5cdCAgICAvLyBhY3RpdmUuIFRoZXkncmUgcHJvYmFibHkgZG9pbmcgc29tZXRoaW5nIHdyb25nLCBsaWtlIHJlLWNyZWF0aW5nXG5cdCAgICAvLyByb3V0ZSBvYmplY3RzIG9uIGV2ZXJ5IGxvY2F0aW9uIGNoYW5nZS5cblx0ICAgIHZhciByb3V0ZUlEID0gZ2V0Um91dGVJRChyb3V0ZSk7XG5cdCAgICB2YXIgaG9va3MgPSBSb3V0ZUhvb2tzW3JvdXRlSURdO1xuXHRcblx0ICAgIGlmICghaG9va3MpIHtcblx0ICAgICAgdmFyIHRoZXJlV2VyZU5vUm91dGVIb29rcyA9ICFoYXNBbnlQcm9wZXJ0aWVzKFJvdXRlSG9va3MpO1xuXHRcblx0ICAgICAgUm91dGVIb29rc1tyb3V0ZUlEXSA9IFtob29rXTtcblx0XG5cdCAgICAgIGlmICh0aGVyZVdlcmVOb1JvdXRlSG9va3MpIHtcblx0ICAgICAgICAvLyBzZXR1cCB0cmFuc2l0aW9uICYgYmVmb3JldW5sb2FkIGhvb2tzXG5cdCAgICAgICAgdW5saXN0ZW5CZWZvcmUgPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZSh0cmFuc2l0aW9uSG9vayk7XG5cdFxuXHQgICAgICAgIGlmIChoaXN0b3J5Lmxpc3RlbkJlZm9yZVVubG9hZCkgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZVVubG9hZChiZWZvcmVVbmxvYWRIb29rKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKGhvb2tzLmluZGV4T2YoaG9vaykgPT09IC0xKSB7XG5cdCAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdhZGRpbmcgbXVsdGlwbGUgbGVhdmUgaG9va3MgZm9yIHRoZSBzYW1lIHJvdXRlIGlzIGRlcHJlY2F0ZWQ7IG1hbmFnZSBtdWx0aXBsZSBjb25maXJtYXRpb25zIGluIHlvdXIgb3duIGNvZGUgaW5zdGVhZCcpIDogdm9pZCAwO1xuXHRcblx0ICAgICAgICBob29rcy5wdXNoKGhvb2spO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGhvb2tzID0gUm91dGVIb29rc1tyb3V0ZUlEXTtcblx0XG5cdCAgICAgIGlmIChob29rcykge1xuXHQgICAgICAgIHZhciBuZXdIb29rcyA9IGhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChuZXdIb29rcy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgIHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUocm91dGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBSb3V0ZUhvb2tzW3JvdXRlSURdID0gbmV3SG9va3M7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogVGhpcyBpcyB0aGUgQVBJIGZvciBzdGF0ZWZ1bCBlbnZpcm9ubWVudHMuIEFzIHRoZSBsb2NhdGlvblxuXHQgICAqIGNoYW5nZXMsIHdlIHVwZGF0ZSBzdGF0ZSBhbmQgY2FsbCB0aGUgbGlzdGVuZXIuIFdlIGNhbiBhbHNvXG5cdCAgICogZ3JhY2VmdWxseSBoYW5kbGUgZXJyb3JzIGFuZCByZWRpcmVjdHMuXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICAvLyBUT0RPOiBPbmx5IHVzZSBhIHNpbmdsZSBoaXN0b3J5IGxpc3RlbmVyLiBPdGhlcndpc2Ugd2UnbGxcblx0ICAgIC8vIGVuZCB1cCB3aXRoIG11bHRpcGxlIGNvbmN1cnJlbnQgY2FsbHMgdG8gbWF0Y2guXG5cdCAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdCAgICAgIGlmIChzdGF0ZS5sb2NhdGlvbiA9PT0gbG9jYXRpb24pIHtcblx0ICAgICAgICBsaXN0ZW5lcihudWxsLCBzdGF0ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbWF0Y2gobG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuXHQgICAgICAgICAgfSBlbHNlIGlmIChyZWRpcmVjdExvY2F0aW9uKSB7XG5cdCAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZShyZWRpcmVjdExvY2F0aW9uKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIGxpc3RlbmVyKG51bGwsIG5leHRTdGF0ZSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0xvY2F0aW9uIFwiJXNcIiBkaWQgbm90IG1hdGNoIGFueSByb3V0ZXMnLCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gpIDogdm9pZCAwO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG5cdCAgICBtYXRjaDogbWF0Y2gsXG5cdCAgICBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGU6IGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSxcblx0ICAgIGxpc3RlbjogbGlzdGVuXG5cdCAgfTtcblx0fVxuXHRcblx0Ly9leHBvcnQgZGVmYXVsdCB1c2VSb3V0ZXNcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcImltYWdlcy9sb2dvLmpwZ1wiO1xuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1ZvaWNlV2F2ZS5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNy81LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgVm9pY2VXYXZlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVm9pY2VXYXZlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVm9pY2VXYXZlKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZvaWNlV2F2ZSk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWb2ljZVdhdmUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWb2ljZVdhdmUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhWb2ljZVdhdmUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndm9pY2Utd2F2ZXMnIH0sXG5cdCAgICAgICAgWzEsIDIsIDNdLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsga2V5OiBpbmRleCwgY2xhc3NOYW1lOiAndm9pY2Utd2F2ZSB2b2ljZS13YXZlLScgKyBpbmRleCB9KTtcblx0ICAgICAgICB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFZvaWNlV2F2ZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZvaWNlV2F2ZTtcblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfTG9hZGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9Mb2FkaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvYWRpbmcpO1xuXHRcblx0dmFyIF9zZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBTZWFyY2hUaXBzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhTZWFyY2hUaXBzLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWFyY2hUaXBzKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2hUaXBzKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZWFyY2hUaXBzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VhcmNoVGlwcykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhTZWFyY2hUaXBzLCBbe1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgICAgICBoaXN0b3J5U2VhcmNoID0gX3Byb3BzLmhpc3RvcnlTZWFyY2gsXG5cdCAgICAgICAgICAgICAgICBob3RTZWFyY2ggPSBfcHJvcHMuaG90U2VhcmNoLFxuXHQgICAgICAgICAgICAgICAgZ2V0SGlzdG9yeSA9IF9wcm9wcy5nZXRIaXN0b3J5LFxuXHQgICAgICAgICAgICAgICAgZ2V0SG90ID0gX3Byb3BzLmdldEhvdDtcblx0XG5cdCAgICAgICAgICAgIGlmICghaGlzdG9yeVNlYXJjaC5sb2FkaW5nKSB7XG5cdCAgICAgICAgICAgICAgICBnZXRIaXN0b3J5KDEsIDEwMCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFoaXN0b3J5U2VhcmNoLmxvYWRpbmcpIHtcblx0ICAgICAgICAgICAgICAgIGdldEhvdCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkZWxldGVIaXN0b3J5XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUhpc3RvcnkoKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlSGlzdG9yeSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICAgICAgaGlzdG9yeVNlYXJjaCA9IF9wcm9wczIuaGlzdG9yeVNlYXJjaCxcblx0ICAgICAgICAgICAgICAgIGhvdFNlYXJjaCA9IF9wcm9wczIuaG90U2VhcmNoO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInNlYXJjaC10aXBzXCIgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGlwLXRpdGxlXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICBcIlxcdTUzODZcXHU1M0YyXFx1OEJCMFxcdTVGNTVcIlxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIGhpc3RvcnlTZWFyY2guZGF0YS5sZW5ndGggPiAwID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwiZGVsZXRlLWljb25cIiwgb25DbGljazogdGhpcy5kZWxldGVIaXN0b3J5LmJpbmQodGhpcyksIHNyYzogX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpIH0pIDogXCJcIixcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGFnLWxpc3RcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTZWFyY2guZGF0YS5sZW5ndGggPiAwID8gaGlzdG9yeVNlYXJjaC5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaW5kZXgsIHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC9yZXN1bHQvXCIgKyBpdGVtLnNlYXJjaCB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJoaXN0b3J5LWl0ZW1cIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2VhcmNoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSkgOiBoaXN0b3J5U2VhcmNoLmxvYWRpbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgbnVsbCkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZW1wdHlcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdTY2ODJcXHU2NUUwXFx1OEJCMFxcdTVGNTVcIlxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRpcC10aXRsZVwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgXCJcXHU3MEVEXFx1OTVFOFxcdTY0MUNcXHU3RDIyXCJcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRhZy1saXN0XCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICBob3RTZWFyY2guZGF0YS5sZW5ndGggPiAwID8gaG90U2VhcmNoLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCwgdG86IF9jb25maWcuYmFzZVVybCArIFwic2VhcmNoL3Jlc3VsdC9cIiArIGl0ZW0uc2VhcmNoIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImhvdC1pdGVtXCIgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNlYXJjaFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pIDogaG90U2VhcmNoLmxvYWRpbmcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgbnVsbCkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwiZW1wdHlcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBcIlxcdTY2ODJcXHU2NUUwXFx1OEJCMFxcdTVGNTVcIlxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFNlYXJjaFRpcHM7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGhpc3RvcnlTZWFyY2g6IHN0YXRlLmhpc3RvcnlTZWFyY2gsXG5cdCAgICAgICAgaG90U2VhcmNoOiBzdGF0ZS5ob3RTZWFyY2hcblx0ICAgIH07XG5cdH0sIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbiBnZXRIaXN0b3J5KHBhZ2UsIG51bSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCgoMCwgX3NlYXJjaC5nZXRIaXN0b3J5U2VhcmNoKShwYWdlLCBudW0pKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGdldEhvdDogZnVuY3Rpb24gZ2V0SG90KCkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCgoMCwgX3NlYXJjaC5nZXRIb3RTZWFyY2gpKCkpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZGVsZXRlSGlzdG9yeTogZnVuY3Rpb24gZGVsZXRlSGlzdG9yeSgpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goKDAsIF9zZWFyY2guZGVsZXRlSGlzdG9yeSkoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fSkoU2VhcmNoVGlwcyk7XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF90aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX3RpbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTYuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHQvKipcblx0ICogY3JlYXRlIGJ5IHd1d3Fcblx0ICovXG5cdFxuXHRcblx0dmFyIFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHF1ZXN0aW9uID0gX3Byb3BzLnF1ZXN0aW9uLFxuXHQgICAgICAgICAgaGVhZCA9IF9wcm9wcy5oZWFkO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdhcnRpY2xlJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ3F1ZXN0aW9uLXdpdGhvdXQtYXZhdGFyJyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICB7IHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcInF1ZXN0aW9uL1wiICsgcXVlc3Rpb24uaWQgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdxdWVzdGlvbi1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnaDQnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgcXVlc3Rpb24uY29udGVudFxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Fuc3dlcicgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBoZWFkIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidWJibGUnIH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2J1YmJsZS10YWlsJyB9KSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnYnViYmxlLXZvaWNlJyB9KSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnViYmxlLXRleHQnIH0sXG5cdCAgICAgICAgICAgICAgICBxdWVzdGlvbi5pc19wYXllZCA/IFwi54K55Ye75YG35YG35ZCsXCIgOiBcIjEg5YWD5YG35YG35ZCsXCJcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncmVtYXJrJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpbWUnIH0sXG5cdCAgICAgICAgICAgICAgX3RpbWUyLmRlZmF1bHQuZ2V0VGltZVNwYW4ocXVlc3Rpb24udGltZSksXG5cdCAgICAgICAgICAgICAgJ1xcdTUyNERcXHU1NkRFXFx1N0I1NCdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyZW1hcmstaW5mbycgfSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBxdWVzdGlvbi5saXN0ZW4sXG5cdCAgICAgICAgICAgICAgICAnIFxcdTRFQkFcXHU1MDc3XFx1NTQyQydcblx0ICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd6YW4nIH0sXG5cdCAgICAgICAgICAgICAgICBxdWVzdGlvbi5saWtlLFxuXHQgICAgICAgICAgICAgICAgJyBcXHU0RUJBXFx1ODlDOVxcdTVGOTdcXHU4RDVFJ1xuXHQgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcjtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIOi/lOWbnuaXtumXtO+8mjXliIbpkp/vvIwy5bCP5pe277yMMeWkqe+8jDHlubRcblx0ICAgICAqIEBwYXJhbSBjYlxuXHQgICAgICovXG5cdCAgICBnZXRUaW1lU3BhbjogZnVuY3Rpb24gZ2V0VGltZVNwYW4odGltZSkge1xuXHQgICAgICAgIC8vIGNvbnNvbGUubG9nKGBwYXJhbXMgdGltZSBpcyAke3RpbWV9YClcblx0ICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0ICAgICAgICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUodGltZSkuZ2V0VGltZSgpO1xuXHQgICAgICAgIGlmICh0aW1lc3RhbXAudG9TdHJpbmcoKS5sZW5ndGggPT0gMTMpIHtcblx0ICAgICAgICAgICAgdGltZXN0YW1wID0gdGltZXN0YW1wIC8gMTAwMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNlY29uZHMgPSBub3cuZ2V0VGltZSgpIC8gMTAwMCAtIHRpbWVzdGFtcDtcblx0ICAgICAgICBpZiAoc2Vjb25kcyA8IDYwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzZWNvbmRzKSArICcg56eSJztcblx0ICAgICAgICB9IGVsc2UgaWYgKHNlY29uZHMgPCAzNjAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzZWNvbmRzIC8gNjApICsgJyDliIbpkp8nO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDg2NDAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzZWNvbmRzIC8gMzYwMCkgKyAnIOWwj+aXtic7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRzIDwgMjU5MjAwMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoc2Vjb25kcyAvIDg2NDAwKSArICcg5aSpJztcblx0ICAgICAgICB9IGVsc2UgaWYgKHNlY29uZHMgPCAzMTUzNjAwMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoc2Vjb25kcyAvIDI1OTIwMDApICsgJyDkuKrmnIgnO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzZWNvbmRzIC8gMzE1MzYwMDApICsgJyDlubQnO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9tYXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX21hc2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFzayk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuL3dldWlfbWFzay5jc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi93ZXVpX2RpYWxvZy5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgamYgb24gMTUvMTAvMjcuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0dmFyIENvbmZpcm0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhDb25maXJtLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ29uZmlybSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maXJtKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbmZpcm0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb25maXJtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQ29uZmlybSwgW3tcblx0ICAgIGtleTogJ3JlbmRlckJ1dHRvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckJ1dHRvbnMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb3BzLmJ1dHRvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb24sIGlkeCkge1xuXHQgICAgICAgIHZhciB0eXBlID0gYWN0aW9uLnR5cGUsXG5cdCAgICAgICAgICAgIGxhYmVsID0gYWN0aW9uLmxhYmVsLFxuXHQgICAgICAgICAgICBvdGhlcnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoYWN0aW9uLCBbJ3R5cGUnLCAnbGFiZWwnXSk7XG5cdFxuXHQgICAgICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKHtcblx0ICAgICAgICAgIHdldWlfYnRuX2RpYWxvZzogdHJ1ZSxcblx0ICAgICAgICAgIGRlZmF1bHQ6IHR5cGUgPT09ICdkZWZhdWx0Jyxcblx0ICAgICAgICAgIHByaW1hcnk6IHR5cGUgPT09ICdwcmltYXJ5J1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnYScsXG5cdCAgICAgICAgICBfZXh0ZW5kcyh7IGtleTogaWR4LCBocmVmOiAnamF2YXNjcmlwdDo7JyB9LCBvdGhlcnMsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSksXG5cdCAgICAgICAgICBsYWJlbFxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHRpdGxlID0gX3Byb3BzLnRpdGxlLFxuXHQgICAgICAgICAgc2hvdyA9IF9wcm9wcy5zaG93LFxuXHQgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cdFxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2dfY29uZmlybScsIHN0eWxlOiB7IGRpc3BsYXk6IHNob3cgPyAnYmxvY2snIDogJ25vbmUnIH0gfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfbWFzazIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2cnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2dfaGQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzdHJvbmcnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2dfdGl0bGUnIH0sXG5cdCAgICAgICAgICAgICAgdGl0bGVcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd3ZXVpX2RpYWxvZ19iZCcgfSxcblx0ICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2V1aV9kaWFsb2dfZnQnIH0sXG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyQnV0dG9ucygpXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENvbmZpcm07XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRDb25maXJtLnByb3BUeXBlcyA9IHtcblx0ICBidXR0b25zOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFycmF5LFxuXHQgIHNob3c6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICB0aXRsZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdENvbmZpcm0uZGVmYXVsdFByb3BzID0ge1xuXHQgIGJ1dHRvbnM6IFtdLFxuXHQgIHNob3c6IGZhbHNlLFxuXHQgIHRpdGxlOiAnJ1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29uZmlybTtcblxuLyoqKi8gfSxcbi8qIDUwICovLFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7Lyplc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLnNhdmVTdGF0ZSA9IHNhdmVTdGF0ZTtcblx0ZXhwb3J0cy5yZWFkU3RhdGUgPSByZWFkU3RhdGU7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIEtleVByZWZpeCA9ICdAQEhpc3RvcnkvJztcblx0dmFyIFF1b3RhRXhjZWVkZWRFcnJvcnMgPSBbJ1F1b3RhRXhjZWVkZWRFcnJvcicsICdRVU9UQV9FWENFRURFRF9FUlInXTtcblx0XG5cdHZhciBTZWN1cml0eUVycm9yID0gJ1NlY3VyaXR5RXJyb3InO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlS2V5KGtleSkge1xuXHQgIHJldHVybiBLZXlQcmVmaXggKyBrZXk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhdmVTdGF0ZShrZXksIHN0YXRlKSB7XG5cdCAgdHJ5IHtcblx0ICAgIGlmIChzdGF0ZSA9PSBudWxsKSB7XG5cdCAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGNyZWF0ZUtleShrZXkpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGNyZWF0ZUtleShrZXkpLCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpO1xuXHQgICAgfVxuXHQgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICBpZiAoZXJyb3IubmFtZSA9PT0gU2VjdXJpdHlFcnJvcikge1xuXHQgICAgICAvLyBCbG9ja2luZyBjb29raWVzIGluIENocm9tZS9GaXJlZm94L1NhZmFyaSB0aHJvd3MgU2VjdXJpdHlFcnJvciBvbiBhbnlcblx0ICAgICAgLy8gYXR0ZW1wdCB0byBhY2Nlc3Mgd2luZG93LnNlc3Npb25TdG9yYWdlLlxuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHNhdmUgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIHNlY3VyaXR5IHNldHRpbmdzJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKFF1b3RhRXhjZWVkZWRFcnJvcnMuaW5kZXhPZihlcnJvci5uYW1lKSA+PSAwICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgLy8gU2FmYXJpIFwicHJpdmF0ZSBtb2RlXCIgdGhyb3dzIFF1b3RhRXhjZWVkZWRFcnJvci5cblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGluIFNhZmFyaSBwcml2YXRlIG1vZGUnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlYWRTdGF0ZShrZXkpIHtcblx0ICB2YXIganNvbiA9IHVuZGVmaW5lZDtcblx0ICB0cnkge1xuXHQgICAganNvbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNyZWF0ZUtleShrZXkpKTtcblx0ICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcblx0ICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG5cdCAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byByZWFkIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoanNvbikge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG5cdCAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAvLyBJZ25vcmUgaW52YWxpZCBKU09OLlxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9ET01VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9jcmVhdGVIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSGlzdG9yeSk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVET01IaXN0b3J5KG9wdGlvbnMpIHtcblx0ICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVIaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHtcblx0ICAgIGdldFVzZXJDb25maXJtYXRpb246IF9ET01VdGlscy5nZXRVc2VyQ29uZmlybWF0aW9uXG5cdCAgfSwgb3B0aW9ucywge1xuXHQgICAgZ286IF9ET01VdGlscy5nb1xuXHQgIH0pKTtcblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnRE9NIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgIGxpc3RlbjogbGlzdGVuXG5cdCAgfSk7XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZURPTUhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9ET01VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9ET01TdGF0ZVN0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0XG5cdHZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9jcmVhdGVET01IaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZURPTUhpc3RvcnkpO1xuXHRcblx0ZnVuY3Rpb24gaXNBYnNvbHV0ZVBhdGgocGF0aCkge1xuXHQgIHJldHVybiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycgJiYgcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5zdXJlU2xhc2goKSB7XG5cdCAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0SGFzaFBhdGgoKTtcblx0XG5cdCAgaWYgKGlzQWJzb2x1dGVQYXRoKHBhdGgpKSByZXR1cm4gdHJ1ZTtcblx0XG5cdCAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aCgnLycgKyBwYXRoKTtcblx0XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIGtleSwgdmFsdWUpIHtcblx0ICByZXR1cm4gcGF0aCArIChwYXRoLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgKGtleSArICc9JyArIHZhbHVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RyaXBRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwga2V5KSB7XG5cdCAgcmV0dXJuIHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdbPyZdPycgKyBrZXkgKyAnPVthLXpBLVowLTldKycpLCAnJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nVmFsdWVGcm9tUGF0aChwYXRoLCBrZXkpIHtcblx0ICB2YXIgbWF0Y2ggPSBwYXRoLm1hdGNoKG5ldyBSZWdFeHAoJ1xcXFw/Lio/XFxcXGInICsga2V5ICsgJz0oLis/KVxcXFxiJykpO1xuXHQgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXTtcblx0fVxuXHRcblx0dmFyIERlZmF1bHRRdWVyeUtleSA9ICdfayc7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeSgpIHtcblx0ICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnSGFzaCBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIHF1ZXJ5S2V5ID0gb3B0aW9ucy5xdWVyeUtleTtcblx0XG5cdCAgaWYgKHF1ZXJ5S2V5ID09PSB1bmRlZmluZWQgfHwgISFxdWVyeUtleSkgcXVlcnlLZXkgPSB0eXBlb2YgcXVlcnlLZXkgPT09ICdzdHJpbmcnID8gcXVlcnlLZXkgOiBEZWZhdWx0UXVlcnlLZXk7XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcblx0ICAgIHZhciBwYXRoID0gX0RPTVV0aWxzLmdldEhhc2hQYXRoKCk7XG5cdFxuXHQgICAgdmFyIGtleSA9IHVuZGVmaW5lZCxcblx0ICAgICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcblx0ICAgIGlmIChxdWVyeUtleSkge1xuXHQgICAgICBrZXkgPSBnZXRRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwgcXVlcnlLZXkpO1xuXHQgICAgICBwYXRoID0gc3RyaXBRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwgcXVlcnlLZXkpO1xuXHRcblx0ICAgICAgaWYgKGtleSkge1xuXHQgICAgICAgIHN0YXRlID0gX0RPTVN0YXRlU3RvcmFnZS5yZWFkU3RhdGUoa2V5KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBzdGF0ZSA9IG51bGw7XG5cdCAgICAgICAga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblx0ICAgICAgICBfRE9NVXRpbHMucmVwbGFjZUhhc2hQYXRoKGFkZFF1ZXJ5U3RyaW5nVmFsdWVUb1BhdGgocGF0aCwgcXVlcnlLZXksIGtleSkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBrZXkgPSBzdGF0ZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoX3JlZikge1xuXHQgICAgdmFyIHRyYW5zaXRpb25UbyA9IF9yZWYudHJhbnNpdGlvblRvO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGhhc2hDaGFuZ2VMaXN0ZW5lcigpIHtcblx0ICAgICAgaWYgKCFlbnN1cmVTbGFzaCgpKSByZXR1cm47IC8vIEFsd2F5cyBtYWtlIHN1cmUgaGFzaGVzIGFyZSBwcmVjZWVkZWQgd2l0aCBhIC8uXG5cdFxuXHQgICAgICB0cmFuc2l0aW9uVG8oZ2V0Q3VycmVudExvY2F0aW9uKCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGVuc3VyZVNsYXNoKCk7XG5cdCAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUxpc3RlbmVyKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG5cdCAgICB2YXIgYmFzZW5hbWUgPSBsb2NhdGlvbi5iYXNlbmFtZTtcblx0ICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcblx0ICAgIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXHQgICAgdmFyIGFjdGlvbiA9IGxvY2F0aW9uLmFjdGlvbjtcblx0ICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXk7XG5cdFxuXHQgICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cdFxuXHQgICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyBzZWFyY2g7XG5cdFxuXHQgICAgaWYgKHF1ZXJ5S2V5KSB7XG5cdCAgICAgIHBhdGggPSBhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIHF1ZXJ5S2V5LCBrZXkpO1xuXHQgICAgICBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZShrZXksIHN0YXRlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIERyb3Aga2V5IGFuZCBzdGF0ZS5cblx0ICAgICAgbG9jYXRpb24ua2V5ID0gbG9jYXRpb24uc3RhdGUgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjdXJyZW50SGFzaCA9IF9ET01VdGlscy5nZXRIYXNoUGF0aCgpO1xuXHRcblx0ICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcblx0ICAgICAgaWYgKGN1cnJlbnRIYXNoICE9PSBwYXRoKSB7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1lvdSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoIHVzaW5nIGhhc2ggaGlzdG9yeScpIDogdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGN1cnJlbnRIYXNoICE9PSBwYXRoKSB7XG5cdCAgICAgIC8vIFJFUExBQ0Vcblx0ICAgICAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aChwYXRoKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcblx0ICAgIGdldEN1cnJlbnRMb2NhdGlvbjogZ2V0Q3VycmVudExvY2F0aW9uLFxuXHQgICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcblx0ICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcblx0ICB9KSk7XG5cdFxuXHQgIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcblx0ICAgICAgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGxpc3RlbmVyKSB7XG5cdCAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHVubGlzdGVuKCk7XG5cdFxuXHQgICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG5cdCAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHVubGlzdGVuKCk7XG5cdFxuXHQgICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHF1ZXJ5S2V5IHx8IGxvY2F0aW9uLnN0YXRlID09IG51bGwsICdZb3UgY2Fubm90IHVzZSBzdGF0ZSB3aXRob3V0IGEgcXVlcnlLZXkgaXQgd2lsbCBiZSBkcm9wcGVkJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgaGlzdG9yeS5wdXNoKGxvY2F0aW9uKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBsb2NhdGlvbi5zdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGhpc3RvcnkucmVwbGFjZShsb2NhdGlvbik7XG5cdCAgfVxuXHRcblx0ICB2YXIgZ29Jc1N1cHBvcnRlZFdpdGhvdXRSZWxvYWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKTtcblx0XG5cdCAgZnVuY3Rpb24gZ28obikge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGdvSXNTdXBwb3J0ZWRXaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgaGlzdG9yeS5nbyhuKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUhyZWYocGF0aCkge1xuXHQgICAgcmV0dXJuICcjJyArIGhpc3RvcnkuY3JlYXRlSHJlZihwYXRoKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcblx0ICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSBzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lcihoaXN0b3J5KTtcblx0XG5cdCAgICBoaXN0b3J5LnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcblx0ICAgIGhpc3RvcnkudW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXHRcblx0ICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIoKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBzdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBwYXRoKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBzdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXHRcblx0ICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuXHQgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG5cdCAgICBsaXN0ZW46IGxpc3Rlbixcblx0ICAgIHB1c2g6IHB1c2gsXG5cdCAgICByZXBsYWNlOiByZXBsYWNlLFxuXHQgICAgZ286IGdvLFxuXHQgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcblx0XG5cdCAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiByZWdpc3RlclRyYW5zaXRpb25Ib29rLCAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG5cdCAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuXHQgICAgcHVzaFN0YXRlOiBwdXNoU3RhdGUsIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3Rvcnlcblx0ICAgIHJlcGxhY2VTdGF0ZTogcmVwbGFjZVN0YXRlIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3Rvcnlcblx0ICB9KTtcblx0fVxuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlSGFzaEhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX2RlZXBFcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfZGVlcEVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcXVhbCk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9Bc3luY1V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUxvY2F0aW9uMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY3JlYXRlTG9jYXRpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTG9jYXRpb24yKTtcblx0XG5cdHZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXHRcblx0dmFyIF9kZXByZWNhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVSYW5kb21LZXkobGVuZ3RoKSB7XG5cdCAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBsZW5ndGgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG5cdCAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmXG5cdCAgLy9hLmFjdGlvbiA9PT0gYi5hY3Rpb24gJiYgLy8gRGlmZmVyZW50IGFjdGlvbiAhPT0gbG9jYXRpb24gY2hhbmdlLlxuXHQgIGEua2V5ID09PSBiLmtleSAmJiBfZGVlcEVxdWFsMlsnZGVmYXVsdCddKGEuc3RhdGUsIGIuc3RhdGUpO1xuXHR9XG5cdFxuXHR2YXIgRGVmYXVsdEtleUxlbmd0aCA9IDY7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuXHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IG9wdGlvbnMuZ2V0Q3VycmVudExvY2F0aW9uO1xuXHQgIHZhciBmaW5pc2hUcmFuc2l0aW9uID0gb3B0aW9ucy5maW5pc2hUcmFuc2l0aW9uO1xuXHQgIHZhciBzYXZlU3RhdGUgPSBvcHRpb25zLnNhdmVTdGF0ZTtcblx0ICB2YXIgZ28gPSBvcHRpb25zLmdvO1xuXHQgIHZhciBnZXRVc2VyQ29uZmlybWF0aW9uID0gb3B0aW9ucy5nZXRVc2VyQ29uZmlybWF0aW9uO1xuXHQgIHZhciBrZXlMZW5ndGggPSBvcHRpb25zLmtleUxlbmd0aDtcblx0XG5cdCAgaWYgKHR5cGVvZiBrZXlMZW5ndGggIT09ICdudW1iZXInKSBrZXlMZW5ndGggPSBEZWZhdWx0S2V5TGVuZ3RoO1xuXHRcblx0ICB2YXIgdHJhbnNpdGlvbkhvb2tzID0gW107XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShob29rKSB7XG5cdCAgICB0cmFuc2l0aW9uSG9va3MucHVzaChob29rKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHZhciBhbGxLZXlzID0gW107XG5cdCAgdmFyIGNoYW5nZUxpc3RlbmVycyA9IFtdO1xuXHQgIHZhciBsb2NhdGlvbiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gZ2V0Q3VycmVudCgpIHtcblx0ICAgIGlmIChwZW5kaW5nTG9jYXRpb24gJiYgcGVuZGluZ0xvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG5cdCAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YocGVuZGluZ0xvY2F0aW9uLmtleSk7XG5cdCAgICB9IGVsc2UgaWYgKGxvY2F0aW9uKSB7XG5cdCAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YobG9jYXRpb24ua2V5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uKG5ld0xvY2F0aW9uKSB7XG5cdCAgICB2YXIgY3VycmVudCA9IGdldEN1cnJlbnQoKTtcblx0XG5cdCAgICBsb2NhdGlvbiA9IG5ld0xvY2F0aW9uO1xuXHRcblx0ICAgIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcblx0ICAgICAgYWxsS2V5cyA9IFtdLmNvbmNhdChhbGxLZXlzLnNsaWNlKDAsIGN1cnJlbnQgKyAxKSwgW2xvY2F0aW9uLmtleV0pO1xuXHQgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlJFUExBQ0UpIHtcblx0ICAgICAgYWxsS2V5c1tjdXJyZW50XSA9IGxvY2F0aW9uLmtleTtcblx0ICAgIH1cblx0XG5cdCAgICBjaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcblx0ICAgICAgbGlzdGVuZXIobG9jYXRpb24pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcblx0ICAgIGNoYW5nZUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICBpZiAobG9jYXRpb24pIHtcblx0ICAgICAgbGlzdGVuZXIobG9jYXRpb24pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIF9sb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuXHQgICAgICBhbGxLZXlzID0gW19sb2NhdGlvbi5rZXldO1xuXHQgICAgICB1cGRhdGVMb2NhdGlvbihfbG9jYXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGNoYW5nZUxpc3RlbmVycyA9IGNoYW5nZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgICBfQXN5bmNVdGlscy5sb29wQXN5bmModHJhbnNpdGlvbkhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBuZXh0LCBkb25lKSB7XG5cdCAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXSh0cmFuc2l0aW9uSG9va3NbaW5kZXhdLCBsb2NhdGlvbiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgZG9uZShyZXN1bHQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBuZXh0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0sIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdCAgICAgIGlmIChnZXRVc2VyQ29uZmlybWF0aW9uICYmIHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24obWVzc2FnZSwgZnVuY3Rpb24gKG9rKSB7XG5cdCAgICAgICAgICBjYWxsYmFjayhvayAhPT0gZmFsc2UpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgIT09IGZhbHNlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGVuZGluZ0xvY2F0aW9uID0gdW5kZWZpbmVkO1xuXHRcblx0ICBmdW5jdGlvbiB0cmFuc2l0aW9uVG8obmV4dExvY2F0aW9uKSB7XG5cdCAgICBpZiAobG9jYXRpb24gJiYgbG9jYXRpb25zQXJlRXF1YWwobG9jYXRpb24sIG5leHRMb2NhdGlvbikpIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblx0XG5cdCAgICBwZW5kaW5nTG9jYXRpb24gPSBuZXh0TG9jYXRpb247XG5cdFxuXHQgICAgY29uZmlybVRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24sIGZ1bmN0aW9uIChvaykge1xuXHQgICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSBuZXh0TG9jYXRpb24pIHJldHVybjsgLy8gVHJhbnNpdGlvbiB3YXMgaW50ZXJydXB0ZWQuXG5cdFxuXHQgICAgICBpZiAob2spIHtcblx0ICAgICAgICAvLyB0cmVhdCBQVVNIIHRvIGN1cnJlbnQgcGF0aCBsaWtlIFJFUExBQ0UgdG8gYmUgY29uc2lzdGVudCB3aXRoIGJyb3dzZXJzXG5cdCAgICAgICAgaWYgKG5leHRMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcblx0ICAgICAgICAgIHZhciBwcmV2UGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuXHQgICAgICAgICAgdmFyIG5leHRQYXRoID0gY3JlYXRlUGF0aChuZXh0TG9jYXRpb24pO1xuXHRcblx0ICAgICAgICAgIGlmIChuZXh0UGF0aCA9PT0gcHJldlBhdGggJiYgX2RlZXBFcXVhbDJbJ2RlZmF1bHQnXShsb2NhdGlvbi5zdGF0ZSwgbmV4dExvY2F0aW9uLnN0YXRlKSkgbmV4dExvY2F0aW9uLmFjdGlvbiA9IF9BY3Rpb25zLlJFUExBQ0U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZmluaXNoVHJhbnNpdGlvbihuZXh0TG9jYXRpb24pICE9PSBmYWxzZSkgdXBkYXRlTG9jYXRpb24obmV4dExvY2F0aW9uKTtcblx0ICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbiAmJiBuZXh0TG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHtcblx0ICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG5cdCAgICAgICAgdmFyIG5leHRJbmRleCA9IGFsbEtleXMuaW5kZXhPZihuZXh0TG9jYXRpb24ua2V5KTtcblx0XG5cdCAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEgJiYgbmV4dEluZGV4ICE9PSAtMSkgZ28ocHJldkluZGV4IC0gbmV4dEluZGV4KTsgLy8gUmVzdG9yZSB0aGUgVVJMLlxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcblx0ICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUFVTSCwgY3JlYXRlS2V5KCkpKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcblx0ICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUkVQTEFDRSwgY3JlYXRlS2V5KCkpKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdvQmFjaygpIHtcblx0ICAgIGdvKC0xKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcblx0ICAgIGdvKDEpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZVJhbmRvbUtleShrZXlMZW5ndGgpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuXHQgICAgaWYgKGxvY2F0aW9uID09IG51bGwgfHwgdHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgcmV0dXJuIGxvY2F0aW9uO1xuXHRcblx0ICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcblx0ICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcblx0XG5cdCAgICB2YXIgcmVzdWx0ID0gcGF0aG5hbWU7XG5cdFxuXHQgICAgaWYgKHNlYXJjaCkgcmVzdWx0ICs9IHNlYXJjaDtcblx0XG5cdCAgICBpZiAoaGFzaCkgcmVzdWx0ICs9IGhhc2g7XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcblx0ICAgIHJldHVybiBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBhY3Rpb24pIHtcblx0ICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBjcmVhdGVLZXkoKSA6IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArICdsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblx0XG5cdCAgICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBhY3Rpb24gfSk7XG5cdFxuXHQgICAgICBhY3Rpb24gPSBrZXk7XG5cdCAgICAgIGtleSA9IGFyZ3VtZW50c1szXSB8fCBjcmVhdGVLZXkoKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX2NyZWF0ZUxvY2F0aW9uM1snZGVmYXVsdCddKGxvY2F0aW9uLCBhY3Rpb24sIGtleSk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcblx0ICAgIGlmIChsb2NhdGlvbikge1xuXHQgICAgICB1cGRhdGVMb2NhdGlvblN0YXRlKGxvY2F0aW9uLCBzdGF0ZSk7XG5cdCAgICAgIHVwZGF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHVwZGF0ZUxvY2F0aW9uU3RhdGUoZ2V0Q3VycmVudExvY2F0aW9uKCksIHN0YXRlKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKSB7XG5cdCAgICBsb2NhdGlvbi5zdGF0ZSA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbi5zdGF0ZSwgc3RhdGUpO1xuXHQgICAgc2F2ZVN0YXRlKGxvY2F0aW9uLmtleSwgbG9jYXRpb24uc3RhdGUpO1xuXHQgIH1cblx0XG5cdCAgLy8gZGVwcmVjYXRlZFxuXHQgIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuXHQgICAgaWYgKHRyYW5zaXRpb25Ib29rcy5pbmRleE9mKGhvb2spID09PSAtMSkgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG5cdCAgfVxuXHRcblx0ICAvLyBkZXByZWNhdGVkXG5cdCAgZnVuY3Rpb24gdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcblx0ICAgIHRyYW5zaXRpb25Ib29rcyA9IHRyYW5zaXRpb25Ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcblx0ICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblx0XG5cdCAgICBwdXNoKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcblx0ICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblx0XG5cdCAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcblx0ICAgIGxpc3RlbjogbGlzdGVuLFxuXHQgICAgdHJhbnNpdGlvblRvOiB0cmFuc2l0aW9uVG8sXG5cdCAgICBwdXNoOiBwdXNoLFxuXHQgICAgcmVwbGFjZTogcmVwbGFjZSxcblx0ICAgIGdvOiBnbyxcblx0ICAgIGdvQmFjazogZ29CYWNrLFxuXHQgICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG5cdCAgICBjcmVhdGVLZXk6IGNyZWF0ZUtleSxcblx0ICAgIGNyZWF0ZVBhdGg6IGNyZWF0ZVBhdGgsXG5cdCAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuXHQgICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXHRcblx0ICAgIHNldFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHNldFN0YXRlLCAnc2V0U3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIGxvY2F0aW9uLmtleSB0byBzYXZlIHN0YXRlIGluc3RlYWQnKSxcblx0ICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3JlZ2lzdGVyVHJhbnNpdGlvbkhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIGxpc3RlbkJlZm9yZSBpbnN0ZWFkJyksXG5cdCAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10odW5yZWdpc3RlclRyYW5zaXRpb25Ib29rLCAndW5yZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSB0aGUgY2FsbGJhY2sgcmV0dXJuZWQgZnJvbSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuXHQgICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG5cdCAgICByZXBsYWNlU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVwbGFjZVN0YXRlLCAncmVwbGFjZVN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSByZXBsYWNlIGluc3RlYWQnKVxuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblx0XG5cdGZ1bmN0aW9uIHVzZUJhc2VuYW1lKGNyZWF0ZUhpc3RvcnkpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgICB2YXIgaGlzdG9yeSA9IGNyZWF0ZUhpc3Rvcnkob3B0aW9ucyk7XG5cdFxuXHQgICAgdmFyIGJhc2VuYW1lID0gb3B0aW9ucy5iYXNlbmFtZTtcblx0XG5cdCAgICB2YXIgY2hlY2tlZEJhc2VIcmVmID0gZmFsc2U7XG5cdFxuXHQgICAgZnVuY3Rpb24gY2hlY2tCYXNlSHJlZigpIHtcblx0ICAgICAgaWYgKGNoZWNrZWRCYXNlSHJlZikge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gQXV0b21hdGljYWxseSB1c2UgdGhlIHZhbHVlIG9mIDxiYXNlIGhyZWY+IGluIEhUTUxcblx0ICAgICAgLy8gZG9jdW1lbnRzIGFzIGJhc2VuYW1lIGlmIGl0J3Mgbm90IGV4cGxpY2l0bHkgZ2l2ZW4uXG5cdCAgICAgIGlmIChiYXNlbmFtZSA9PSBudWxsICYmIF9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcblx0ICAgICAgICB2YXIgYmFzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdiYXNlJylbMF07XG5cdCAgICAgICAgdmFyIGJhc2VIcmVmID0gYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXHRcblx0ICAgICAgICBpZiAoYmFzZUhyZWYgIT0gbnVsbCkge1xuXHQgICAgICAgICAgYmFzZW5hbWUgPSBiYXNlSHJlZjtcblx0XG5cdCAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdBdXRvbWF0aWNhbGx5IHNldHRpbmcgYmFzZW5hbWUgdXNpbmcgPGJhc2UgaHJlZj4gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCAnICsgJ2JlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVGhlIHNlbWFudGljcyBvZiA8YmFzZSBocmVmPiBhcmUgJyArICdzdWJ0bHkgZGlmZmVyZW50IGZyb20gYmFzZW5hbWUuIFBsZWFzZSBwYXNzIHRoZSBiYXNlbmFtZSBleHBsaWNpdGx5IGluICcgKyAndGhlIG9wdGlvbnMgdG8gY3JlYXRlSGlzdG9yeScpIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgY2hlY2tlZEJhc2VIcmVmID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBhZGRCYXNlbmFtZShsb2NhdGlvbikge1xuXHQgICAgICBjaGVja0Jhc2VIcmVmKCk7XG5cdFxuXHQgICAgICBpZiAoYmFzZW5hbWUgJiYgbG9jYXRpb24uYmFzZW5hbWUgPT0gbnVsbCkge1xuXHQgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKGJhc2VuYW1lKSA9PT0gMCkge1xuXHQgICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHJpbmcoYmFzZW5hbWUubGVuZ3RoKTtcblx0ICAgICAgICAgIGxvY2F0aW9uLmJhc2VuYW1lID0gYmFzZW5hbWU7XG5cdFxuXHQgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnJykgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGxvY2F0aW9uLmJhc2VuYW1lID0gJyc7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbG9jYXRpb247XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSB7XG5cdCAgICAgIGNoZWNrQmFzZUhyZWYoKTtcblx0XG5cdCAgICAgIGlmICghYmFzZW5hbWUpIHJldHVybiBsb2NhdGlvbjtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblx0XG5cdCAgICAgIHZhciBwbmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgICB2YXIgbm9ybWFsaXplZEJhc2VuYW1lID0gYmFzZW5hbWUuc2xpY2UoLTEpID09PSAnLycgPyBiYXNlbmFtZSA6IGJhc2VuYW1lICsgJy8nO1xuXHQgICAgICB2YXIgbm9ybWFsaXplZFBhdGhuYW1lID0gcG5hbWUuY2hhckF0KDApID09PSAnLycgPyBwbmFtZS5zbGljZSgxKSA6IHBuYW1lO1xuXHQgICAgICB2YXIgcGF0aG5hbWUgPSBub3JtYWxpemVkQmFzZW5hbWUgKyBub3JtYWxpemVkUGF0aG5hbWU7XG5cdFxuXHQgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG5cdCAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE92ZXJyaWRlIGFsbCByZWFkIG1ldGhvZHMgd2l0aCBiYXNlbmFtZS1hd2FyZSB2ZXJzaW9ucy5cblx0ICAgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShob29rKSB7XG5cdCAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbkJlZm9yZShmdW5jdGlvbiAobG9jYXRpb24sIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKGhvb2ssIGFkZEJhc2VuYW1lKGxvY2F0aW9uKSwgY2FsbGJhY2spO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcblx0ICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuXHQgICAgICAgIGxpc3RlbmVyKGFkZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE92ZXJyaWRlIGFsbCB3cml0ZSBtZXRob2RzIHdpdGggYmFzZW5hbWUtYXdhcmUgdmVyc2lvbnMuXG5cdCAgICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG5cdCAgICAgIGhpc3RvcnkucHVzaChwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG5cdCAgICAgIGhpc3RvcnkucmVwbGFjZShwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG5cdCAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZVBhdGgocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuXHQgICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVIcmVmKHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gYWRkQmFzZW5hbWUoaGlzdG9yeS5jcmVhdGVMb2NhdGlvbi5hcHBseShoaXN0b3J5LCBbcHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKV0uY29uY2F0KGFyZ3MpKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZGVwcmVjYXRlZFxuXHQgICAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblx0XG5cdCAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlcHJlY2F0ZWRcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCkge1xuXHQgICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG5cdCAgICAgIGxpc3RlbjogbGlzdGVuLFxuXHQgICAgICBwdXNoOiBwdXNoLFxuXHQgICAgICByZXBsYWNlOiByZXBsYWNlLFxuXHQgICAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuXHQgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuXHQgICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cdFxuXHQgICAgICBwdXNoU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocHVzaFN0YXRlLCAncHVzaFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBwdXNoIGluc3RlYWQnKSxcblx0ICAgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcblx0ICAgIH0pO1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHVzZUJhc2VuYW1lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX1Byb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdHZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcblx0dmFyIGJvb2wgPSBfUmVhY3QkUHJvcFR5cGVzLmJvb2w7XG5cdHZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblx0dmFyIHN0cmluZyA9IF9SZWFjdCRQcm9wVHlwZXMuc3RyaW5nO1xuXHR2YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblx0dmFyIG9uZU9mVHlwZSA9IF9SZWFjdCRQcm9wVHlwZXMub25lT2ZUeXBlO1xuXHRcblx0XG5cdGZ1bmN0aW9uIGlzTGVmdENsaWNrRXZlbnQoZXZlbnQpIHtcblx0ICByZXR1cm4gZXZlbnQuYnV0dG9uID09PSAwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcblx0ICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG5cdH1cblx0XG5cdC8vIFRPRE86IERlLWR1cGxpY2F0ZSBhZ2FpbnN0IGhhc0FueVByb3BlcnRpZXMgaW4gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuXG5cdGZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqZWN0KSB7XG5cdCAgZm9yICh2YXIgcCBpbiBvYmplY3QpIHtcblx0ICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwKSkgcmV0dXJuIGZhbHNlO1xuXHQgIH1yZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9jYXRpb25EZXNjcmlwdG9yKHRvLCBfcmVmKSB7XG5cdCAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeTtcblx0ICB2YXIgaGFzaCA9IF9yZWYuaGFzaDtcblx0ICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXHRcblx0ICBpZiAocXVlcnkgfHwgaGFzaCB8fCBzdGF0ZSkge1xuXHQgICAgcmV0dXJuIHsgcGF0aG5hbWU6IHRvLCBxdWVyeTogcXVlcnksIGhhc2g6IGhhc2gsIHN0YXRlOiBzdGF0ZSB9O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRvO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQSA8TGluaz4gaXMgdXNlZCB0byBjcmVhdGUgYW4gPGE+IGVsZW1lbnQgdGhhdCBsaW5rcyB0byBhIHJvdXRlLlxuXHQgKiBXaGVuIHRoYXQgcm91dGUgaXMgYWN0aXZlLCB0aGUgbGluayBnZXRzIHRoZSB2YWx1ZSBvZiBpdHNcblx0ICogYWN0aXZlQ2xhc3NOYW1lIHByb3AuXG5cdCAqXG5cdCAqIEZvciBleGFtcGxlLCBhc3N1bWluZyB5b3UgaGF2ZSB0aGUgZm9sbG93aW5nIHJvdXRlOlxuXHQgKlxuXHQgKiAgIDxSb3V0ZSBwYXRoPVwiL3Bvc3RzLzpwb3N0SURcIiBjb21wb25lbnQ9e1Bvc3R9IC8+XG5cdCAqXG5cdCAqIFlvdSBjb3VsZCB1c2UgdGhlIGZvbGxvd2luZyBjb21wb25lbnQgdG8gbGluayB0byB0aGF0IHJvdXRlOlxuXHQgKlxuXHQgKiAgIDxMaW5rIHRvPXtgL3Bvc3RzLyR7cG9zdC5pZH1gfSAvPlxuXHQgKlxuXHQgKiBMaW5rcyBtYXkgcGFzcyBhbG9uZyBsb2NhdGlvbiBzdGF0ZSBhbmQvb3IgcXVlcnkgc3RyaW5nIHBhcmFtZXRlcnNcblx0ICogaW4gdGhlIHN0YXRlL3F1ZXJ5IHByb3BzLCByZXNwZWN0aXZlbHkuXG5cdCAqXG5cdCAqICAgPExpbmsgLi4uIHF1ZXJ5PXt7IHNob3c6IHRydWUgfX0gc3RhdGU9e3sgdGhlOiAnc3RhdGUnIH19IC8+XG5cdCAqL1xuXHR2YXIgTGluayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdMaW5rJyxcblx0XG5cdFxuXHQgIGNvbnRleHRUeXBlczoge1xuXHQgICAgcm91dGVyOiBfUHJvcFR5cGVzLnJvdXRlclNoYXBlXG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICB0bzogb25lT2ZUeXBlKFtzdHJpbmcsIG9iamVjdF0pLFxuXHQgICAgcXVlcnk6IG9iamVjdCxcblx0ICAgIGhhc2g6IHN0cmluZyxcblx0ICAgIHN0YXRlOiBvYmplY3QsXG5cdCAgICBhY3RpdmVTdHlsZTogb2JqZWN0LFxuXHQgICAgYWN0aXZlQ2xhc3NOYW1lOiBzdHJpbmcsXG5cdCAgICBvbmx5QWN0aXZlT25JbmRleDogYm9vbC5pc1JlcXVpcmVkLFxuXHQgICAgb25DbGljazogZnVuYyxcblx0ICAgIHRhcmdldDogc3RyaW5nXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBvbmx5QWN0aXZlT25JbmRleDogZmFsc2UsXG5cdCAgICAgIHN0eWxlOiB7fVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuXHQgICAgaWYgKHRoaXMucHJvcHMub25DbGljaykgdGhpcy5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcblx0XG5cdCAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXHRcblx0ICAgICF0aGlzLmNvbnRleHQucm91dGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxMaW5rPnMgcmVuZGVyZWQgb3V0c2lkZSBvZiBhIHJvdXRlciBjb250ZXh0IGNhbm5vdCBuYXZpZ2F0ZS4nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKGlzTW9kaWZpZWRFdmVudChldmVudCkgfHwgIWlzTGVmdENsaWNrRXZlbnQoZXZlbnQpKSByZXR1cm47XG5cdFxuXHQgICAgLy8gSWYgdGFyZ2V0IHByb3AgaXMgc2V0IChlLmcuIHRvIFwiX2JsYW5rXCIpLCBsZXQgYnJvd3NlciBoYW5kbGUgbGluay5cblx0ICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdW50ZXN0YWJsZSB3aXRoIEthcm1hICovXG5cdCAgICBpZiAodGhpcy5wcm9wcy50YXJnZXQpIHJldHVybjtcblx0XG5cdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHRvID0gX3Byb3BzLnRvO1xuXHQgICAgdmFyIHF1ZXJ5ID0gX3Byb3BzLnF1ZXJ5O1xuXHQgICAgdmFyIGhhc2ggPSBfcHJvcHMuaGFzaDtcblx0ICAgIHZhciBzdGF0ZSA9IF9wcm9wcy5zdGF0ZTtcblx0XG5cdCAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbkRlc2NyaXB0b3IodG8sIHsgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfSk7XG5cdFxuXHQgICAgdGhpcy5jb250ZXh0LnJvdXRlci5wdXNoKGxvY2F0aW9uKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHRvID0gX3Byb3BzMi50bztcblx0ICAgIHZhciBxdWVyeSA9IF9wcm9wczIucXVlcnk7XG5cdCAgICB2YXIgaGFzaCA9IF9wcm9wczIuaGFzaDtcblx0ICAgIHZhciBzdGF0ZSA9IF9wcm9wczIuc3RhdGU7XG5cdCAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gX3Byb3BzMi5hY3RpdmVDbGFzc05hbWU7XG5cdCAgICB2YXIgYWN0aXZlU3R5bGUgPSBfcHJvcHMyLmFjdGl2ZVN0eWxlO1xuXHQgICAgdmFyIG9ubHlBY3RpdmVPbkluZGV4ID0gX3Byb3BzMi5vbmx5QWN0aXZlT25JbmRleDtcblx0XG5cdCAgICB2YXIgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzMiwgWyd0bycsICdxdWVyeScsICdoYXNoJywgJ3N0YXRlJywgJ2FjdGl2ZUNsYXNzTmFtZScsICdhY3RpdmVTdHlsZScsICdvbmx5QWN0aXZlT25JbmRleCddKTtcblx0XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSghKHF1ZXJ5IHx8IGhhc2ggfHwgc3RhdGUpLCAndGhlIGBxdWVyeWAsIGBoYXNoYCwgYW5kIGBzdGF0ZWAgcHJvcHMgb24gYDxMaW5rPmAgYXJlIGRlcHJlY2F0ZWQsIHVzZSBgPExpbmsgdG89e3sgcGF0aG5hbWUsIHF1ZXJ5LCBoYXNoLCBzdGF0ZSB9fS8+LiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG5cdFxuXHQgICAgLy8gSWdub3JlIGlmIHJlbmRlcmVkIG91dHNpZGUgdGhlIGNvbnRleHQgb2Ygcm91dGVyLCBzaW1wbGlmaWVzIHVuaXQgdGVzdGluZy5cblx0ICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xuXHRcblx0XG5cdCAgICBpZiAocm91dGVyKSB7XG5cdCAgICAgIC8vIElmIHVzZXIgZG9lcyBub3Qgc3BlY2lmeSBhIGB0b2AgcHJvcCwgcmV0dXJuIGFuIGVtcHR5IGFuY2hvciB0YWcuXG5cdCAgICAgIGlmICh0byA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdhJywgcHJvcHMpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbkRlc2NyaXB0b3IodG8sIHsgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfSk7XG5cdCAgICAgIHByb3BzLmhyZWYgPSByb3V0ZXIuY3JlYXRlSHJlZihsb2NhdGlvbik7XG5cdFxuXHQgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lIHx8IGFjdGl2ZVN0eWxlICE9IG51bGwgJiYgIWlzRW1wdHlPYmplY3QoYWN0aXZlU3R5bGUpKSB7XG5cdCAgICAgICAgaWYgKHJvdXRlci5pc0FjdGl2ZShsb2NhdGlvbiwgb25seUFjdGl2ZU9uSW5kZXgpKSB7XG5cdCAgICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcblx0ICAgICAgICAgICAgICBwcm9wcy5jbGFzc05hbWUgKz0gJyAnICsgYWN0aXZlQ2xhc3NOYW1lO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHByb3BzLmNsYXNzTmFtZSA9IGFjdGl2ZUNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGlmIChhY3RpdmVTdHlsZSkgcHJvcHMuc3R5bGUgPSBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgb25DbGljazogdGhpcy5oYW5kbGVDbGljayB9KSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpbms7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX1JvdXRlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX0ludGVybmFsUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xuXHR2YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG5cdHZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblx0XG5cdC8qKlxuXHQgKiBBIDxSZWRpcmVjdD4gaXMgdXNlZCB0byBkZWNsYXJlIGFub3RoZXIgVVJMIHBhdGggYSBjbGllbnQgc2hvdWxkXG5cdCAqIGJlIHNlbnQgdG8gd2hlbiB0aGV5IHJlcXVlc3QgYSBnaXZlbiBVUkwuXG5cdCAqXG5cdCAqIFJlZGlyZWN0cyBhcmUgcGxhY2VkIGFsb25nc2lkZSByb3V0ZXMgaW4gdGhlIHJvdXRlIGNvbmZpZ3VyYXRpb25cblx0ICogYW5kIGFyZSB0cmF2ZXJzZWQgaW4gdGhlIHNhbWUgbWFubmVyLlxuXHQgKi9cblx0XG5cdHZhciBSZWRpcmVjdCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSZWRpcmVjdCcsXG5cdFxuXHRcblx0ICBzdGF0aWNzOiB7XG5cdCAgICBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KSB7XG5cdCAgICAgIHZhciByb3V0ZSA9ICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQpKGVsZW1lbnQpO1xuXHRcblx0ICAgICAgaWYgKHJvdXRlLmZyb20pIHJvdXRlLnBhdGggPSByb3V0ZS5mcm9tO1xuXHRcblx0ICAgICAgcm91dGUub25FbnRlciA9IGZ1bmN0aW9uIChuZXh0U3RhdGUsIHJlcGxhY2UpIHtcblx0ICAgICAgICB2YXIgbG9jYXRpb24gPSBuZXh0U3RhdGUubG9jYXRpb247XG5cdCAgICAgICAgdmFyIHBhcmFtcyA9IG5leHRTdGF0ZS5wYXJhbXM7XG5cdFxuXHRcblx0ICAgICAgICB2YXIgcGF0aG5hbWUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHJvdXRlLnRvLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG5cdCAgICAgICAgICBwYXRobmFtZSA9ICgwLCBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm4pKHJvdXRlLnRvLCBwYXJhbXMpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIXJvdXRlLnRvKSB7XG5cdCAgICAgICAgICBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgcm91dGVJbmRleCA9IG5leHRTdGF0ZS5yb3V0ZXMuaW5kZXhPZihyb3V0ZSk7XG5cdCAgICAgICAgICB2YXIgcGFyZW50UGF0dGVybiA9IFJlZGlyZWN0LmdldFJvdXRlUGF0dGVybihuZXh0U3RhdGUucm91dGVzLCByb3V0ZUluZGV4IC0gMSk7XG5cdCAgICAgICAgICB2YXIgcGF0dGVybiA9IHBhcmVudFBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcm91dGUudG87XG5cdCAgICAgICAgICBwYXRobmFtZSA9ICgwLCBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm4pKHBhdHRlcm4sIHBhcmFtcyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXBsYWNlKHtcblx0ICAgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcblx0ICAgICAgICAgIHF1ZXJ5OiByb3V0ZS5xdWVyeSB8fCBsb2NhdGlvbi5xdWVyeSxcblx0ICAgICAgICAgIHN0YXRlOiByb3V0ZS5zdGF0ZSB8fCBsb2NhdGlvbi5zdGF0ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIHJvdXRlO1xuXHQgICAgfSxcblx0ICAgIGdldFJvdXRlUGF0dGVybjogZnVuY3Rpb24gZ2V0Um91dGVQYXR0ZXJuKHJvdXRlcywgcm91dGVJbmRleCkge1xuXHQgICAgICB2YXIgcGFyZW50UGF0dGVybiA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IHJvdXRlSW5kZXg7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xuXHQgICAgICAgIHZhciBwYXR0ZXJuID0gcm91dGUucGF0aCB8fCAnJztcblx0XG5cdCAgICAgICAgcGFyZW50UGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcGFyZW50UGF0dGVybjtcblx0XG5cdCAgICAgICAgaWYgKHBhdHRlcm4uaW5kZXhPZignLycpID09PSAwKSBicmVhaztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuICcvJyArIHBhcmVudFBhdHRlcm47XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwYXRoOiBzdHJpbmcsXG5cdCAgICBmcm9tOiBzdHJpbmcsIC8vIEFsaWFzIGZvciBwYXRoXG5cdCAgICB0bzogc3RyaW5nLmlzUmVxdWlyZWQsXG5cdCAgICBxdWVyeTogb2JqZWN0LFxuXHQgICAgc3RhdGU6IG9iamVjdCxcblx0ICAgIG9uRW50ZXI6IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeSxcblx0ICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcblx0ICB9LFxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgdHJ1ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8UmVkaXJlY3Q+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVkaXJlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMuY3JlYXRlUm91dGVyT2JqZWN0ID0gY3JlYXRlUm91dGVyT2JqZWN0O1xuXHRleHBvcnRzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5ID0gY3JlYXRlUm91dGluZ0hpc3Rvcnk7XG5cdFxuXHR2YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVSb3V0ZXJPYmplY3QoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcblx0ICAgIHNldFJvdXRlTGVhdmVIb29rOiB0cmFuc2l0aW9uTWFuYWdlci5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUsXG5cdCAgICBpc0FjdGl2ZTogdHJhbnNpdGlvbk1hbmFnZXIuaXNBY3RpdmVcblx0ICB9KTtcblx0fVxuXHRcblx0Ly8gZGVwcmVjYXRlZFxuXHRmdW5jdGlvbiBjcmVhdGVSb3V0aW5nSGlzdG9yeShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcikge1xuXHQgIGhpc3RvcnkgPSBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuXHRcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgaGlzdG9yeSA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkoaGlzdG9yeSwgJ2Bwcm9wcy5oaXN0b3J5YCBhbmQgYGNvbnRleHQuaGlzdG9yeWAgYXJlIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGNvbnRleHQucm91dGVyYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWNvbnRleHRjaGFuZ2VzJyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gaGlzdG9yeTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTWVtb3J5SGlzdG9yeTtcblx0XG5cdHZhciBfdXNlUXVlcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXHRcblx0dmFyIF91c2VCYXNlbmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXHRcblx0dmFyIF91c2VCYXNlbmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VCYXNlbmFtZSk7XG5cdFxuXHR2YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShvcHRpb25zKSB7XG5cdCAgLy8gc2lnbmF0dXJlcyBhbmQgdHlwZSBjaGVja2luZyBkaWZmZXIgYmV0d2VlbiBgdXNlUm91dGVzYCBhbmRcblx0ICAvLyBgY3JlYXRlTWVtb3J5SGlzdG9yeWAsIGhhdmUgdG8gY3JlYXRlIGBtZW1vcnlIaXN0b3J5YCBmaXJzdCBiZWNhdXNlXG5cdCAgLy8gYHVzZVF1ZXJpZXNgIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGUgc2lnbmF0dXJlXG5cdCAgdmFyIG1lbW9yeUhpc3RvcnkgPSAoMCwgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyLmRlZmF1bHQpKG9wdGlvbnMpO1xuXHQgIHZhciBjcmVhdGVIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcblx0ICAgIHJldHVybiBtZW1vcnlIaXN0b3J5O1xuXHQgIH07XG5cdCAgdmFyIGhpc3RvcnkgPSAoMCwgX3VzZVF1ZXJpZXMyLmRlZmF1bHQpKCgwLCBfdXNlQmFzZW5hbWUyLmRlZmF1bHQpKGNyZWF0ZUhpc3RvcnkpKShvcHRpb25zKTtcblx0ICBoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fID0gdHJ1ZTtcblx0ICByZXR1cm4gaGlzdG9yeTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNyZWF0ZUhpc3RvcnkpIHtcblx0ICB2YXIgaGlzdG9yeSA9IHZvaWQgMDtcblx0ICBpZiAoY2FuVXNlRE9NKSBoaXN0b3J5ID0gKDAsIF91c2VSb3V0ZXJIaXN0b3J5Mi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KSgpO1xuXHQgIHJldHVybiBoaXN0b3J5O1xuXHR9O1xuXHRcblx0dmFyIF91c2VSb3V0ZXJIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdFxuXHR2YXIgX3VzZVJvdXRlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVySGlzdG9yeSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbWFrZVN0YXRlV2l0aExvY2F0aW9uO1xuXHRcblx0dmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VTdGF0ZVdpdGhMb2NhdGlvbihzdGF0ZSwgbG9jYXRpb24pIHtcblx0ICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcy5jYW5Vc2VNZW1icmFuZSkge1xuXHQgICAgdmFyIHN0YXRlV2l0aExvY2F0aW9uID0gX2V4dGVuZHMoe30sIHN0YXRlKTtcblx0XG5cdCAgICAvLyBJIGRvbid0IHVzZSBkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzIGhlcmUgYmVjYXVzZSBJIHdhbnQgdG8ga2VlcCB0aGVcblx0ICAgIC8vIHNhbWUgY29kZSBwYXRoIGJldHdlZW4gZGV2ZWxvcG1lbnQgYW5kIHByb2R1Y3Rpb24sIGluIHRoYXQgd2UganVzdFxuXHQgICAgLy8gYXNzaWduIGV4dHJhIHByb3BlcnRpZXMgdG8gdGhlIGNvcHkgb2YgdGhlIHN0YXRlIG9iamVjdCBpbiBib3RoIGNhc2VzLlxuXHRcblx0ICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHByb3ApIHtcblx0ICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobG9jYXRpb24sIHByb3ApKSB7XG5cdCAgICAgICAgcmV0dXJuICdjb250aW51ZSc7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdGF0ZVdpdGhMb2NhdGlvbiwgcHJvcCwge1xuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdBY2Nlc3NpbmcgbG9jYXRpb24gcHJvcGVydGllcyBkaXJlY3RseSBmcm9tIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgZ2V0Q29tcG9uZW50YCwgYGdldENvbXBvbmVudHNgLCBgZ2V0Q2hpbGRSb3V0ZXNgLCBhbmQgYGdldEluZGV4Um91dGVgIGlzIGRlcHJlY2F0ZWQuIFRoYXQgYXJndW1lbnQgaXMgbm93IHRoZSByb3V0ZXIgc3RhdGUgKGBuZXh0U3RhdGVgIG9yIGBwYXJ0aWFsTmV4dFN0YXRlYCkgcmF0aGVyIHRoYW4gdGhlIGxvY2F0aW9uLiBUbyBhY2Nlc3MgdGhlIGxvY2F0aW9uLCB1c2UgYG5leHRTdGF0ZS5sb2NhdGlvbmAgb3IgYHBhcnRpYWxOZXh0U3RhdGUubG9jYXRpb25gLicpIDogdm9pZCAwO1xuXHQgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uW3Byb3BdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGZvciAodmFyIHByb3AgaW4gbG9jYXRpb24pIHtcblx0ICAgICAgdmFyIF9yZXQgPSBfbG9vcChwcm9wKTtcblx0XG5cdCAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc3RhdGVXaXRoTG9jYXRpb247XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCBsb2NhdGlvbik7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB1c2VSb3V0ZXJIaXN0b3J5O1xuXHRcblx0dmFyIF91c2VRdWVyaWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdFxuXHR2YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cdFxuXHR2YXIgX3VzZUJhc2VuYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdFxuXHR2YXIgX3VzZUJhc2VuYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZUJhc2VuYW1lKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiB1c2VSb3V0ZXJIaXN0b3J5KGNyZWF0ZUhpc3RvcnkpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0ICAgIHZhciBoaXN0b3J5ID0gKDAsIF91c2VRdWVyaWVzMi5kZWZhdWx0KSgoMCwgX3VzZUJhc2VuYW1lMi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KSkob3B0aW9ucyk7XG5cdCAgICBoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fID0gdHJ1ZTtcblx0ICAgIHJldHVybiBoaXN0b3J5O1xuXHQgIH07XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIHJlcGVhdCA9IGV4cG9ydHMucmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHN0ciwgdGltZXMpIHtcblx0ICByZXR1cm4gbmV3IEFycmF5KHRpbWVzICsgMSkuam9pbihzdHIpO1xuXHR9O1xuXHRcblx0dmFyIHBhZCA9IGV4cG9ydHMucGFkID0gZnVuY3Rpb24gcGFkKG51bSwgbWF4TGVuZ3RoKSB7XG5cdCAgcmV0dXJuIHJlcGVhdChcIjBcIiwgbWF4TGVuZ3RoIC0gbnVtLnRvU3RyaW5nKCkubGVuZ3RoKSArIG51bTtcblx0fTtcblx0XG5cdHZhciBmb3JtYXRUaW1lID0gZXhwb3J0cy5mb3JtYXRUaW1lID0gZnVuY3Rpb24gZm9ybWF0VGltZSh0aW1lKSB7XG5cdCAgcmV0dXJuIHBhZCh0aW1lLmdldEhvdXJzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRNaW51dGVzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpICsgXCIuXCIgKyBwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7XG5cdH07XG5cdFxuXHQvLyBVc2UgcGVyZm9ybWFuY2UgQVBJIGlmIGl0J3MgYXZhaWxhYmxlIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgcHJlY2lzaW9uXG5cdHZhciB0aW1lciA9IGV4cG9ydHMudGltZXIgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiID8gcGVyZm9ybWFuY2UgOiBEYXRlO1xuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNRQUFBQW1DQVlBQUFDc3lEbVRBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlGcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TlMxak1ERTBJRGM1TGpFMU1UUTRNU3dnTWpBeE15OHdNeTh4TXkweE1qb3dPVG94TlNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVORElDaFhhVzVrYjNkektTSWdlRzF3VFUwNlNXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzJSa1EwUTBZeU56TTRSVEF4TVVVMk9VRkVSVUk1T0VJeVJFRXlPRUV5TUNJZ2VHMXdUVTA2Ukc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvMlJrUTBRMFl5T0RNNFJUQXhNVVUyT1VGRVJVSTVPRUl5UkVFeU9FRXlNQ0krSUR4NGJYQk5UVHBFWlhKcGRtVmtSbkp2YlNCemRGSmxaanBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2paR1JEUkRSakkxTXpoRk1ERXhSVFk1UVVSRlFqazRRakpFUVRJNFFUSXdJaUJ6ZEZKbFpqcGtiMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPalpHUkRSRFJqSTJNemhGTURFeFJUWTVRVVJGUWprNFFqSkVRVEk0UVRJd0lpOCtJRHd2Y21SbU9rUmxjMk55YVhCMGFXOXVQaUE4TDNKa1pqcFNSRVkrSUR3dmVEcDRiWEJ0WlhSaFBpQThQM2h3WVdOclpYUWdaVzVrUFNKeUlqOCt0L0g4RkFBQUFycEpSRUZVZU5yc1dFdHJGRUVRN3QxTUh1cEdVRFFFeFFlZVBJa0hMeEk4NUIrSWFFRFVtMlpWUkJTTU44R0xGeUhHb0lkZFFvZ2lpaVNIbUVQUW13aDZFandiVVJGQjBDQ2kwVVh6MkIyL2dscHBtdW5udE1rbEJkL083blJ0VFhWVjEyc0tsVXBsbnhEaUZyQUpXQkoyYWdGK0EzZUFJUTNQUWVBS3NONURaZzI0bHVCakZOZ2ovT2tHTUFsOHlGaXJBbDBCTXNlSytDaUljT3JVM0s4Rnl2dVJzUG1iZEJsNFpUSHRmWFl2MGFLR2I3NzVBT0Fvc0dDUXVSWjR5TmVGUkZtY0F0NVlkbEdURkxMUkgrQ3hpYUZjTG90cXRmcHZZMFZsZlp2RDRVczhYRUQ4SFNZR0tOTXA2MkVTUGd6c0F1ckFKZUN0eUVmMDBBcXdGZmdFbkFZYUtwTkpvYlBTK2xBa2hVNHA4aHRaVE10RnFlVzMxVUluZ1c1MjJVd0VoY2dhL1J3UVg3T3NZMVBvN24rdzBJaUxYMlY2YitHdkczSlBGaTF4Nkp2Qy9xZHNMZFZDQThCcnpkbEtPWXczZUdieUFVNk1XUlVoUmRpdmtWTkRvanpnaktjYjJqVDNTM3hkQjF6M2tGY2lTN3pMY1M2K2FPN1BCY3Fya1lXT0FWZlpVb3VPK1lUNEhoZ1VPZ0tjWTB1NXRoOVUvNFlMNklmRVNoTFZzcFZLak03cGZGV2hWWVh5VU1KWjhnU3dVV285YlNGS29md2tSdEZGcG03amhFeVpmSUlVdWdjY0RwQTF6OTNBOTV3NlVlbTQyZXd3eUdWN0F3VzFBOXNqdFNXLytIczNXZWlidEVodStBaTBhdjVJN3VyakNVRllwb21RNW0xT3JmWVhITTVGTDdCanVhSnNpNFcvNERsMUJFV1pUc0g5a210ZWNnWFBreVpvTXoxODlpZ2dYbVQxMWFiZFRrdTkwZ0hnZVFSdlBPTnJnM3VwdWs5aUxDbTVKK1lSS2JxNlRLWnhZQ2ViZFRaU0pFM3lXNUhaa0RIb2VPVHpTbTQ2NUJ0bG54Mm1qbnJrQnMwNGRmUndOTFFZcG80T2grZnNacjdVWmpWKzJaRElDclhMdGM1emc2MmErMCs1em5tbm9hS2lrUGVVWUpqSFFtZ3pXZWdpTU1oVjF6WEJVZnZ4eUREcDBwdTQ4N3paMUZFbVRUSzMvd293QUluUGtWV1FTN3g0QUFBQUFFbEZUa1N1UW1DQ1wiXG5cbi8qKiovIH0sXG4vKiA2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRIb3RTZWFyY2ggPSBnZXRIb3RTZWFyY2g7XG5cdGV4cG9ydHMuZ2V0SGlzdG9yeVNlYXJjaCA9IGdldEhpc3RvcnlTZWFyY2g7XG5cdGV4cG9ydHMuZGVsZXRlSGlzdG9yeSA9IGRlbGV0ZUhpc3Rvcnk7XG5cdFxuXHR2YXIgX3NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRcblx0dmFyIF9zZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VhcmNoKTtcblx0XG5cdHZhciBfQWN0aW9uVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzkvMy5cblx0ICovXG5cdGZ1bmN0aW9uIGdldEhvdFNlYXJjaCgpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRVFVRVNUX0hPVF9TRUFSQ0hcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfc2VhcmNoMi5kZWZhdWx0LmdldEhvdFNlYXJjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuUkVDRUlWRV9IT1RfU0VBUkNILFxuXHQgICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblx0ZnVuY3Rpb24gZ2V0SGlzdG9yeVNlYXJjaChwYWdlLCBudW0pIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0ICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgIHR5cGU6IF9BY3Rpb25UeXBlcy5SRVFVRVNUX0hJU1RPUllfU0VBUkNIXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3NlYXJjaDIuZGVmYXVsdC5nZXRIaXN0b3J5U2VhcmNoKHBhZ2UsIG51bSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogX0FjdGlvblR5cGVzLlJFQ0VJVkVfSElTVE9SWV9TRUFSQ0gsXG5cdCAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLnJlc3VsdCxcblx0ICAgICAgICAgICAgICAgIC8vIGRhdGE6IFtcIua1i+ivlVwiLFwi5rWL6K+VXCJdLFxuXHQgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcblx0ICAgICAgICAgICAgICAgIG51bTogbnVtXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0fVxuXHRmdW5jdGlvbiBkZWxldGVIaXN0b3J5KCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgICAgIF9zZWFyY2gyLmRlZmF1bHQuZGVsZXRlSGlzdG9yeShmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBfQWN0aW9uVHlwZXMuREVMRVRFX0hJU1RPUllfU1VDQ0VTU1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hcGlIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX2FwaUhhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBpSGFuZGxlcik7XG5cdFxuXHR2YXIgX21lc3NhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfbWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXNzYWdlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oY2IpIHtcblx0XG5cdCAgICAgICAgZmV0Y2goX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS91c2VyL2dldHVzZXJub3cnLCB7XG5cdCAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0sXG5cdCAgICBnZXRPdGhlclVzZXJJbmZvOiBmdW5jdGlvbiBnZXRPdGhlclVzZXJJbmZvKGlkLCBjYikge1xuXHQgICAgICAgIGZldGNoKF9jb25maWcuZG9tYWluICsgKCcvYXBpL3YxL3VzZXIvZ2V0dXNlcmluZm8/aWQ9JyArIGlkKSwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgZWRpdFVzZXJJbmZvOiBmdW5jdGlvbiBlZGl0VXNlckluZm8oY29tcGFueSwgam9iLCBleHBlcmllbmNlLCB0ZWFjaGVyX3ByaXplLCBpbnRyb2R1Y3Rpb24sIGNiKSB7XG5cdCAgICAgICAgZmV0Y2goX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS91c2VyL2VkaXR1c2Vybm93Jywge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcblx0ICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG5cdCAgICAgICAgICAgIGhlYWRlcnM6IHtcblx0ICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcblx0ICAgICAgICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnksXG5cdCAgICAgICAgICAgICAgICBwb3NpdGlvbjogam9iLFxuXHQgICAgICAgICAgICAgICAgZXhwZXJpZW5jZTogZXhwZXJpZW5jZSxcblx0ICAgICAgICAgICAgICAgIHByaXplOiB0ZWFjaGVyX3ByaXplLFxuXHQgICAgICAgICAgICAgICAgaW50cm9kdWN0aW9uOiBpbnRyb2R1Y3Rpb25cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIGdldExpc3RlbmVkOiBmdW5jdGlvbiBnZXRMaXN0ZW5lZChwYWdlLCBudW0sIGNiKSB7XG5cdCAgICAgICAgcmV0dXJuIGZldGNoKF9jb25maWcuZG9tYWluICsgKCcvYXBpL3YxL3F1ZXN0aW9uL215bGlzdGVuP3BhZ2U9JyArIHBhZ2UgKyAnJm51bWJlcj0nICsgbnVtKSwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgZ2V0SUFza2VkOiBmdW5jdGlvbiBnZXRJQXNrZWQocGFnZSwgbnVtLCBjYikge1xuXHQgICAgICAgIHJldHVybiBmZXRjaChfY29uZmlnLmRvbWFpbiArICgnL2FwaS92MS9xdWVzdGlvbi9teXF1ZXN0aW9uP3BhZ2U9JyArIHBhZ2UgKyAnJm51bWJlcj0nICsgbnVtKSwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgZ2V0QXNrZWRNZTogZnVuY3Rpb24gZ2V0QXNrZWRNZShwYWdlLCBudW0sIGNiKSB7XG5cdCAgICAgICAgcmV0dXJuIGZldGNoKF9jb25maWcuZG9tYWluICsgKCcvYXBpL3YxL3F1ZXN0aW9uL215YW5zd2VyP3BhZ2U9JyArIHBhZ2UgKyAnJm51bWJlcj0nICsgbnVtKSwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgcmVxdWVzdEJlY29tZVRlYWNoZXI6IGZ1bmN0aW9uIHJlcXVlc3RCZWNvbWVUZWFjaGVyKGludml0ZSwgcHJpemUsIGNiKSB7XG5cdCAgICAgICAgcmV0dXJuIGZldGNoKF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvdXNlci9iZXRlYWNoZXInLCB7XG5cdCAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuXHQgICAgICAgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgICAgICAgaGVhZGVyczoge1xuXHQgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHQgICAgICAgICAgICAgICAgaW52aXRlOiBpbnZpdGUsXG5cdCAgICAgICAgICAgICAgICBwcml6ZTogcHJpemVcblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgICAgICBpZiAoanNvbi5lcnJDb2RlICE9IDApIHtcblx0ICAgICAgICAgICAgICAgIF9tZXNzYWdlMi5kZWZhdWx0LmFsZXJ0KCfmgqjovpPlhaXnmoTpgoDor7fnoIHmnInor6/vvIzor7fmoLjlr7nlkI7loavlhpknLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2hpZGUnKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2lzb21vcnBoaWNGZXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9pc29tb3JwaGljRmV0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNvbW9ycGhpY0ZldGNoKTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfYXBpSGFuZGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIF9hcGlIYW5kbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwaUhhbmRsZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTMuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBlbnYgPSAnZGV2ZWxvcG1lbnQnO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgZ2V0SG90UXVlc3Rpb25MaXN0OiBmdW5jdGlvbiBnZXRIb3RRdWVzdGlvbkxpc3QocGFnZSwgbnVtLCBzZWFyY2gsIGNiKSB7XG5cdCAgICB2YXIgdXJsID0gX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS9xdWVzdGlvbi9nZXR0b3BpYz9wYWdlPScgKyBwYWdlICsgJyZudW1iZXI9JyArIG51bTtcblx0ICAgIGlmIChzZWFyY2gpIHVybCArPSAnJnNlYXJjaD0nICsgc2VhcmNoO1xuXHQgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKHVybCwge1xuXHQgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0ICAgIH1cblx0ICAgIC8vIGRhdGEucXVlc3Rpb25MaXN0XG5cdCAgICApLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgcmV0dXJuIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgZ2V0UXVlc3Rpb25JbmZvOiBmdW5jdGlvbiBnZXRRdWVzdGlvbkluZm8oaWQsIGNiKSB7XG5cdCAgICB2YXIgdXJsID0gX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS9xdWVzdGlvbi9nZXRxdWVzdGlvbj9pZD0nICsgaWQ7XG5cdCAgICAoMCwgX2lzb21vcnBoaWNGZXRjaDIuZGVmYXVsdCkodXJsLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgfVxuXHQgICAgLy8gZGF0YS5xdWVzdGlvbkluZm9cblx0ICAgICkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBnZXRMaXN0ZW5JbmZvOiBmdW5jdGlvbiBnZXRMaXN0ZW5JbmZvKGFuc3dlcklkLCBjYikge1xuXHQgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvYW5zd2VyL2xpc3Rlbj9hbnN3ZXJfaWQ9JyArIGFuc3dlcklkLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBzYXZlVm9pY2U6IGZ1bmN0aW9uIHNhdmVWb2ljZShzZXJ2ZXJJZCwgcXVlc3Rpb25JZCwgY2IpIHtcblx0ICAgIHZhciBfZmV0Y2g7XG5cdFxuXHQgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvYW5zd2VyL2Fuc3dlcicsIChfZmV0Y2ggPSB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuXHQgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgaGVhZGVyczoge1xuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHQgICAgICB9XG5cdCAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2ZldGNoLCAnY3JlZGVudGlhbHMnLCAnc2FtZS1vcmlnaW4nKSwgX2RlZmluZVByb3BlcnR5KF9mZXRjaCwgJ2JvZHknLCBKU09OLnN0cmluZ2lmeSh7XG5cdCAgICAgIHNlcnZlcl9pZDogc2VydmVySWQsXG5cdCAgICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbklkXG5cdCAgICB9KSksIF9mZXRjaCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgc3dpdGNoIChqc29uLmVyckNvZGUpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICBjYihqc29uLmRhdGEpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBwcmlzZVF1ZXN0aW9uOiBmdW5jdGlvbiBwcmlzZVF1ZXN0aW9uKGFuc3dlcklkLCBjYikge1xuXHQgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvcXVlc3Rpb24vbGlrZT9hbnN3ZXJfaWQ9JyArIGFuc3dlcklkLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGNhbmNlbFByaXNlUXVlc3Rpb246IGZ1bmN0aW9uIGNhbmNlbFByaXNlUXVlc3Rpb24oYW5zd2VySWQsIGNiKSB7XG5cdCAgICAoMCwgX2lzb21vcnBoaWNGZXRjaDIuZGVmYXVsdCkoX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS9xdWVzdGlvbi9jYW5jZWxMaWtlP2Fuc3dlcl9pZD0nICsgYW5zd2VySWQsIHtcblx0ICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgcmV0dXJuIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pc29tb3JwaGljRmV0Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfaXNvbW9ycGhpY0ZldGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzb21vcnBoaWNGZXRjaCk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2FwaUhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBfYXBpSGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcGlIYW5kbGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZW52ID0gJ2RldmVsb3BtZW50Jztcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgICAgZ2V0SG90U2VhcmNoOiBmdW5jdGlvbiBnZXRIb3RTZWFyY2goY2IpIHtcblx0ICAgICAgICB2YXIgdXJsID0gX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS9ob3QnO1xuXHQgICAgICAgICgwLCBfaXNvbW9ycGhpY0ZldGNoMi5kZWZhdWx0KSh1cmwsIHtcblx0ICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBkYXRhLnF1ZXN0aW9uTGlzdFxuXHQgICAgICAgICkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIGdldEhpc3RvcnlTZWFyY2g6IGZ1bmN0aW9uIGdldEhpc3RvcnlTZWFyY2gocGFnZSwgbnVtLCBjYikge1xuXHQgICAgICAgIHZhciB1cmwgPSBfY29uZmlnLmRvbWFpbiArICcvYXBpL3YxL2hpc3Rvcnk/cGFnZT0nICsgcGFnZSArICcmbnVtYmVyPScgKyBudW07XG5cdCAgICAgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKHVybCwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdCAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIGRlbGV0ZUhpc3Rvcnk6IGZ1bmN0aW9uIGRlbGV0ZUhpc3RvcnkoY2IpIHtcblx0ICAgICAgICB2YXIgdXJsID0gX2NvbmZpZy5kb21haW4gKyAnL2FwaS92MS9oaXN0b3J5L2RlbGV0ZSc7XG5cdCAgICAgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKHVybCwge1xuXHQgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcblx0ICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG5cdCAgICAgICAgICAgIGhlYWRlcnM6IHtcblx0ICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfaXNvbW9ycGhpY0ZldGNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX2lzb21vcnBoaWNGZXRjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc29tb3JwaGljRmV0Y2gpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hcGlIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX2FwaUhhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBpSGFuZGxlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIGdldFR1dG9yTGlzdDogZnVuY3Rpb24gZ2V0VHV0b3JMaXN0KHBhZ2UsIG51bSwgc2VhcmNoLCBjYikge1xuXHQgICAgdmFyIHVybCA9IF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvdXNlci9nZXR0ZWFjaGVyP3BhZ2U9JyArIHBhZ2UgKyAnJm51bWJlcj0nICsgbnVtO1xuXHQgICAgaWYgKHNlYXJjaCkgdXJsICs9IFwiJnNlYXJjaD1cIiArIHNlYXJjaDtcblx0ICAgICgwLCBfaXNvbW9ycGhpY0ZldGNoMi5kZWZhdWx0KSh1cmwsIHtcblx0ICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdCAgICB9XG5cdCAgICAvLyBkYXRhLnR1dG9yTGlzdFxuXHQgICAgKS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFR1dG9ySW5mbzogZnVuY3Rpb24gZ2V0VHV0b3JJbmZvKGlkLCBjYikge1xuXHQgICAgdmFyIHVybCA9IF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvdXNlci9nZXR1c2VyaW5mbz9pZD0nICsgaWQ7XG5cdCAgICAoMCwgX2lzb21vcnBoaWNGZXRjaDIuZGVmYXVsdCkodXJsLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBnZXRUdXRvckFuc3dlckxpc3Q6IGZ1bmN0aW9uIGdldFR1dG9yQW5zd2VyTGlzdChpZCwgcGFnZSwgbnVtYmVyLCBjYikge1xuXHQgICAgdmFyIHVybCA9IF9jb25maWcuZG9tYWluICsgKCcvYXBpL3YxL3VzZXIvZ2V0dGVhY2hlcmFuc3dlcj91c2VyX2lkPScgKyBpZCArICcmcGFnZT0nICsgcGFnZSArICcmbnVtYmVyPScgKyBudW1iZXIpO1xuXHQgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKHVybCwge1xuXHQgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgcmV0dXJuIF9hcGlIYW5kbGVyMi5kZWZhdWx0LmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgZ2V0UHJlcGF5SW5mbzogZnVuY3Rpb24gZ2V0UHJlcGF5SW5mbyhjb250ZW50LCB0dXRvcklkLCBjYikge1xuXHQgICAgdmFyIHVybCA9IF9jb25maWcuZG9tYWluICsgKCcvYXBpL3YxL3F1ZXN0aW9uL3Rlc3RxdWVzdGlvbj9jb250ZW50PScgKyBjb250ZW50ICsgJyZhbnN3ZXJfdXNlcl9pZD0nICsgdHV0b3JJZCk7XG5cdCAgICAoMCwgX2lzb21vcnBoaWNGZXRjaDIuZGVmYXVsdCkodXJsLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICByZXR1cm4gX2FwaUhhbmRsZXIyLmRlZmF1bHQuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9OyAvKipcblx0ICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE0LlxuXHQgICAgKi9cblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9hcGlIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX2FwaUhhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBpSGFuZGxlcik7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZWQgYnkgenNoIG9uIDIwMTYvNy8xMS5cblx0ICovXG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBnZXRXWENvbmZpZzogZnVuY3Rpb24gZ2V0V1hDb25maWcodXJsLCBjYikge1xuXHQgICAgZmV0Y2goX2NvbmZpZy5kb21haW4gKyBcIi9hcGkvdjEvcXVlc3Rpb24vdGVzdFwiLCB7XG5cdCAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuXHQgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgaGVhZGVyczoge1xuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHQgICAgICB9LFxuXHQgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG5cdCAgICAgICAgdXJsOiB1cmxcblx0ICAgICAgfSlcblx0ICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdCAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgIHJldHVybiBfYXBpSGFuZGxlcjIuZGVmYXVsdC5oYW5kbGVSZXNwb25zZShqc29uLCBjYik7XG5cdCAgICB9KTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9BY2NvdW50LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9Mb2FkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHR2YXIgX0xvYWRpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjcmVhdGUgYnkgd3V3cVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgQWNjb3VudCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKEFjY291bnQsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBBY2NvdW50KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjb3VudCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjY291bnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBY2NvdW50KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBpbmRleDogMVxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhBY2NvdW50LCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLnByb3BzLmdldFVzZXJJbmZvKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlQ2xpY2snLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKHZhbHVlLCBldmVudCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgaW5kZXg6IHZhbHVlIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9wcy51c2VySW5mby51c2VyX2ZhY2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGlkOiAnYWNjb3VudEluZGV4JyB9LFxuXHQgICAgICAgIHRoaXMucHJvcHMudXNlckluZm8uaXNfdGVhY2hlciA9PT0gJzEnID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZW50cnktbGVmdCcsIHRvOiBfY29uZmlnLmJhc2VVcmwgKyAoJ3R1dG9yL3NoYXJlLycgKyB0aGlzLnByb3BzLnVzZXJJbmZvLnVzZXJfaWQpIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICdRUkVudHJ5Jywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSB9KVxuXHQgICAgICAgICkgOiAnJyxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdlbnRyeS1yaWdodCcsIHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcImVkaXRcIiB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAnZWRpdEVudHJ5Jywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSkgfSlcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2hlYWQnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGVhZE91dGVyJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6IHRoaXMucHJvcHMudXNlckluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInIH0pXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICduYW1lJyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy51c2VySW5mby51c2VyX25hbWVcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Bvc2l0aW9uJyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy51c2VySW5mby51c2VyX2NvbXBhbnksXG5cdCAgICAgICAgICAnICcsXG5cdCAgICAgICAgICB0aGlzLnByb3BzLnVzZXJJbmZvLnVzZXJfcG9zaXRpb25cblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Rlc2NyaXB0aW9uJyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy51c2VySW5mby51c2VyX2ludHJvZHVjdGlvblxuXHQgICAgICAgICksXG5cdCAgICAgICAgdGhpcy5wcm9wcy51c2VySW5mby5hbnN3ZXJfbnVtID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnZGl2aWRlciB0b3AnIH0pIDogXCJcIixcblx0ICAgICAgICB0aGlzLnByb3BzLnVzZXJJbmZvLmFuc3dlcl9udW0gPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdzdGF0aWNzJyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICB0aGlzLnByb3BzLnVzZXJJbmZvLmFuc3dlcl9udW0sXG5cdCAgICAgICAgICAgICAgJ1xcdTk4OTgnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICB0aGlzLnByb3BzLnVzZXJJbmZvLmxpc3Rlbl9udW0sXG5cdCAgICAgICAgICAgICAgJ1xcdTZCMjEnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnXFx1RkZFNScsXG5cdCAgICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VySW5mby50ZWFjaGVyX3ByaXplXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICdcXHU1NkRFXFx1N0I1NFxcdThGQzcnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnXFx1ODhBQlxcdTUwNzdcXHU1NDJDJ1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJ1xcdThFQUJcXHU0RUY3J1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSA6IFwiXCIsXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnZGl2aWRlcldpZGUnIH0pLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hdicgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuSW5kZXhMaW5rLFxuXHQgICAgICAgICAgICB7IHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcImFjY291bnQvXCIsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcblx0ICAgICAgICAgICAgJ1xcdTU0MkNcXHU4RkM3XFx1NzY4NCdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArIFwiYWNjb3VudC9JQXNrZWRMaXN0XCIsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcblx0ICAgICAgICAgICAgJ1xcdTYyMTFcXHU5NUVFXFx1NzY4NCdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArIFwiYWNjb3VudC9Bc2tlZE1lTGlzdFwiLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG5cdCAgICAgICAgICAgICdcXHU5NUVFXFx1NjIxMVxcdTc2ODQnXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdkaXZpZGVyJyB9KSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICApXG5cdCAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQWNjb3VudDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgdXNlckluZm86IHN0YXRlLmFjY291bnQudXNlckluZm9cblx0ICB9O1xuXHR9O1xuXHRcblx0QWNjb3VudCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIHsgZ2V0VXNlckluZm86IF9hY2NvdW50LmdldFVzZXJJbmZvIH0pKEFjY291bnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQWNjb3VudDtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9BcHAuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NvbmZpZzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfU2VhcmNoQmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX1NlYXJjaEJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWFyY2hCYXIpO1xuXHRcblx0dmFyIF9TZWFyY2hUaXBzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX1NlYXJjaFRpcHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoVGlwcyk7XG5cdFxuXHR2YXIgX2NvbmZpZzMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNyZWF0ZSBieSB3dXdxXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBBcHAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhBcHAsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBBcHAoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQXBwLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXBwKSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgX3RoaXMuY29uZmlnVXJsTGlzdCA9IFtdO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMubGFuZFBhZ2UgPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF9jb25maWcyLnNldExhbmRQYWdlKShsb2NhdGlvbi5ocmVmKSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5jb25maWdVcmxMaXN0LnB1c2goXCJodHRwOi8vaDVhcHAuN2R5ay5jb20vYW1hLzdkeWsvXCIsIHRoaXMucHJvcHMubGFuZFBhZ2UsIGxvY2F0aW9uLmhyZWYpO1xuXHQgICAgICBpZiAoIXRoaXMucHJvcHMuV1hDb25maWcuc3VjY2Vzcykge1xuXHQgICAgICAgIHRoaXMucmVmcmVzaFdYQ29uZmlnKCk7XG5cdCAgICAgIH1cblx0ICAgICAgd3guZXJyb3IoZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHNlbGYucmVmcmVzaFdYQ29uZmlnKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoIXNlbGYucHJvcHMuV1hDb25maWcuc3VjY2Vzcykge1xuXHQgICAgICAgICAgc2VsZi5wcm9wcy5kaXNwYXRjaCgoMCwgX2NvbmZpZzMuY29uZmlnU3VjY2VzcykoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHd4Lm9uTWVudVNoYXJlQXBwTWVzc2FnZSh7XG5cdCAgICAgICAgICB0aXRsZTogJ++8uzfngrnpl67nrZTvvL3pl67luIjlhYTvvIzpl67luIjlp5DvvIzpl67liY3ovognLCAvLyDliIbkuqvmoIfpophcblx0ICAgICAgICAgIGRlc2M6ICflpKflrabnlJ/ogYzlnLrpl67nrZTlubPlj7DvvIzlr7nkuo7ljbPlsIbliLDmnaXnmoTnp4vmi5vvvIzkvaDnmoTpl67popjpg73lj6/ku6XlnKjov5nph4zop6PlhrPjgIInLCAvLyDliIbkuqvmj4/ov7Bcblx0ICAgICAgICAgIGxpbms6IGxvY2F0aW9uLmhyZWYsIC8vIOWIhuS6q+mTvuaOpVxuXHQgICAgICAgICAgaW1nVXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSwgLy8g5YiG5Lqr5Zu+5qCHXG5cdCAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5oiQ5YqfXCIpLy8g55So5oi356Gu6K6k5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChlcnIpIHtcblx0ICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pe+8jOWOn+WboOaYr1wiK2Vycilcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgICAgICAgLy8gYWxlcnQoXCLliIbkuqvlpLHotKVcIikvLyDnlKjmiLflj5bmtojliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVmcmVzaFdYQ29uZmlnJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoV1hDb25maWcoKSB7XG5cdCAgICAgIHZhciB1cmwgPSB0aGlzLmNvbmZpZ1VybExpc3QucG9wKCk7XG5cdCAgICAgIGlmICh1cmwgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF9jb25maWczLmdldFdYQ29uZmlnKSh1cmwpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXApIHtcblx0ICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG5cdCAgICAgICAgaWYgKG5vdyAvIDEwMDAgLSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXAgPCAzKSB7XG5cdCAgICAgICAgICB2YXIganNBcGlMaXN0ID0gWydzdGFydFJlY29yZCcsICdzdG9wUmVjb3JkJywgJ3BsYXlWb2ljZScsICdwYXVzZVZvaWNlJywgJ3N0b3BWb2ljZScsICd1cGxvYWRWb2ljZScsICdjaG9vc2VXWFBheScsICdvbk1lbnVTaGFyZVRpbWVsaW5lJywgJ29uTWVudVNoYXJlQXBwTWVzc2FnZSddO1xuXHQgICAgICAgICAgdmFyIG5ld1d4Q29uZmlnID0ge307XG5cdCAgICAgICAgICBuZXdXeENvbmZpZ1snZGVidWcnXSA9IGZhbHNlO1xuXHQgICAgICAgICAgbmV3V3hDb25maWdbJ2FwcElkJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnYXBwSWQnXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWyd0aW1lc3RhbXAnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhLnRpbWVzdGFtcC50b1N0cmluZygpO1xuXHQgICAgICAgICAgbmV3V3hDb25maWdbJ25vbmNlU3RyJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnbm9uY2VTdHInXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWydzaWduYXR1cmUnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhWydzaWduYXR1cmUnXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWydqc0FwaUxpc3QnXSA9IGpzQXBpTGlzdDtcblx0ICAgICAgICAgIHd4LmNvbmZpZyhuZXdXeENvbmZpZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2FwcC1jb250YWluZXInLCByZWY6ICdjb250ZW50JyB9LFxuXHQgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9vdGVyJyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5JbmRleExpbmssXG5cdCAgICAgICAgICAgICAgICB7IGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScsIHRvOiBfY29uZmlnLmJhc2VVcmwgfSxcblx0ICAgICAgICAgICAgICAgICdcXHU3MEVEXFx1NzBCOSdcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgICAgICAgeyBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnLCB0bzogX2NvbmZpZy5iYXNlVXJsICsgXCJ0dXRvclwiIH0sXG5cdCAgICAgICAgICAgICAgICAnXFx1NUJGQ1xcdTVFMDgnXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgICAgICAgIHsgYWN0aXZlQ2xhc3NOYW1lOiAnYWN0aXZlJywgdG86IF9jb25maWcuYmFzZVVybCArIFwiYWNjb3VudFwiIH0sXG5cdCAgICAgICAgICAgICAgICAnXFx1NjIxMVxcdTc2ODQnXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEFwcDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdEFwcCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgbGFuZFBhZ2U6IHN0YXRlLmxhbmRQYWdlLFxuXHQgICAgV1hDb25maWc6IHN0YXRlLldYQ29uZmlnXG5cdCAgfTtcblx0fSkoQXBwKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQXBwO1xuXG4vKioqLyB9LFxuLyogNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Ib3RRdWVzdGlvbkxpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcblx0XG5cdHZhciBfSG90UXVlc3Rpb25MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hvdFF1ZXN0aW9uTGlzdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBieSB3dXdxXG5cdCAqL1xuXHR2YXIgSG90ID0gZnVuY3Rpb24gSG90KCkge1xuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Ib3RRdWVzdGlvbkxpc3QyLmRlZmF1bHQsIG51bGwpO1xuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSBIb3Q7XG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfbWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9tZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lc3NhZ2UpO1xuXHRcblx0dmFyIF90b2FzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF90b2FzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b2FzdCk7XG5cdFxuXHR2YXIgX2lzb21vcnBoaWNGZXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9pc29tb3JwaGljRmV0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNvbW9ycGhpY0ZldGNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvMTAvMzEuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBQYXlJbmRleCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoUGF5SW5kZXgsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFBheUluZGV4KCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXlJbmRleCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQYXlJbmRleC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBheUluZGV4KSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBsb2FkaW5nOiB0cnVlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFBheUluZGV4LCBbe1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsTW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMkbG9jYXRpb24kcXVlcnkgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICAgICAgICAgICAgdHlwZSA9IF9wcm9wcyRsb2NhdGlvbiRxdWVyeS50eXBlLFxuXHQgICAgICAgICAgICAgICAgc3VjY2Vzc1VybCA9IF9wcm9wcyRsb2NhdGlvbiRxdWVyeS5zdWNjZXNzVXJsLFxuXHQgICAgICAgICAgICAgICAgZmFpbFVybCA9IF9wcm9wcyRsb2NhdGlvbiRxdWVyeS5mYWlsVXJsO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHUgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHQgICAgICAgICAgICB2YXIgaXNBbmRyb2lkID0gdS5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCB1LmluZGV4T2YoJ0FkcicpID4gLTE7IC8vYW5kcm9pZOe7iOerr1xuXHQgICAgICAgICAgICB2YXIgaXNpT1MgPSAhIXUubWF0Y2goL1xcKGlbXjtdKzsoIFU7KT8gQ1BVLitNYWMgT1MgWC8pOyAvL2lvc+e7iOerr1xuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cubGFuZFBhZ2UuaW5kZXhPZihcInBheVwiKSk7XG5cdCAgICAgICAgICAgIGlmIChpc2lPUyAmJiB3aW5kb3cubGFuZFBhZ2UuaW5kZXhPZihcInBheVwiKSA9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLliLfmlrBcIik7XG5cdCAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIHBheVVybCA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwicXVlc3Rpb25cIikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGFuc3dlcklkID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5xdWVyeS5hbnN3ZXJJZDtcblx0XG5cdCAgICAgICAgICAgICAgICBwYXlVcmwgPSBfY29uZmlnLmRvbWFpbiArIFwiL2FwaS92MS9hbnN3ZXIvbGlzdGVuP2Fuc3dlcl9pZD1cIiArIGFuc3dlcklkO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidHV0b3JcIikge1xuXHQgICAgICAgICAgICAgICAgdmFyIF9wcm9wcyRsb2NhdGlvbiRxdWVyeTIgPSB0aGlzLnByb3BzLmxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBfcHJvcHMkbG9jYXRpb24kcXVlcnkyLmNvbnRlbnQsXG5cdCAgICAgICAgICAgICAgICAgICAgdHV0b3JJZCA9IF9wcm9wcyRsb2NhdGlvbiRxdWVyeTIudHV0b3JJZDtcblx0XG5cdCAgICAgICAgICAgICAgICBwYXlVcmwgPSBfY29uZmlnLmRvbWFpbiArIFwiL2FwaS92MS9xdWVzdGlvbi90ZXN0cXVlc3Rpb24/Y29udGVudD1cIiArIGNvbnRlbnQgKyBcIiZhbnN3ZXJfdXNlcl9pZD1cIiArIHR1dG9ySWQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgKDAsIF9pc29tb3JwaGljRmV0Y2gyLmRlZmF1bHQpKHBheVVybCwge1xuXHQgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdCAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICAgICAgICAgIGlmIChqc29uLmVyckNvZGUgPT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodGltZS52YWx1ZU9mKCkgLyAxMDAwIC0ganNvbi5kYXRhLnRpbWVTdGFtcCA8IDMwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtZXNzYWdlLmxvYWRpbmcoXCLor7fmsYLkuK1cIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbkJyaWRnZVJlYWR5ID0gZnVuY3Rpb24gb25CcmlkZ2VSZWFkeSgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZWl4aW5KU0JyaWRnZS5pbnZva2UoJ2dldEJyYW5kV0NQYXlSZXF1ZXN0JywganNvbi5kYXRhLCBmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyX21zZyA9PSBcImdldF9icmFuZF93Y3BheV9yZXF1ZXN0Om9rXCIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc2V0U3RhdGUoe3BheVN1Y2Nlc3M6dHJ1ZX0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21lc3NhZ2UyLmRlZmF1bHQuc3VjY2VzcyhcIuaUr+S7mOaIkOWKn1wiLCAxLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goc3VjY2Vzc1VybCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc3RhdGUubGlzdGVuVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHNlbGYucHJvcHMuZGlzcGF0Y2goZ2V0UXVlc3Rpb25JbmZvKGFuc3dlcklkKSksMTAwMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnNldFN0YXRlKHtwbGF5Tm93OiBmYWxzZX0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5pSv5LuY5aSx6LSlXCIsc2hvd0FsZXJ0OnRydWV9KVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21lc3NhZ2UyLmRlZmF1bHQuYWxlcnQoXCLmlK/ku5jlpLHotKXvvIzor7fph43or5VcIiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKGZhaWxVcmwpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGVydChcIuaUr+S7mOWksei0pe+8jOWOn+WboO+8mlwiK0pTT04uc3RyaW5naWZ5KHJlcykpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCLlpLHotKXljp/lm6DvvJpcIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS9v+eUqOS7peS4iuaWueW8j+WIpOaWreWJjeerr+i/lOWbnizlvq7kv6Hlm6LpmJ/pg5Hph43mj5DnpLrvvJpyZXMuZXJyX21zZ+WwhuWcqOeUqOaIt+aUr+S7mOaIkOWKn+WQjui/lOWbniAgICBva++8jOS9huW5tuS4jeS/neivgeWug+e7neWvueWPr+mdoOOAglxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui/m+WFpeW+ruS/oeaUr+S7mFwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgV2VpeGluSlNCcmlkZ2UgPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5LCBmYWxzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJyaWRnZVJlYWR5KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLml7bpl7TmiLPkuI3kuIDoh7RcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGltZSBcIiArIHRpbWUudmFsdWVPZigpIC8gMTAwMCArIFwiIHRpbWVTdGFtcCBcIiArIGpzb24uZGF0YS50aW1lU3RhbXAgKyBcIiBkaWZmIFwiICsgKHRpbWUudmFsdWVPZigpIC8gMTAwMCAtIGpzb24uZGF0YS50aW1lU3RhbXApKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICAgICAgICB7IGljb246IFwibG9hZGluZ1wiLCBzaG93OiB0aGlzLnN0YXRlLmxvYWRpbmcgfSxcblx0ICAgICAgICAgICAgICAgIFwiXFx1OEJGN1xcdTZDNDJcXHU2NTJGXFx1NEVEOFxcdTRFMkRcIlxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gUGF5SW5kZXg7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQYXlJbmRleDtcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9TZWFyY2hCYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfU2VhcmNoQmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaEJhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlYXJjaCA9IGZ1bmN0aW9uIFNlYXJjaChfcmVmKSB7XG5cdCAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblx0XG5cdFxuXHQgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgXCJkaXZcIixcblx0ICAgIG51bGwsXG5cdCAgICBSZWFjdC5jcmVhdGVFbGVtZW50KF9TZWFyY2hCYXIyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgY2hpbGRyZW5cblx0ICApO1xuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7XG5cbi8qKiovIH0sXG4vKiA3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9UdXRvckxpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0XG5cdHZhciBfVHV0b3JMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R1dG9yTGlzdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjcmVhdGUgYnkgd3V3cVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgVHV0b3IgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFR1dG9yLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUdXRvcigpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHV0b3IpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFR1dG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHV0b3IpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVHV0b3IsIFt7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1R1dG9yTGlzdDIuZGVmYXVsdCwgbnVsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUdXRvcjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFR1dG9yO1xuXG4vKioqLyB9LFxuLyogNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2FjY291bnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBfYWxlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfYWxlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWxlcnQpO1xuXHRcblx0dmFyIF9tZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX21lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVzc2FnZSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL0FjY291bnRFZGl0LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzI0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgQWNjb3VudEVkaXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhBY2NvdW50RWRpdCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEFjY291bnRFZGl0KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjb3VudEVkaXQpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY2NvdW50RWRpdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjY291bnRFZGl0KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjb21wYW55OiBfdGhpcy5wcm9wcy51c2VySW5mby51c2VyX2NvbXBhbnksXG5cdCAgICAgIGpvYjogX3RoaXMucHJvcHMudXNlckluZm8udXNlcl9wb3NpdGlvbixcblx0ICAgICAgZXhwZXJpZW5jZTogX3RoaXMucHJvcHMudXNlckluZm8udXNlcl9leHBlcmllbmNlLFxuXHQgICAgICBpbnRyb2R1Y3Rpb246IF90aGlzLnByb3BzLnVzZXJJbmZvLnVzZXJfaW50cm9kdWN0aW9uLFxuXHQgICAgICB0ZWFjaGVyX3ByaXplOiBfdGhpcy5wcm9wcy51c2VySW5mby50ZWFjaGVyX3ByaXplLFxuXHQgICAgICBzaG93QWxlcnQ6IGZhbHNlLFxuXHQgICAgICBhbGVydENvbnRlbnQ6IFwiXCIsXG5cdCAgICAgIGFsZXJ0OiB7XG5cdCAgICAgICAgdGl0bGU6IFwi5o+Q56S6XCIsXG5cdCAgICAgICAgYnV0dG9uczogW3tcblx0ICAgICAgICAgIHR5cGU6IFwiZGVmYXVsdFwiLFxuXHQgICAgICAgICAgbGFiZWw6IFwi56Gu5a6aXCIsXG5cdCAgICAgICAgICBvbkNsaWNrOiBfdGhpcy5oaWRlQWxlcnQuYmluZChfdGhpcylcblx0ICAgICAgICB9XVxuXHQgICAgICB9LFxuXHQgICAgICBjYW5MZWF2ZTogZmFsc2Vcblx0ICAgIH07XG5cdCAgICBfdGhpcy5oYW5kbGVTdWJtaXQgPSBfdGhpcy5oYW5kbGVTdWJtaXQuYmluZChfdGhpcyk7XG5cdCAgICBfdGhpcy5yb3V0ZXJXaWxsTGVhdmUgPSBfdGhpcy5yb3V0ZXJXaWxsTGVhdmUuYmluZChfdGhpcyk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQWNjb3VudEVkaXQsIFt7XG5cdCAgICBrZXk6ICdoaWRlQWxlcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVBbGVydCgpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dBbGVydDogZmFsc2UgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm91dGVyV2lsbExlYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3V0ZXJXaWxsTGVhdmUobmV4dExvY2F0aW9uKSB7XG5cdCAgICAgIC8vIHJldHVybiBmYWxzZSB0byBwcmV2ZW50IGEgdHJhbnNpdGlvbiB3L28gcHJvbXB0aW5nIHRoZSB1c2VyLFxuXHQgICAgICAvLyBvciByZXR1cm4gYSBzdHJpbmcgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZGVjaWRlOlxuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgIGlmIChuZXh0TG9jYXRpb24uc3RhdGUgPT0gJ29rYXknKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIG5vdyA9IHRoaXMuc3RhdGU7XG5cdCAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMucHJvcHMudXNlckluZm87XG5cdCAgICAgIGlmICghdGhpcy5zdGF0ZS5jYW5MZWF2ZSAmJiAobm93LmNvbXBhbnkgIT0gcHJldmlvdXMudXNlcl9jb21wYW55IHx8IG5vdy5qb2IgIT0gcHJldmlvdXMudXNlcl9wb3NpdGlvbiB8fCBub3cuaW50cm9kdWN0aW9uICE9IHByZXZpb3VzLnVzZXJfaW50cm9kdWN0aW9uKSkge1xuXHQgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBjYW5MZWF2ZTogdHJ1ZSB9KTtcblx0ICAgICAgICBfbWVzc2FnZTIuZGVmYXVsdC5jb25maXJtKCfmgqjmiYDnvJbovpHnmoTpobXpnaLlsJrmnKrkv53lrZjvvIznoa7orqTnprvlvIA/JywgXCLmjqXnnYDnvJbovpFcIiwgXCLmlL7lvIPkv67mlLlcIiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGNhbkxlYXZlOiBmYWxzZSB9KTtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChuZXh0TG9jYXRpb24ucGF0aG5hbWUpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgLy8gY29uc3Qge2lkfSA9IHRoaXMucHJvcHMucGFyYW1zXG5cdCAgICAgIC8vIHRoaXMucHJvcHMuZGlzcGF0Y2goKGlkKSlcblx0ICAgICAgY29uc29sZS5sb2coXCJxdWVzdGlvbkluZm89PT1cIiArIHRoaXMucHJvcHMudHV0b3JJbmZvKTtcblx0ICAgICAgdGhpcy5wcm9wcy5yb3V0ZXIuc2V0Um91dGVMZWF2ZUhvb2sodGhpcy5wcm9wcy5yb3V0ZSwgdGhpcy5yb3V0ZXJXaWxsTGVhdmUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhbmRsZVN1Ym1pdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkge1xuXHQgICAgICBpZiAoIS9eWzEtOV0rWzAtOV0qXSokLy50ZXN0KHRoaXMuc3RhdGUudGVhY2hlcl9wcml6ZSkpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWxlcnRDb250ZW50OiAn6K+35ZyoXCLmj5Dpl67ku7fmoLxcIuS4reWhq+WFpeaVtOaVsCcsIHNob3dBbGVydDogdHJ1ZSwgdGVhY2hlcl9wcml6ZTogXCJcIiB9KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5wcm9wcy5lZGl0VXNlckluZm8odGhpcy5zdGF0ZS5jb21wYW55LCB0aGlzLnN0YXRlLmpvYiwgdGhpcy5zdGF0ZS5leHBlcmllbmNlLCB0aGlzLnN0YXRlLnRlYWNoZXJfcHJpemUsIHRoaXMuc3RhdGUuaW50cm9kdWN0aW9uKTtcblx0ICAgICAgX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5LnB1c2goeyBwYXRobmFtZTogX2NvbmZpZy5iYXNlVXJsICsgXCJhY2NvdW50L0lBc2tlZExpc3RcIiwgc3RhdGU6ICdva2F5JyB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgdXNlckluZm8gPSB0aGlzLnByb3BzLnVzZXJJbmZvO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdtYWluJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ3VzZXIgZWRpdCcgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9hbGVydDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgc2hvdzogdGhpcy5zdGF0ZS5zaG93QWxlcnQsIHRpdGxlOiAnXFx1NjNEMFxcdTc5M0EnLCBidXR0b25zOiB0aGlzLnN0YXRlLmFsZXJ0LmJ1dHRvbnMgfSxcblx0ICAgICAgICAgIHRoaXMuc3RhdGUuYWxlcnRDb250ZW50XG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd1c2VyLWNhcmQtYmcnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6IHVzZXJJbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgdXNlckluZm8uaXNfdGVhY2hlciA9PT0gXCIxXCIgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd1c2VyLWNhcmQnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICdhdmF0YXInLCBzcmM6IHVzZXJJbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hbWUnIH0sXG5cdCAgICAgICAgICAgIHVzZXJJbmZvLnVzZXJfbmFtZVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtLWdyb3VwJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJ1xcdTU5RDNcXHU1NDBEXFx1RkYxQSdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnXFx1NjBBOFxcdTc2ODRcXHU1OUQzXFx1NTQwRCcsXG5cdCAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubmFtZSxcblx0ICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgbmFtZTogZS50YXJnZXQudmFsdWUgfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtLWdyb3VwJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJ1xcdTU5MzRcXHU4ODU0L1xcdTgwNENcXHU0RjREJ1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdcXHU2N0QwXFx1NTE2Q1xcdTUzRjhcXHU2N0QwXFx1ODA0Q1xcdTRGNEQnLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmNvbXBhbnksXG5cdCAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGNvbXBhbnk6IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCcgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2xhYmVsJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICdcXHU2M0QwXFx1OTVFRVxcdTRFRjdcXHU2ODNDXFx1RkYxQSdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuXHQgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnXFx1OEY5M1xcdTUxNjVcXHU2MEE4XFx1NzY4NFxcdTYzRDBcXHU5NUVFXFx1NEVGN1xcdTY4M0MnLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRlYWNoZXJfcHJpemUsXG5cdCAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IHRlYWNoZXJfcHJpemU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCBzZWxmLWludHJvLXRleHQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnXFx1NEVDQlxcdTdFQ0RcXHU0RTAwXFx1NEUwQlxcdTgxRUFcXHU1REYxXFx1RkYwODEwMFxcdTVCNTdcXHU0RUU1XFx1NTE4NVxcdUZGMDlcXHVGRjFBICdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb3VudCcgfSxcblx0ICAgICAgICAgICAgICB0aGlzLnN0YXRlLmludHJvZHVjdGlvbi5sZW5ndGgsXG5cdCAgICAgICAgICAgICAgJyAvIDEwMCdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywge1xuXHQgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnXFx1N0I4MFxcdTUzNTVcXHU0RUNCXFx1N0VDRFxcdTRFMDBcXHU0RTBCXFx1ODFFQVxcdTVERjFcXHVGRjBDXFx1NTE5OVxcdTRFMDBcXHU0RTlCXFx1ODFFQVxcdTVERjFcXHU3Njg0XFx1N0VDRlxcdTUzODZcXHU1NDhDXFx1NjRDNVxcdTk1N0ZcXHU1NkRFXFx1N0I1NFxcdTc2ODRcXHU5NUVFXFx1OTg5OCcsXG5cdCAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW50cm9kdWN0aW9uLFxuXHQgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUubGVuZ3RoIDwgMTAxIHx8IGUudGFyZ2V0LnZhbHVlLmxlbmd0aCAtIF90aGlzMi5zdGF0ZS5pbnRyb2R1Y3Rpb24ubGVuZ3RoIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBpbnRyb2R1Y3Rpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgIClcblx0ICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlci1jYXJkJyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAnYXZhdGFyJywgc3JjOiB1c2VySW5mby51c2VyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMicgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2gzJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduYW1lJyB9LFxuXHQgICAgICAgICAgICB1c2VySW5mby51c2VyX25hbWVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCcgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2xhYmVsJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICdcXHU1QjY2XFx1NjgyMS9cXHU1RTc0XFx1N0VBN1xcdUZGMUEnXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1xcdTY3RDBcXHU1QjY2XFx1NjgyMVxcdTU5MjdcXHVGRjA4XFx1NzgxNFxcdUZGMDkqXFx1NUI2NlxcdTc1MUYnLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmpvYixcblx0ICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgY29tcGFueTogZS50YXJnZXQudmFsdWUgfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtLWdyb3VwJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgJ1xcdTU5MzRcXHU4ODU0L1xcdTgwNENcXHU0RjREXFx1RkYxQSdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnXFx1NjdEMFxcdTUxNkNcXHU1M0Y4XFx1NjdEMFxcdTgwNENcXHU0RjREJyxcblx0ICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5jb21wYW55LFxuXHQgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBqb2I6IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCBzZWxmLWludHJvLXRleHQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAnXFx1NEVDQlxcdTdFQ0RcXHU0RTAwXFx1NEUwQlxcdTgxRUFcXHU1REYxXFx1RkYwODEwMFxcdTVCNTdcXHU0RUU1XFx1NTE4NVxcdUZGMDlcXHVGRjFBJ1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvdW50JyB9LFxuXHQgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW50cm9kdWN0aW9uLmxlbmd0aCxcblx0ICAgICAgICAgICAgICAnIC8gMTAwJ1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnLCB7XG5cdCAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdcXHU1MTk5XFx1NEUwMFxcdTRFOUJcXHU1MTczXFx1NEU4RVxcdTgxRUFcXHU1REYxXFx1NzY4NFxcdTYwQzVcXHU1MUI1XFx1NTQ4Q1xcdTk3MDBcXHU2QzQyXFx1RkYwQ1xcdThCQTlcXHU1QkZDXFx1NUUwOFxcdTUzRUZcXHU0RUU1XFx1NjZGNFxcdTU5N0RcXHU3Njg0XFx1NUUyRVxcdTUyQTlcXHU0RjYwXFx1ODlFM1xcdTUxQjNcXHU5NUVFXFx1OTg5OCcsXG5cdCAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW50cm9kdWN0aW9uLFxuXHQgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUubGVuZ3RoIDwgMTAxIHx8IGUudGFyZ2V0LnZhbHVlLmxlbmd0aCAtIF90aGlzMi5zdGF0ZS5pbnRyb2R1Y3Rpb24ubGVuZ3RoIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBpbnRyb2R1Y3Rpb246IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdib3R0b20tYnRuJywgb25DbGljazogdGhpcy5oYW5kbGVTdWJtaXQgfSxcblx0ICAgICAgICAgICdcXHU1QjhDXFx1NjIxMCdcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQWNjb3VudEVkaXQ7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRBY2NvdW50RWRpdCA9ICgwLCBfcmVhY3RSb3V0ZXIud2l0aFJvdXRlcikoQWNjb3VudEVkaXQpO1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHVzZXJJbmZvOiBzdGF0ZS5hY2NvdW50LnVzZXJJbmZvXG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBlZGl0VXNlckluZm86IF9hY2NvdW50LmVkaXRVc2VySW5mbyB9KShBY2NvdW50RWRpdCk7XG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3F1ZXN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdHZhciBfUXVlc3Rpb25JdGVtV2l0aEF2YXRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIpO1xuXHRcblx0dmFyIF9TZWFyY2hCYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfU2VhcmNoQmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaEJhcik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL0hvdFF1ZXN0aW9uTGlzdC5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgenNoIG9uIDIwMTYvMy8xMS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHRcblx0dmFyIEhvdFF1ZXN0aW9uTGlzdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKEhvdFF1ZXN0aW9uTGlzdCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEhvdFF1ZXN0aW9uTGlzdChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvdFF1ZXN0aW9uTGlzdCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEhvdFF1ZXN0aW9uTGlzdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEhvdFF1ZXN0aW9uTGlzdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY3VyQXVkaW86IFwiXCIsXG5cdCAgICAgIGN1clBhZ2U6IDFcblx0ICAgIH07XG5cdCAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBfdGhpcy5oYW5kbGVTY3JvbGwuYmluZChfdGhpcyk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoSG90UXVlc3Rpb25MaXN0LCBbe1xuXHQgICAga2V5OiAnaGFuZGxlU2Nyb2xsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG5cdCAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcHAtY29udGFpbmVyJylbMF07XG5cdCAgICAgIGlmIChjb250YWluZXIuY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCArIDEgPj0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAmJiAhdGhpcy5wcm9wcy5ob3RRdWVzdGlvbkxpc3QuY29tcGxldGVkKSB7XG5cdCAgICAgICAgdmFyIGN1clBhZ2UgPSArK3RoaXMuc3RhdGUuY3VyUGFnZTtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VyUGFnZTogY3VyUGFnZSB9KTtcblx0ICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfcXVlc3Rpb24uZ2V0SG90UXVlc3Rpb25MaXN0KShjdXJQYWdlLCAyMCkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfcXVlc3Rpb24uZ2V0SG90UXVlc3Rpb25MaXN0KSgxLCAxMCkpO1xuXHQgICAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9uKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9mZignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIGhvdFF1ZXN0aW9uTGlzdCA9IF9wcm9wcy5ob3RRdWVzdGlvbkxpc3QsXG5cdCAgICAgICAgICB1c2VySWQgPSBfcHJvcHMudXNlcklkO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdtYWluJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ2hvdC1xdWVzdGlvbi1saXN0JyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TZWFyY2hCYXIyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgICAgIGhvdFF1ZXN0aW9uTGlzdC5kYXRhLm1hcChmdW5jdGlvbiAocXVlc3Rpb24sIGluZGV4KSB7XG5cdCAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIyLmRlZmF1bHQsIHsgdXNlcklkOiB1c2VySWQsIHF1ZXN0aW9uOiBxdWVzdGlvbiwga2V5OiBpbmRleCwgaW5kZXg6IGluZGV4IH0pO1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCB7IGNvbXBsZXRlZDogaG90UXVlc3Rpb25MaXN0LmNvbXBsZXRlZCB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIEhvdFF1ZXN0aW9uTGlzdDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdEhvdFF1ZXN0aW9uTGlzdC5wcm9wVHlwZXMgPSB7XG5cdCAgaG90UXVlc3Rpb25MaXN0OiBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuXHQgIGxpc3RlbkluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgZGF0YTogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZFxuXHQgIH0pLmlzUmVxdWlyZWRcblx0fTtcblx0SG90UXVlc3Rpb25MaXN0LmNvbnRleHRUeXBlcyA9IHtcblx0ICByb3V0ZXI6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBob3RRdWVzdGlvbkxpc3Q6IHN0YXRlLmhvdFF1ZXN0aW9uTGlzdCxcblx0ICAgIGxpc3RlbkluZm86IHN0YXRlLmxpc3RlbkluZm8sXG5cdCAgICB1c2VySWQ6IHN0YXRlLmFjY291bnQudXNlckluZm8udXNlcl9pZFxuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKEhvdFF1ZXN0aW9uTGlzdCk7XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvTW9kYWwuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8zMC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHRcblx0dmFyIE1vZGFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoTW9kYWwsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHRoaXMubW9kYWxFbGVtZW50ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29wZW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG5cdCAgICAgIHRoaXMubW9kYWxFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Nsb3NlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblx0ICAgICAgdGhpcy5tb2RhbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb25maXJtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maXJtKCkge1xuXHQgICAgICB0aGlzLnByb3BzLmNvbmZpcm0oKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgbGVmdCA9IHRoaXMucHJvcHMubGVmdCA/IHRoaXMucHJvcHMubGVmdCAvIDc1IDogMjIgLyA3NTtcblx0ICAgICAgdmFyIHRvcCA9IHRoaXMucHJvcHMudG9wID8gdGhpcy5wcm9wcy50b3AgLyA3NSA6IDIwMCAvIDc1O1xuXHQgICAgICB2YXIgYm90dG9tID0gdGhpcy5wcm9wcy5ib3R0b20gPyB0aGlzLnByb3BzLmJvdHRvbSAvIDc1IDogdW5kZWZpbmVkO1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdtb2RhbC1wYWNrYWdlLWJsdXInLCBpZDogJ21vZGFsJyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWNvbnRlbnQnLFxuXHQgICAgICAgICAgICBzdHlsZTogeyBsZWZ0OiBsZWZ0ICsgJ3JlbScsIHJpZ2h0OiBsZWZ0ICsgJ3JlbScsIHRvcDogdG9wICsgJ3JlbScsIGJvdHRvbTogYm90dG9tICsgJ3JlbScgfSB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWhlYWRlcicgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuXHQgICAgICAgICAgICAgIHRoaXMucHJvcHMudGl0bGVcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjbG9zZScsIG9uQ2xpY2s6IHRoaXMuY2xvc2UuYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgICAgICd4J1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21vZGFsLWJvZHknIH0sXG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdtb2RhbC1mb290ZXInIH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdtb2RhbC1iYWNrZ3JvdW5kJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgX3RoaXMyLmNsb3NlKCk7XG5cdCAgICAgICAgICB9IH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gTW9kYWw7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBNb2RhbDtcblxuLyoqKi8gfSxcbi8qIDgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9xdWVzdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9Wb2ljZVdhdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblx0XG5cdHZhciBfVm9pY2VXYXZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZvaWNlV2F2ZSk7XG5cdFxuXHR2YXIgX3RvYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3RvYXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvYXN0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvUXVlc3Rpb24uc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdHZhciBfYWxlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfYWxlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWxlcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE0LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgUXVlc3Rpb24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhRdWVzdGlvbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFF1ZXN0aW9uKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVlc3Rpb24pO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChRdWVzdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFF1ZXN0aW9uKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBwbGF5aW5nOiAwLFxuXHQgICAgICBhbnN3ZXJBdWRpbzogbnVsbCxcblx0ICAgICAgY3VyQW5zd2VySWQ6IG51bGwsXG5cdCAgICAgIHBsYXlOb3c6IHRydWUsXG5cdCAgICAgIGxpc3RlblRpbWVyOiBudWxsLFxuXHQgICAgICBzaG93QWxlcnQ6IGZhbHNlLFxuXHQgICAgICBhbGVydDoge1xuXHQgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxuXHQgICAgICAgIGJ1dHRvbnM6IFt7XG5cdCAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG5cdCAgICAgICAgICBsYWJlbDogJ+ehruWumicsXG5cdCAgICAgICAgICBvbkNsaWNrOiBfdGhpcy5oaWRlQWxlcnQuYmluZChfdGhpcylcblx0ICAgICAgICB9XVxuXHQgICAgICB9LFxuXHQgICAgICBhbGVydENvbnRlbnQ6ICcnLFxuXHQgICAgICBub3RSZWdTaGFyZTogdHJ1ZVxuXHQgICAgfTtcblx0ICAgIF90aGlzLmhhbmRsZVByaXNlID0gX3RoaXMuaGFuZGxlUHJpc2UuYmluZChfdGhpcyk7XG5cdCAgICBfdGhpcy5oYW5kbGVDYW5jbGVQcmlzZSA9IF90aGlzLmhhbmRsZUNhbmNsZVByaXNlLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFF1ZXN0aW9uLCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgaWQgPSB0aGlzLnByb3BzLnBhcmFtcy5pZDtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMuZ2V0UXVlc3Rpb25JbmZvKGlkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICB2YXIgcXVlc3Rpb25JbmZvID0gbmV4dFByb3BzLnF1ZXN0aW9uSW5mbztcblx0XG5cdCAgICAgIGlmIChxdWVzdGlvbkluZm8udXNlcl9mYWNlICYmIHRoaXMuc3RhdGUubm90UmVnU2hhcmUpIHtcblx0ICAgICAgICB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2Uoe1xuXHQgICAgICAgICAgdGl0bGU6IHF1ZXN0aW9uSW5mby5xdWVzdGlvbl9jb250ZW50LCAvLyDliIbkuqvmoIfpophcblx0ICAgICAgICAgIGRlc2M6IHF1ZXN0aW9uSW5mby50ZWFjaGVyX25hbWUgKyAnXFx1NzUyODFcXHU1MjA2XFx1OTQ5RlxcdTc2ODRcXHU4QkVEXFx1OTdGM1xcdTVDMzFcXHU4OUUzXFx1NTFCM1xcdTRFODZcXHU4RkQ5XFx1NEUyQVxcdTk1RUVcXHU5ODk4JywgLy8g5YiG5Lqr5o+P6L+wXG5cdCAgICAgICAgICBsaW5rOiBsb2NhdGlvbi5ocmVmLCAvLyDliIbkuqvpk77mjqVcblx0ICAgICAgICAgIGltZ1VybDogcXVlc3Rpb25JbmZvLnRlYWNoZXJfZmFjZSwgLy8g5YiG5Lqr5Zu+5qCHXG5cdCAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5oiQ5YqfXCIpLy8g55So5oi356Gu6K6k5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbChlcnIpIHtcblx0ICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pe+8jOWOn+WboOaYr1wiK2Vycilcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pVwiKS8vIOeUqOaIt+WPlua2iOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBub3RSZWdTaGFyZTogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuc3RhdGUubGlzdGVuVGltZXIpO1xuXHQgICAgICBpZiAodGhpcy5zdGF0ZS5hbnN3ZXJBdWRpbyAhPSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy5zdGF0ZS5hbnN3ZXJBdWRpby5wYXVzZSgpO1xuXHQgICAgICAgIHRoaXMuc3RhdGUuYW5zd2VyQXVkaW8uY3VycmVudFRpbWUgPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbnN3ZXJBdWRpbzogbnVsbCwgcGxheWluZzogMCB9KTtcblx0ICAgICAgdGhpcy5wcm9wcy5jbGVhclF1ZXNpdG9uKCk7XG5cdCAgICAgIHd4Lm9uTWVudVNoYXJlQXBwTWVzc2FnZSh7XG5cdCAgICAgICAgdGl0bGU6ICfvvLs354K56Zeu562U77y96Zeu5biI5YWE77yM6Zeu5biI5aeQ77yM6Zeu5YmN6L6IJywgLy8g5YiG5Lqr5qCH6aKYXG5cdCAgICAgICAgZGVzYzogJ+Wkp+WtpueUn+iBjOWcuumXruetlOW5s+WPsO+8jOWvueS6juWNs+WwhuWIsOadpeeahOeni+aLm++8jOS9oOeahOmXrumimOmDveWPr+S7peWcqOi/memHjOino+WGs+OAgicsIC8vIOWIhuS6q+aPj+i/sFxuXHQgICAgICAgIGxpbms6IGxvY2F0aW9uLmhyZWYsIC8vIOWIhuS6q+mTvuaOpVxuXHQgICAgICAgIGltZ1VybDogX193ZWJwYWNrX3JlcXVpcmVfXyg0NCksIC8vIOWIhuS6q+Wbvuagh1xuXHQgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5oiQ5YqfXCIpLy8g55So5oi356Gu6K6k5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKGVycikge1xuXHQgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pe+8jOWOn+WboOaYr1wiK2Vycilcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICAgICAgLy8gYWxlcnQoXCLliIbkuqvlpLHotKVcIikvLyDnlKjmiLflj5bmtojliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExpc3RlbkluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExpc3RlbkluZm8oYW5zd2VySWQsIGNiKSB7XG5cdCAgICAgIGZldGNoKF9jb25maWcuZG9tYWluICsgJy9hcGkvdjEvYW5zd2VyL2xpc3Rlbj9hbnN3ZXJfaWQ9JyArIGFuc3dlcklkLCB7XG5cdCAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHQgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNiKGpzb24pO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwYXlGb3JBbnN3ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBheUZvckFuc3dlcihhbnN3ZXJJZCkge1xuXHQgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChfY29uZmlnLmJhc2VVcmwgKyAncGF5P2Fuc3dlcklkPScgKyBhbnN3ZXJJZCArICcmdHlwZT1xdWVzdGlvbiZzdWNjZXNzVXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikgKyAnJmZhaWxVcmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSk7XG5cdCAgICB9XG5cdCAgICAvLyBwYXlGb3JBbnN3ZXIoYW5zd2VySWQpe1xuXHQgICAgLy8gICBjb25zdCBzZWxmID0gdGhpc1xuXHQgICAgLy8gICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiB0cnVlfSlcblx0ICAgIC8vICAgdGhpcy5nZXRMaXN0ZW5JbmZvKGFuc3dlcklkLGpzb24gPT4ge1xuXHQgICAgLy8gICAgICAgaWYoanNvbi5lcnJDb2RlPT0wKXtcblx0ICAgIC8vICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuXHQgICAgLy8gICAgICAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKVxuXHQgICAgLy8gICAgICAgICBpZih0aW1lLnZhbHVlT2YoKS8xMDAwLWpzb24uZGF0YS50aW1lU3RhbXA8NSl7XG5cdCAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCLov5vlhaXlvq7kv6HmlK/ku5hcIilcblx0ICAgIC8vICAgICAgICAgICBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KCl7XG5cdCAgICAvLyAgICAgICAgICAgICBXZWl4aW5KU0JyaWRnZS5pbnZva2UoXG5cdCAgICAvLyAgICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGpzb24uZGF0YSxcblx0ICAgIC8vICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKXtcblx0ICAgIC8vICAgICAgICAgICAgICAgICBpZihyZXMuZXJyX21zZyA9PSBcImdldF9icmFuZF93Y3BheV9yZXF1ZXN0Om9rXCIgKSB7XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtwYXlTdWNjZXNzOnRydWV9KTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICAgIHNlbGYucHJvcHMuZ2V0UXVlc3Rpb25JbmZvKHNlbGYucHJvcHMucXVlc3Rpb25JbmZvLnF1ZXN0aW9uX2lkKTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc3RhdGUubGlzdGVuVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHNlbGYucHJvcHMuZGlzcGF0Y2goZ2V0UXVlc3Rpb25JbmZvKGFuc3dlcklkKSksMTAwMCk7XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnNldFN0YXRlKHtwbGF5Tm93OiBmYWxzZX0pXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgfWVsc2V7XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHthbGVydENvbnRlbnQ6XCLmlK/ku5jlpLHotKVcIixzaG93QWxlcnQ6dHJ1ZX0pXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICAvLyBhbGVydChcIuaUr+S7mOWksei0pe+8jOWOn+WboO+8mlwiK0pTT04uc3RyaW5naWZ5KHJlcykpXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCLlpLHotKXljp/lm6DvvJpcIilcblx0ICAgIC8vICAgICAgICAgICAgICAgICB9XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgaWYoIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgKXtcblx0ICAgIC8vICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe1xuXHQgICAgLy8gICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCdvbldlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICB9XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgLy8g5L2/55So5Lul5LiK5pa55byP5Yik5pat5YmN56uv6L+U5ZueLOW+ruS/oeWboumYn+mDkemHjeaPkOekuu+8mnJlcy5lcnJfbXNn5bCG5Zyo55So5oi35pSv5LuY5oiQ5Yqf5ZCO6L+U5ZueICAgIG9r77yM5L2G5bm25LiN5L+d6K+B5a6D57ud5a+55Y+v6Z2g44CCXG5cdCAgICAvLyAgICAgICAgICAgICAgIH1cblx0ICAgIC8vICAgICAgICAgICAgICk7XG5cdCAgICAvLyAgICAgICAgICAgfVxuXHQgICAgLy8gICAgICAgICAgIGlmICh0eXBlb2YgV2VpeGluSlNCcmlkZ2UgPT0gXCJ1bmRlZmluZWRcIil7XG5cdCAgICAvLyAgICAgICAgICAgICBpZiggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApe1xuXHQgICAgLy8gICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSwgZmFsc2UpO1xuXHQgICAgLy8gICAgICAgICAgICAgfWVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtcblx0ICAgIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcblx0ICAgIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgLy8gICAgICAgICAgICAgfVxuXHQgICAgLy8gICAgICAgICAgIH1lbHNle1xuXHQgICAgLy8gICAgICAgICAgICAgb25CcmlkZ2VSZWFkeSgpO1xuXHQgICAgLy8gICAgICAgICAgIH1cblx0ICAgIC8vICAgICAgICAgfVxuXHQgICAgLy8gICAgICAgfVxuXHQgICAgLy8gICAgIH0pXG5cdCAgICAvLyB9XG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEF1ZGlvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdWRpbyhhbnN3ZXJJZCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG5cdCAgICAgIHRoaXMuZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCwgZnVuY3Rpb24gKGpzb24pIHtcblx0ICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcblx0ICAgICAgICBpZiAoanNvbi5kYXRhLnRpbWVTdGFtcCkge1xuXHQgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vdG9kbyDkvJjljJZcblx0ICAgICAgICAgICAgc2VsZi5nZXRBdWRpbyhhbnN3ZXJJZCk7XG5cdCAgICAgICAgICB9LCA1MDApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoanNvbi5kYXRhLnVybCkge1xuXHQgICAgICAgICAgdmFyIHF1ZXN0aW9uSWQgPSBfdGhpczIucHJvcHMucGFyYW1zLmlkO1xuXHQgICAgICAgICAgaWYgKGpzb24uZGF0YS5xdWVzdGlvbl9pZCA9PSBxdWVzdGlvbklkKSB7XG5cdCAgICAgICAgICAgIHZhciBhbnN3ZXJBdWRpbyA9IG5ldyBBdWRpbyhqc29uLmRhdGEudXJsKTtcblx0ICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGFuc3dlckF1ZGlvOiBhbnN3ZXJBdWRpbyB9KTtcblx0ICAgICAgICAgICAgc2VsZi5wbGF5QXVkaW8oYW5zd2VyQXVkaW8pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGxheUF1ZGlvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5QXVkaW8oYW5zd2VySWQsIGFuc3dlckF1ZGlvKSB7XG5cdCAgICAgIHZhciBhdWRpbyA9IHRoaXMuc3RhdGUuYW5zd2VyQXVkaW8gfHwgYW5zd2VyQXVkaW8sXG5cdCAgICAgICAgICBzZWxmID0gdGhpcztcblx0ICAgICAgaWYgKGF1ZGlvKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coXCJhdWRpby5zcmM9PT09XCIgKyBhdWRpby5zcmMpO1xuXHQgICAgICAgIGF1ZGlvLnBsYXkoKTsgLy90b2RvIOS8mOWMllxuXHQgICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgcGxheWluZzogMCB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmdldEF1ZGlvKGFuc3dlcklkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2J1YmJsZUNsaWNrJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBidWJibGVDbGljayhhbnN3ZXJJZCwgaXNQYXllZCkge1xuXHQgICAgICBpZiAodGhpcy5zdGF0ZS5wYXlTdWNjZXNzIHx8IGlzUGF5ZWQpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgcGxheWluZzogMSB9KTtcblx0ICAgICAgICB0aGlzLnBsYXlBdWRpbyhhbnN3ZXJJZCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5wYXlGb3JBbnN3ZXIoYW5zd2VySWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlUHJpc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVByaXNlKGFuc3dlcklkKSB7XG5cdCAgICAgIGlmICghdGhpcy5wcm9wcy5xdWVzdGlvbkluZm8uYW5zd2VyX2lzcGF5ZWQgJiYgIXRoaXMuc3RhdGUucGF5U3VjY2Vzcykge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbGVydENvbnRlbnQ6IFwi5oKo6L+Y5rKh5pyJ5ZCs6L+H6K+l6Zeu6aKYXCIsIHNob3dBbGVydDogdHJ1ZSB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnByb3BzLnByaXNlUXVlc3Rpb24oYW5zd2VySWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlQ2FuY2xlUHJpc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNhbmNsZVByaXNlKGFuc3dlcklkKSB7XG5cdCAgICAgIHRoaXMucHJvcHMuY2FuY2VsUHJpc2VRdWVzdGlvbihhbnN3ZXJJZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGlkZUFsZXJ0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQWxlcnQoKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93QWxlcnQ6IGZhbHNlIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBxdWVzdGlvbkluZm8gPSB0aGlzLnByb3BzLnF1ZXN0aW9uSW5mbztcblx0ICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzLnN0YXRlLnBsYXlpbmc9PVwiK3RoaXMuc3RhdGUucGxheWluZylcblx0XG5cdCAgICAgIHZhciBjbGFzc05hbWVzID0ge1xuXHQgICAgICAgIDA6IFwiIFwiLFxuXHQgICAgICAgIDE6IFwiIHBsYXlpbmdcIlxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIHF1ZXN0aW9uSW5mby51c2VyX2ZhY2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbWFpbicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICdxdWVzdGlvbicgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9hbGVydDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgc2hvdzogdGhpcy5zdGF0ZS5zaG93QWxlcnQsIHRpdGxlOiB0aGlzLnN0YXRlLmFsZXJ0LnRpdGxlLCBidXR0b25zOiB0aGlzLnN0YXRlLmFsZXJ0LmJ1dHRvbnMgfSxcblx0ICAgICAgICAgIHRoaXMuc3RhdGUuYWxlcnRDb250ZW50XG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF90b2FzdDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgaWNvbjogJ2xvYWRpbmcnLCBzaG93OiB0aGlzLnN0YXRlLmxvYWRpbmcgfSxcblx0ICAgICAgICAgIHF1ZXN0aW9uSW5mby5hbnN3ZXJfaXNwYXllZCB8fCB0aGlzLnN0YXRlLnBheVN1Y2Nlc3MgPyBcIuWKoOi9veWjsOmfs+S4reKApuKAplwiIDogXCLor7fmsYLmlK/ku5jkuK3igKbigKZcIlxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArICd1c2VyLycgKyBxdWVzdGlvbkluZm8udXNlcl9pZCB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3VzZXJJbmZvJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6IHF1ZXN0aW9uSW5mby51c2VyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMicgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mby51c2VyX25hbWVcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAncXVlc3Rpb24tY29udGVudCcgfSxcblx0ICAgICAgICAgIHF1ZXN0aW9uSW5mby5xdWVzdGlvbl9jb250ZW50XG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd0dXRvcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogcXVlc3Rpb25JbmZvLnRlYWNoZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICBxdWVzdGlvbkluZm8udGVhY2hlcl9uYW1lXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdoNCcsXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIHF1ZXN0aW9uSW5mby50ZWFjaGVyX2NvbXBhbnkgKyBcIuOAgFwiICsgcXVlc3Rpb25JbmZvLnRlYWNoZXJfcG9zaXRpb24sXG5cdCAgICAgICAgICAgICcgICdcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIHF1ZXN0aW9uSW5mby5pc2Fuc3dlcmVkID09ICcxJyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Fuc3dlcicsIG9uQ2xpY2s6IHRoaXMuYnViYmxlQ2xpY2suYmluZCh0aGlzLCBxdWVzdGlvbkluZm8uYW5zd2VyX2lkLCBxdWVzdGlvbkluZm8uYW5zd2VyX2lzcGF5ZWQpIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J1YmJsZScgKyBjbGFzc05hbWVzW3RoaXMuc3RhdGUucGxheWluZ10gfSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnYnViYmxlLXRhaWwnIH0pLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Wb2ljZVdhdmUyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdidWJibGUtdm9pY2UnIH0pLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidWJibGUtdGV4dCcgfSxcblx0ICAgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mby5hbnN3ZXJfaXNwYXllZCB8fCB0aGlzLnN0YXRlLnBheVN1Y2Nlc3MgPyB0aGlzLnN0YXRlLnBsYXlpbmcgPT0gMSA/IFwi5q2j5Zyo5pKt5pS+XCIgOiBcIueCueWHu+aSreaUvlwiIDogcXVlc3Rpb25JbmZvLnF1ZXN0aW9uX3ByaXplICsgJ1xcdTUxNDNcXHU1MDc3XFx1NTA3N1xcdTU0MkMnXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JlbWFyaycgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgcXVlc3Rpb25JbmZvLmFuc3dlcl9saXN0ZW4sXG5cdCAgICAgICAgICAgICAgJ1xcdTRFQkFcXHU1MDc3XFx1NTQyQydcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAna3VpJyB9LFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mby5hbnN3ZXJfbGlrZSxcblx0ICAgICAgICAgICAgICAnXFx1NEVCQVxcdTg5QzlcXHU1Rjk3XFx1OEQ1RSdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgcXVlc3Rpb25JbmZvLmFuc3dlcl9pc2xpa2VkID09PSAwID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcmlzZScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgIF90aGlzMy5oYW5kbGVQcmlzZShxdWVzdGlvbkluZm8uYW5zd2VyX2lkKTtcblx0ICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdpY29uZm9udCBpY29uLXphbk5vJyB9KVxuXHQgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJpc2UnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICBfdGhpczMuaGFuZGxlQ2FuY2xlUHJpc2UocXVlc3Rpb25JbmZvLmFuc3dlcl9pZCk7XG5cdCAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnaWNvbmZvbnQgaWNvbi16YW5ZZXMnIH0pXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ25vdC1hbnN3ZXInIH0sXG5cdCAgICAgICAgICAnXFx1N0I0OVxcdTVGODVcXHU4MDAxXFx1NUUwOFxcdTU2REVcXHU3QjU0XFx1MjAyNlxcdTIwMjYnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdhc2snIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndmFsdWUnIH0sXG5cdCAgICAgICAgICAgICdcXHVGRkU1Jyxcblx0ICAgICAgICAgICAgcXVlc3Rpb25JbmZvLnRlYWNoZXJfcHJpemVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYm90dG9tLWJ0bicsIHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcInR1dG9yL1wiICsgcXVlc3Rpb25JbmZvLnRlYWNoZXJfaWQgfSxcblx0ICAgICAgICAgICAgJ1xcdTU0MTFUQVxcdTYzRDBcXHU5NUVFJ1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCBudWxsKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBRdWVzdGlvbjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFF1ZXN0aW9uLnByb3BUeXBlcyA9IHtcblx0ICBxdWVzdGlvbkluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsXG5cdCAgbGlzdGVuSW5mbzogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHF1ZXN0aW9uSW5mbzogc3RhdGUucXVlc3Rpb25JbmZvLFxuXHQgICAgbGlzdGVuSW5mbzogc3RhdGUubGlzdGVuSW5mb1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIHtcblx0ICBwcmlzZVF1ZXN0aW9uOiBfcXVlc3Rpb24ucHJpc2VRdWVzdGlvbixcblx0ICBnZXRRdWVzdGlvbkluZm86IF9xdWVzdGlvbi5nZXRRdWVzdGlvbkluZm8sXG5cdCAgY2FuY2VsUHJpc2VRdWVzdGlvbjogX3F1ZXN0aW9uLmNhbmNlbFByaXNlUXVlc3Rpb24sXG5cdCAgY2xlYXJRdWVzaXRvbjogX3F1ZXN0aW9uLmNsZWFyUXVlc2l0b25cblx0fSkoUXVlc3Rpb24pO1xuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfUXVlc3Rpb25JdGVtV2l0aEF2YXRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIpO1xuXHRcblx0dmFyIF9UdXRvckl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdHZhciBfVHV0b3JJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R1dG9ySXRlbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFJlc3VsdExpc3QgPSBmdW5jdGlvbiBSZXN1bHRMaXN0KF9yZWYpIHtcblx0ICAgIHZhciBxdWVzdGlvbnMgPSBfcmVmLnF1ZXN0aW9ucyxcblx0ICAgICAgICB0dXRvcnMgPSBfcmVmLnR1dG9ycyxcblx0ICAgICAgICB1c2VySWQgPSBfcmVmLnVzZXJJZDtcblx0XG5cdCAgICB2YXIgdXJsID0gbG9jYXRpb24uaHJlZi5zcGxpdChcIi9cIik7XG5cdCAgICB2YXIgcXVlcnkgPSB1cmwucG9wKCk7XG5cdCAgICB2YXIgdHlwZSA9IHVybC5wb3AoKTtcblx0ICAgIGlmICh0eXBlID09IFwicXVlc3Rpb25cIikge1xuXHQgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJzZWFyY2gtcmVzdWx0c1wiIH0sXG5cdCAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwicmVzdWx0LXRpdGxlXCIgfSxcblx0ICAgICAgICAgICAgICAgIFwiXFx1NTcyOFxcdTk1RUVcXHU5ODk4XFx1NEUyRFxcdTY0MUNcXHU3RDIyXFx1NzY4NFxcdTdFRDNcXHU2NzlDXCJcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJxdWVzdGlvbi1saXN0XCIgfSxcblx0ICAgICAgICAgICAgICAgIHF1ZXN0aW9ucy5tYXAoZnVuY3Rpb24gKHF1ZXN0aW9uLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KF9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyMi5kZWZhdWx0LCB7IHVzZXJJZDogdXNlcklkLCBxdWVzdGlvbjogcXVlc3Rpb24sIGtleTogaW5kZXggfSk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInNlYXJjaC1yZXN1bHRzXCIgfSxcblx0ICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJyZXN1bHQtdGl0bGVcIiB9LFxuXHQgICAgICAgICAgICAgICAgXCJcXHU1NzI4XFx1NUJGQ1xcdTVFMDhcXHU0RTJEXFx1NjQxQ1xcdTdEMjJcXHU3Njg0XFx1N0VEM1xcdTY3OUNcIlxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInR1dG9yLWxpc3RcIiB9LFxuXHQgICAgICAgICAgICAgICAgdHV0b3JzLm1hcChmdW5jdGlvbiAodHV0b3IsIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1R1dG9ySXRlbTIuZGVmYXVsdCwgeyBrZXk6IGluZGV4LCB0dXRvcjogdHV0b3IgfSk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcXVlc3Rpb25zOiBzdGF0ZS5ob3RRdWVzdGlvbkxpc3QuZGF0YSxcblx0ICAgICAgICB0dXRvcnM6IHN0YXRlLnR1dG9yTGlzdC5kYXRhLFxuXHQgICAgICAgIHVzZXJJZDogc3RhdGUuYWNjb3VudC51c2VySW5mby51c2VyX2lkXG5cdCAgICB9O1xuXHR9KShSZXN1bHRMaXN0KTtcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9xdWVzdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF90dXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHR2YXIgX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUXVlc3Rpb25JdGVtV2l0aEF2YXRhcik7XG5cdFxuXHR2YXIgX1R1dG9ySXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9UdXRvckl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHV0b3JJdGVtKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvU2VhcmNoUmVzdWx0LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBTZWFyY2hSZXN1bHQgPSBmdW5jdGlvbiBTZWFyY2hSZXN1bHQoX3JlZikge1xuXHQgICAgdmFyIHF1ZXN0aW9ucyA9IF9yZWYucXVlc3Rpb25zLFxuXHQgICAgICAgIHR1dG9ycyA9IF9yZWYudHV0b3JzLFxuXHQgICAgICAgIGN1clNlYXJjaCA9IF9yZWYuY3VyU2VhcmNoLFxuXHQgICAgICAgIHVzZXJJZCA9IF9yZWYudXNlcklkLFxuXHQgICAgICAgIHF1ZXN0aW9uU2VhcmNoU3RhdHVzID0gX3JlZi5xdWVzdGlvblNlYXJjaFN0YXR1cyxcblx0ICAgICAgICB0dXRvclNlYXJjaFN0YXR1cyA9IF9yZWYudHV0b3JTZWFyY2hTdGF0dXMsXG5cdCAgICAgICAgZ2V0UXVlc3Rpb25MaXN0ID0gX3JlZi5nZXRRdWVzdGlvbkxpc3QsXG5cdCAgICAgICAgZ2V0VHV0b3JMaXN0ID0gX3JlZi5nZXRUdXRvckxpc3Q7XG5cdFxuXHQgICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoXCIvXCIpLnBvcCgpO1xuXHQgICAgc2VhcmNoID0gZGVjb2RlVVJJKHNlYXJjaCk7XG5cdCAgICBpZiAoc2VhcmNoICE9PSBjdXJTZWFyY2gpIHtcblx0ICAgICAgICBnZXRRdWVzdGlvbkxpc3QoMSwgMTAsIHNlYXJjaCk7XG5cdCAgICAgICAgZ2V0VHV0b3JMaXN0KDEsIDEwLCBzZWFyY2gpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IFwic2VhcmNoLXJlc3VsdHNcIiB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBcImRpdlwiLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJyZXN1bHQtdGl0bGVcIiB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIFwiaDVcIixcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRpdGxlXCIgfSxcblx0ICAgICAgICAgICAgICAgIFwiXFx1NTE4NVxcdTVCQjlcIlxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBxdWVzdGlvblNlYXJjaFN0YXR1cyA9PSBcImNvbXBsZXRlXCIgJiYgcXVlc3Rpb25zLmxlbmd0aCA+IDIgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgICAgICAgeyB0bzogX2NvbmZpZy5iYXNlVXJsICsgXCJzZWFyY2gvbGlzdC9xdWVzdGlvbi9cIiArIHNlYXJjaCB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgXCJoNVwiLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcIm1vcmVcIiB9LFxuXHQgICAgICAgICAgICAgICAgICAgIFwiXFx1NjZGNFxcdTU5MUFcIlxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApIDogXCJcIlxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInF1ZXN0aW9uLWxpc3RcIiB9LFxuXHQgICAgICAgICAgICBxdWVzdGlvblNlYXJjaFN0YXR1cyA9PSBcImNvbXBsZXRlXCIgJiYgcXVlc3Rpb25zLmxlbmd0aCA+IDAgPyBxdWVzdGlvbnMubWFwKGZ1bmN0aW9uIChxdWVzdGlvbiwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDIpIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUXVlc3Rpb25JdGVtV2l0aEF2YXRhcjIuZGVmYXVsdCwgeyB1c2VySWQ6IHVzZXJJZCwgcXVlc3Rpb246IHF1ZXN0aW9uLCBrZXk6IGluZGV4IH0pO1xuXHQgICAgICAgICAgICB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImVtcHR5XCIgfSxcblx0ICAgICAgICAgICAgICAgIFwiXFx1NjY4MlxcdTY1RTBcXHU3NkY4XFx1NTE3M1xcdTdFRDNcXHU2NzlDXCJcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInJlc3VsdC10aXRsZVwiIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgXCJoNVwiLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGl0bGVcIiB9LFxuXHQgICAgICAgICAgICAgICAgXCJcXHU1QkZDXFx1NUUwOFwiXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIHR1dG9yU2VhcmNoU3RhdHVzID09IFwiY29tcGxldGVcIiAmJiB0dXRvcnMubGVuZ3RoID4gMiA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgICAgICB7IHRvOiBfY29uZmlnLmJhc2VVcmwgKyBcInNlYXJjaC9saXN0L3R1dG9yL1wiICsgc2VhcmNoIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBcImg1XCIsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwibW9yZVwiIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgXCJcXHU2NkY0XFx1NTkxQVwiXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICkgOiBcIlwiXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgXCJkaXZcIixcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidHV0b3ItbGlzdFwiIH0sXG5cdCAgICAgICAgICAgIHR1dG9yU2VhcmNoU3RhdHVzID09IFwiY29tcGxldGVcIiAmJiB0dXRvcnMubGVuZ3RoID4gMCA/IHR1dG9ycy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAyKSByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1R1dG9ySXRlbTIuZGVmYXVsdCwgeyB0dXRvcjogaXRlbSwga2V5OiBpbmRleCB9KTtcblx0ICAgICAgICAgICAgfSkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIFwiZGl2XCIsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogXCJlbXB0eVwiIH0sXG5cdCAgICAgICAgICAgICAgICBcIlxcdTY2ODJcXHU2NUUwXFx1NzZGOFxcdTUxNzNcXHU3RUQzXFx1Njc5Q1wiXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBxdWVzdGlvbnM6IHN0YXRlLmhvdFF1ZXN0aW9uTGlzdC5kYXRhLFxuXHQgICAgICAgIHR1dG9yczogc3RhdGUudHV0b3JMaXN0LmRhdGEsXG5cdCAgICAgICAgY3VyU2VhcmNoOiBzdGF0ZS5jdXJTZWFyY2gsXG5cdCAgICAgICAgdXNlcklkOiBzdGF0ZS5hY2NvdW50LnVzZXJJbmZvLnVzZXJfaWQsXG5cdCAgICAgICAgcXVlc3Rpb25TZWFyY2hTdGF0dXM6IHN0YXRlLmhvdFF1ZXN0aW9uTGlzdC5zZWFyY2hTdGF0dXMsXG5cdCAgICAgICAgdHV0b3JTZWFyY2hTdGF0dXM6IHN0YXRlLnR1dG9yTGlzdC5zZWFyY2hTdGF0dXNcblx0ICAgIH07XG5cdH0sIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBnZXRRdWVzdGlvbkxpc3Q6IGZ1bmN0aW9uIGdldFF1ZXN0aW9uTGlzdChwYWdlLCBudW0sIHNlYXJjaCkge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCgoMCwgX3F1ZXN0aW9uLmdldEhvdFF1ZXN0aW9uTGlzdCkocGFnZSwgbnVtLCBzZWFyY2gpKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGdldFR1dG9yTGlzdDogZnVuY3Rpb24gZ2V0VHV0b3JMaXN0KHBhZ2UsIG51bSwgc2VhcmNoKSB7XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKCgwLCBfdHV0b3IuZ2V0VHV0b3JMaXN0KShwYWdlLCBudW0sIHNlYXJjaCkpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH0pKFNlYXJjaFJlc3VsdCk7XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX21lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVzc2FnZSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBUZXN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUZXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUZXN0KCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXN0KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRlc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXN0KSkuY2FsbCh0aGlzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93OiB0cnVlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRlc3QsIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgX21lc3NhZ2UyLmRlZmF1bHQuc3VjY2VzcygnY2hlbmdnb25nbGUnLCAyLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBhbGVydCgnMjM0Jyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfbWVzc2FnZTIuZGVmYXVsdC5pbmZvKCdjaGVuZ2dvbmdsZScsIDIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGFsZXJ0KCcyMzQnKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIF9tZXNzYWdlMi5kZWZhdWx0LmNhbmNlbCgnY2hlbmdnb25nbGUnLCAyLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBhbGVydCgnMjM0Jyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICd0ZXN0J1xuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVGVzdDtcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRlc3Q7XG5cbi8qKiovIH0sXG4vKiA4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdHV0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcik7XG5cdFxuXHR2YXIgX0xvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdHZhciBfTG9hZGluZzMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfTG9hZGluZzQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nMyk7XG5cdFxuXHR2YXIgX3RvYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3RvYXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvYXN0KTtcblx0XG5cdHZhciBfbWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9tZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lc3NhZ2UpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9UdXRvckluZGV4LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0dmFyIF9hbGVydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9hbGVydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbGVydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTUuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBUdXRvckluZGV4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVHV0b3JJbmRleCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFR1dG9ySW5kZXgocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUdXRvckluZGV4KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHV0b3JJbmRleC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFR1dG9ySW5kZXgpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHRleHRMZW5ndGg6IDAsXG5cdCAgICAgIGN1clBhZ2U6IDEsXG5cdCAgICAgIGFza1N1Y2Nlc3M6IGZhbHNlLFxuXHQgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgc2hvd0FsZXJ0OiBmYWxzZSxcblx0ICAgICAgYWxlcnQ6IHtcblx0ICAgICAgICB0aXRsZTogXCLmj5DnpLpcIixcblx0ICAgICAgICBidXR0b25zOiBbe1xuXHQgICAgICAgICAgdHlwZTogJ2RlZmF1bHQnLFxuXHQgICAgICAgICAgbGFiZWw6ICfnoa7lrponLFxuXHQgICAgICAgICAgb25DbGljazogX3RoaXMuaGlkZUFsZXJ0LmJpbmQoX3RoaXMpXG5cdCAgICAgICAgfV1cblx0ICAgICAgfSxcblx0ICAgICAgYWxlcnRDb250ZW50OiAnJyxcblx0ICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbi5ocmVmLFxuXHQgICAgICBjYW5MZWF2ZTogZmFsc2UsXG5cdCAgICAgIG5vdFJlZ1NoYXJlOiB0cnVlXG5cdCAgICB9O1xuXHQgICAgX3RoaXMucm91dGVyV2lsbExlYXZlID0gX3RoaXMucm91dGVyV2lsbExlYXZlLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFR1dG9ySW5kZXgsIFt7XG5cdCAgICBrZXk6ICdwYXlGb3JBc2snLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBheUZvckFzayhjb250ZW50LCB0dXRvcklkKSB7XG5cdCAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKF9jb25maWcuYmFzZVVybCArICdwYXk/dHlwZT10dXRvciZjb250ZW50PScgKyBjb250ZW50ICsgJyZ0dXRvcklkPScgKyB0dXRvcklkICsgJyZmYWlsVXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikgKyAnJnN1Y2Nlc3NVcmw9JyArIF9jb25maWcuYmFzZVVybCArICdhY2NvdW50L0lBc2tlZExpc3QnKTtcblx0ICAgIH1cblx0ICAgIC8vIHBheUZvckFzayhjb250ZW50LHR1dG9ySWQpe1xuXHQgICAgLy8gICBjb25zdCB1cmwgPSBkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi90ZXN0cXVlc3Rpb24/Y29udGVudD0ke2NvbnRlbnR9JmFuc3dlcl91c2VyX2lkPSR7dHV0b3JJZH1gXG5cdCAgICAvLyAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmc6dHJ1ZX0pXG5cdCAgICAvLyAgIGZldGNoKHVybCx7XG5cdCAgICAvLyAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcblx0ICAgIC8vICAgfSlcblx0ICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG5cdCAgICAvLyAgICAgLnRoZW4oanNvbiA9Pntcblx0ICAgIC8vICAgICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmc6ZmFsc2V9KVxuXHQgICAgLy8gICAgICAgY29uc3Qgc2VsZiA9dGhpc1xuXHQgICAgLy8gICAgICAgaWYoanNvbi5kYXRhLnRpbWVTdGFtcCE9dW5kZWZpbmVkKXtcblx0ICAgIC8vICAgICAgICAgZnVuY3Rpb24gb25CcmlkZ2VSZWFkeSgpe1xuXHQgICAgLy8gICAgICAgICAgIFdlaXhpbkpTQnJpZGdlLmludm9rZShcblx0ICAgIC8vICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGpzb24uZGF0YSxcblx0ICAgIC8vICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcyl7XG5cdCAgICAvLyAgICAgICAgICAgICAgIGlmKHJlcy5lcnJfbXNnID09IFwiZ2V0X2JyYW5kX3djcGF5X3JlcXVlc3Q6b2tcIiApIHtcblx0ICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaUr+S7mOaIkOWKn++8gVwiKVxuXHQgICAgLy8gICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe2Fza1N1Y2Nlc3M6dHJ1ZX0pXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgc2VsZi5wcm9wcy5kaXNwYXRjaChnZXRJQXNrZWQoMSwgMTApKTtcblx0ICAgIC8vICAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc1RpbWVyID0gc2V0VGltZW91dCgoKT0+e1xuXHQgICAgLy8gICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChiYXNlVXJsK1wiYWNjb3VudC9JQXNrZWRMaXN0XCIpXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgfSwyMDAwKVxuXHQgICAgLy8gICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe3N1Y2Nlc3NUaW1lcjpzdWNjZXNzVGltZXJ9KVxuXHQgICAgLy8gICAgICAgICAgICAgICB9ZWxzZXtcblx0ICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5pSv5LuY5aSx6LSlXCIsc2hvd0FsZXJ0OnRydWV9KVxuXHQgICAgLy8gICAgICAgICAgICAgICB9XG5cdCAgICAvLyAgICAgICAgICAgICAgIGlmKCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyICl7XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgLy8gICAgICAgICAgICAgICB9ZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe1xuXHQgICAgLy8gICAgICAgICAgICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG5cdCAgICAvLyAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuXHQgICAgLy8gICAgICAgICAgICAgICB9XG5cdCAgICAvL1xuXHQgICAgLy8gICAgICAgICAgICAgICAvLyDkvb/nlKjku6XkuIrmlrnlvI/liKTmlq3liY3nq6/ov5Tlm54s5b6u5L+h5Zui6Zif6YOR6YeN5o+Q56S677yacmVzLmVycl9tc2flsIblnKjnlKjmiLfmlK/ku5jmiJDlip/lkI7ov5Tlm54gICAgb2vvvIzkvYblubbkuI3kv53or4HlroPnu53lr7nlj6/pnaDjgIJcblx0ICAgIC8vICAgICAgICAgICAgIH1cblx0ICAgIC8vICAgICAgICAgICApO1xuXHQgICAgLy8gICAgICAgICB9XG5cdCAgICAvLyAgICAgICAgIGlmICh0eXBlb2YgV2VpeGluSlNCcmlkZ2UgPT0gXCJ1bmRlZmluZWRcIil7XG5cdCAgICAvLyAgICAgICAgICAgaWYoIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgKXtcblx0ICAgIC8vICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5LCBmYWxzZSk7XG5cdCAgICAvLyAgICAgICAgICAgfWVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtcblx0ICAgIC8vICAgICAgICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG5cdCAgICAvLyAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG5cdCAgICAvLyAgICAgICAgICAgfVxuXHQgICAgLy8gICAgICAgICB9ZWxzZXtcblx0ICAgIC8vICAgICAgICAgICBvbkJyaWRnZVJlYWR5KCk7XG5cdCAgICAvLyAgICAgICAgIH1cblx0ICAgIC8vICAgICAgIH1cblx0ICAgIC8vICAgICB9KVxuXHQgICAgLy8gfVxuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhc2tCdG5DbGljaycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXNrQnRuQ2xpY2soKSB7XG5cdCAgICAgIHZhciBjb250ZW50ID0gdGhpcy5yZWZzLmNvbnRlbnQudmFsdWU7XG5cdCAgICAgIGNvbnNvbGUubG9nKFwiY29udGVudCBpcyA9PT1cIiArIGNvbnRlbnQpO1xuXHQgICAgICBpZiAoY29udGVudCA9PSBcIlwiKSB7XG5cdCAgICAgICAgLy8gYWxlcnQoXCLlhoXlrrnkuI3og73kuLrnqbrlk6ZcIilcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgYWxlcnRDb250ZW50OiAn5YaF5a655LiN6IO95Li656m65ZOmJywgc2hvd0FsZXJ0OiB0cnVlIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaWQgPSB0aGlzLnByb3BzLnBhcmFtcy5pZDtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF90dXRvci5nZXRQcmVwYXlJbmZvKShjb250ZW50LCBpZCkpO1xuXHQgICAgICB0aGlzLnBheUZvckFzayhjb250ZW50LCBpZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgaWQgPSB0aGlzLnByb3BzLnBhcmFtcy5pZDtcblx0XG5cdCAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF90dXRvci5nZXRUdXRvckluZm8pKGlkKSk7XG5cdCAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF90dXRvci5nZXRUdXRvckFuc3dlckxpc3QpKGlkLCAxLCAxMCkpO1xuXHQgICAgICBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG5cdCAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZICsgd2luZG93LmlubmVySGVpZ2h0ID09IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICYmICF0aGlzLnByb3BzLnR1dG9yQW5zd2VyTGlzdC5jb21wbGV0ZWQpIHtcblx0ICAgICAgICAgIHZhciBjdXJQYWdlID0gKyt0aGlzLnN0YXRlLmN1clBhZ2U7XG5cdCAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VyUGFnZTogY3VyUGFnZSB9KTtcblx0ICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goKDAsIF90dXRvci5nZXRUdXRvckFuc3dlckxpc3QpKGlkLCBjdXJQYWdlLCAxMCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnByb3BzLnJvdXRlci5zZXRSb3V0ZUxlYXZlSG9vayh0aGlzLnByb3BzLnJvdXRlLCB0aGlzLnJvdXRlcldpbGxMZWF2ZSk7XG5cdCAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JvdXRlcldpbGxMZWF2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm91dGVyV2lsbExlYXZlKG5leHRMb2NhdGlvbikge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIC8vIHJldHVybiBmYWxzZSB0byBwcmV2ZW50IGEgdHJhbnNpdGlvbiB3L28gcHJvbXB0aW5nIHRoZSB1c2VyLFxuXHQgICAgICAvLyBvciByZXR1cm4gYSBzdHJpbmcgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZGVjaWRlOlxuXHQgICAgICBpZiAodGhpcy5yZWZzLmNvbnRlbnQudmFsdWUgIT0gJycgJiYgIXRoaXMuc3RhdGUuYXNrU3VjY2VzcyAmJiAhdGhpcy5zdGF0ZS5jYW5MZWF2ZSAmJiBuZXh0TG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZihcInBheVwiKSA9PT0gLTEpIHtcblx0ICAgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IG5leHRMb2NhdGlvbjogbmV4dExvY2F0aW9uLnBhdGhuYW1lLCBjYW5MZWF2ZTogdHJ1ZSB9KTtcblx0ICAgICAgICAgIGNvbnNvbGUubG9nKG5leHRMb2NhdGlvbik7XG5cdCAgICAgICAgICB2YXIgc2VsZiA9IF90aGlzMjtcblx0ICAgICAgICAgIF9tZXNzYWdlMi5kZWZhdWx0LmNvbmZpcm0oXCLmgqjnmoTmj5Dpl67lsJrmnKrmlK/ku5jvvIznoa7orqTnprvlvIDvvJ9cIiwgXCLmjqXnnYDmj5Dpl65cIiwgXCLnprvlvIBcIiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgY2FuTGVhdmU6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChuZXh0TG9jYXRpb24ucGF0aG5hbWUpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmYWxzZVxuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9KCk7XG5cdFxuXHQgICAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hpZGVBbGVydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUFsZXJ0KCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0FsZXJ0OiBmYWxzZSB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICB2YXIgdHV0b3JJbmZvID0gbmV4dFByb3BzLnR1dG9ySW5mbztcblx0XG5cdCAgICAgIGlmICh0dXRvckluZm8udXNlcl9mYWNlICYmIHRoaXMuc3RhdGUubm90UmVnU2hhcmUpIHtcblx0ICAgICAgICB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2Uoe1xuXHQgICAgICAgICAgdGl0bGU6IHR1dG9ySW5mby51c2VyX25hbWUgKyAnXFx1MjAxNFxcdTIwMTQnICsgdHV0b3JJbmZvLnVzZXJfY29tcGFueSArICdcXHVGRjBDJyArIHR1dG9ySW5mby51c2VyX3Bvc2l0aW9uLCAvLyDliIbkuqvmoIfpophcblx0ICAgICAgICAgIGRlc2M6IFwi6K+05Ye65pyA6L+R5Zuw5omw5L2g55qE6Zeu6aKY77yM5oiR5p2l5biu5L2g6Kej5YazXCIsIC8vIOWIhuS6q+aPj+i/sFxuXHQgICAgICAgICAgbGluazogbG9jYXRpb24uaHJlZiwgLy8g5YiG5Lqr6ZO+5o6lXG5cdCAgICAgICAgICBpbWdVcmw6IHR1dG9ySW5mby51c2VyX2ZhY2UsIC8vIOWIhuS6q+Wbvuagh1xuXHQgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcblx0ICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+aIkOWKn1wiKS8vIOeUqOaIt+ehruiupOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIGZhaWwoZXJyKSB7XG5cdCAgICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvlpLHotKXvvIzljp/lm6DmmK9cIitlcnIpXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvlpLHotKVcIikvLyDnlKjmiLflj5bmtojliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgbm90UmVnU2hhcmU6IGZhbHNlIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICBjbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zdWNjZXNzVGltZXIpO1xuXHQgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfdHV0b3IuY2xlYXJUdXRvckluZGV4KSgpKTtcblx0ICAgICAgd3gub25NZW51U2hhcmVBcHBNZXNzYWdlKHtcblx0ICAgICAgICB0aXRsZTogJ++8uzfngrnpl67nrZTvvL3pl67luIjlhYTvvIzpl67luIjlp5DvvIzpl67liY3ovognLCAvLyDliIbkuqvmoIfpophcblx0ICAgICAgICBkZXNjOiAn5aSn5a2m55Sf6IGM5Zy66Zeu562U5bmz5Y+w77yM5a+55LqO5Y2z5bCG5Yiw5p2l55qE56eL5oub77yM5L2g55qE6Zeu6aKY6YO95Y+v5Lul5Zyo6L+Z6YeM6Kej5Yaz44CCJywgLy8g5YiG5Lqr5o+P6L+wXG5cdCAgICAgICAgbGluazogbG9jYXRpb24uaHJlZiwgLy8g5YiG5Lqr6ZO+5o6lXG5cdCAgICAgICAgaW1nVXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSwgLy8g5YiG5Lqr5Zu+5qCHXG5cdCAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcblx0ICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvmiJDlip9cIikvLyDnlKjmiLfnoa7orqTliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGZhaWw6IGZ1bmN0aW9uIGZhaWwoZXJyKSB7XG5cdCAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5aSx6LSl77yM5Y6f5Zug5pivXCIrZXJyKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgICAgICAvLyBhbGVydChcIuWIhuS6q+Wksei0pVwiKS8vIOeUqOaIt+WPlua2iOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlVGV4dGFyZWEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVRleHRhcmVhKCkge1xuXHQgICAgICB2YXIgdGV4dCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5jb250ZW50KS52YWx1ZTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRleHRMZW5ndGg6IHRleHQubGVuZ3RoIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHR1dG9ySW5mbyA9IF9wcm9wcy50dXRvckluZm8sXG5cdCAgICAgICAgICB0dXRvckFuc3dlckxpc3QgPSBfcHJvcHMudHV0b3JBbnN3ZXJMaXN0O1xuXHRcblx0ICAgICAgcmV0dXJuIHR1dG9ySW5mby51c2VyX2ZhY2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbWFpbicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6ICd0dXRvckluZGV4JyB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3RvYXN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBzaG93OiB0aGlzLnN0YXRlLmFza1N1Y2Nlc3MgfSxcblx0ICAgICAgICAgICdcXHU2M0QwXFx1OTVFRVxcdTYyMTBcXHU1MjlGJ1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IGljb246ICdsb2FkaW5nJywgc2hvdzogdGhpcy5zdGF0ZS5sb2FkaW5nIH0sXG5cdCAgICAgICAgICAnXFx1OEJGN1xcdTZDNDJcXHU2NTJGXFx1NEVEOFxcdTRFMkRcXHUyMDI2XFx1MjAyNidcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX2FsZXJ0Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBzaG93OiB0aGlzLnN0YXRlLnNob3dBbGVydCwgdGl0bGU6IHRoaXMuc3RhdGUuYWxlcnQudGl0bGUsIGJ1dHRvbnM6IHRoaXMuc3RhdGUuYWxlcnQuYnV0dG9ucyB9LFxuXHQgICAgICAgICAgdGhpcy5zdGF0ZS5hbGVydENvbnRlbnRcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ3R1dG9yLWluZm8nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArICgndHV0b3Ivc2hhcmUvJyArIHR1dG9ySW5mby51c2VyX2lkKSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICdRUkVudHJ5Jywgc3JjOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSB9KVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogJ2F2YXRhcicsIHNyYzogdHV0b3JJbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3R1dG9yLW5hbWUnIH0sXG5cdCAgICAgICAgICAgIHR1dG9ySW5mby51c2VyX25hbWVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0dXRvci10aXRsZScgfSxcblx0ICAgICAgICAgICAgdHV0b3JJbmZvLnVzZXJfY29tcGFueSArIFwiICBcIiArIHR1dG9ySW5mby51c2VyX3Bvc2l0aW9uXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdoNScsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndHV0b3ItaW50cm8nIH0sXG5cdCAgICAgICAgICAgIHR1dG9ySW5mby51c2VyX2ludHJvZHVjdGlvblxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdncmFkZScgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdncmFkZS1pdGVtJyB9LFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3AnLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICdcXHVGRkU1Jyxcblx0ICAgICAgICAgICAgICAgIHR1dG9ySW5mby50ZWFjaGVyX2luY29tZVxuXHQgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAncCcsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgJ1xcdTYwM0JcXHU2NTM2XFx1NTE2NSdcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZ3JhZGUtaXRlbScgfSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdwJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAnXFx1RkZFNScsXG5cdCAgICAgICAgICAgICAgICB0dXRvckluZm8ubGlzdGVuX251bVxuXHQgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAncCcsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgJ1xcdTg4QUJcXHU1MDc3XFx1NTQyQydcblx0ICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYW5zd2VyLXRleHQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScsIHsgcmVmOiAnY29udGVudCcsIG1heExlbmd0aDogJzYwJywgb25LZXlVcDogdGhpcy5oYW5kbGVUZXh0YXJlYS5iaW5kKHRoaXMpLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVUZXh0YXJlYS5iaW5kKHRoaXMpLCBwbGFjZWhvbGRlcjogXCLlkJFcIiArIHR1dG9ySW5mby51c2VyX25hbWUgKyBcIuaPkOmXru+8jOetiVRB6K+t6Z+z5Zue562U77yb6LaF6L+HMjTlsI/ml7bmnKrlm57nrZTvvIzlsIbmjInmlK/ku5jot6/lvoTlhajpop3pgIDmrL5cIiB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0ZXh0LXRpcHMnIH0sXG5cdCAgICAgICAgICAgICAgdGhpcy5zdGF0ZS50ZXh0TGVuZ3RoLFxuXHQgICAgICAgICAgICAgICcvNjAnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndmFsdWUnIH0sXG5cdCAgICAgICAgICAgICdcXHVGRkU1Jyxcblx0ICAgICAgICAgICAgdHV0b3JJbmZvLnRlYWNoZXJfcHJpemVcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2JvdHRvbS1idG4nLCBvbkNsaWNrOiB0aGlzLmFza0J0bkNsaWNrLmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgJ1xcdTU0MTFUQVxcdTYzRDBcXHU5NUVFJ1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAncXVlc3Rpb24tbGlzdCcgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDUnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuXHQgICAgICAgICAgICAnXFx1NEVENlxcdThGRDhcXHU1NkRFXFx1N0I1NFxcdTRFODZcXHU4RkQ5XFx1NEU5QlxcdTk1RUVcXHU5ODk4J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIHR1dG9yQW5zd2VyTGlzdC5kYXRhLm1hcChmdW5jdGlvbiAocXVlc3Rpb24sIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcjIuZGVmYXVsdCwgeyBoZWFkOiB0dXRvckluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInLCBrZXk6IGluZGV4LCBxdWVzdGlvbjogcXVlc3Rpb24gfSk7XG5cdCAgICAgICAgICB9KSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCB7IGNvbXBsZXRlZDogdHV0b3JBbnN3ZXJMaXN0LmNvbXBsZXRlZCB9KVxuXHQgICAgICAgIClcblx0ICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nNC5kZWZhdWx0LCBudWxsKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUdXRvckluZGV4O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0VHV0b3JJbmRleCA9ICgwLCBfcmVhY3RSb3V0ZXIud2l0aFJvdXRlcikoVHV0b3JJbmRleCk7XG5cdFxuXHRUdXRvckluZGV4LnByb3BUeXBlcyA9IHtcblx0ICB0dXRvckluZm86IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWRcblx0fTtcblx0VHV0b3JJbmRleC5jb250ZXh0VHlwZXMgPSB7XG5cdCAgcm91dGVyOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHR1dG9ySW5mbzogc3RhdGUudHV0b3JJbmZvLFxuXHQgICAgdHV0b3JBbnN3ZXJMaXN0OiBzdGF0ZS50dXRvckFuc3dlckxpc3QsXG5cdCAgICBwcmVwYXlJbmZvOiBzdGF0ZS5wcmVwYXlJbmZvXG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoVHV0b3JJbmRleCk7XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdHV0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9UdXRvckl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdHZhciBfVHV0b3JJdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R1dG9ySXRlbSk7XG5cdFxuXHR2YXIgX1NlYXJjaEJhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRcblx0dmFyIF9TZWFyY2hCYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoQmFyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvVHV0b3JMaXN0LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0dmFyIF9Mb2FkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGluZyk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0XG5cdHZhciBUdXRvckxpc3QgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUdXRvckxpc3QsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUdXRvckxpc3QocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUdXRvckxpc3QpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUdXRvckxpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUdXRvckxpc3QpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1clBhZ2U6IDFcblx0ICAgIH07XG5cdCAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBfdGhpcy5oYW5kbGVTY3JvbGwuYmluZChfdGhpcyk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoVHV0b3JMaXN0LCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfdHV0b3IuZ2V0VHV0b3JMaXN0KSgxLCAyMCkpO1xuXHQgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfYWNjb3VudC5nZXRVc2VySW5mbykoKSk7XG5cdCAgICAgICQoJy5hcHAtY29udGFpbmVyJykub24oJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICQoJy5hcHAtY29udGFpbmVyJykub2ZmKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU2Nyb2xsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG5cdCAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcHAtY29udGFpbmVyJylbMF07XG5cdCAgICAgIGlmIChjb250YWluZXIuY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCArIDEgPj0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAmJiAhdGhpcy5wcm9wcy50dXRvckxpc3QuY29tcGxldGVkKSB7XG5cdCAgICAgICAgdmFyIGN1clBhZ2UgPSArK3RoaXMuc3RhdGUuY3VyUGFnZTtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VyUGFnZTogY3VyUGFnZSB9KTtcblx0ICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfdHV0b3IuZ2V0VHV0b3JMaXN0KShjdXJQYWdlLCAxMCkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgdHV0b3JMaXN0ID0gX3Byb3BzLnR1dG9yTGlzdCxcblx0ICAgICAgICAgIHVzZXJJZCA9IF9wcm9wcy51c2VySWQ7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ21haW4nLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAndHV0b3ItbGlzdCcgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoQmFyMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICAgICB0dXRvckxpc3QuZGF0YS5tYXAoZnVuY3Rpb24gKHR1dG9yLCBpbmRleCkge1xuXHQgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UdXRvckl0ZW0yLmRlZmF1bHQsIHsgdXNlcklkOiB1c2VySWQsIHR1dG9yOiB0dXRvciwga2V5OiBpbmRleCB9KTtcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgeyBjb21wbGV0ZWQ6IHR1dG9yTGlzdC5jb21wbGV0ZWQgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBUdXRvckxpc3Q7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRUdXRvckxpc3QucHJvcFR5cGVzID0ge1xuXHQgIHR1dG9yTGlzdDogX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHR1dG9yTGlzdDogc3RhdGUudHV0b3JMaXN0LFxuXHQgICAgdXNlcklkOiBzdGF0ZS5hY2NvdW50LnVzZXJJbmZvLnVzZXJfaWRcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzKShUdXRvckxpc3QpO1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfdHV0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvVHV0b3JTaGFyZS5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8yNC5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHRcblx0dmFyIFR1dG9yU2hhcmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFR1dG9yU2hhcmUsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFR1dG9yU2hhcmUoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR1dG9yU2hhcmUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFR1dG9yU2hhcmUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUdXRvclNoYXJlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFR1dG9yU2hhcmUsIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5wcm9wcy5wYXJhbXMuaWQ7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKCgwLCBfdHV0b3IuZ2V0VHV0b3JJbmZvKShpZCkpO1xuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyhcInF1ZXN0aW9uSW5mbz09PVwiICsgdGhpcy5wcm9wcy50dXRvckluZm8pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciB0dXRvckluZm8gPSB0aGlzLnByb3BzLnR1dG9ySW5mbztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdtYWluJyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlciBzaGFyZScgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlci1jYXJkLWJnJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogdHV0b3JJbmZvLnVzZXJfZmFjZSB9KVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlci1jYXJkJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IGNsYXNzTmFtZTogJ2F2YXRhcicsIHNyYzogdHV0b3JJbmZvLnVzZXJfZmFjZSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2gzJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduYW1lJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0dXRvckluZm8udXNlcl9uYW1lXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aXRsZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHV0b3JJbmZvLnVzZXJfY29tcGFueSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJyAgJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdHV0b3JJbmZvLnVzZXJfcG9zaXRpb25cblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdkZXNjcmlwdGlvbicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTk2OEZcXHU2NUY2XFx1OTY4RlxcdTU3MzBcXHU1RTJFXFx1NEY2MFxcdTg5RTNcXHU1MUIzXFx1NjI3RVxcdTVERTVcXHU0RjVDXFx1OTZCRVxcdTk4OThcXHVGRjAxJ1xuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgd2lkdGg6ICc3MCUnLCBzcmM6IGpyUXJjb2RlLmdldFFyQmFzZTY0KF9jb25maWcuZG9tYWluUGF0aCArICd0dXRvci8nICsgdHV0b3JJbmZvLnVzZXJfaWQsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLCAvL+S6jOe7tOeggeWbm+i+ueepuueZve+8jOm7mOiupOS4ujEwcHhcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNTYsIC8v5LqM57u056CB5Zu+54mH5a695bqm77yM6buY6K6k5Li6MjU2cHhcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjU2LCAvL+S6jOe7tOeggeWbvueJh+mrmOW6pu+8jOm7mOiupOS4ujI1NnB4XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0TGV2ZWw6IDIsIC8v5LqM57u056CB5a656ZSZbGV2ZWzvvIzpu5jorqTkuLrpq5hcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLCAvL+S6jOe7tOeggeminOiJslxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWdyb3VuZDogXCIjMDAwMDAwXCIgLy/kuoznu7TnoIHog4zmma/popzoibJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgICAgICB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGlwJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnXFx1NjIyQVxcdTU2RkVcXHU1MjA2XFx1NEVBQlxcdTUyMzBcXHU2NzBCXFx1NTNDQlxcdTU3MDgnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnYnInLCBudWxsKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTVFMkVcXHU1MkE5XFx1NjZGNFxcdTU5MUFcXHU3Njg0XFx1NUI2NlxcdTVGMUZcXHU1QjY2XFx1NTlCOVxcdTg5RTNcXHU1MUIzXFx1NTZGMFxcdTYwRDFcXHU1NDI3J1xuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFR1dG9yU2hhcmU7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHV0b3JJbmZvOiBzdGF0ZS50dXRvckluZm9cblx0ICAgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKFR1dG9yU2hhcmUpO1xuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2FjY291bnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvVXNlckluZGV4LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE4LlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgVXNlckluZGV4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVXNlckluZGV4LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVXNlckluZGV4KCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZXJJbmRleCk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChVc2VySW5kZXguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihVc2VySW5kZXgpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhVc2VySW5kZXgsIFt7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5nZXRPdGhlclVzZXJJbmZvKHRoaXMucHJvcHMucGFyYW1zLmlkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIC8vIGNvbnN0IHtpZH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuXHQgICAgICAvLyB0aGlzLnByb3BzLmRpc3BhdGNoKGdldFR1dG9ySW5mbyhpZCkpXG5cdCAgICAgIGNvbnNvbGUubG9nKFwicXVlc3Rpb25JbmZvPT09XCIgKyB0aGlzLnByb3BzLnR1dG9ySW5mbyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciB1c2VyID0gdGhpcy5wcm9wcy51c2VyO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdtYWluJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ3VzZXInIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlci1jYXJkLWJnJyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiB1c2VyLnVzZXJfZmFjZSB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAndXNlci1jYXJkJyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAnYXZhdGFyJywgc3JjOiB1c2VyLnVzZXJfZmFjZSB9KSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnaDMnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hbWUnIH0sXG5cdCAgICAgICAgICAgIHVzZXIudXNlcl9uYW1lXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdoNCcsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sXG5cdCAgICAgICAgICAgIHVzZXIudXNlcl9jb21wYW55LFxuXHQgICAgICAgICAgICAnICcsXG5cdCAgICAgICAgICAgIHVzZXIudXNlcl9wb3NpdGlvbixcblx0ICAgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgICB1c2VyLnVzZXJfZXhwZXJpZW5jZVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzZWxmLWludHJvJyB9LFxuXHQgICAgICAgICAgICB1c2VyLnVzZXJfaW50cm9kdWN0aW9uXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFVzZXJJbmRleDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFVzZXJJbmRleC5wcm9wVHlwZXMgPSB7XG5cdCAgdHV0b3JJbmZvOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7fSkpLmlzUmVxdWlyZWRcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICB1c2VyOiBzdGF0ZS5vdGhlclVzZXJJbmZvXG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywge1xuXHQgIGdldE90aGVyVXNlckluZm86IF9hY2NvdW50LmdldE90aGVyVXNlckluZm9cblx0fSkoVXNlckluZGV4KTtcblxuLyoqKi8gfSxcbi8qIDg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1F1ZXN0aW9uSXRlbUFza2VkTWUuc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTYuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHQvKipcblx0ICogY3JlYXRlIGJ5IHd1d3Fcblx0ICovXG5cdFxuXHRcblx0dmFyIFF1ZXN0aW9uSXRlbUFza2VkTWUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhRdWVzdGlvbkl0ZW1Bc2tlZE1lLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUXVlc3Rpb25JdGVtQXNrZWRNZShwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXN0aW9uSXRlbUFza2VkTWUpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUXVlc3Rpb25JdGVtQXNrZWRNZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFF1ZXN0aW9uSXRlbUFza2VkTWUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUXVlc3Rpb25JdGVtQXNrZWRNZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgcXVlc3Rpb24gPSB0aGlzLnByb3BzLnF1ZXN0aW9uO1xuXHRcblx0ICAgICAgdmFyIHVybCA9IHF1ZXN0aW9uLmlzYW5zd2VyZWQgPT0gJzAnID8gX2NvbmZpZy5iYXNlVXJsICsgJ2Fuc3dlci8nICsgcXVlc3Rpb24uaWQgOiBfY29uZmlnLmJhc2VVcmwgKyAncXVlc3Rpb24vJyArIHF1ZXN0aW9uLmlkO1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2FydGljbGUnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAncXVlc3Rpb24taXRlbS1hc2tlZC1tZScgfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICd1c2VySW5mbycgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgICAgeyB0bzogX2NvbmZpZy5iYXNlVXJsICsgJ3VzZXIvJyArIHF1ZXN0aW9uLnF1ZXN0aW9uX3VzZXJfaWQgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBxdWVzdGlvbi51c2VyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMicgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uLnVzZXJfbmFtZVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgeyB0bzogdXJsIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncXVlc3Rpb24tY29udGVudCcgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2g0Jyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uLmNvbnRlbnRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzdGF0dXMnIH0sXG5cdCAgICAgICAgICAgIHF1ZXN0aW9uLmlzYW5zd2VyZWQgPT0gJzAnID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4gbm90LXNvbHZlZCcgfSxcblx0ICAgICAgICAgICAgICAnXFx1NUY4NVxcdTg5RTNcXHU1MUIzJ1xuXHQgICAgICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4gc29sdmVkJyB9LFxuXHQgICAgICAgICAgICAgICdcXHU1REYyXFx1ODlFM1xcdTUxQjMnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUXVlc3Rpb25JdGVtQXNrZWRNZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdC8vIGNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4ge1xuXHQvLyAgICAgcmV0dXJuIHtcblx0Ly8gICAgICAgICBpc190ZWFjaGVyOiBzdGF0ZS5hY2NvdW50LnVzZXJJbmZvLmlzX3RlYWNoZXJcblx0Ly8gICAgIH1cblx0Ly8gfVxuXHQvLyBRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKSgpO1xuXHRcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFF1ZXN0aW9uSXRlbUFza2VkTWU7XG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyghKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi4vLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZS5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8xNi5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdC8qKlxuXHQgKiBjcmVhdGUgYnkgd3V3cVxuXHQgKi9cblx0XG5cdFxuXHR2YXIgUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgcXVlc3Rpb24gPSB0aGlzLnByb3BzLnF1ZXN0aW9uO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCArIFwicXVlc3Rpb24vXCIgKyBxdWVzdGlvbi5pZCB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2FydGljbGUnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdxdWVzdGlvbi13aXRob3V0LWF2YXRhci13aXRob3V0LWJ1YmJsZScgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdxdWVzdGlvbi1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnaDQnLFxuXHQgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgcXVlc3Rpb24uY29udGVudFxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3N0YXR1cycgfSxcblx0ICAgICAgICAgICAgcXVlc3Rpb24uaXNhbnN3ZXJlZCA9PSAnMCcgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0biBub3Qtc29sdmVkJyB9LFxuXHQgICAgICAgICAgICAgICdcXHU1Rjg1XFx1ODlFM1xcdTUxQjMnXG5cdCAgICAgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0biBzb2x2ZWQnIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdTVERjJcXHU4OUUzXFx1NTFCMydcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlO1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvQXNrZWRNZUxpc3Quc2Nzc1xcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKSk7XG5cdFxuXHR2YXIgX01vZGFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7XG5cdFxuXHR2YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX1F1ZXN0aW9uSXRlbUFza2VkTWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0XG5cdHZhciBfUXVlc3Rpb25JdGVtQXNrZWRNZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWVzdGlvbkl0ZW1Bc2tlZE1lKTtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9Mb2FkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGluZyk7XG5cdFxuXHR2YXIgX2NvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgQXNrZWRNZUxpc3QgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhBc2tlZE1lTGlzdCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEFza2VkTWVMaXN0KCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFza2VkTWVMaXN0KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQXNrZWRNZUxpc3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBc2tlZE1lTGlzdCkpLmNhbGwodGhpcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBhZmZvcmQ6ICcnLFxuXHQgICAgICBpbnZpdGVDb2RlOiAnJyxcblx0ICAgICAgaXNUZWFjaGVyOiB0cnVlXG5cdCAgICB9O1xuXHQgICAgX3RoaXMuaGFuZGxlU2Nyb2xsID0gX3RoaXMuaGFuZGxlU2Nyb2xsLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEFza2VkTWVMaXN0LCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuZ2V0QXNrZWRNZSgxLCAxMCk7XG5cdCAgICAgIH1cblx0ICAgICAgJCgnLmFwcC1jb250YWluZXInKS5vbignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgJCgnLmFwcC1jb250YWluZXInKS5vZmYoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTdWJtaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHtcblx0ICAgICAgaWYgKCF0aGlzLnN0YXRlLmludml0ZUNvZGUgfHwgIXRoaXMuc3RhdGUuYWZmb3JkKSB7XG5cdCAgICAgICAgYWxlcnQoJ+i/mOacieepuue8uueahOmhue+8jOivt+ajgOafpeWQjue7p+e7reWhq+WGmScpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnByb3BzLnJlcXVlc3RCZWNvbWVUZWFjaGVyKHRoaXMuc3RhdGUuaW52aXRlQ29kZSwgdGhpcy5zdGF0ZS5hZmZvcmQpO1xuXHQgICAgICB0aGlzLnJlZnMubW9kYWwuY2xvc2UoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTY3JvbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcblx0ICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICBjb21wbGV0ZWQgPSBfcHJvcHMuY29tcGxldGVkLFxuXHQgICAgICAgICAgcGFnZSA9IF9wcm9wcy5wYWdlLFxuXHQgICAgICAgICAgbG9hZGluZyA9IF9wcm9wcy5sb2FkaW5nO1xuXHRcblx0ICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FwcC1jb250YWluZXInKVswXTtcblx0ICAgICAgaWYgKCFsb2FkaW5nICYmIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBjb250YWluZXIuc2Nyb2xsVG9wICsgMSA+PSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0ICYmICFjb21wbGV0ZWQpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLmdldEFza2VkTWUocGFnZSwgMTApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgdXNlckluZm8gPSBfcHJvcHMyLnVzZXJJbmZvLFxuXHQgICAgICAgICAgY29tcGxldGVkID0gX3Byb3BzMi5jb21wbGV0ZWQsXG5cdCAgICAgICAgICBkYXRhID0gX3Byb3BzMi5kYXRhO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAnYXNrZWRNZUxpc3QnIH0sXG5cdCAgICAgICAgdXNlckluZm8uaXNfdGVhY2hlciA9PT0gJzEnID9cblx0ICAgICAgICAvLyB0aGlzLnN0YXRlLmlzVGVhY2hlciA/IChcblx0ICAgICAgICBkYXRhLmxlbmd0aCA9PT0gMCAmJiBjb21wbGV0ZWQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdoaW50JyB9LFxuXHQgICAgICAgICAgICAnXFx1OEZEOFxcdTZDQTFcXHU2NzA5XFx1NEVCQVxcdTk1RUVcXHU0RjYwJ1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcblx0ICAgICAgICAgICAgeyB0bzogX2NvbmZpZy5iYXNlVXJsICsgJ3R1dG9yL3NoYXJlLycgKyB1c2VySW5mby51c2VyX2lkIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYmVjb21lVHV0b3InIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdThCQTlcXHU2NkY0XFx1NTkxQVxcdTRFQkFcXHU0RTg2XFx1ODlFM1xcdTRGNjAnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9RdWVzdGlvbkl0ZW1Bc2tlZE1lMi5kZWZhdWx0LCB7IHF1ZXN0aW9uOiBpdGVtLCBrZXk6IGluZGV4IH0pO1xuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgeyBjb21wbGV0ZWQ6IGNvbXBsZXRlZCB9KVxuXHQgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdoaW50JyB9LFxuXHQgICAgICAgICAgICAnXFx1NjBBOFxcdThGRDhcXHU0RTBEXFx1NjYyRlxcdTVCRkNcXHU1RTA4XFx1NTRFNn4nXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2VtYWlsJyB9LFxuXHQgICAgICAgICAgICAnXFx1NTNEMVxcdTkwMDFcXHU0RTJBXFx1NEVCQVxcdTdCODBcXHU1Mzg2XFx1NTIzMHJlbnpoZW5nQDdkeWsuY29tJ1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduZXh0JyB9LFxuXHQgICAgICAgICAgICAnXFx1NUJBMVxcdTY4MzhcXHU5MDFBXFx1OEZDN1xcdTU0MEVcXHU2MjExXFx1NEVFQ1xcdTRGMUFcXHU0RUU1XFx1OTBBRVxcdTRFRjZcXHU3Njg0XFx1NUY2MlxcdTVGMEZcXHU1M0QxXFx1NjUzRVxcdTkwODBcXHU4QkY3XFx1NzgwMSdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2J1dHRvbicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYmVjb21lVHV0b3InLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzMi5yZWZzLm1vZGFsLm9wZW4oKTtcblx0ICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICdcXHU2MjEwXFx1NEUzQVxcdTVCRkNcXHU1RTA4J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfTW9kYWwyLmRlZmF1bHQsXG5cdCAgICAgICAgICAgIHsgbGVmdDogJzIyJywgdG9wOiAnMjI1JywgcmVmOiAnbW9kYWwnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaW52aXRhdGlvbicgfSxcblx0ICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICAnXFx1OTA4MFxcdThCRjdcXHU3ODAxJ1xuXHQgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbm8tdW5kZXJsaW5lJyxcblx0ICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiAnNHJlbScgfSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmludml0ZUNvZGUsXG5cdCAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1xcdThCRjdcXHU4RjkzXFx1NTE2NVxcdTYwQThcXHU3Njg0XFx1OTA4MFxcdThCRjdcXHU3ODAxJyxcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGludml0ZUNvZGU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYWZmb3JkJyB9LFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICdcXHU1NDExXFx1NjIxMVxcdTYzRDBcXHU5NUVFXFx1OTcwMFxcdTg5ODFcXHU2NTJGXFx1NEVEOCdcblx0ICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0Jyxcblx0ICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdpZHRoOiAnMS4ycmVtJyB9LFxuXHQgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbm8tdW5kZXJsaW5lJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmFmZm9yZCxcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGFmZm9yZDogZS50YXJnZXQudmFsdWUgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgJ1xcdTUxNDMnXG5cdCAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3N1Ym1pdCcsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcykgfSxcblx0ICAgICAgICAgICAgICAnXFx1Nzg2RVxcdTVCOUEnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQXNrZWRNZUxpc3Q7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGxvYWRpbmc6IHN0YXRlLmFjY291bnQuYXNrZWRNZS5sb2FkaW5nLFxuXHQgICAgZGF0YTogc3RhdGUuYWNjb3VudC5hc2tlZE1lLmRhdGEsXG5cdCAgICBjb21wbGV0ZWQ6IHN0YXRlLmFjY291bnQuYXNrZWRNZS5jb21wbGV0ZWQsXG5cdCAgICB1c2VySW5mbzogc3RhdGUuYWNjb3VudC51c2VySW5mbyxcblx0ICAgIHBhZ2U6IHN0YXRlLmFjY291bnQuYXNrZWRNZS5wYWdlXG5cdCAgfTtcblx0fTtcblx0XG5cdEFza2VkTWVMaXN0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBnZXRBc2tlZE1lOiBfYWNjb3VudC5nZXRBc2tlZE1lLCByZXF1ZXN0QmVjb21lVGVhY2hlcjogX2FjY291bnQucmVxdWVzdEJlY29tZVRlYWNoZXIgfSkoQXNrZWRNZUxpc3QpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQXNrZWRNZUxpc3Q7XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcIi4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvSUFza2VkTGlzdC5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdHZhciBfUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhciA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXHRcblx0dmFyIF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSk7XG5cdFxuXHR2YXIgX2FjY291bnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBfTG9hZGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9Mb2FkaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvYWRpbmcpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIElBc2tlZExpc3QgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhJQXNrZWRMaXN0LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSUFza2VkTGlzdChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElBc2tlZExpc3QpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJQXNrZWRMaXN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSUFza2VkTGlzdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBfdGhpcy5oYW5kbGVTY3JvbGwuYmluZChfdGhpcyk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoSUFza2VkTGlzdCwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgaWYgKHRoaXMucHJvcHMuZGF0YS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICB0aGlzLnByb3BzLmdldElBc2tlZCgxLCAxMCk7XG5cdCAgICAgIH1cblx0ICAgICAgJCgnLmFwcC1jb250YWluZXInKS5vbignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgJCgnLmFwcC1jb250YWluZXInKS5vZmYoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYW5kbGVTY3JvbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcblx0ICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICBjb21wbGV0ZWQgPSBfcHJvcHMuY29tcGxldGVkLFxuXHQgICAgICAgICAgcGFnZSA9IF9wcm9wcy5wYWdlLFxuXHQgICAgICAgICAgbG9hZGluZyA9IF9wcm9wcy5sb2FkaW5nO1xuXHRcblx0ICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FwcC1jb250YWluZXInKVswXTtcblx0ICAgICAgaWYgKCFsb2FkaW5nICYmIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBjb250YWluZXIuc2Nyb2xsVG9wICsgMSA+PSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0ICYmICFjb21wbGV0ZWQpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnaGFoJyk7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5nZXRJQXNrZWQocGFnZSwgMTApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIGRhdGEgPSBfcHJvcHMyLmRhdGEsXG5cdCAgICAgICAgICBjb21wbGV0ZWQgPSBfcHJvcHMyLmNvbXBsZXRlZDtcblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogJ2lBc2tlZExpc3QnIH0sXG5cdCAgICAgICAgZGF0YS5sZW5ndGggfHwgIWNvbXBsZXRlZCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5pc2Fuc3dlcmVkKSB7XG5cdCAgICAgICAgICAgICAgY2FzZSAnMCc6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlMi5kZWZhdWx0LCB7IGtleTogaW5kZXgsIHF1ZXN0aW9uOiBpdGVtIH0pO1xuXHQgICAgICAgICAgICAgIGNhc2UgJzEnOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyMi5kZWZhdWx0LCB7IGtleTogaW5kZXgsIHF1ZXN0aW9uOiBpdGVtIH0pO1xuXHQgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui/meS4qumXrumimOaciemXrumimFwiLCBpdGVtKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAnJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgeyBjb21wbGV0ZWQ6IGNvbXBsZXRlZCB9KVxuXHQgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdoaW50JyB9LFxuXHQgICAgICAgICAgICAnXFx1NEY2MFxcdThGRDhcXHU2Q0ExXFx1NjcwOVxcdTk1RUVcXHU4RkM3XFx1NTQ2Nn4nXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2dvJyB9LFxuXHQgICAgICAgICAgICAnXFx1NUZFQlxcdTUzQkJcXHU2MjdFJyxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgICAgeyB0bzogX2NvbmZpZy5iYXNlVXJsICsgXCJ0dXRvclwiIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdTVCRkNcXHU1RTA4J1xuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAnXFx1NUUyRVxcdTRGNjBcXHU4OUUzXFx1NTFCM1xcdTk1RUVcXHU5ODk4XFx1NTQyN34nXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIElBc2tlZExpc3Q7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGxvYWRpbmc6IHN0YXRlLmFjY291bnQuaUFza2VkLmxvYWRpbmcsXG5cdCAgICBkYXRhOiBzdGF0ZS5hY2NvdW50LmlBc2tlZC5kYXRhLFxuXHQgICAgY29tcGxldGVkOiBzdGF0ZS5hY2NvdW50LmlBc2tlZC5jb21wbGV0ZWQsXG5cdCAgICBwYWdlOiBzdGF0ZS5hY2NvdW50LmlBc2tlZC5wYWdlXG5cdCAgfTtcblx0fTtcblx0XG5cdElBc2tlZExpc3QgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCB7IGdldElBc2tlZDogX2FjY291bnQuZ2V0SUFza2VkIH0pKElBc2tlZExpc3QpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSUFza2VkTGlzdDtcblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL0xpdGVuZWRMaXN0LnNjc3NcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpO1xuXHRcblx0dmFyIF9hY2NvdW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9Mb2FkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGluZyk7XG5cdFxuXHR2YXIgX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfUXVlc3Rpb25JdGVtV2l0aEF2YXRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyKTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBMaXRlbmVkTGlzdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKExpdGVuZWRMaXN0LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTGl0ZW5lZExpc3QocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXRlbmVkTGlzdCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExpdGVuZWRMaXN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGl0ZW5lZExpc3QpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlU2Nyb2xsID0gX3RoaXMuaGFuZGxlU2Nyb2xsLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKExpdGVuZWRMaXN0LCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMucHJvcHMuZ2V0TGlzdGVuZWQoMSwgMTApO1xuXHQgICAgICB9XG5cdCAgICAgICQoJy5hcHAtY29udGFpbmVyJykub24oJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICQoJy5hcHAtY29udGFpbmVyJykub2ZmKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFuZGxlU2Nyb2xsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgY29tcGxldGVkID0gX3Byb3BzLmNvbXBsZXRlZCxcblx0ICAgICAgICAgIHBhZ2UgPSBfcHJvcHMucGFnZSxcblx0ICAgICAgICAgIGxvYWRpbmcgPSBfcHJvcHMubG9hZGluZztcblx0XG5cdCAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcHAtY29udGFpbmVyJylbMF07XG5cdCAgICAgIGlmICghbG9hZGluZyAmJiBjb250YWluZXIuY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCArIDEgPj0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAmJiAhY29tcGxldGVkKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5nZXRMaXN0ZW5lZChwYWdlLCAxMCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgZGF0YSA9IF9wcm9wczIuZGF0YSxcblx0ICAgICAgICAgIGNvbXBsZXRlZCA9IF9wcm9wczIuY29tcGxldGVkO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAnYXNrTWVMaXN0JyB9LFxuXHQgICAgICAgIGRhdGEubGVuZ3RoIHx8ICFjb21wbGV0ZWQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKHF1ZXN0aW9uLCBpbmRleCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIyLmRlZmF1bHQsIHsgcXVlc3Rpb246IHF1ZXN0aW9uLCBrZXk6IGluZGV4IH0pO1xuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTG9hZGluZzIuZGVmYXVsdCwgeyBjb21wbGV0ZWQ6IGNvbXBsZXRlZCB9KVxuXHQgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdoaW50JyB9LFxuXHQgICAgICAgICAgICAnXFx1NEY2MFxcdThGRDhcXHU2Q0ExXFx1NjcwOVxcdTUwNzdcXHU1NDJDXFx1OEZDN1xcdTU0NjZ+Jyxcblx0ICAgICAgICAgICAgZGF0YS5sZW5ndGhcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZ28nIH0sXG5cdCAgICAgICAgICAgICdcXHU1RkVCXFx1NTNCQicsXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuXHQgICAgICAgICAgICAgIHsgdG86IF9jb25maWcuYmFzZVVybCB9LFxuXHQgICAgICAgICAgICAgICdcXHU3MEVEXFx1OTVFOCdcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgJ1xcdTkwMUJcXHU0RTAwXFx1OTAxQlxcdTU0Mjd+J1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBMaXRlbmVkTGlzdDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgbG9hZGluZzogc3RhdGUuYWNjb3VudC5saXN0ZW5lZC5sb2FkaW5nLFxuXHQgICAgZGF0YTogc3RhdGUuYWNjb3VudC5saXN0ZW5lZC5kYXRhLFxuXHQgICAgY29tcGxldGVkOiBzdGF0ZS5hY2NvdW50Lmxpc3RlbmVkLmNvbXBsZXRlZCxcblx0ICAgIHBhZ2U6IHN0YXRlLmFjY291bnQubGlzdGVuZWQucGFnZVxuXHQgIH07XG5cdH07XG5cdExpdGVuZWRMaXN0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBnZXRMaXN0ZW5lZDogX2FjY291bnQuZ2V0TGlzdGVuZWQgfSkoTGl0ZW5lZExpc3QpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXRlbmVkTGlzdDtcblxuLyoqKi8gfSxcbi8qIDkzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL0Fuc3dlci5zY3NzXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKTtcblx0XG5cdHZhciBfcXVlc3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfYWNjb3VudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfdGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF90aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbWUpO1xuXHRcblx0dmFyIF9Wb2ljZVdhdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblx0XG5cdHZhciBfVm9pY2VXYXZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZvaWNlV2F2ZSk7XG5cdFxuXHR2YXIgX3RvYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3RvYXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvYXN0KTtcblx0XG5cdHZhciBfY29uZmlnMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NvbmZpcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblx0XG5cdHZhciBfY29uZmlybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maXJtKTtcblx0XG5cdHZhciBfYWxlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfYWxlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWxlcnQpO1xuXHRcblx0dmFyIF9tZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX21lc3NhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVzc2FnZSk7XG5cdFxuXHR2YXIgX0xvYWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfTG9hZGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgQW5zd2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQW5zd2VyLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQW5zd2VyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuc3dlcik7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFuc3dlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFuc3dlcikpLmNhbGwodGhpcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBsb2NhbElkOiBudWxsLFxuXHQgICAgICBzdGF0dXM6IDAsIC8vMDror53nrZLnrYnlvoXlvZXpn7PvvIwx77ya562J5b6F5b6u5L+h5Y+R6LW35b2V6Z+z77yMMu+8muW9lemfs+S4re+8jDPvvJrnrYnlvoXlvq7kv6HlgZzmraLlvZXpn7PvvIw077ya562J5b6F5pKt5pS+77yMNe+8muaSreaUvuS4rVxuXHQgICAgICBhbnN3ZXJTdWNjZXNzOiBmYWxzZSxcblx0ICAgICAgc3VjY2Vzc1RpbWVyOiBudWxsLFxuXHQgICAgICBhdXRob3JpemluZzogZmFsc2UsXG5cdCAgICAgIHVwbG9hZGluZzogZmFsc2UsXG5cdCAgICAgIFNUQVJUOiAwLFxuXHQgICAgICBFTkQ6IDAsXG5cdCAgICAgIGNhbkxlYXZlOiBmYWxzZSxcblx0ICAgICAgc2hvd0FsZXJ0OiBmYWxzZSxcblx0ICAgICAgYWxlcnRDb250ZW50OiBcIlwiLFxuXHQgICAgICBhbGVydDoge1xuXHQgICAgICAgIHRpdGxlOiBcIuaPkOekulwiLFxuXHQgICAgICAgIGJ1dHRvbnM6IFt7XG5cdCAgICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcblx0ICAgICAgICAgIGxhYmVsOiBcIuehruWumlwiLFxuXHQgICAgICAgICAgb25DbGljazogX3RoaXMuaGlkZUFsZXJ0LmJpbmQoX3RoaXMpXG5cdCAgICAgICAgfV1cblx0ICAgICAgfSxcblx0ICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbi5ocmVmXG5cdCAgICB9O1xuXHQgICAgX3RoaXMuY29uZmlnVXJsTGlzdCA9IFtdO1xuXHQgICAgX3RoaXMuY2xpY2tIYW5kbGVyID0gX3RoaXMuY2xpY2tIYW5kbGVyLmJpbmQoX3RoaXMpO1xuXHQgICAgX3RoaXMucm91dGVyV2lsbExlYXZlID0gX3RoaXMucm91dGVyV2lsbExlYXZlLmJpbmQoX3RoaXMpO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKEFuc3dlciwgW3tcblx0ICAgIGtleTogJ2hpZGVBbGVydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUFsZXJ0KCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0FsZXJ0OiBmYWxzZSB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgICAgdmFyIGlkID0gdGhpcy5wcm9wcy5wYXJhbXMuaWQ7XG5cdFxuXHQgICAgICB0aGlzLnByb3BzLmdldFF1ZXN0aW9uSW5mbyhpZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLmNvbmZpZ1VybExpc3QucHVzaChcImh0dHA6Ly9oNWFwcC43ZHlrLmNvbS9hbWEvN2R5ay9cIiwgdGhpcy5wcm9wcy5sYW5kUGFnZSwgbG9jYXRpb24uaHJlZik7XG5cdCAgICAgIGlmICghdGhpcy5wcm9wcy5XWENvbmZpZy5zdWNjZXNzKSB7XG5cdCAgICAgICAgdGhpcy5yZWZyZXNoV1hDb25maWcoKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgIC8vIHd4LnJlYWR5KGZ1bmN0aW9uKCl7XG5cdCAgICAgIC8vICAgY29uc29sZS5sb2coXCJhbGxvd1JlY29yZFwiICsgc2Vzc2lvblN0b3JhZ2UuYWxsb3dSZWNvcmQpXG5cdCAgICAgIC8vICAgaWYoIXNlc3Npb25TdG9yYWdlLmFsbG93UmVjb3JkIHx8IHNlc3Npb25TdG9yYWdlLmFsbG93UmVjb3JkICE9PSAndHJ1ZScpe1xuXHQgICAgICAvLyAgICAgc2VsZi5zZXRTdGF0ZSh7YXV0aG9yaXppbmc6dHJ1ZX0pXG5cdCAgICAgIC8vICAgICB3eC5zdGFydFJlY29yZCh7XG5cdCAgICAgIC8vICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCl7XG5cdCAgICAgIC8vICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuYWxsb3dSZWNvcmQgPSB0cnVlO1xuXHQgICAgICAvLyAgICAgICAgIHNlbGYuc2V0U3RhdGUoe2F1dGhvcml6aW5nOmZhbHNlfSlcblx0ICAgICAgLy8gICAgICAgICBzZWxmLnJlY29yZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXHQgICAgICAvLyAgICAgICAgICAgd3guc3RvcFJlY29yZCgpO1xuXHQgICAgICAvLyAgICAgICAgIH0sNTAwKTtcblx0ICAgICAgLy8gICAgICAgfSxcblx0ICAgICAgLy8gICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XG5cdCAgICAgIC8vICAgICAgICAgICBzZWxmLnNldFN0YXRlKHthdXRob3JpemluZzpmYWxzZX0pXG5cdCAgICAgIC8vICAgICAgIH1cblx0ICAgICAgLy8gICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vICAgICAgICAgLy8gYWxlcnQoJ+eUqOaIt+aLkue7neaOiOadg+W9lemfsycpO1xuXHQgICAgICAvLyAgICAgICAgIHNlbGYuc2V0U3RhdGUoe2FsZXJ0Q29udGVudDpcIueUqOaIt+aLkue7neaOiOadg+W9lemfs1wiLHNob3dBbGVydDp0cnVlLGF1dGhvcml6aW5nOmZhbHNlfSlcblx0ICAgICAgLy8gICAgICAgfVxuXHQgICAgICAvLyAgICAgfSk7XG5cdCAgICAgIC8vICAgfVxuXHQgICAgICAvL1xuXHQgICAgICAvLyB9KVxuXHQgICAgICB3eC5yZWFkeShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKCFzZWxmLnByb3BzLldYQ29uZmlnLnN1Y2Nlc3MpIHtcblx0ICAgICAgICAgIHNlbGYucHJvcHMuY29uZmlnU3VjY2VzcygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB3eC5vblZvaWNlUGxheUVuZCh7XG5cdCAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlcykge1xuXHQgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc3RhdHVzOiA0IH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgd3guZXJyb3IoZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHNlbGYucmVmcmVzaFdYQ29uZmlnKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnByb3BzLnJvdXRlci5zZXRSb3V0ZUxlYXZlSG9vayh0aGlzLnByb3BzLnJvdXRlLCB0aGlzLnJvdXRlcldpbGxMZWF2ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm91dGVyV2lsbExlYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByb3V0ZXJXaWxsTGVhdmUobmV4dExvY2F0aW9uKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgLy8gcmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgYSB0cmFuc2l0aW9uIHcvbyBwcm9tcHRpbmcgdGhlIHVzZXIsXG5cdCAgICAgIC8vIG9yIHJldHVybiBhIHN0cmluZyB0byBhbGxvdyB0aGUgdXNlciB0byBkZWNpZGU6XG5cdCAgICAgIGlmICghdGhpcy5zdGF0ZS5hbnN3ZXJTdWNjZXNzICYmICF0aGlzLnN0YXRlLmNhbkxlYXZlKSB7XG5cdCAgICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAvLyByZXR1cm4gJ+aCqOeahOWbnuetlOWwmuacquWujOaIkO+8jOehruiupOemu+W8gD8nXG5cdCAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjYW5MZWF2ZTogdHJ1ZSB9KTtcblx0ICAgICAgICAgIHZhciBjb25maXJtVGV4dCA9IHZvaWQgMCxcblx0ICAgICAgICAgICAgICBzZWxmID0gX3RoaXMyO1xuXHQgICAgICAgICAgc3dpdGNoIChfdGhpczIuc3RhdGUuc3RhdHVzKSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgICAgIGNvbmZpcm1UZXh0ID0gXCLmgqjov5jmnKrlm57nrZTor6Xpl67popjvvIznoa7orqTnprvlvIA/XCI7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgICAgICB2YXIgdGFsa0J0biA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShzZWxmLnJlZnMucm91bmRDb250YWluZXIpO1xuXHQgICAgICAgICAgICAgIHRhbGtCdG4uY2xpY2soKTtcblx0ICAgICAgICAgICAgICBjb25maXJtVGV4dCA9IFwi5q2j5Zyo5b2V6Z+z5Lit77yM56Gu6K6k56a75byAP1wiO1xuXHQgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgICAgIGNvbmZpcm1UZXh0ID0gXCLmgqjnmoTlvZXpn7Pov5jmnKrkuIrkvKDvvIznoa7orqTnprvlvIA/XCI7XG5cdCAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyAgIHRoaXMuc2V0U3RhdGUoe2NvbmZpcm1UZXh0OmNvbmZpcm1UZXh0LHNob3dDb25maXJtOnRydWUsbmV4dExvY2F0aW9uOm5leHRMb2NhdGlvbn0pXG5cdFxuXHQgICAgICAgICAgX21lc3NhZ2UyLmRlZmF1bHQuY29uZmlybShjb25maXJtVGV4dCwgXCLmjqXnnYDlm57nrZRcIiwgXCLnprvlvIBcIiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICBjYW5MZWF2ZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKG5leHRMb2NhdGlvbi5wYXRobmFtZSk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6IGZhbHNlXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0oKTtcblx0XG5cdCAgICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXApIHtcblx0ICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG5cdCAgICAgICAgaWYgKG5vdyAvIDEwMDAgLSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXAgPCAzICYmIG5leHRQcm9wcy5XWENvbmZpZy5kYXRhLnRpbWVzdGFtcCAhPSB0aGlzLnByb3BzLldYQ29uZmlnLmRhdGEudGltZXN0YW1wKSB7XG5cdCAgICAgICAgICB2YXIganNBcGlMaXN0ID0gWydzdGFydFJlY29yZCcsICdzdG9wUmVjb3JkJywgJ3BsYXlWb2ljZScsICdwYXVzZVZvaWNlJywgJ3N0b3BWb2ljZScsICdvblZvaWNlUGxheUVuZCcsICd1cGxvYWRWb2ljZScsICdjaG9vc2VXWFBheScsICdvbk1lbnVTaGFyZVRpbWVsaW5lJywgJ29uTWVudVNoYXJlQXBwTWVzc2FnZSddO1xuXHQgICAgICAgICAgdmFyIG5ld1d4Q29uZmlnID0ge307XG5cdCAgICAgICAgICBuZXdXeENvbmZpZ1snZGVidWcnXSA9IGZhbHNlO1xuXHQgICAgICAgICAgbmV3V3hDb25maWdbJ2FwcElkJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnYXBwSWQnXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWyd0aW1lc3RhbXAnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhLnRpbWVzdGFtcC50b1N0cmluZygpO1xuXHQgICAgICAgICAgbmV3V3hDb25maWdbJ25vbmNlU3RyJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnbm9uY2VTdHInXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWydzaWduYXR1cmUnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhWydzaWduYXR1cmUnXTtcblx0ICAgICAgICAgIG5ld1d4Q29uZmlnWydqc0FwaUxpc3QnXSA9IGpzQXBpTGlzdDtcblx0ICAgICAgICAgIHd4LmNvbmZpZyhuZXdXeENvbmZpZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnN1Y2Nlc3NUaW1lcik7XG5cdCAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgdGFsa0J0biA9IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShzZWxmLnJlZnMucm91bmRDb250YWluZXIpO1xuXHQgICAgICAgIHRhbGtCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxmLmNsaWNrSGFuZGxlciwgZmFsc2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWZyZXNoV1hDb25maWcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hXWENvbmZpZygpIHtcblx0ICAgICAgdmFyIHVybCA9IHRoaXMuY29uZmlnVXJsTGlzdC5wb3AoKTtcblx0ICAgICAgaWYgKHVybCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5nZXRXWENvbmZpZyh1cmwpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2xpY2tIYW5kbGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgLy8gdmFyIGxvY2FsSWQsU1RBUlQsRU5ELHJlY29yZFRpbWVyO1xuXHQgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgIHZhciByZWNvcmRTdGFydEhhbmRsZXIgPSBmdW5jdGlvbiByZWNvcmRTdGFydEhhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHd4LnN0YXJ0UmVjb3JkKHtcblx0ICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcblx0ICAgICAgICAgICAgICB2YXIgU1RBUlQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgU1RBUlQ6IFNUQVJULCBzdGF0dXM6IDIgfSk7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICAgICAgICAgIC8vIGFsZXJ0KCfnlKjmiLfmi5Lnu53mjojmnYPlvZXpn7MnKTtcblx0ICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc3RhdHVzOiAwLCBhbGVydENvbnRlbnQ6IFwi55So5oi35ouS57ud5o6I5p2D5b2V6Z+zXCIsIHNob3dBbGVydDogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbCgpIHtcblx0ICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc3RhdHVzOiAwLCBhbGVydENvbnRlbnQ6IFwi6I635Y+W5o6I5p2D5aSx6LSl77yM6K+356iN5YCZ6YeN6K+VXCIsIHNob3dBbGVydDogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hXWENvbmZpZygpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH07XG5cdCAgICAgIHZhciByZWNvcmRTdG9wSGFuZGxlciA9IGZ1bmN0aW9uIHJlY29yZFN0b3BIYW5kbGVyKGV2ZW50KSB7XG5cdCAgICAgICAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB2YXIgRU5EID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgICAgICAgaWYgKEVORCAtIHNlbGYuc3RhdGUuU1RBUlQgPCAxMDAwKSB7XG5cdCAgICAgICAgICBFTkQgPSAwO1xuXHQgICAgICAgICAgLy8gYWxlcnQoXCLlvZXpn7PkuI3og73lsI/kuo4x56eS5ZOmXCIpXG5cdCAgICAgICAgICB3eC5yZWFkeShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHd4LnN0b3BSZWNvcmQoKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHN0YXR1czogMCwgYWxlcnRDb250ZW50OiBcIuW9lemfs+S4jeiDveWwkeS6jjHnp5Llk6ZcIiwgc2hvd0FsZXJ0OiB0cnVlIH0pO1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgd3guc3RvcFJlY29yZCh7XG5cdCAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBsb2NhbElkID0gcmVzLmxvY2FsSWQ7XG5cdCAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgbG9jYWxJZDogbG9jYWxJZCwgc3RhdHVzOiA0IH0pO1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gZmFpbCgpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBzdGF0dXM6IDAsIGFsZXJ0Q29udGVudDogXCLojrflj5bmjojmnYPlpLHotKXvvIzor7fnqI3lgJnph43or5VcIiwgc2hvd0FsZXJ0OiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoV1hDb25maWcoKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcGxheVN0YXJ0SGFuZGxlciA9IGZ1bmN0aW9uIHBsYXlTdGFydEhhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHd4LnBsYXlWb2ljZSh7XG5cdCAgICAgICAgICAgIGxvY2FsSWQ6IHNlbGYuc3RhdGUubG9jYWxJZCAvLyDpnIDopoHmkq3mlL7nmoTpn7PpopHnmoTmnKzlnLBJRO+8jOeUsXN0b3BSZWNvcmTmjqXlj6Pojrflvpdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcGxheVN0b3BIYW5kbGVyID0gZnVuY3Rpb24gcGxheVN0b3BIYW5kbGVyKGV2ZW50KSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB3eC5yZWFkeShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB3eC5zdG9wVm9pY2Uoe1xuXHQgICAgICAgICAgICBsb2NhbElkOiBzZWxmLnN0YXRlLmxvY2FsSWQgLy8g6ZyA6KaB5YGc5q2i55qE6Z+z6aKR55qE5pys5ZywSUTvvIznlLFzdG9wUmVjb3Jk5o6l5Y+j6I635b6XXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIHBhc3NIYW5kbGVyID0gZnVuY3Rpb24gcGFzc0hhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZyhcIndhaXQgZm9yIHd4XCIpO1xuXHQgICAgICB9O1xuXHQgICAgICBzd2l0Y2ggKHNlbGYuc3RhdGUuc3RhdHVzKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgLyror53nrZLnrYnlvoXlvZXpn7MqL1xuXHQgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHN0YXR1czogMSB9KTtcblx0ICAgICAgICAgIHJlY29yZFN0YXJ0SGFuZGxlcihldmVudCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICAvKuetieW+heW+ruS/oeWPkei1t+W9lemfsyovXG5cdCAgICAgICAgICBwYXNzSGFuZGxlcihldmVudCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAvKuW9lemfs+S4rSovXG5cdCAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc3RhdHVzOiAzIH0pO1xuXHQgICAgICAgICAgcmVjb3JkU3RvcEhhbmRsZXIoZXZlbnQpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgLyrnrYnlvoXlvq7kv6HlgZzmraLlvZXpn7MqL1xuXHQgICAgICAgICAgcGFzc0hhbmRsZXIoZXZlbnQpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgLyrnrYnlvoXmkq3mlL4qL1xuXHQgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHN0YXR1czogNSB9KTtcblx0ICAgICAgICAgIHBsYXlTdGFydEhhbmRsZXIoZXZlbnQpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgLyrmkq3mlL7kuK0qL1xuXHQgICAgICAgICAgcGxheVN0b3BIYW5kbGVyKGV2ZW50KTtcblx0ICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBzdGF0dXM6IDQgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlVm9pY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVWb2ljZShzZXJ2ZXJJZCwgcXVlc3Rpb25JZCkge1xuXHQgICAgICB2YXIgX2ZldGNoO1xuXHRcblx0ICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICBzZWxmLnNldFN0YXRlKHsgdXBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgICBmZXRjaChfY29uZmlnMi5kb21haW4gKyAnL2FwaS92MS9hbnN3ZXIvYW5zd2VyJywgKF9mZXRjaCA9IHtcblx0ICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcblx0ICAgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgICBoZWFkZXJzOiB7XG5cdCAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHQgICAgICAgIH1cblx0ICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9mZXRjaCwgJ2NyZWRlbnRpYWxzJywgJ3NhbWUtb3JpZ2luJyksIF9kZWZpbmVQcm9wZXJ0eShfZmV0Y2gsICdib2R5JywgSlNPTi5zdHJpbmdpZnkoe1xuXHQgICAgICAgIHNlcnZlcl9pZDogc2VydmVySWQsXG5cdCAgICAgICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uSWRcblx0ICAgICAgfSkpLCBfZmV0Y2gpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblx0ICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICAgIGlmIChqc29uLmVyckNvZGUgPT0gMCkge1xuXHQgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHVwbG9hZGluZzogZmFsc2UsIGFuc3dlclN1Y2Nlc3M6IHRydWUgfSk7XG5cdCAgICAgICAgICBzZWxmLnByb3BzLmdldEFza2VkTWUoMSwgMTApO1xuXHQgICAgICAgICAgdmFyIHN1Y2Nlc3NUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaChfY29uZmlnMi5iYXNlVXJsICsgXCJhY2NvdW50L0Fza2VkTWVMaXN0XCIpO1xuXHQgICAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgc3VjY2Vzc1RpbWVyOiBzdWNjZXNzVGltZXIgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBhbGVydENvbnRlbnQ6IFwi5oqx5q2J77yM5b2V6Z+z5LiK5Lyg5aSx6LSlXCIsIHNob3dBbGVydDogdHJ1ZSB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbmZpcm1BbnN3ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1BbnN3ZXIoKSB7XG5cdCAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgdmFyIGxvY2FsSWQgPSB0aGlzLnN0YXRlLmxvY2FsSWQ7XG5cdCAgICAgIGlmIChsb2NhbElkID09IG51bGwpIHtcblx0ICAgICAgICAvLyBhbGVydChcIuivt+WFiOW9lemfs+WTplwiKVxuXHQgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBhbGVydENvbnRlbnQ6IFwi6K+35YWI5b2V6Z+z5ZOmXCIsIHNob3dBbGVydDogdHJ1ZSB9KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgd3gudXBsb2FkVm9pY2Uoe1xuXHQgICAgICAgIGxvY2FsSWQ6IGxvY2FsSWQsIC8vIOmcgOimgeS4iuS8oOeahOmfs+mikeeahOacrOWcsElE77yM55Sxc3RvcFJlY29yZOaOpeWPo+iOt+W+l1xuXHQgICAgICAgIGlzU2hvd1Byb2dyZXNzVGlwczogMSwgLy8g6buY6K6k5Li6Me+8jOaYvuekuui/m+W6puaPkOekulxuXHQgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XG5cdCAgICAgICAgICB2YXIgc2VydmVySWQgPSByZXMuc2VydmVySWQ7XG5cdCAgICAgICAgICB2YXIgcXVlc3Rpb25JZCA9IHNlbGYucHJvcHMucGFyYW1zLmlkO1xuXHQgICAgICAgICAgc2VsZi5zYXZlVm9pY2Uoc2VydmVySWQsIHF1ZXN0aW9uSWQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGxheVZvaWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5Vm9pY2UoKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoeyBwbGF5aW5nOiB0cnVlIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlUmVjb3JkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZVJlY29yZCgpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0YXR1czogMCB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgcXVlc3Rpb25JbmZvID0gdGhpcy5wcm9wcy5xdWVzdGlvbkluZm87XG5cdCAgICAgIHZhciBjbGFzc05hbWVzID0ge1xuXHQgICAgICAgIDA6IFwiIFwiLFxuXHQgICAgICAgIDE6IFwiIFwiLFxuXHQgICAgICAgIDI6IFwiIG9uXCIsXG5cdCAgICAgICAgMzogXCIgb25cIixcblx0ICAgICAgICA0OiBcIiB2b2ljZVwiLFxuXHQgICAgICAgIDU6IFwiIHZvaWNlLW9uXCJcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIFRpcHMgPSB7XG5cdCAgICAgICAgMDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAnXFx1NzBCOVxcdTUxRkJcXHU1RjU1XFx1OTdGMydcblx0ICAgICAgICApLFxuXHQgICAgICAgIDE6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgJ1xcdTVGMDBcXHU1NDJGXFx1NEUyRCdcblx0ICAgICAgICApLFxuXHQgICAgICAgIDI6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgJ1xcdTZCNjNcXHU1NzI4XFx1NUY1NVxcdTk3RjMnLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2JyJywgbnVsbCksXG5cdCAgICAgICAgICAnXFx1NzBCOVxcdTUxRkJcXHU1MDVDXFx1NkI2Midcblx0ICAgICAgICApLFxuXHQgICAgICAgIDM6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgJ1xcdTUwNUNcXHU2QjYyXFx1NEUyRCdcblx0ICAgICAgICApLFxuXHQgICAgICAgIDQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgJ1xcdTcwQjlcXHU1MUZCXFx1OEJENVxcdTU0MkMnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICA1OiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICdcXHU2NEFEXFx1NjUzRVxcdTRFMkQnXG5cdCAgICAgICAgKVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gcXVlc3Rpb25JbmZvLnVzZXJfZmFjZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiAnYWNjb3VudC1hbnN3ZXInIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHNob3c6IHRoaXMuc3RhdGUuYW5zd2VyU3VjY2VzcyB9LFxuXHQgICAgICAgICAgJ1xcdTU2REVcXHU3QjU0XFx1NjIxMFxcdTUyOUYnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF90b2FzdDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgaWNvbjogJ2xvYWRpbmcnLCBzaG93OiB0aGlzLnN0YXRlLnN0YXR1cyA9PSAxIH0sXG5cdCAgICAgICAgICAnXFx1NUYwMFxcdTU0MkZcXHU0RTJEJ1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IGljb246ICdsb2FkaW5nJywgc2hvdzogdGhpcy5zdGF0ZS5zdGF0dXMgPT0gMyB9LFxuXHQgICAgICAgICAgJ1xcdTUwNUNcXHU2QjYyXFx1NEUyRCdcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3RvYXN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBpY29uOiAnbG9hZGluZycsIHNob3c6IHRoaXMuc3RhdGUuYXV0aG9yaXppbmcgfSxcblx0ICAgICAgICAgICdcXHU4M0I3XFx1NTNENlxcdTYzODhcXHU2NzQzJ1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9hc3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IGljb246ICdsb2FkaW5nJywgc2hvdzogdGhpcy5zdGF0ZS51cGxvYWRpbmcgfSxcblx0ICAgICAgICAgICdcXHU0RTBBXFx1NEYyMFxcdTRFMkQnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9hbGVydDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgc2hvdzogdGhpcy5zdGF0ZS5zaG93QWxlcnQsIHRpdGxlOiAnXFx1NjNEMFxcdTc5M0EnLCBidXR0b25zOiB0aGlzLnN0YXRlLmFsZXJ0LmJ1dHRvbnMgfSxcblx0ICAgICAgICAgIHRoaXMuc3RhdGUuYWxlcnRDb250ZW50XG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdhbnN3ZXItcXVlc3Rpb24nIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGVhZCcgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG5cdCAgICAgICAgICAgICAgeyB0bzogX2NvbmZpZzIuYmFzZVVybCArICd1c2VyLycgKyBxdWVzdGlvbkluZm8udXNlcl9pZCB9LFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogcXVlc3Rpb25JbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJyB9KVxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduYW1lJyB9LFxuXHQgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mby51c2VyX25hbWVcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJpY2UnIH0sXG5cdCAgICAgICAgICAgICAgJ1xcdUZGRTUgJyxcblx0ICAgICAgICAgICAgICBxdWVzdGlvbkluZm8ucXVlc3Rpb25fcHJpemVcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzdGVtJyB9LFxuXHQgICAgICAgICAgICBxdWVzdGlvbkluZm8ucXVlc3Rpb25fY29udGVudFxuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aW1lJyB9LFxuXHQgICAgICAgICAgICBfdGltZTIuZGVmYXVsdC5nZXRUaW1lU3BhbihxdWVzdGlvbkluZm8ucXVlc3Rpb25fdGltZSksXG5cdCAgICAgICAgICAgICdcXHU0RTRCXFx1NTI0RCdcblx0ICAgICAgICAgIClcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ2hpbnQnIH0sXG5cdCAgICAgICAgICAnXFx1NjBBOFxcdTc2ODRcXHU1NkRFXFx1N0I1NFxcdTVDMDZcXHU4OEFCXFx1NTE2Q1xcdTVGMDBcXHVGRjBDXFx1N0I1NFxcdTY4NDhcXHU2QkNGXFx1ODhBQlxcdTUwNzdcXHU1NDJDXFx1NEUwMFxcdTZCMjFcXHVGRjBDXFx1NEY2MFxcdTVDMzFcXHU4RDVBIFxcdUZGRTUwLjMnXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdyZXBseUhpbnQnIH0sXG5cdCAgICAgICAgICBUaXBzW3RoaXMuc3RhdGUuc3RhdHVzXVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgcmVmOiAncmVwbHlDb250YWluZXInLCBjbGFzc05hbWU6ICdyZXBseUNvbnRhaW5lcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyByZWY6ICdyb3VuZENvbnRhaW5lcicsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jbGlja0hhbmRsZXIoZSk7XG5cdCAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBcInJvdW5kLWNvbnRhaW5lciBcIiArIGNsYXNzTmFtZXNbdGhpcy5zdGF0ZS5zdGF0dXNdIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ3JlcGx5SWNvbicgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ3JlY29yZGluZycgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ2J1YmJsZS12b2ljZScgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Wb2ljZVdhdmUyLmRlZmF1bHQsIG51bGwpXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6ICdyZVJlY29yZCcsIG9uQ2xpY2s6IHRoaXMucmVSZWNvcmQuYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgJ1xcdTkxQ0RcXHU1RjU1J1xuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiAncmVjb3JkSGludCcgfSxcblx0ICAgICAgICAgIHRoaXMuc3RhdGUubG9jYWxJZCA9PSBudWxsID8gXCLngrnlh7vlvZXpn7PmjInpkq7mnIDlpJrlj6/lvZXliLY2MFNcIiA6IFwi54K55Ye76K+V5ZCs5Y+v6K+V5ZCs5oKo5pyA6L+R5LiA5qyh55qE5Zue562UXCJcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogJ3NlbmRCdG4nLCBvbkNsaWNrOiB0aGlzLmNvbmZpcm1BbnN3ZXIuYmluZCh0aGlzKSB9LFxuXHQgICAgICAgICAgJ1xcdTUzRDFcXHU5MDAxJ1xuXHQgICAgICAgIClcblx0ICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkaW5nMi5kZWZhdWx0LCBudWxsKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBBbnN3ZXI7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRBbnN3ZXIgPSAoMCwgX3JlYWN0Um91dGVyLndpdGhSb3V0ZXIpKEFuc3dlcik7XG5cdFxuXHRBbnN3ZXIuY29udGV4dFR5cGVzID0ge1xuXHQgIHJvdXRlcjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0dmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBxdWVzdGlvbkluZm86IHN0YXRlLnF1ZXN0aW9uSW5mbyxcblx0ICAgIHNhdmVWb2ljZUluZm86IHN0YXRlLnNhdmVWb2ljZUluZm8sXG5cdCAgICBXWENvbmZpZzogc3RhdGUuV1hDb25maWcsXG5cdCAgICBsYW5kUGFnZTogc3RhdGUubGFuZFBhZ2Vcblx0ICB9O1xuXHR9O1xuXHRcblx0QW5zd2VyID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBnZXRRdWVzdGlvbkluZm86IF9xdWVzdGlvbi5nZXRRdWVzdGlvbkluZm8sIHNhdmVWb2ljZTogX3F1ZXN0aW9uLnNhdmVWb2ljZSwgZ2V0V1hDb25maWc6IF9jb25maWcuZ2V0V1hDb25maWcsIGNvbmZpZ1N1Y2Nlc3M6IF9jb25maWcuY29uZmlnU3VjY2VzcywgZ2V0QXNrZWRNZTogX2FjY291bnQuZ2V0QXNrZWRNZSB9KShBbnN3ZXIpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQW5zd2VyO1xuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0FjdGlvblR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBkZWZhdWx0U3RhdGUgPSB7XG5cdCAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgIGRhdGE6IFtdLFxuXHQgICAgY29tcGxldGVkOiBmYWxzZSxcblx0ICAgIHBhZ2U6IDFcblx0fTtcblx0dmFyIGFza2VkTWUgPSBmdW5jdGlvbiBhc2tlZE1lKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0U3RhdGU7XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5DTEVBUl9BU0tFRF9NRTpcblx0ICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTdGF0ZTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRVFVRVNUX0FTS0VEX01FOlxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbG9hZGluZzogdHJ1ZSB9KTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX0FTS0VEX01FOlxuXHQgICAgICAgICAgICBpZiAoYWN0aW9uLnBhZ2UgPT0gMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG5cdCAgICAgICAgICAgICAgICAgICAgcGFnZTogc3RhdGUucGFnZSArIDEsXG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtLFxuXHQgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkYXRhID0gc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBzdGF0ZS5wYWdlICsgMSxcblx0ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0gPyB0cnVlIDogZmFsc2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gYXNrZWRNZTtcblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9BY3Rpb25UeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgZGVmYXVsdFN0YXRlID0ge1xuXHQgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICBkYXRhOiBbXSxcblx0ICAgIGNvbXBsZXRlZDogZmFsc2UsXG5cdCAgICBwYWdlOiAxXG5cdH07XG5cdHZhciBpQXNrZWQgPSBmdW5jdGlvbiBpQXNrZWQoKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRlZmF1bHRTdGF0ZTtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLkNMRUFSX0lfQVNLRUQ6XG5cdCAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U3RhdGU7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVRVUVTVF9JX0FTS0VEOlxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbG9hZGluZzogdHJ1ZSB9KTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX0lfQVNLRUQ6XG5cdCAgICAgICAgICAgIGlmIChhY3Rpb24ucGFnZSA9PSAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0sXG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGFcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzdGF0ZS5kYXRhLmNvbmNhdChhY3Rpb24uZGF0YSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0sXG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBzdGF0ZS5wYWdlICsgMVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpQXNrZWQ7XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdXNlckluZm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcblx0XG5cdHZhciBfdXNlckluZm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlckluZm8pO1xuXHRcblx0dmFyIF9saXN0ZW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXHRcblx0dmFyIF9saXN0ZW5lZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXN0ZW5lZCk7XG5cdFxuXHR2YXIgX2lBc2tlZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0dmFyIF9pQXNrZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaUFza2VkKTtcblx0XG5cdHZhciBfYXNrZWRNZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9hc2tlZE1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fza2VkTWUpO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBpbmRleCA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgICB1c2VySW5mbzogX3VzZXJJbmZvMi5kZWZhdWx0LFxuXHQgICAgbGlzdGVuZWQ6IF9saXN0ZW5lZDIuZGVmYXVsdCxcblx0ICAgIGlBc2tlZDogX2lBc2tlZDIuZGVmYXVsdCxcblx0ICAgIGFza2VkTWU6IF9hc2tlZE1lMi5kZWZhdWx0XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gaW5kZXg7XG5cbi8qKiovIH0sXG4vKiA5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0FjdGlvblR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBkZWZhdWx0U3RhdGUgPSB7XG5cdCAgbG9hZGluZzogZmFsc2UsXG5cdCAgZGF0YTogW10sXG5cdCAgY29tcGxldGVkOiBmYWxzZSxcblx0ICBwYWdlOiAxXG5cdH07XG5cdHZhciBsaXN0ZW5lZCA9IGZ1bmN0aW9uIGxpc3RlbmVkKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZGVmYXVsdFN0YXRlO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFUVVFU1RfTElTVEVORUQ6XG5cdCAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9MSVNURU5FRDpcblx0ICAgICAgdmFyIGRhdGFOb3cgPSBhY3Rpb24uZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgYW5zd2VyX2lkOiBpdGVtLmFuc3dlcl9pZCxcblx0ICAgICAgICAgIGFuc3dlcl9saWtlOiBpdGVtLmxpa2UsXG5cdCAgICAgICAgICBhbnN3ZXJfaXNwYXllZDogMSxcblx0ICAgICAgICAgIGFuc3dlcl9saXN0ZW46IGl0ZW0ubGlzdGVuLFxuXHQgICAgICAgICAgdGVhY2hlcl9pZDogaXRlbS50ZWFjaGVyX2lkLFxuXHQgICAgICAgICAgdGVhY2hlcl9mYWNlOiBpdGVtLnRlYWNoZXJfZmFjZSxcblx0ICAgICAgICAgIHRlYWNoZXJfbmFtZTogaXRlbS50ZWFjaGVyX25hbWUsXG5cdCAgICAgICAgICB0ZWFjaGVyX3Bvc2l0aW9uOiBpdGVtLnRlYWNoZXJfcG9zaXRpb24sXG5cdCAgICAgICAgICBxdWVzdGlvbl9jb250ZW50OiBpdGVtLmNvbnRlbnQsXG5cdCAgICAgICAgICBxdWVzdGlvbl9pZDogaXRlbS5pZCxcblx0ICAgICAgICAgIHF1ZXN0aW9uX3ByaXplOiBpdGVtLnByaXplLFxuXHQgICAgICAgICAgcXVlc3Rpb25fdGltZTogaXRlbS50aW1lLFxuXHQgICAgICAgICAgdXNlcl9pZDogaXRlbS5xdWVzdGlvbl91c2VyX2lkLFxuXHQgICAgICAgICAgaXNBbnN3ZXJlZDogaXRlbS5pc2Fuc3dlcmVkLFxuXHQgICAgICAgICAgd2VpZ2h0OiBpdGVtLndlaWdodFxuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoYWN0aW9uLnBhZ2UgPT0gMSkge1xuXHQgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtLFxuXHQgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgICBkYXRhOiBkYXRhTm93XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBzdGF0ZS5kYXRhLmNvbmNhdChkYXRhTm93KTtcblx0ICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSxcblx0ICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICAgIHBhZ2U6IHN0YXRlLnBhZ2UgKyAxXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiBzdGF0ZTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBsaXN0ZW5lZDtcblxuLyoqKi8gfSxcbi8qIDk4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9BY3Rpb25UeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgZGVmYXVsdFN0YXRlID0ge307XG5cdHZhciB1c2VySW5mbyA9IGZ1bmN0aW9uIHVzZXJJbmZvKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0U3RhdGU7XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX1VTRVJfSU5GTzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdXNlckluZm87XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfQWN0aW9uVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIG90aGVyVXNlckluZm8gPSBmdW5jdGlvbiBvdGhlclVzZXJJbmZvKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfT1RIRVJfVVNFUl9JTkZPOlxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG90aGVyVXNlckluZm87XG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5ob3RRdWVzdGlvbkxpc3QgPSBob3RRdWVzdGlvbkxpc3Q7XG5cdGV4cG9ydHMucXVlc3Rpb25JbmZvID0gcXVlc3Rpb25JbmZvO1xuXHRleHBvcnRzLmxpc3RlbkluZm8gPSBsaXN0ZW5JbmZvO1xuXHRleHBvcnRzLnNhdmVWb2ljZUluZm8gPSBzYXZlVm9pY2VJbmZvO1xuXHRcblx0dmFyIF9BY3Rpb25UeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDcmVhdGVkIGJ5IHpzaCBvbiAyMDE2LzMvMTQuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdFxuXHR2YXIgaW5pdGlhbFN0YXRlID0ge1xuXHQgICAgaG90UXVlc3Rpb25MaXN0OiB7XG5cdCAgICAgICAgZGF0YTogW10sXG5cdCAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcblx0ICAgICAgICBzZWFyY2hTdGF0dXM6IFwiY29tcGxldGVcIixcblx0ICAgICAgICBwYWdlOiAxLFxuXHQgICAgICAgIG51bTogMTBcblx0ICAgIH0sXG5cdCAgICBxdWVzdGlvbkluZm86IHt9LFxuXHQgICAgbGlzdGVuSW5mbzoge1xuXHQgICAgICAgIHRpbWVTdGFtcDogMCxcblx0ICAgICAgICBkYXRhOiB7fSxcblx0ICAgICAgICBsb2FkaW5nOiBmYWxzZVxuXHQgICAgfSxcblx0ICAgIHNhdmVWb2ljZUluZm86IHtcblx0ICAgICAgICBkYXRhOiB7fSxcblx0ICAgICAgICBzYXZlZDogZmFsc2Vcblx0ICAgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIGhvdFF1ZXN0aW9uTGlzdCgpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlLmhvdFF1ZXN0aW9uTGlzdDtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfSE9UX1FVRVNUSU9OX0xJU1Q6XG5cdCAgICAgICAgICAgIGlmIChhY3Rpb24ucGFnZSA9PSAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLmhvdFF1ZXN0aW9uTGlzdCwge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGF0dXM6IFwiY29tcGxldGVcIlxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhOiBzdGF0ZS5kYXRhLmNvbmNhdChhY3Rpb24uZGF0YSksXG5cdCAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtID8gdHJ1ZSA6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHBhZ2U6IGFjdGlvbi5wYWdlLFxuXHQgICAgICAgICAgICAgICAgICAgIHNlYXJjaFN0YXR1czogXCJjb21wbGV0ZVwiXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFUVVFU1RfU0VBUkNIX1FVRVNUSU9OOlxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgc2VhcmNoU3RhdHVzOiAnc2VhcmNoaW5nJyB9KTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX1BBSUQ6XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgZGF0YTogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5kYXRhLnNsaWNlKDAsIGFjdGlvbi5pbmRleCkpLCBbT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuZGF0YVthY3Rpb24uaW5kZXhdLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgYW5zd2VyX2lzcGF5ZWQ6IDEsXG5cdCAgICAgICAgICAgICAgICAgICAgYW5zd2VyX2xpc3RlbjogKHN0YXRlLmRhdGFbYWN0aW9uLmluZGV4XS5hbnN3ZXJfbGlzdGVuICsgMSkudG9TdHJpbmcoKVxuXHQgICAgICAgICAgICAgICAgfSldLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuZGF0YS5zbGljZShhY3Rpb24uaW5kZXggKyAxLCBzdGF0ZS5kYXRhLmxlbmd0aCkpKVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblx0ZnVuY3Rpb24gcXVlc3Rpb25JbmZvKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGUucXVlc3Rpb25JbmZvO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9RVUVTVElPTl9JTkZPOlxuXHQgICAgICAgICAgICByZXR1cm4gYWN0aW9uLnF1ZXN0aW9uSW5mbztcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX1BSSVNFX1FVRVNUSU9OOlxuXHQgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgIGFuc3dlcl9pc2xpa2VkOiAxLFxuXHQgICAgICAgICAgICAgICAgYW5zd2VyX2xpa2U6IGFjdGlvbi5kYXRhLmxpa2UsXG5cdCAgICAgICAgICAgICAgICBhbnN3ZXJfbGlzdGVuOiBhY3Rpb24uZGF0YS5saXN0ZW5cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9DQU5DRUxfUFJJU0VfUVVFU1RJT046XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgYW5zd2VyX2lzbGlrZWQ6IDAsXG5cdCAgICAgICAgICAgICAgICBhbnN3ZXJfbGlrZTogYWN0aW9uLmRhdGEubGlrZSxcblx0ICAgICAgICAgICAgICAgIGFuc3dlcl9saXN0ZW46IGFjdGlvbi5kYXRhLmxpc3RlblxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5DTEVBUl9RVUVTVElPTjpcblx0ICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZS5xdWVzdGlvbkluZm87XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIGxpc3RlbkluZm8oKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5saXN0ZW5JbmZvO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVRVUVTVF9MSVNURU5fSU5GTzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfTElTVEVOX0lORk86XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcblx0ICAgICAgICAgICAgICAgIHRpbWVTdGFtcDogbmV3IERhdGUoKS52YWx1ZU9mKCksXG5cdCAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLkNMRUFSX1FVRVNUSU9OOlxuXHQgICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlLmxpc3RlbkluZm87XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIHNhdmVWb2ljZUluZm8oKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5zYXZlVm9pY2VJbmZvO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9TQVZFX1ZPSUNFOlxuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgc2F2ZWQ6IHRydWVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmhpc3RvcnlTZWFyY2ggPSBoaXN0b3J5U2VhcmNoO1xuXHRleHBvcnRzLmhvdFNlYXJjaCA9IGhvdFNlYXJjaDtcblx0ZXhwb3J0cy5jdXJTZWFyY2ggPSBjdXJTZWFyY2g7XG5cdFxuXHR2YXIgX0FjdGlvblR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBpbml0aWFsU3RhdGUgPSB7XG5cdCAgICBoaXN0b3J5U2VhcmNoOiB7XG5cdCAgICAgICAgZGF0YTogW10sXG5cdCAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcblx0ICAgICAgICBwYWdlOiAxLFxuXHQgICAgICAgIG51bTogMTBcblx0ICAgIH0sXG5cdCAgICBob3RTZWFyY2g6IHtcblx0ICAgICAgICBkYXRhOiBbXSxcblx0ICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuXHQgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgICAgIHBhZ2U6IDEsXG5cdCAgICAgICAgbnVtOiAxMFxuXHQgICAgfSxcblx0ICAgIGN1clNlYXJjaDogXCJcIlxuXHRcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGhpc3RvcnlTZWFyY2goKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5oaXN0b3J5U2VhcmNoO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVRVUVTVF9ISVNUT1JZX1NFQVJDSDpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGxvYWRpbmc6IHRydWUgfSk7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9ISVNUT1JZX1NFQVJDSDpcblx0ICAgICAgICAgICAgaWYgKGFjdGlvbi5wYWdlID09IDEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUuaGlzdG9yeVNlYXJjaCwge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSArIDFcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSArIDFcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuREVMRVRFX0hJU1RPUllfU1VDQ0VTUzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGRhdGE6IFtdIH0pO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgIH1cblx0fVxuXHRmdW5jdGlvbiBob3RTZWFyY2goKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5ob3RTZWFyY2g7XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRVFVRVNUX0hPVF9TRUFSQ0g6XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfSE9UX1NFQVJDSDpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGRhdGE6IGFjdGlvbi5kYXRhLCBsb2FkaW5nOiBmYWxzZSwgY29tcGxldGVkOiB0cnVlIH0pO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgIH1cblx0fVxuXHRmdW5jdGlvbiBjdXJTZWFyY2goKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5jdXJTZWFyY2g7XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5TRVRfQ1VSX1NFQVJDSDpcblx0ICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jdXJTZWFyY2g7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy50dXRvckxpc3QgPSB0dXRvckxpc3Q7XG5cdGV4cG9ydHMudHV0b3JJbmZvID0gdHV0b3JJbmZvO1xuXHRleHBvcnRzLnR1dG9yQW5zd2VyTGlzdCA9IHR1dG9yQW5zd2VyTGlzdDtcblx0ZXhwb3J0cy5wcmVwYXlJbmZvID0gcHJlcGF5SW5mbztcblx0XG5cdHZhciBfQWN0aW9uVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIGluaXRpYWxTdGF0ZSA9IHtcblx0ICAgIHR1dG9yTGlzdDoge1xuXHQgICAgICAgIGRhdGE6IFtdLFxuXHQgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG5cdCAgICAgICAgcGFnZTogMSxcblx0ICAgICAgICBudW06IDEwLFxuXHQgICAgICAgIHNlYXJjaFN0YXR1czogXCJjb21wbGV0ZVwiXG5cdCAgICB9LFxuXHQgICAgdHV0b3JJbmZvOiB7fSxcblx0ICAgIHR1dG9yQW5zd2VyTGlzdDoge1xuXHQgICAgICAgIGRhdGE6IFtdLFxuXHQgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG5cdCAgICAgICAgcGFnZTogMVxuXHQgICAgfSxcblx0ICAgIHByZXBheUluZm86IHtcblx0ICAgICAgICBkYXRhOiB7fSxcblx0ICAgICAgICBsb2FkaW5nOiBmYWxzZVxuXHQgICAgfVxuXHR9OyAvKipcblx0ICAgICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE0LlxuXHQgICAgKi9cblx0ZnVuY3Rpb24gdHV0b3JMaXN0KCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGUudHV0b3JMaXN0O1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9UVVRPUl9MSVNUOlxuXHQgICAgICAgICAgICBpZiAoYWN0aW9uLnBhZ2UgPT0gMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZS50dXRvckxpc3QsIHtcblx0ICAgICAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcblx0ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0gPyB0cnVlIDogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgc2VhcmNoU3RhdHVzOiBcImNvbXBsZXRlXCJcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGF0YTogc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSxcblx0ICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGF0dXM6IFwiY29tcGxldGVcIlxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRVFVRVNUX1NFQVJDSF9UVVRPUjpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHNlYXJjaFN0YXR1czogXCJzZWFyY2hpbmdcIiB9KTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblx0ZnVuY3Rpb24gdHV0b3JJbmZvKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGUudHV0b3JJbmZvO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVDRUlWRV9UVVRPUl9JTkZPOlxuXHQgICAgICAgICAgICByZXR1cm4gYWN0aW9uLnR1dG9ySW5mbztcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5DTEVBUl9UVVRPUl9JTkRFWDpcblx0ICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZS50dXRvckluZm87XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIHR1dG9yQW5zd2VyTGlzdCgpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlLnR1dG9yQW5zd2VyTGlzdDtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1Q6XG5cdCAgICAgICAgICAgIGlmIChhY3Rpb24ucGFnZSA9PSAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLnR1dG9yQW5zd2VyTGlzdCwge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLFxuXHQgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgIGRhdGE6IHN0YXRlLmRhdGEuY29uY2F0KGFjdGlvbi5kYXRhKSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0gPyB0cnVlIDogZmFsc2Vcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5DTEVBUl9UVVRPUl9JTkRFWDpcblx0ICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZS50dXRvckFuc3dlckxpc3Q7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIHByZXBheUluZm8oKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZS5wcmVwYXlJbmZvO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuUkVRVUVTVF9QUkVQQVlfSU5GTzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIGNhc2UgX0FjdGlvblR5cGVzLlJFQ0VJVkVfUFJFUEFZX0lORk86XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcblx0ICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuQ0xFQVJfVFVUT1JfSU5ERVg6XG5cdCAgICAgICAgICAgIHJldHVybiBpbml0aWFsU3RhdGUucHJlcGF5SW5mbztcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XWENvbmZpZyA9IFdYQ29uZmlnO1xuXHRleHBvcnRzLmxhbmRQYWdlID0gbGFuZFBhZ2U7XG5cdFxuXHR2YXIgX0FjdGlvblR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBpbml0aWFsU3RhdGUgPSB7XG5cdCAgICBXWENvbmZpZzoge1xuXHQgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuXHQgICAgICAgIGRhdGE6IHt9XG5cdCAgICB9LFxuXHQgICAgbGFuZFBhZ2U6IG51bGxcblx0fTsgLyoqXG5cdCAgICAqIENyZWF0ZWQgYnkgenNoIG9uIDIwMTYvNy8xMS5cblx0ICAgICovXG5cdGZ1bmN0aW9uIFdYQ29uZmlnKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGUuV1hDb25maWc7XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5SRUNFSVZFX1dYX0NPTkZJRzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICBjYXNlIF9BY3Rpb25UeXBlcy5XWF9DT05GSUdfU1VDQ0VTUzpcblx0ICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgIH1cblx0fVxuXHRmdW5jdGlvbiBsYW5kUGFnZSgpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlLmxhbmRQYWdlO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfQWN0aW9uVHlwZXMuU0VUX0xBTkRfUEFHRTpcblx0ICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5sYW5kUGFnZTtcblx0ICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbmZpZ3VyZVN0b3JlO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9yZWR1eFRodW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXHRcblx0dmFyIF9yZWR1eFRodW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4VGh1bmspO1xuXHRcblx0dmFyIF9yZWR1eExvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcblx0XG5cdHZhciBfcmVkdXhMb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdXhMb2dnZXIpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY29uZmlndXJlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG5cdCAgdmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4Mi5kZWZhdWx0LCBpbml0aWFsU3RhdGUsICgwLCBfcmVkdXguYXBwbHlNaWRkbGV3YXJlKShfcmVkdXhUaHVuazIuZGVmYXVsdCwgKDAsIF9yZWR1eExvZ2dlcjIuZGVmYXVsdCkoKSkpO1xuXHRcblx0ICBpZiAodHJ1ZSkge1xuXHQgICAgLy8gRW5hYmxlIFdlYnBhY2sgaG90IG1vZHVsZSByZXBsYWNlbWVudCBmb3IgcmVkdWNlcnNcblx0ICAgIG1vZHVsZS5ob3QuYWNjZXB0KDM2LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBuZXh0Um9vdFJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KS5kZWZhdWx0O1xuXHQgICAgICBzdG9yZS5yZXBsYWNlUmVkdWNlcihuZXh0Um9vdFJlZHVjZXIpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gc3RvcmU7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSBqZiBvbiAxNS8xMS8zLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdHZhciBJY29uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhJY29uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBJY29uKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJY29uKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJY29uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSWNvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhJY29uLCBbe1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcblx0ICAgICAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcblx0ICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgICAgICBvdGhlcnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3ZhbHVlJywgJ3NpemUnLCAnY2xhc3NOYW1lJ10pO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ3dldWlfaWNvbl8nICsgdmFsdWUsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsICd3ZXVpX2ljb25fbXNnJywgc2l6ZSA9PT0gJ2xhcmdlJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgY2xhc3NOYW1lLCBjbGFzc05hbWUpLCBfY2xhc3NOYW1lcykpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbG9hZGluZycpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dldWlfbG9hZGluZycgfSxcblx0ICAgICAgICAgICAgICAgICAgICBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5KDEyKSkpLm1hcChmdW5jdGlvbiAoeCwgaSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsga2V5OiBpLCBjbGFzc05hbWU6ICd3ZXVpX2xvYWRpbmdfbGVhZiB3ZXVpX2xvYWRpbmdfbGVhZl8nICsgaSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIF9leHRlbmRzKHt9LCBvdGhlcnMsIHsgY2xhc3NOYW1lOiBjbHMgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBJY29uO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0SWNvbi5wcm9wVHlwZXMgPSB7XG5cdCAgICB2YWx1ZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBzaXplOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0SWNvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICB2YWx1ZTogJ3N1Y2Nlc3MnLFxuXHQgICAgc2l6ZTogJ3NtYWxsJ1xuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29uO1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkgey8qIVxuXHQgKiBkZWVwLWRpZmYuXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cblx0ICovXG5cdDsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0ICBpZiAodHJ1ZSkge1xuXHQgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBmYWN0b3J5KCk7XG5cdCAgICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAvLyBsaWtlIE5vZGUuXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgIHJvb3QuRGVlcERpZmYgPSBmYWN0b3J5KCk7XG5cdCAgfVxuXHR9KHRoaXMsIGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgdmFyICRzY29wZSwgY29uZmxpY3QsIGNvbmZsaWN0UmVzb2x1dGlvbiA9IFtdO1xuXHQgIGlmICh0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHtcblx0ICAgICRzY29wZSA9IGdsb2JhbDtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAkc2NvcGUgPSB3aW5kb3c7XG5cdCAgfSBlbHNlIHtcblx0ICAgICRzY29wZSA9IHt9O1xuXHQgIH1cblx0ICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcblx0ICBpZiAoY29uZmxpY3QpIHtcblx0ICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5wdXNoKFxuXHQgICAgICBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdCAmJiAkc2NvcGUuRGVlcERpZmYgPT09IGFjY3VtdWxhdGVEaWZmKSB7XG5cdCAgICAgICAgICAkc2NvcGUuRGVlcERpZmYgPSBjb25mbGljdDtcblx0ICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgfVxuXHRcblx0ICAvLyBub2RlanMgY29tcGF0aWJsZSBvbiBzZXJ2ZXIgc2lkZSBhbmQgaW4gdGhlIGJyb3dzZXIuXG5cdCAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG5cdCAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3Rvcjtcblx0ICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG5cdCAgICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgICAgdmFsdWU6IGN0b3IsXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2tpbmQnLCB7XG5cdCAgICAgIHZhbHVlOiBraW5kLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcblx0ICAgICAgICB2YWx1ZTogcGF0aCxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gRGlmZkVkaXQocGF0aCwgb3JpZ2luLCB2YWx1ZSkge1xuXHQgICAgRGlmZkVkaXQuc3VwZXJfLmNhbGwodGhpcywgJ0UnLCBwYXRoKTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuXHQgICAgICB2YWx1ZTogb3JpZ2luLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmhzJywge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cdFxuXHQgIGZ1bmN0aW9uIERpZmZOZXcocGF0aCwgdmFsdWUpIHtcblx0ICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmhzJywge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblx0XG5cdCAgZnVuY3Rpb24gRGlmZkRlbGV0ZWQocGF0aCwgdmFsdWUpIHtcblx0ICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xocycsIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9XG5cdCAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXHRcblx0ICBmdW5jdGlvbiBEaWZmQXJyYXkocGF0aCwgaW5kZXgsIGl0ZW0pIHtcblx0ICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpbmRleCcsIHtcblx0ICAgICAgdmFsdWU6IGluZGV4LFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaXRlbScsIHtcblx0ICAgICAgdmFsdWU6IGl0ZW0sXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBpbmhlcml0cyhEaWZmQXJyYXksIERpZmYpO1xuXHRcblx0ICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG5cdCAgICB2YXIgcmVzdCA9IGFyci5zbGljZSgodG8gfHwgZnJvbSkgKyAxIHx8IGFyci5sZW5ndGgpO1xuXHQgICAgYXJyLmxlbmd0aCA9IGZyb20gPCAwID8gYXJyLmxlbmd0aCArIGZyb20gOiBmcm9tO1xuXHQgICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcblx0ICAgIHJldHVybiBhcnI7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiByZWFsVHlwZU9mKHN1YmplY3QpIHtcblx0ICAgIHZhciB0eXBlID0gdHlwZW9mIHN1YmplY3Q7XG5cdCAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIHR5cGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1YmplY3QgPT09IE1hdGgpIHtcblx0ICAgICAgcmV0dXJuICdtYXRoJztcblx0ICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJ251bGwnO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG5cdCAgICAgIHJldHVybiAnYXJyYXknO1xuXHQgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViamVjdCkgPT09ICdbb2JqZWN0IERhdGVdJykge1xuXHQgICAgICByZXR1cm4gJ2RhdGUnO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG5cdCAgICAgIHJldHVybiAncmVnZXhwJztcblx0ICAgIH1cblx0ICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcblx0ICAgIHBhdGggPSBwYXRoIHx8IFtdO1xuXHQgICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aC5zbGljZSgwKTtcblx0ICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBpZiAocHJlZmlsdGVyKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZihwcmVmaWx0ZXIpID09PSAnZnVuY3Rpb24nICYmIHByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cblx0ICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgIGlmIChwcmVmaWx0ZXIucHJlZmlsdGVyICYmIHByZWZpbHRlci5wcmVmaWx0ZXIoY3VycmVudFBhdGgsIGtleSkpIHsgcmV0dXJuOyB9XG5cdCAgICAgICAgICBpZiAocHJlZmlsdGVyLm5vcm1hbGl6ZSkge1xuXHQgICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG5cdCAgICAgICAgICAgIGlmIChhbHQpIHtcblx0ICAgICAgICAgICAgICBsaHMgPSBhbHRbMF07XG5cdCAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGN1cnJlbnRQYXRoLnB1c2goa2V5KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBVc2Ugc3RyaW5nIGNvbXBhcmlzb24gZm9yIHJlZ2V4ZXNcblx0ICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcblx0ICAgICAgbGhzID0gbGhzLnRvU3RyaW5nKCk7XG5cdCAgICAgIHJocyA9IHJocy50b1N0cmluZygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsdHlwZSA9IHR5cGVvZiBsaHM7XG5cdCAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuXHQgICAgaWYgKGx0eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBpZiAocnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAocnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcblx0ICAgIH0gZWxzZSBpZiAocmVhbFR5cGVPZihsaHMpICE9PSByZWFsVHlwZU9mKHJocykpIHtcblx0ICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG5cdCAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG5cdCAgICAgIGNoYW5nZXMobmV3IERpZmZFZGl0KGN1cnJlbnRQYXRoLCBsaHMsIHJocykpO1xuXHQgICAgfSBlbHNlIGlmIChsdHlwZSA9PT0gJ29iamVjdCcgJiYgbGhzICE9PSBudWxsICYmIHJocyAhPT0gbnVsbCkge1xuXHQgICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuXHQgICAgICBpZiAoc3RhY2suaW5kZXhPZihsaHMpIDwgMCkge1xuXHQgICAgICAgIHN0YWNrLnB1c2gobGhzKTtcblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG5cdCAgICAgICAgICB2YXIgaSwgbGVuID0gbGhzLmxlbmd0aDtcblx0ICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgIGNoYW5nZXMobmV3IERpZmZBcnJheShjdXJyZW50UGF0aCwgaSwgbmV3IERpZmZEZWxldGVkKHVuZGVmaW5lZCwgbGhzW2ldKSkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmTmV3KHVuZGVmaW5lZCwgcmhzW2krK10pKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBha2V5cyA9IE9iamVjdC5rZXlzKGxocyk7XG5cdCAgICAgICAgICB2YXIgcGtleXMgPSBPYmplY3Qua2V5cyhyaHMpO1xuXHQgICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG5cdCAgICAgICAgICAgIHZhciBvdGhlciA9IHBrZXlzLmluZGV4T2Yoayk7XG5cdCAgICAgICAgICAgIGlmIChvdGhlciA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgICAgICBwa2V5cyA9IGFycmF5UmVtb3ZlKHBrZXlzLCBvdGhlcik7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcblx0ICAgICAgICAgICAgZGVlcERpZmYodW5kZWZpbmVkLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBzdGFjay5sZW5ndGggPSBzdGFjay5sZW5ndGggLSAxO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG5cdCAgICAgIGlmICghKGx0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTihsaHMpICYmIGlzTmFOKHJocykpKSB7XG5cdCAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaWZmKGxocywgcmhzLCBwcmVmaWx0ZXIsIGFjY3VtKSB7XG5cdCAgICBhY2N1bSA9IGFjY3VtIHx8IFtdO1xuXHQgICAgZGVlcERpZmYobGhzLCByaHMsXG5cdCAgICAgIGZ1bmN0aW9uKGRpZmYpIHtcblx0ICAgICAgICBpZiAoZGlmZikge1xuXHQgICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdCAgICAgIHByZWZpbHRlcik7XG5cdCAgICByZXR1cm4gKGFjY3VtLmxlbmd0aCkgPyBhY2N1bSA6IHVuZGVmaW5lZDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG5cdCAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG5cdCAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuXHQgICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgICBjYXNlICdBJzpcblx0ICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoaXRbY2hhbmdlLnBhdGhbaV1dLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0QnOlxuXHQgICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLnJocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG5cdCAgICAgICAgY2FzZSAnQSc6XG5cdCAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGFycltpbmRleF0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnRCc6XG5cdCAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycjtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpIHtcblx0ICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuXHQgICAgICB2YXIgaXQgPSB0YXJnZXQsXG5cdCAgICAgICAgICBpID0gLTEsXG5cdCAgICAgICAgICBsYXN0ID0gY2hhbmdlLnBhdGggPyBjaGFuZ2UucGF0aC5sZW5ndGggLSAxIDogMDtcblx0ICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9ICh0eXBlb2YgY2hhbmdlLnBhdGhbaV0gPT09ICdudW1iZXInKSA/IFtdIDoge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgICBjYXNlICdBJzpcblx0ICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoY2hhbmdlLnBhdGggPyBpdFtjaGFuZ2UucGF0aFtpXV0gOiBpdCwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdFJzpcblx0ICAgICAgICBjYXNlICdOJzpcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG5cdCAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG5cdCAgICAgIC8vIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdCBhdCB0aGUgaW5kZXggaGFzIGNoYW5nZWQuLi5cblx0ICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcblx0ICAgICAgICAgIGksIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG5cdCAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgIH1cblx0ICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuXHQgICAgICAgIGNhc2UgJ0EnOlxuXHQgICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoaXRbY2hhbmdlLnBhdGhbaV1dLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0QnOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ0UnOlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyB0aGUgYXJyYXkgaXRlbSBpcyBkaWZmZXJlbnQuLi5cblx0ICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuXHQgICAgICAgIGNhc2UgJ0EnOlxuXHQgICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSAnRSc6XG5cdCAgICAgICAgICBhcnJbaW5kZXhdID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgYXJyID0gYXJyYXlSZW1vdmUoYXJyLCBpbmRleCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFycjtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG5cdCAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSAmJiBjaGFuZ2UgJiYgY2hhbmdlLmtpbmQpIHtcblx0ICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuXHQgICAgICAgICAgaSwgdTtcblx0ICAgICAgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcblx0ICAgICAgfVxuXHQgICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG5cdCAgICAgICAgY2FzZSAnQSc6XG5cdCAgICAgICAgICAvLyBBcnJheSB3YXMgbW9kaWZpZWQuLi5cblx0ICAgICAgICAgIC8vIGl0IHdpbGwgYmUgYW4gYXJyYXkuLi5cblx0ICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cblx0ICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlICdFJzpcblx0ICAgICAgICAgIC8vIEl0ZW0gd2FzIGVkaXRlZC4uLlxuXHQgICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgJ04nOlxuXHQgICAgICAgICAgLy8gSXRlbSBpcyBuZXcuLi5cblx0ICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcblx0ICAgIGlmICh0YXJnZXQgJiYgc291cmNlKSB7XG5cdCAgICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuXHQgICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuXHQgICAgICAgICAgYXBwbHlDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBkZWVwRGlmZih0YXJnZXQsIHNvdXJjZSwgb25DaGFuZ2UpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYWNjdW11bGF0ZURpZmYsIHtcblx0XG5cdCAgICBkaWZmOiB7XG5cdCAgICAgIHZhbHVlOiBhY2N1bXVsYXRlRGlmZixcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIG9ic2VydmFibGVEaWZmOiB7XG5cdCAgICAgIHZhbHVlOiBkZWVwRGlmZixcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIGFwcGx5RGlmZjoge1xuXHQgICAgICB2YWx1ZTogYXBwbHlEaWZmLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9LFxuXHQgICAgYXBwbHlDaGFuZ2U6IHtcblx0ICAgICAgdmFsdWU6IGFwcGx5Q2hhbmdlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXG5cdCAgICB9LFxuXHQgICAgcmV2ZXJ0Q2hhbmdlOiB7XG5cdCAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcblx0ICAgIH0sXG5cdCAgICBpc0NvbmZsaWN0OiB7XG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdDtcblx0ICAgICAgfSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfSxcblx0ICAgIG5vQ29uZmxpY3Q6IHtcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmIChjb25mbGljdFJlc29sdXRpb24pIHtcblx0ICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG5cdCAgICAgICAgICAgIGl0KCk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcblx0ICAgICAgfSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gYWNjdW11bGF0ZURpZmY7XG5cdH0pKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDEwNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIG9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdHZhciBpc0FyZ3VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBkZWVwRXF1YWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKSB7XG5cdCAgaWYgKCFvcHRzKSBvcHRzID0ge307XG5cdCAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG5cdCAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHRcblx0ICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXHRcblx0ICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG5cdCAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cblx0ICB9IGVsc2UgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkIHx8IHR5cGVvZiBhY3R1YWwgIT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4cGVjdGVkICE9ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXHRcblx0ICAvLyA3LjQuIEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcblx0ICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcblx0ICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG5cdCAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuXHQgIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG5cdCAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG5cdCAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQnVmZmVyICh4KSB7XG5cdCAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG5cdCAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgb3B0cykge1xuXHQgIHZhciBpLCBrZXk7XG5cdCAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cblx0ICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG5cdCAgLy9+fn5JJ3ZlIG1hbmFnZWQgdG8gYnJlYWsgT2JqZWN0LmtleXMgdGhyb3VnaCBzY3Jld3kgYXJndW1lbnRzIHBhc3NpbmcuXG5cdCAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cblx0ICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcblx0ICAgIGlmICghaXNBcmd1bWVudHMoYikpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuXHQgICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuXHQgICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcblx0ICB9XG5cdCAgaWYgKGlzQnVmZmVyKGEpKSB7XG5cdCAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG5cdCAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuXHQgIH0gY2F0Y2ggKGUpIHsvL2hhcHBlbnMgd2hlbiBvbmUgaXMgYSBzdHJpbmcgbGl0ZXJhbCBhbmQgdGhlIG90aGVyIGlzbid0XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcblx0ICAvLyBoYXNPd25Qcm9wZXJ0eSlcblx0ICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuXHQgIGthLnNvcnQoKTtcblx0ICBrYi5zb3J0KCk7XG5cdCAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuXHQgIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBrZXkgPSBrYVtpXTtcblx0ICAgIGlmICghZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gdHlwZW9mIGEgPT09IHR5cGVvZiBiO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEwOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPSAoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50cylcblx0fSkoKSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0XG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPyBzdXBwb3J0ZWQgOiB1bnN1cHBvcnRlZDtcblx0XG5cdGV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuXHRmdW5jdGlvbiBzdXBwb3J0ZWQob2JqZWN0KSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy51bnN1cHBvcnRlZCA9IHVuc3VwcG9ydGVkO1xuXHRmdW5jdGlvbiB1bnN1cHBvcnRlZChvYmplY3Qpe1xuXHQgIHJldHVybiBvYmplY3QgJiZcblx0ICAgIHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiZcblx0ICAgIHR5cGVvZiBvYmplY3QubGVuZ3RoID09ICdudW1iZXInICYmXG5cdCAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnY2FsbGVlJykgJiZcblx0ICAgICFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCAnY2FsbGVlJykgfHxcblx0ICAgIGZhbHNlO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuXHQgID8gT2JqZWN0LmtleXMgOiBzaGltO1xuXHRcblx0ZXhwb3J0cy5zaGltID0gc2hpbTtcblx0ZnVuY3Rpb24gc2hpbSAob2JqKSB7XG5cdCAgdmFyIGtleXMgPSBbXTtcblx0ICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcblx0ICByZXR1cm4ga2V5cztcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxMTAgKi8sXG4vKiAxMTEgKi8sXG4vKiAxMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0dmFyIF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0ZXhwb3J0cy5sb29wQXN5bmMgPSBsb29wQXN5bmM7XG5cdFxuXHRmdW5jdGlvbiBsb29wQXN5bmModHVybnMsIHdvcmssIGNhbGxiYWNrKSB7XG5cdCAgdmFyIGN1cnJlbnRUdXJuID0gMCxcblx0ICAgICAgaXNEb25lID0gZmFsc2U7XG5cdCAgdmFyIHN5bmMgPSBmYWxzZSxcblx0ICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuXHQgICAgICBkb25lQXJncyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgZnVuY3Rpb24gZG9uZSgpIHtcblx0ICAgIGlzRG9uZSA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICBkb25lQXJncyA9IFtdLmNvbmNhdChfc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBuZXh0KCkge1xuXHQgICAgaWYgKGlzRG9uZSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaGFzTmV4dCA9IHRydWU7XG5cdCAgICBpZiAoc3luYykge1xuXHQgICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgc3luYyA9IHRydWU7XG5cdFxuXHQgICAgd2hpbGUgKCFpc0RvbmUgJiYgY3VycmVudFR1cm4gPCB0dXJucyAmJiBoYXNOZXh0KSB7XG5cdCAgICAgIGhhc05leHQgPSBmYWxzZTtcblx0ICAgICAgd29yay5jYWxsKHRoaXMsIGN1cnJlbnRUdXJuKyssIG5leHQsIGRvbmUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHN5bmMgPSBmYWxzZTtcblx0XG5cdCAgICBpZiAoaXNEb25lKSB7XG5cdCAgICAgIC8vIFRoaXMgbWVhbnMgdGhlIGxvb3AgZmluaXNoZWQgc3luY2hyb25vdXNseS5cblx0ICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgZG9uZUFyZ3MpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGN1cnJlbnRUdXJuID49IHR1cm5zICYmIGhhc05leHQpIHtcblx0ICAgICAgaXNEb25lID0gdHJ1ZTtcblx0ICAgICAgY2FsbGJhY2soKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIG5leHQoKTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfQWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRcblx0dmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfRE9NVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfRE9NU3RhdGVTdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgX2NyZWF0ZURPTUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfY3JlYXRlRE9NSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVET01IaXN0b3J5KTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIEhUTUw1J3MgaGlzdG9yeSBBUElcblx0ICogKHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50KSB0byBtYW5hZ2UgaGlzdG9yeS5cblx0ICogVGhpcyBpcyB0aGUgcmVjb21tZW5kZWQgbWV0aG9kIG9mIG1hbmFnaW5nIGhpc3RvcnkgaW4gYnJvd3NlcnMgYmVjYXVzZVxuXHQgKiBpdCBwcm92aWRlcyB0aGUgY2xlYW5lc3QgVVJMcy5cblx0ICpcblx0ICogTm90ZTogSW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgZnVsbFxuXHQgKiBwYWdlIHJlbG9hZHMgd2lsbCBiZSB1c2VkIHRvIHByZXNlcnZlIFVSTHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcblx0ICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIGZvcmNlUmVmcmVzaCA9IG9wdGlvbnMuZm9yY2VSZWZyZXNoO1xuXHRcblx0ICB2YXIgaXNTdXBwb3J0ZWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KCk7XG5cdCAgdmFyIHVzZVJlZnJlc2ggPSAhaXNTdXBwb3J0ZWQgfHwgZm9yY2VSZWZyZXNoO1xuXHRcblx0ICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBoaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGUgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIGhpc3RvcnlTdGF0ZSA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwYXRoID0gX0RPTVV0aWxzLmdldFdpbmRvd1BhdGgoKTtcblx0ICAgIHZhciBfaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlO1xuXHQgICAgdmFyIGtleSA9IF9oaXN0b3J5U3RhdGUua2V5O1xuXHRcblx0ICAgIHZhciBzdGF0ZSA9IHVuZGVmaW5lZDtcblx0ICAgIGlmIChrZXkpIHtcblx0ICAgICAgc3RhdGUgPSBfRE9NU3RhdGVTdG9yYWdlLnJlYWRTdGF0ZShrZXkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc3RhdGUgPSBudWxsO1xuXHQgICAgICBrZXkgPSBoaXN0b3J5LmNyZWF0ZUtleSgpO1xuXHRcblx0ICAgICAgaWYgKGlzU3VwcG9ydGVkKSB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoX2V4dGVuZHMoe30sIGhpc3RvcnlTdGF0ZSwgeyBrZXk6IGtleSB9KSwgbnVsbCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cdFxuXHQgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKF9yZWYpIHtcblx0ICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25Ubztcblx0XG5cdCAgICBmdW5jdGlvbiBwb3BTdGF0ZUxpc3RlbmVyKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG5cdFxuXHQgICAgICB0cmFuc2l0aW9uVG8oZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncG9wc3RhdGUnLCBwb3BTdGF0ZUxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcblx0ICAgIHZhciBiYXNlbmFtZSA9IGxvY2F0aW9uLmJhc2VuYW1lO1xuXHQgICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG5cdCAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuXHQgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXHQgICAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cdCAgICB2YXIgYWN0aW9uID0gbG9jYXRpb24uYWN0aW9uO1xuXHQgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleTtcblx0XG5cdCAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblx0XG5cdCAgICBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZShrZXksIHN0YXRlKTtcblx0XG5cdCAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cdCAgICB2YXIgaGlzdG9yeVN0YXRlID0ge1xuXHQgICAgICBrZXk6IGtleVxuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG5cdCAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXRoO1xuXHQgICAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBsb2NhdGlvbiB1cGRhdGUuXG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBSRVBMQUNFXG5cdCAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UocGF0aCk7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGxvY2F0aW9uIHVwZGF0ZS5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcblx0ICAgIGdldEN1cnJlbnRMb2NhdGlvbjogZ2V0Q3VycmVudExvY2F0aW9uLFxuXHQgICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcblx0ICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcblx0ICB9KSk7XG5cdFxuXHQgIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcblx0ICAgICAgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHVubGlzdGVuKCk7XG5cdFxuXHQgICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuXHQgICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cdFxuXHQgICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHVubGlzdGVuKCk7XG5cdFxuXHQgICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcblx0ICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXHRcblx0ICAgIGhpc3RvcnkucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKTtcblx0ICB9XG5cdFxuXHQgIC8vIGRlcHJlY2F0ZWRcblx0ICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuXHQgICAgaGlzdG9yeS51bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cdFxuXHQgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcFBvcFN0YXRlTGlzdGVuZXIoKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuXHQgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG5cdCAgICBsaXN0ZW46IGxpc3Rlbixcblx0ICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssXG5cdCAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9va1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVCcm93c2VySGlzdG9yeTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDExNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX0FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcblx0XG5cdHZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbigpIHtcblx0ICB2YXIgbG9jYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnLycgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IF9BY3Rpb25zLlBPUCA6IGFyZ3VtZW50c1sxXTtcblx0ICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgdmFyIF9mb3VydGhBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzNdO1xuXHRcblx0ICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cdFxuXHQgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGNyZWF0ZUxvY2F0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhICcgKyAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cdFxuXHQgICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IGFjdGlvbiB9KTtcblx0XG5cdCAgICBhY3Rpb24gPSBrZXkgfHwgX0FjdGlvbnMuUE9QO1xuXHQgICAga2V5ID0gX2ZvdXJ0aEFyZztcblx0ICB9XG5cdFxuXHQgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8ICcvJztcblx0ICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuXHQgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaCB8fCAnJztcblx0ICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZSB8fCBudWxsO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuXHQgICAgc2VhcmNoOiBzZWFyY2gsXG5cdCAgICBoYXNoOiBoYXNoLFxuXHQgICAgc3RhdGU6IHN0YXRlLFxuXHQgICAgYWN0aW9uOiBhY3Rpb24sXG5cdCAgICBrZXk6IGtleVxuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUxvY2F0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0XG5cdHZhciBfY3JlYXRlSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKSB7XG5cdCAgcmV0dXJuIGVudHJpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuXHQgICAgcmV0dXJuIGVudHJ5LnN0YXRlO1xuXHQgIH0pLnJlZHVjZShmdW5jdGlvbiAobWVtbywgZW50cnkpIHtcblx0ICAgIG1lbW9bZW50cnkua2V5XSA9IGVudHJ5LnN0YXRlO1xuXHQgICAgcmV0dXJuIG1lbW87XG5cdCAgfSwge30pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KCkge1xuXHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG5cdCAgICBvcHRpb25zID0geyBlbnRyaWVzOiBvcHRpb25zIH07XG5cdCAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIG9wdGlvbnMgPSB7IGVudHJpZXM6IFtvcHRpb25zXSB9O1xuXHQgIH1cblx0XG5cdCAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuXHQgICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG5cdCAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuXHQgICAgc2F2ZVN0YXRlOiBzYXZlU3RhdGUsXG5cdCAgICBnbzogZ29cblx0ICB9KSk7XG5cdFxuXHQgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnM7XG5cdCAgdmFyIGVudHJpZXMgPSBfb3B0aW9ucy5lbnRyaWVzO1xuXHQgIHZhciBjdXJyZW50ID0gX29wdGlvbnMuY3VycmVudDtcblx0XG5cdCAgaWYgKHR5cGVvZiBlbnRyaWVzID09PSAnc3RyaW5nJykge1xuXHQgICAgZW50cmllcyA9IFtlbnRyaWVzXTtcblx0ICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJpZXMpKSB7XG5cdCAgICBlbnRyaWVzID0gWycvJ107XG5cdCAgfVxuXHRcblx0ICBlbnRyaWVzID0gZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG5cdCAgICB2YXIga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJykgcmV0dXJuIHsgcGF0aG5hbWU6IGVudHJ5LCBrZXk6IGtleSB9O1xuXHRcblx0ICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnICYmIGVudHJ5KSByZXR1cm4gX2V4dGVuZHMoe30sIGVudHJ5LCB7IGtleToga2V5IH0pO1xuXHRcblx0ICAgICB0cnVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdVbmFibGUgdG8gY3JlYXRlIGhpc3RvcnkgZW50cnkgZnJvbSAlcycsIGVudHJ5KSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXHQgIH0pO1xuXHRcblx0ICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG5cdCAgICBjdXJyZW50ID0gZW50cmllcy5sZW5ndGggLSAxO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAhKGN1cnJlbnQgPj0gMCAmJiBjdXJyZW50IDwgZW50cmllcy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdDdXJyZW50IGluZGV4IG11c3QgYmUgPj0gMCBhbmQgPCAlcywgd2FzICVzJywgZW50cmllcy5sZW5ndGgsIGN1cnJlbnQpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICB2YXIgc3RvcmFnZSA9IGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKTtcblx0XG5cdCAgZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcblx0ICAgIHN0b3JhZ2Vba2V5XSA9IHN0YXRlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuXHQgICAgcmV0dXJuIHN0b3JhZ2Vba2V5XTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcblx0ICAgIHZhciBlbnRyeSA9IGVudHJpZXNbY3VycmVudF07XG5cdCAgICB2YXIgYmFzZW5hbWUgPSBlbnRyeS5iYXNlbmFtZTtcblx0ICAgIHZhciBwYXRobmFtZSA9IGVudHJ5LnBhdGhuYW1lO1xuXHQgICAgdmFyIHNlYXJjaCA9IGVudHJ5LnNlYXJjaDtcblx0XG5cdCAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIChzZWFyY2ggfHwgJycpO1xuXHRcblx0ICAgIHZhciBrZXkgPSB1bmRlZmluZWQsXG5cdCAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgICBpZiAoZW50cnkua2V5KSB7XG5cdCAgICAgIGtleSA9IGVudHJ5LmtleTtcblx0ICAgICAgc3RhdGUgPSByZWFkU3RhdGUoa2V5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cdCAgICAgIHN0YXRlID0gbnVsbDtcblx0ICAgICAgZW50cnkua2V5ID0ga2V5O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXHRcblx0ICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGNhbkdvKG4pIHtcblx0ICAgIHZhciBpbmRleCA9IGN1cnJlbnQgKyBuO1xuXHQgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdvKG4pIHtcblx0ICAgIGlmIChuKSB7XG5cdCAgICAgIGlmICghY2FuR28obikpIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdDYW5ub3QgZ28oJXMpIHRoZXJlIGlzIG5vdCBlbm91Z2ggaGlzdG9yeScsIG4pIDogdW5kZWZpbmVkO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgY3VycmVudCArPSBuO1xuXHRcblx0ICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuXHRcblx0ICAgICAgLy8gY2hhbmdlIGFjdGlvbiB0byBQT1Bcblx0ICAgICAgaGlzdG9yeS50cmFuc2l0aW9uVG8oX2V4dGVuZHMoe30sIGN1cnJlbnRMb2NhdGlvbiwgeyBhY3Rpb246IF9BY3Rpb25zLlBPUCB9KSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG5cdCAgICBzd2l0Y2ggKGxvY2F0aW9uLmFjdGlvbikge1xuXHQgICAgICBjYXNlIF9BY3Rpb25zLlBVU0g6XG5cdCAgICAgICAgY3VycmVudCArPSAxO1xuXHRcblx0ICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IG9uIHRoZSB0b3Agb2Ygc3RhY2tcblx0ICAgICAgICAvLyByZW1vdmUgcmVzdCBhbmQgcHVzaCBuZXdcblx0ICAgICAgICBpZiAoY3VycmVudCA8IGVudHJpZXMubGVuZ3RoKSBlbnRyaWVzLnNwbGljZShjdXJyZW50KTtcblx0XG5cdCAgICAgICAgZW50cmllcy5wdXNoKGxvY2F0aW9uKTtcblx0ICAgICAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgX0FjdGlvbnMuUkVQTEFDRTpcblx0ICAgICAgICBlbnRyaWVzW2N1cnJlbnRdID0gbG9jYXRpb247XG5cdCAgICAgICAgc2F2ZVN0YXRlKGxvY2F0aW9uLmtleSwgbG9jYXRpb24uc3RhdGUpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGhpc3Rvcnk7XG5cdH1cblx0XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cblx0ICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuXHQgKi9cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG5cdCAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcblx0ICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcblx0ICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcblx0ICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuXHQgICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuXHQgICAgbWl4aW5zOiB0cnVlLFxuXHQgICAgcHJvcFR5cGVzOiB0cnVlLFxuXHQgICAgdHlwZTogdHJ1ZVxuXHR9O1xuXHRcblx0dmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG5cdCAgICBuYW1lOiB0cnVlLFxuXHQgICAgbGVuZ3RoOiB0cnVlLFxuXHQgICAgcHJvdG90eXBlOiB0cnVlLFxuXHQgICAgY2FsbGVyOiB0cnVlLFxuXHQgICAgYXJndW1lbnRzOiB0cnVlLFxuXHQgICAgYXJpdHk6IHRydWVcblx0fTtcblx0XG5cdHZhciBpc0dldE93blByb3BlcnR5U3ltYm9sc0F2YWlsYWJsZSA9IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgY3VzdG9tU3RhdGljcykge1xuXHQgICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cdCAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXHRcblx0ICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuXHQgICAgICAgIGlmIChpc0dldE93blByb3BlcnR5U3ltYm9sc0F2YWlsYWJsZSkge1xuXHQgICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0gJiYgKCFjdXN0b21TdGF0aWNzIHx8ICFjdXN0b21TdGF0aWNzW2tleXNbaV1dKSkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb21wb25lbnRba2V5c1tpXV0gPSBzb3VyY2VDb21wb25lbnRba2V5c1tpXV07XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHRcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHN0cmljdFVyaUVuY29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0XG5cdGV4cG9ydHMuZXh0cmFjdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0XHRyZXR1cm4gc3RyLnNwbGl0KCc/JylbMV0gfHwgJyc7XG5cdH07XG5cdFxuXHRleHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuXHRcdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblx0XG5cdFx0c3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKC9eKFxcP3wjfCYpLywgJycpO1xuXHRcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHN0ci5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAocmV0LCBwYXJhbSkge1xuXHRcdFx0dmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcblx0XHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nL3B1bGwvMzdcblx0XHRcdHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cdFxuXHRcdFx0a2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XG5cdFxuXHRcdFx0Ly8gbWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcblx0XHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHRcdHZhbCA9IHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXHRcblx0XHRcdGlmICghcmV0Lmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0cmV0W2tleV0gPSB2YWw7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0W2tleV0pKSB7XG5cdFx0XHRcdHJldFtrZXldLnB1c2godmFsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldFtrZXldID0gW3JldFtrZXldLCB2YWxdO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSwge30pO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0cmV0dXJuIG9iaiA/IE9iamVjdC5rZXlzKG9iaikuc29ydCgpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cdFxuXHRcdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAodmFsID09PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBrZXk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsLnNsaWNlKCkuc29ydCgpLm1hcChmdW5jdGlvbiAodmFsMikge1xuXHRcdFx0XHRcdHJldHVybiBzdHJpY3RVcmlFbmNvZGUoa2V5KSArICc9JyArIHN0cmljdFVyaUVuY29kZSh2YWwyKTtcblx0XHRcdFx0fSkuam9pbignJicpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBzdHJpY3RVcmlFbmNvZGUoa2V5KSArICc9JyArIHN0cmljdFVyaUVuY29kZSh2YWwpO1xuXHRcdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdFx0cmV0dXJuIHgubGVuZ3RoID4gMDtcblx0XHR9KS5qb2luKCcmJykgOiAnJztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBBIG1peGluIHRoYXQgYWRkcyB0aGUgXCJoaXN0b3J5XCIgaW5zdGFuY2UgdmFyaWFibGUgdG8gY29tcG9uZW50cy5cblx0ICovXG5cdHZhciBIaXN0b3J5ID0ge1xuXHRcblx0ICBjb250ZXh0VHlwZXM6IHtcblx0ICAgIGhpc3Rvcnk6IF9JbnRlcm5hbFByb3BUeXBlcy5oaXN0b3J5XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ3RoZSBgSGlzdG9yeWAgbWl4aW4gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIGFjY2VzcyBgY29udGV4dC5yb3V0ZXJgIHdpdGggeW91ciBvd24gYGNvbnRleHRUeXBlc2AuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1oaXN0b3J5bWl4aW4nKSA6IHZvaWQgMDtcblx0ICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuY29udGV4dC5oaXN0b3J5O1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEhpc3Rvcnk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfTGluayA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9MaW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmspO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBBbiA8SW5kZXhMaW5rPiBpcyB1c2VkIHRvIGxpbmsgdG8gYW4gPEluZGV4Um91dGU+LlxuXHQgKi9cblx0dmFyIEluZGV4TGluayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdJbmRleExpbmsnLFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9MaW5rMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBvbmx5QWN0aXZlT25JbmRleDogdHJ1ZSB9KSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEluZGV4TGluaztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfUmVkaXJlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblx0XG5cdHZhciBfUmVkaXJlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVkaXJlY3QpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcblx0dmFyIHN0cmluZyA9IF9SZWFjdCRQcm9wVHlwZXMuc3RyaW5nO1xuXHR2YXIgb2JqZWN0ID0gX1JlYWN0JFByb3BUeXBlcy5vYmplY3Q7XG5cdFxuXHQvKipcblx0ICogQW4gPEluZGV4UmVkaXJlY3Q+IGlzIHVzZWQgdG8gcmVkaXJlY3QgZnJvbSBhbiBpbmRleFJvdXRlLlxuXHQgKi9cblx0XG5cdHZhciBJbmRleFJlZGlyZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0luZGV4UmVkaXJlY3QnLFxuXHRcblx0XG5cdCAgc3RhdGljczoge1xuXHQgICAgY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCwgcGFyZW50Um91dGUpIHtcblx0ICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IHNhbml0eSBjaGVjayAqL1xuXHQgICAgICBpZiAocGFyZW50Um91dGUpIHtcblx0ICAgICAgICBwYXJlbnRSb3V0ZS5pbmRleFJvdXRlID0gX1JlZGlyZWN0Mi5kZWZhdWx0LmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0FuIDxJbmRleFJlZGlyZWN0PiBkb2VzIG5vdCBtYWtlIHNlbnNlIGF0IHRoZSByb290IG9mIHlvdXIgcm91dGUgY29uZmlnJykgOiB2b2lkIDA7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHRvOiBzdHJpbmcuaXNSZXF1aXJlZCxcblx0ICAgIHF1ZXJ5OiBvYmplY3QsXG5cdCAgICBzdGF0ZTogb2JqZWN0LFxuXHQgICAgb25FbnRlcjogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuXHQgICAgY2hpbGRyZW46IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeVxuXHQgIH0sXG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICB0cnVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxJbmRleFJlZGlyZWN0PiBlbGVtZW50cyBhcmUgZm9yIHJvdXRlciBjb25maWd1cmF0aW9uIG9ubHkgYW5kIHNob3VsZCBub3QgYmUgcmVuZGVyZWQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEluZGV4UmVkaXJlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBmdW5jID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5mdW5jO1xuXHRcblx0LyoqXG5cdCAqIEFuIDxJbmRleFJvdXRlPiBpcyB1c2VkIHRvIHNwZWNpZnkgaXRzIHBhcmVudCdzIDxSb3V0ZSBpbmRleFJvdXRlPiBpblxuXHQgKiBhIEpTWCByb3V0ZSBjb25maWcuXG5cdCAqL1xuXHRcblx0dmFyIEluZGV4Um91dGUgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnSW5kZXhSb3V0ZScsXG5cdFxuXHRcblx0ICBzdGF0aWNzOiB7XG5cdCAgICBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50LCBwYXJlbnRSb3V0ZSkge1xuXHQgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogc2FuaXR5IGNoZWNrICovXG5cdCAgICAgIGlmIChwYXJlbnRSb3V0ZSkge1xuXHQgICAgICAgIHBhcmVudFJvdXRlLmluZGV4Um91dGUgPSAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KShlbGVtZW50KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0FuIDxJbmRleFJvdXRlPiBkb2VzIG5vdCBtYWtlIHNlbnNlIGF0IHRoZSByb290IG9mIHlvdXIgcm91dGUgY29uZmlnJykgOiB2b2lkIDA7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHBhdGg6IF9JbnRlcm5hbFByb3BUeXBlcy5mYWxzeSxcblx0ICAgIGNvbXBvbmVudDogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudCxcblx0ICAgIGNvbXBvbmVudHM6IF9JbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnRzLFxuXHQgICAgZ2V0Q29tcG9uZW50OiBmdW5jLFxuXHQgICAgZ2V0Q29tcG9uZW50czogZnVuY1xuXHQgIH0sXG5cdFxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICB0cnVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxJbmRleFJvdXRlPiBlbGVtZW50cyBhcmUgZm9yIHJvdXRlciBjb25maWd1cmF0aW9uIG9ubHkgYW5kIHNob3VsZCBub3QgYmUgcmVuZGVyZWQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgb2JqZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3Q7XG5cdFxuXHQvKipcblx0ICogVGhlIExpZmVjeWNsZSBtaXhpbiBhZGRzIHRoZSByb3V0ZXJXaWxsTGVhdmUgbGlmZWN5Y2xlIG1ldGhvZCB0byBhXG5cdCAqIGNvbXBvbmVudCB0aGF0IG1heSBiZSB1c2VkIHRvIGNhbmNlbCBhIHRyYW5zaXRpb24gb3IgcHJvbXB0IHRoZSB1c2VyXG5cdCAqIGZvciBjb25maXJtYXRpb24uXG5cdCAqXG5cdCAqIE9uIHN0YW5kYXJkIHRyYW5zaXRpb25zLCByb3V0ZXJXaWxsTGVhdmUgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQ6IHRoZVxuXHQgKiBsb2NhdGlvbiB3ZSdyZSB0cmFuc2l0aW9uaW5nIHRvLiBUbyBjYW5jZWwgdGhlIHRyYW5zaXRpb24sIHJldHVybiBmYWxzZS5cblx0ICogVG8gcHJvbXB0IHRoZSB1c2VyIGZvciBjb25maXJtYXRpb24sIHJldHVybiBhIHByb21wdCBtZXNzYWdlIChzdHJpbmcpLlxuXHQgKlxuXHQgKiBEdXJpbmcgdGhlIGJlZm9yZXVubG9hZCBldmVudCAoYXNzdW1pbmcgeW91J3JlIHVzaW5nIHRoZSB1c2VCZWZvcmVVbmxvYWRcblx0ICogaGlzdG9yeSBlbmhhbmNlciksIHJvdXRlcldpbGxMZWF2ZSBkb2VzIG5vdCByZWNlaXZlIGEgbG9jYXRpb24gb2JqZWN0XG5cdCAqIGJlY2F1c2UgaXQgaXNuJ3QgcG9zc2libGUgZm9yIHVzIHRvIGtub3cgdGhlIGxvY2F0aW9uIHdlJ3JlIHRyYW5zaXRpb25pbmdcblx0ICogdG8uIEluIHRoaXMgY2FzZSByb3V0ZXJXaWxsTGVhdmUgbXVzdCByZXR1cm4gYSBwcm9tcHQgbWVzc2FnZSB0byBwcmV2ZW50XG5cdCAqIHRoZSB1c2VyIGZyb20gY2xvc2luZyB0aGUgd2luZG93L3RhYi5cblx0ICovXG5cdFxuXHR2YXIgTGlmZWN5Y2xlID0ge1xuXHRcblx0ICBjb250ZXh0VHlwZXM6IHtcblx0ICAgIGhpc3Rvcnk6IG9iamVjdC5pc1JlcXVpcmVkLFxuXHQgICAgLy8gTmVzdGVkIGNoaWxkcmVuIHJlY2VpdmUgdGhlIHJvdXRlIGFzIGNvbnRleHQsIGVpdGhlclxuXHQgICAgLy8gc2V0IGJ5IHRoZSByb3V0ZSBjb21wb25lbnQgdXNpbmcgdGhlIFJvdXRlQ29udGV4dCBtaXhpblxuXHQgICAgLy8gb3IgYnkgc29tZSBvdGhlciBhbmNlc3Rvci5cblx0ICAgIHJvdXRlOiBvYmplY3Rcblx0ICB9LFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIC8vIFJvdXRlIGNvbXBvbmVudHMgcmVjZWl2ZSB0aGUgcm91dGUgb2JqZWN0IGFzIGEgcHJvcC5cblx0ICAgIHJvdXRlOiBvYmplY3Rcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ3RoZSBgTGlmZWN5Y2xlYCBtaXhpbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBjb250ZXh0LnJvdXRlci5zZXRSb3V0ZUxlYXZlSG9vayhyb3V0ZSwgaG9vaylgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItbGlmZWN5Y2xlbWl4aW4nKSA6IHZvaWQgMDtcblx0ICAgICF0aGlzLnJvdXRlcldpbGxMZWF2ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgTGlmZWN5Y2xlIG1peGluIHJlcXVpcmVzIHlvdSB0byBkZWZpbmUgYSByb3V0ZXJXaWxsTGVhdmUgbWV0aG9kJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHRcblx0ICAgIHZhciByb3V0ZSA9IHRoaXMucHJvcHMucm91dGUgfHwgdGhpcy5jb250ZXh0LnJvdXRlO1xuXHRcblx0ICAgICFyb3V0ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgTGlmZWN5Y2xlIG1peGluIG11c3QgYmUgdXNlZCBvbiBlaXRoZXIgYSkgYSA8Um91dGUgY29tcG9uZW50PiBvciAnICsgJ2IpIGEgZGVzY2VuZGFudCBvZiBhIDxSb3V0ZSBjb21wb25lbnQ+IHRoYXQgdXNlcyB0aGUgUm91dGVDb250ZXh0IG1peGluJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXHRcblx0ICAgIHRoaXMuX3VubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlID0gdGhpcy5jb250ZXh0Lmhpc3RvcnkubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKHJvdXRlLCB0aGlzLnJvdXRlcldpbGxMZWF2ZSk7XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICBpZiAodGhpcy5fdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUpIHRoaXMuX3VubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGlmZWN5Y2xlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9JbnRlcm5hbFByb3BUeXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcblx0dmFyIHN0cmluZyA9IF9SZWFjdCRQcm9wVHlwZXMuc3RyaW5nO1xuXHR2YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblx0XG5cdC8qKlxuXHQgKiBBIDxSb3V0ZT4gaXMgdXNlZCB0byBkZWNsYXJlIHdoaWNoIGNvbXBvbmVudHMgYXJlIHJlbmRlcmVkIHRvIHRoZVxuXHQgKiBwYWdlIHdoZW4gdGhlIFVSTCBtYXRjaGVzIGEgZ2l2ZW4gcGF0dGVybi5cblx0ICpcblx0ICogUm91dGVzIGFyZSBhcnJhbmdlZCBpbiBhIG5lc3RlZCB0cmVlIHN0cnVjdHVyZS4gV2hlbiBhIG5ldyBVUkwgaXNcblx0ICogcmVxdWVzdGVkLCB0aGUgdHJlZSBpcyBzZWFyY2hlZCBkZXB0aC1maXJzdCB0byBmaW5kIGEgcm91dGUgd2hvc2Vcblx0ICogcGF0aCBtYXRjaGVzIHRoZSBVUkwuICBXaGVuIG9uZSBpcyBmb3VuZCwgYWxsIHJvdXRlcyBpbiB0aGUgdHJlZVxuXHQgKiB0aGF0IGxlYWQgdG8gaXQgYXJlIGNvbnNpZGVyZWQgXCJhY3RpdmVcIiBhbmQgdGhlaXIgY29tcG9uZW50cyBhcmVcblx0ICogcmVuZGVyZWQgaW50byB0aGUgRE9NLCBuZXN0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgaW4gdGhlIHRyZWUuXG5cdCAqL1xuXHRcblx0dmFyIFJvdXRlID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1JvdXRlJyxcblx0XG5cdFxuXHQgIHN0YXRpY3M6IHtcblx0ICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50XG5cdCAgfSxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwYXRoOiBzdHJpbmcsXG5cdCAgICBjb21wb25lbnQ6IF9JbnRlcm5hbFByb3BUeXBlcy5jb21wb25lbnQsXG5cdCAgICBjb21wb25lbnRzOiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cyxcblx0ICAgIGdldENvbXBvbmVudDogZnVuYyxcblx0ICAgIGdldENvbXBvbmVudHM6IGZ1bmNcblx0ICB9LFxuXHRcblx0ICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgdHJ1ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8Um91dGU+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBvYmplY3QgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLm9iamVjdDtcblx0XG5cdC8qKlxuXHQgKiBUaGUgUm91dGVDb250ZXh0IG1peGluIHByb3ZpZGVzIGEgY29udmVuaWVudCB3YXkgZm9yIHJvdXRlXG5cdCAqIGNvbXBvbmVudHMgdG8gc2V0IHRoZSByb3V0ZSBpbiBjb250ZXh0LiBUaGlzIGlzIG5lZWRlZCBmb3Jcblx0ICogcm91dGVzIHRoYXQgcmVuZGVyIGVsZW1lbnRzIHRoYXQgd2FudCB0byB1c2UgdGhlIExpZmVjeWNsZVxuXHQgKiBtaXhpbiB0byBwcmV2ZW50IHRyYW5zaXRpb25zLlxuXHQgKi9cblx0XG5cdHZhciBSb3V0ZUNvbnRleHQgPSB7XG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgcm91dGU6IG9iamVjdC5pc1JlcXVpcmVkXG5cdCAgfSxcblx0XG5cdCAgY2hpbGRDb250ZXh0VHlwZXM6IHtcblx0ICAgIHJvdXRlOiBvYmplY3QuaXNSZXF1aXJlZFxuXHQgIH0sXG5cdFxuXHQgIGdldENoaWxkQ29udGV4dDogZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcm91dGU6IHRoaXMucHJvcHMucm91dGVcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnVGhlIGBSb3V0ZUNvbnRleHRgIG1peGluIGlzIGRlcHJlY2F0ZWQuIFlvdSBjYW4gcHJvdmlkZSBgdGhpcy5wcm9wcy5yb3V0ZWAgb24gY29udGV4dCB3aXRoIHlvdXIgb3duIGBjb250ZXh0VHlwZXNgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItcm91dGVjb250ZXh0bWl4aW4nKSA6IHZvaWQgMDtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSb3V0ZUNvbnRleHQ7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5KTtcblx0XG5cdHZhciBfdXNlUXVlcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdHZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdHZhciBfUm91dGVyQ29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX1JvdXRlclV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdGZ1bmN0aW9uIGlzRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSkge1xuXHQgIHJldHVybiAhaGlzdG9yeSB8fCAhaGlzdG9yeS5fX3YyX2NvbXBhdGlibGVfXztcblx0fVxuXHRcblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuXHRmdW5jdGlvbiBpc1Vuc3VwcG9ydGVkSGlzdG9yeShoaXN0b3J5KSB7XG5cdCAgLy8gdjMgaGlzdG9yaWVzIGV4cG9zZSBnZXRDdXJyZW50TG9jYXRpb24sIGJ1dCBhcmVuJ3QgY3VycmVudGx5IHN1cHBvcnRlZC5cblx0ICByZXR1cm4gaGlzdG9yeSAmJiBoaXN0b3J5LmdldEN1cnJlbnRMb2NhdGlvbjtcblx0fVxuXHRcblx0dmFyIF9SZWFjdCRQcm9wVHlwZXMgPSBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzO1xuXHR2YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblx0dmFyIG9iamVjdCA9IF9SZWFjdCRQcm9wVHlwZXMub2JqZWN0O1xuXHRcblx0LyoqXG5cdCAqIEEgPFJvdXRlcj4gaXMgYSBoaWdoLWxldmVsIEFQSSBmb3IgYXV0b21hdGljYWxseSBzZXR0aW5nIHVwXG5cdCAqIGEgcm91dGVyIHRoYXQgcmVuZGVycyBhIDxSb3V0ZXJDb250ZXh0PiB3aXRoIGFsbCB0aGUgcHJvcHNcblx0ICogaXQgbmVlZHMgZWFjaCB0aW1lIHRoZSBVUkwgY2hhbmdlcy5cblx0ICovXG5cdFxuXHR2YXIgUm91dGVyID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1JvdXRlcicsXG5cdFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGhpc3Rvcnk6IG9iamVjdCxcblx0ICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzLFxuXHQgICAgcm91dGVzOiBfSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzLCAvLyBhbGlhcyBmb3IgY2hpbGRyZW5cblx0ICAgIHJlbmRlcjogZnVuYyxcblx0ICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmMsXG5cdCAgICBvbkVycm9yOiBmdW5jLFxuXHQgICAgb25VcGRhdGU6IGZ1bmMsXG5cdFxuXHQgICAgLy8gRGVwcmVjYXRlZDpcblx0ICAgIHBhcnNlUXVlcnlTdHJpbmc6IGZ1bmMsXG5cdCAgICBzdHJpbmdpZnlRdWVyeTogZnVuYyxcblx0XG5cdCAgICAvLyBQUklWQVRFOiBGb3IgY2xpZW50LXNpZGUgcmVoeWRyYXRpb24gb2Ygc2VydmVyIG1hdGNoLlxuXHQgICAgbWF0Y2hDb250ZXh0OiBvYmplY3Rcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Sb3V0ZXJDb250ZXh0Mi5kZWZhdWx0LCBwcm9wcyk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGxvY2F0aW9uOiBudWxsLFxuXHQgICAgICByb3V0ZXM6IG51bGwsXG5cdCAgICAgIHBhcmFtczogbnVsbCxcblx0ICAgICAgY29tcG9uZW50czogbnVsbFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvcikge1xuXHQgICAgaWYgKHRoaXMucHJvcHMub25FcnJvcikge1xuXHQgICAgICB0aGlzLnByb3BzLm9uRXJyb3IuY2FsbCh0aGlzLCBlcnJvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBUaHJvdyBlcnJvcnMgYnkgZGVmYXVsdCBzbyB3ZSBkb24ndCBzaWxlbnRseSBzd2FsbG93IHRoZW0hXG5cdCAgICAgIHRocm93IGVycm9yOyAvLyBUaGlzIGVycm9yIHByb2JhYmx5IG9jY3VycmVkIGluIGdldENoaWxkUm91dGVzIG9yIGdldENvbXBvbmVudHMuXG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcGFyc2VRdWVyeVN0cmluZyA9IF9wcm9wcy5wYXJzZVF1ZXJ5U3RyaW5nO1xuXHQgICAgdmFyIHN0cmluZ2lmeVF1ZXJ5ID0gX3Byb3BzLnN0cmluZ2lmeVF1ZXJ5O1xuXHRcblx0ICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKCEocGFyc2VRdWVyeVN0cmluZyB8fCBzdHJpbmdpZnlRdWVyeSksICdgcGFyc2VRdWVyeVN0cmluZ2AgYW5kIGBzdHJpbmdpZnlRdWVyeWAgYXJlIGRlcHJlY2F0ZWQuIFBsZWFzZSBjcmVhdGUgYSBjdXN0b20gaGlzdG9yeS4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWN1c3RvbXF1ZXJ5c3RyaW5nJykgOiB2b2lkIDA7XG5cdFxuXHQgICAgdmFyIF9jcmVhdGVSb3V0ZXJPYmplY3RzID0gdGhpcy5jcmVhdGVSb3V0ZXJPYmplY3RzKCk7XG5cdFxuXHQgICAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy5oaXN0b3J5O1xuXHQgICAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gX2NyZWF0ZVJvdXRlck9iamVjdHMudHJhbnNpdGlvbk1hbmFnZXI7XG5cdCAgICB2YXIgcm91dGVyID0gX2NyZWF0ZVJvdXRlck9iamVjdHMucm91dGVyO1xuXHRcblx0XG5cdCAgICB0aGlzLl91bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmxpc3RlbihmdW5jdGlvbiAoZXJyb3IsIHN0YXRlKSB7XG5cdCAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBfdGhpcy5zZXRTdGF0ZShzdGF0ZSwgX3RoaXMucHJvcHMub25VcGRhdGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5O1xuXHQgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG5cdCAgfSxcblx0ICBjcmVhdGVSb3V0ZXJPYmplY3RzOiBmdW5jdGlvbiBjcmVhdGVSb3V0ZXJPYmplY3RzKCkge1xuXHQgICAgdmFyIG1hdGNoQ29udGV4dCA9IHRoaXMucHJvcHMubWF0Y2hDb250ZXh0O1xuXHRcblx0ICAgIGlmIChtYXRjaENvbnRleHQpIHtcblx0ICAgICAgcmV0dXJuIG1hdGNoQ29udGV4dDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaGlzdG9yeSA9IHRoaXMucHJvcHMuaGlzdG9yeTtcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciByb3V0ZXMgPSBfcHJvcHMyLnJvdXRlcztcblx0ICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wczIuY2hpbGRyZW47XG5cdFxuXHRcblx0ICAgICEhaXNVbnN1cHBvcnRlZEhpc3RvcnkoaGlzdG9yeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnWW91IGhhdmUgcHJvdmlkZWQgYSBoaXN0b3J5IG9iamVjdCBjcmVhdGVkIHdpdGggaGlzdG9yeSB2My54LiAnICsgJ1RoaXMgdmVyc2lvbiBvZiBSZWFjdCBSb3V0ZXIgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB2MyBoaXN0b3J5ICcgKyAnb2JqZWN0cy4gUGxlYXNlIHVzZSBoaXN0b3J5IHYyLnggaW5zdGVhZC4nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKGlzRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSkpIHtcblx0ICAgICAgaGlzdG9yeSA9IHRoaXMud3JhcERlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKGhpc3RvcnksICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXMpKHJvdXRlcyB8fCBjaGlsZHJlbikpO1xuXHQgICAgdmFyIHJvdXRlciA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGVyT2JqZWN0KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cdCAgICB2YXIgcm91dGluZ0hpc3RvcnkgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cdFxuXHQgICAgcmV0dXJuIHsgaGlzdG9yeTogcm91dGluZ0hpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyOiB0cmFuc2l0aW9uTWFuYWdlciwgcm91dGVyOiByb3V0ZXIgfTtcblx0ICB9LFxuXHQgIHdyYXBEZXByZWNhdGVkSGlzdG9yeTogZnVuY3Rpb24gd3JhcERlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpIHtcblx0ICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwYXJzZVF1ZXJ5U3RyaW5nID0gX3Byb3BzMy5wYXJzZVF1ZXJ5U3RyaW5nO1xuXHQgICAgdmFyIHN0cmluZ2lmeVF1ZXJ5ID0gX3Byb3BzMy5zdHJpbmdpZnlRdWVyeTtcblx0XG5cdFxuXHQgICAgdmFyIGNyZWF0ZUhpc3RvcnkgPSB2b2lkIDA7XG5cdCAgICBpZiAoaGlzdG9yeSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0l0IGFwcGVhcnMgeW91IGhhdmUgcHJvdmlkZWQgYSBkZXByZWNhdGVkIGhpc3Rvcnkgb2JqZWN0IHRvIGA8Um91dGVyLz5gLCBwbGVhc2UgdXNlIGEgaGlzdG9yeSBwcm92aWRlZCBieSAnICsgJ1JlYWN0IFJvdXRlciB3aXRoIGBpbXBvcnQgeyBicm93c2VySGlzdG9yeSB9IGZyb20gXFwncmVhY3Qtcm91dGVyXFwnYCBvciBgaW1wb3J0IHsgaGFzaEhpc3RvcnkgfSBmcm9tIFxcJ3JlYWN0LXJvdXRlclxcJ2AuICcgKyAnSWYgeW91IGFyZSB1c2luZyBhIGN1c3RvbSBoaXN0b3J5IHBsZWFzZSBjcmVhdGUgaXQgd2l0aCBgdXNlUm91dGVySGlzdG9yeWAsIHNlZSBodHRwOi8vdGlueS5jYy9yb3V0ZXItdXNpbmdoaXN0b3J5IGZvciBkZXRhaWxzLicpIDogdm9pZCAwO1xuXHQgICAgICBjcmVhdGVIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcblx0ICAgICAgICByZXR1cm4gaGlzdG9yeTtcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYFJvdXRlcmAgbm8gbG9uZ2VyIGRlZmF1bHRzIHRoZSBoaXN0b3J5IHByb3AgdG8gaGFzaCBoaXN0b3J5LiBQbGVhc2UgdXNlIHRoZSBgaGFzaEhpc3RvcnlgIHNpbmdsZXRvbiBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItZGVmYXVsdGhpc3RvcnknKSA6IHZvaWQgMDtcblx0ICAgICAgY3JlYXRlSGlzdG9yeSA9IF9jcmVhdGVIYXNoSGlzdG9yeTIuZGVmYXVsdDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gKDAsIF91c2VRdWVyaWVzMi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KSh7IHBhcnNlUXVlcnlTdHJpbmc6IHBhcnNlUXVlcnlTdHJpbmcsIHN0cmluZ2lmeVF1ZXJ5OiBzdHJpbmdpZnlRdWVyeSB9KTtcblx0ICB9LFxuXHRcblx0XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhbml0eSBjaGVjayAqL1xuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShuZXh0UHJvcHMuaGlzdG9yeSA9PT0gdGhpcy5wcm9wcy5oaXN0b3J5LCAnWW91IGNhbm5vdCBjaGFuZ2UgPFJvdXRlciBoaXN0b3J5PjsgaXQgd2lsbCBiZSBpZ25vcmVkJykgOiB2b2lkIDA7XG5cdFxuXHQgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoKG5leHRQcm9wcy5yb3V0ZXMgfHwgbmV4dFByb3BzLmNoaWxkcmVuKSA9PT0gKHRoaXMucHJvcHMucm91dGVzIHx8IHRoaXMucHJvcHMuY2hpbGRyZW4pLCAnWW91IGNhbm5vdCBjaGFuZ2UgPFJvdXRlciByb3V0ZXM+OyBpdCB3aWxsIGJlIGlnbm9yZWQnKSA6IHZvaWQgMDtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIGlmICh0aGlzLl91bmxpc3RlbikgdGhpcy5fdW5saXN0ZW4oKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgbG9jYXRpb24gPSBfc3RhdGUubG9jYXRpb247XG5cdCAgICB2YXIgcm91dGVzID0gX3N0YXRlLnJvdXRlcztcblx0ICAgIHZhciBwYXJhbXMgPSBfc3RhdGUucGFyYW1zO1xuXHQgICAgdmFyIGNvbXBvbmVudHMgPSBfc3RhdGUuY29tcG9uZW50cztcblx0ICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjcmVhdGVFbGVtZW50ID0gX3Byb3BzNC5jcmVhdGVFbGVtZW50O1xuXHQgICAgdmFyIHJlbmRlciA9IF9wcm9wczQucmVuZGVyO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHM0LCBbJ2NyZWF0ZUVsZW1lbnQnLCAncmVuZGVyJ10pO1xuXHRcblx0ICAgIGlmIChsb2NhdGlvbiA9PSBudWxsKSByZXR1cm4gbnVsbDsgLy8gQXN5bmMgbWF0Y2hcblx0XG5cdCAgICAvLyBPbmx5IGZvcndhcmQgbm9uLVJvdXRlci1zcGVjaWZpYyBwcm9wcyB0byByb3V0aW5nIGNvbnRleHQsIGFzIHRob3NlIGFyZVxuXHQgICAgLy8gdGhlIG9ubHkgb25lcyB0aGF0IG1pZ2h0IGJlIGN1c3RvbSByb3V0aW5nIGNvbnRleHQgcHJvcHMuXG5cdCAgICBPYmplY3Qua2V5cyhSb3V0ZXIucHJvcFR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wVHlwZSkge1xuXHQgICAgICByZXR1cm4gZGVsZXRlIHByb3BzW3Byb3BUeXBlXTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiByZW5kZXIoX2V4dGVuZHMoe30sIHByb3BzLCB7XG5cdCAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcblx0ICAgICAgcm91dGVyOiB0aGlzLnJvdXRlcixcblx0ICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuXHQgICAgICByb3V0ZXM6IHJvdXRlcyxcblx0ICAgICAgcGFyYW1zOiBwYXJhbXMsXG5cdCAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG5cdCAgICAgIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRcblx0ICAgIH0pKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUm91dGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX1JvdXRlckNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyQ29udGV4dCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBSb3V0aW5nQ29udGV4dCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSb3V0aW5nQ29udGV4dCcsXG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2BSb3V0aW5nQ29udGV4dGAgaGFzIGJlZW4gcmVuYW1lZCB0byBgUm91dGVyQ29udGV4dGAuIFBsZWFzZSB1c2UgYGltcG9ydCB7IFJvdXRlckNvbnRleHQgfSBmcm9tIFxcJ3JlYWN0LXJvdXRlclxcJ2AuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1yb3V0ZXJjb250ZXh0JykgOiB2b2lkIDA7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUm91dGVyQ29udGV4dDIuZGVmYXVsdCwgdGhpcy5wcm9wcyk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFJvdXRpbmdDb250ZXh0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMucnVuRW50ZXJIb29rcyA9IHJ1bkVudGVySG9va3M7XG5cdGV4cG9ydHMucnVuQ2hhbmdlSG9va3MgPSBydW5DaGFuZ2VIb29rcztcblx0ZXhwb3J0cy5ydW5MZWF2ZUhvb2tzID0gcnVuTGVhdmVIb29rcztcblx0XG5cdHZhciBfQXN5bmNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uSG9vayhob29rLCByb3V0ZSwgYXN5bmNBcml0eSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGhvb2suYXBwbHkocm91dGUsIGFyZ3MpO1xuXHRcblx0ICAgIGlmIChob29rLmxlbmd0aCA8IGFzeW5jQXJpdHkpIHtcblx0ICAgICAgdmFyIGNhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuXHQgICAgICAvLyBBc3N1bWUgaG9vayBleGVjdXRlcyBzeW5jaHJvbm91c2x5IGFuZFxuXHQgICAgICAvLyBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNhbGxiYWNrLlxuXHQgICAgICBjYWxsYmFjaygpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEVudGVySG9va3Mocm91dGVzKSB7XG5cdCAgcmV0dXJuIHJvdXRlcy5yZWR1Y2UoZnVuY3Rpb24gKGhvb2tzLCByb3V0ZSkge1xuXHQgICAgaWYgKHJvdXRlLm9uRW50ZXIpIGhvb2tzLnB1c2goY3JlYXRlVHJhbnNpdGlvbkhvb2socm91dGUub25FbnRlciwgcm91dGUsIDMpKTtcblx0XG5cdCAgICByZXR1cm4gaG9va3M7XG5cdCAgfSwgW10pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRDaGFuZ2VIb29rcyhyb3V0ZXMpIHtcblx0ICByZXR1cm4gcm91dGVzLnJlZHVjZShmdW5jdGlvbiAoaG9va3MsIHJvdXRlKSB7XG5cdCAgICBpZiAocm91dGUub25DaGFuZ2UpIGhvb2tzLnB1c2goY3JlYXRlVHJhbnNpdGlvbkhvb2socm91dGUub25DaGFuZ2UsIHJvdXRlLCA0KSk7XG5cdCAgICByZXR1cm4gaG9va3M7XG5cdCAgfSwgW10pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9va3MobGVuZ3RoLCBpdGVyLCBjYWxsYmFjaykge1xuXHQgIGlmICghbGVuZ3RoKSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdmFyIHJlZGlyZWN0SW5mbyA9IHZvaWQgMDtcblx0ICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uLCBkZXByZWNhdGVkUGF0aG5hbWUsIGRlcHJlY2F0ZWRRdWVyeSkge1xuXHQgICAgaWYgKGRlcHJlY2F0ZWRQYXRobmFtZSkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2ByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGhuYW1lLCBxdWVyeSkgaXMgZGVwcmVjYXRlZDsgdXNlIGByZXBsYWNlKGxvY2F0aW9uKWAgd2l0aCBhIGxvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWlzQWN0aXZlZGVwcmVjYXRlZCcpIDogdm9pZCAwO1xuXHQgICAgICByZWRpcmVjdEluZm8gPSB7XG5cdCAgICAgICAgcGF0aG5hbWU6IGRlcHJlY2F0ZWRQYXRobmFtZSxcblx0ICAgICAgICBxdWVyeTogZGVwcmVjYXRlZFF1ZXJ5LFxuXHQgICAgICAgIHN0YXRlOiBsb2NhdGlvblxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlZGlyZWN0SW5mbyA9IGxvY2F0aW9uO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9Bc3luY1V0aWxzLmxvb3BBc3luYykobGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIG5leHQsIGRvbmUpIHtcblx0ICAgIGl0ZXIoaW5kZXgsIHJlcGxhY2UsIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICBpZiAoZXJyb3IgfHwgcmVkaXJlY3RJbmZvKSB7XG5cdCAgICAgICAgZG9uZShlcnJvciwgcmVkaXJlY3RJbmZvKTsgLy8gTm8gbmVlZCB0byBjb250aW51ZS5cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0KCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sIGNhbGxiYWNrKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJ1bnMgYWxsIG9uRW50ZXIgaG9va3MgaW4gdGhlIGdpdmVuIGFycmF5IG9mIHJvdXRlcyBpbiBvcmRlclxuXHQgKiB3aXRoIG9uRW50ZXIobmV4dFN0YXRlLCByZXBsYWNlLCBjYWxsYmFjaykgYW5kIGNhbGxzXG5cdCAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdEluZm8pIHdoZW4gZmluaXNoZWQuIFRoZSBmaXJzdCBob29rXG5cdCAqIHRvIHVzZSByZXBsYWNlIHNob3J0LWNpcmN1aXRzIHRoZSBsb29wLlxuXHQgKlxuXHQgKiBJZiBhIGhvb2sgbmVlZHMgdG8gcnVuIGFzeW5jaHJvbm91c2x5LCBpdCBtYXkgdXNlIHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi4gSG93ZXZlciwgZG9pbmcgc28gd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBwYXVzZSxcblx0ICogd2hpY2ggY291bGQgbGVhZCB0byBhIG5vbi1yZXNwb25zaXZlIFVJIGlmIHRoZSBob29rIGlzIHNsb3cuXG5cdCAqL1xuXHRmdW5jdGlvbiBydW5FbnRlckhvb2tzKHJvdXRlcywgbmV4dFN0YXRlLCBjYWxsYmFjaykge1xuXHQgIHZhciBob29rcyA9IGdldEVudGVySG9va3Mocm91dGVzKTtcblx0ICByZXR1cm4gcnVuVHJhbnNpdGlvbkhvb2tzKGhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlLCBuZXh0KSB7XG5cdCAgICBob29rc1tpbmRleF0obmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSdW5zIGFsbCBvbkNoYW5nZSBob29rcyBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2Ygcm91dGVzIGluIG9yZGVyXG5cdCAqIHdpdGggb25DaGFuZ2UocHJldlN0YXRlLCBuZXh0U3RhdGUsIHJlcGxhY2UsIGNhbGxiYWNrKSBhbmQgY2FsbHNcblx0ICogY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0SW5mbykgd2hlbiBmaW5pc2hlZC4gVGhlIGZpcnN0IGhvb2tcblx0ICogdG8gdXNlIHJlcGxhY2Ugc2hvcnQtY2lyY3VpdHMgdGhlIGxvb3AuXG5cdCAqXG5cdCAqIElmIGEgaG9vayBuZWVkcyB0byBydW4gYXN5bmNocm9ub3VzbHksIGl0IG1heSB1c2UgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLiBIb3dldmVyLCBkb2luZyBzbyB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIHBhdXNlLFxuXHQgKiB3aGljaCBjb3VsZCBsZWFkIHRvIGEgbm9uLXJlc3BvbnNpdmUgVUkgaWYgdGhlIGhvb2sgaXMgc2xvdy5cblx0ICovXG5cdGZ1bmN0aW9uIHJ1bkNoYW5nZUhvb2tzKHJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcblx0ICB2YXIgaG9va3MgPSBnZXRDaGFuZ2VIb29rcyhyb3V0ZXMpO1xuXHQgIHJldHVybiBydW5UcmFuc2l0aW9uSG9va3MoaG9va3MubGVuZ3RoLCBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2UsIG5leHQpIHtcblx0ICAgIGhvb2tzW2luZGV4XShzdGF0ZSwgbmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSdW5zIGFsbCBvbkxlYXZlIGhvb2tzIGluIHRoZSBnaXZlbiBhcnJheSBvZiByb3V0ZXMgaW4gb3JkZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBydW5MZWF2ZUhvb2tzKHJvdXRlcywgcHJldlN0YXRlKSB7XG5cdCAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvdXRlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXHQgICAgaWYgKHJvdXRlc1tpXS5vbkxlYXZlKSByb3V0ZXNbaV0ub25MZWF2ZS5jYWxsKHJvdXRlc1tpXSwgcHJldlN0YXRlKTtcblx0ICB9XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfUm91dGVyQ29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICBtaWRkbGV3YXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChtaWRkbGV3YXJlLCBpbmRleCkge1xuXHQgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShtaWRkbGV3YXJlLnJlbmRlclJvdXRlckNvbnRleHQgfHwgbWlkZGxld2FyZS5yZW5kZXJSb3V0ZUNvbXBvbmVudCwgJ1RoZSBtaWRkbGV3YXJlIHNwZWNpZmllZCBhdCBpbmRleCAnICsgaW5kZXggKyAnIGRvZXMgbm90IGFwcGVhciB0byBiZSAnICsgJ2EgdmFsaWQgUmVhY3QgUm91dGVyIG1pZGRsZXdhcmUuJykgOiB2b2lkIDA7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHZhciB3aXRoQ29udGV4dCA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgcmV0dXJuIG1pZGRsZXdhcmUucmVuZGVyUm91dGVyQ29udGV4dDtcblx0ICB9KS5maWx0ZXIoQm9vbGVhbik7XG5cdCAgdmFyIHdpdGhDb21wb25lbnQgPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcblx0ICAgIHJldHVybiBtaWRkbGV3YXJlLnJlbmRlclJvdXRlQ29tcG9uZW50O1xuXHQgIH0pLmZpbHRlcihCb29sZWFuKTtcblx0XG5cdCAgdmFyIG1ha2VDcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gbWFrZUNyZWF0ZUVsZW1lbnQoKSB7XG5cdCAgICB2YXIgYmFzZUNyZWF0ZUVsZW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBfcmVhY3QuY3JlYXRlRWxlbWVudCA6IGFyZ3VtZW50c1swXTtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoQ29tcG9uZW50LCBwcm9wcykge1xuXHQgICAgICByZXR1cm4gd2l0aENvbXBvbmVudC5yZWR1Y2VSaWdodChmdW5jdGlvbiAocHJldmlvdXMsIHJlbmRlclJvdXRlQ29tcG9uZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIHJlbmRlclJvdXRlQ29tcG9uZW50KHByZXZpb3VzLCBwcm9wcyk7XG5cdCAgICAgIH0sIGJhc2VDcmVhdGVFbGVtZW50KENvbXBvbmVudCwgcHJvcHMpKTtcblx0ICAgIH07XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChyZW5kZXJQcm9wcykge1xuXHQgICAgcmV0dXJuIHdpdGhDb250ZXh0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChwcmV2aW91cywgcmVuZGVyUm91dGVyQ29udGV4dCkge1xuXHQgICAgICByZXR1cm4gcmVuZGVyUm91dGVyQ29udGV4dChwcmV2aW91cywgcmVuZGVyUHJvcHMpO1xuXHQgICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCByZW5kZXJQcm9wcywge1xuXHQgICAgICBjcmVhdGVFbGVtZW50OiBtYWtlQ3JlYXRlRWxlbWVudChyZW5kZXJQcm9wcy5jcmVhdGVFbGVtZW50KVxuXHQgICAgfSkpKTtcblx0ICB9O1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDEyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5KTtcblx0XG5cdHZhciBfY3JlYXRlUm91dGVySGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXHRcblx0dmFyIF9jcmVhdGVSb3V0ZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVJvdXRlckhpc3RvcnkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfY3JlYXRlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5Mi5kZWZhdWx0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX1BhdHRlcm5VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0ZnVuY3Rpb24gcm91dGVQYXJhbXNDaGFuZ2VkKHJvdXRlLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSkge1xuXHQgIGlmICghcm91dGUucGF0aCkgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICB2YXIgcGFyYW1OYW1lcyA9ICgwLCBfUGF0dGVyblV0aWxzLmdldFBhcmFtTmFtZXMpKHJvdXRlLnBhdGgpO1xuXHRcblx0ICByZXR1cm4gcGFyYW1OYW1lcy5zb21lKGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcblx0ICAgIHJldHVybiBwcmV2U3RhdGUucGFyYW1zW3BhcmFtTmFtZV0gIT09IG5leHRTdGF0ZS5wYXJhbXNbcGFyYW1OYW1lXTtcblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHsgbGVhdmVSb3V0ZXMsIGNoYW5nZVJvdXRlcywgZW50ZXJSb3V0ZXMgfSBkZXRlcm1pbmVkIGJ5XG5cdCAqIHRoZSBjaGFuZ2UgZnJvbSBwcmV2U3RhdGUgdG8gbmV4dFN0YXRlLiBXZSBsZWF2ZSByb3V0ZXMgaWYgZWl0aGVyXG5cdCAqIDEpIHRoZXkgYXJlIG5vdCBpbiB0aGUgbmV4dCBzdGF0ZSBvciAyKSB0aGV5IGFyZSBpbiB0aGUgbmV4dCBzdGF0ZVxuXHQgKiBidXQgdGhlaXIgcGFyYW1zIGhhdmUgY2hhbmdlZCAoaS5lLiAvdXNlcnMvMTIzID0+IC91c2Vycy80NTYpLlxuXHQgKlxuXHQgKiBsZWF2ZVJvdXRlcyBhcmUgb3JkZXJlZCBzdGFydGluZyBhdCB0aGUgbGVhZiByb3V0ZSBvZiB0aGUgdHJlZVxuXHQgKiB3ZSdyZSBsZWF2aW5nIHVwIHRvIHRoZSBjb21tb24gcGFyZW50IHJvdXRlLiBlbnRlclJvdXRlcyBhcmUgb3JkZXJlZFxuXHQgKiBmcm9tIHRoZSB0b3Agb2YgdGhlIHRyZWUgd2UncmUgZW50ZXJpbmcgZG93biB0byB0aGUgbGVhZiByb3V0ZS5cblx0ICpcblx0ICogY2hhbmdlUm91dGVzIGFyZSBhbnkgcm91dGVzIHRoYXQgZGlkbid0IGxlYXZlIG9yIGVudGVyIGR1cmluZ1xuXHQgKiB0aGUgdHJhbnNpdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGNvbXB1dGVDaGFuZ2VkUm91dGVzKHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG5cdCAgdmFyIHByZXZSb3V0ZXMgPSBwcmV2U3RhdGUgJiYgcHJldlN0YXRlLnJvdXRlcztcblx0ICB2YXIgbmV4dFJvdXRlcyA9IG5leHRTdGF0ZS5yb3V0ZXM7XG5cdFxuXHQgIHZhciBsZWF2ZVJvdXRlcyA9IHZvaWQgMCxcblx0ICAgICAgY2hhbmdlUm91dGVzID0gdm9pZCAwLFxuXHQgICAgICBlbnRlclJvdXRlcyA9IHZvaWQgMDtcblx0ICBpZiAocHJldlJvdXRlcykge1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHBhcmVudElzTGVhdmluZyA9IGZhbHNlO1xuXHQgICAgICBsZWF2ZVJvdXRlcyA9IHByZXZSb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyb3V0ZSkge1xuXHQgICAgICAgIGlmIChwYXJlbnRJc0xlYXZpbmcpIHtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgaXNMZWF2aW5nID0gbmV4dFJvdXRlcy5pbmRleE9mKHJvdXRlKSA9PT0gLTEgfHwgcm91dGVQYXJhbXNDaGFuZ2VkKHJvdXRlLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSk7XG5cdCAgICAgICAgICBpZiAoaXNMZWF2aW5nKSBwYXJlbnRJc0xlYXZpbmcgPSB0cnVlO1xuXHQgICAgICAgICAgcmV0dXJuIGlzTGVhdmluZztcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgLy8gb25MZWF2ZSBob29rcyBzdGFydCBhdCB0aGUgbGVhZiByb3V0ZS5cblx0ICAgICAgbGVhdmVSb3V0ZXMucmV2ZXJzZSgpO1xuXHRcblx0ICAgICAgZW50ZXJSb3V0ZXMgPSBbXTtcblx0ICAgICAgY2hhbmdlUm91dGVzID0gW107XG5cdFxuXHQgICAgICBuZXh0Um91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7XG5cdCAgICAgICAgdmFyIGlzTmV3ID0gcHJldlJvdXRlcy5pbmRleE9mKHJvdXRlKSA9PT0gLTE7XG5cdCAgICAgICAgdmFyIHBhcmFtc0NoYW5nZWQgPSBsZWF2ZVJvdXRlcy5pbmRleE9mKHJvdXRlKSAhPT0gLTE7XG5cdFxuXHQgICAgICAgIGlmIChpc05ldyB8fCBwYXJhbXNDaGFuZ2VkKSBlbnRlclJvdXRlcy5wdXNoKHJvdXRlKTtlbHNlIGNoYW5nZVJvdXRlcy5wdXNoKHJvdXRlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KSgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBsZWF2ZVJvdXRlcyA9IFtdO1xuXHQgICAgY2hhbmdlUm91dGVzID0gW107XG5cdCAgICBlbnRlclJvdXRlcyA9IG5leHRSb3V0ZXM7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgbGVhdmVSb3V0ZXM6IGxlYXZlUm91dGVzLFxuXHQgICAgY2hhbmdlUm91dGVzOiBjaGFuZ2VSb3V0ZXMsXG5cdCAgICBlbnRlclJvdXRlczogZW50ZXJSb3V0ZXNcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBjb21wdXRlQ2hhbmdlZFJvdXRlcztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX0FzeW5jVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfbWFrZVN0YXRlV2l0aExvY2F0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdFxuXHR2YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYWtlU3RhdGVXaXRoTG9jYXRpb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGdldENvbXBvbmVudHNGb3JSb3V0ZShuZXh0U3RhdGUsIHJvdXRlLCBjYWxsYmFjaykge1xuXHQgIGlmIChyb3V0ZS5jb21wb25lbnQgfHwgcm91dGUuY29tcG9uZW50cykge1xuXHQgICAgY2FsbGJhY2sobnVsbCwgcm91dGUuY29tcG9uZW50IHx8IHJvdXRlLmNvbXBvbmVudHMpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdmFyIGdldENvbXBvbmVudCA9IHJvdXRlLmdldENvbXBvbmVudCB8fCByb3V0ZS5nZXRDb21wb25lbnRzO1xuXHQgIGlmICghZ2V0Q29tcG9uZW50KSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0XG5cdCAgdmFyIGxvY2F0aW9uID0gbmV4dFN0YXRlLmxvY2F0aW9uO1xuXHRcblx0ICB2YXIgbmV4dFN0YXRlV2l0aExvY2F0aW9uID0gKDAsIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24yLmRlZmF1bHQpKG5leHRTdGF0ZSwgbG9jYXRpb24pO1xuXHRcblx0ICBnZXRDb21wb25lbnQuY2FsbChyb3V0ZSwgbmV4dFN0YXRlV2l0aExvY2F0aW9uLCBjYWxsYmFjayk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSBmZXRjaGVzIGFsbCBjb21wb25lbnRzIG5lZWRlZCBmb3IgdGhlIGdpdmVuIHJvdXRlclxuXHQgKiBzdGF0ZSBhbmQgY2FsbHMgY2FsbGJhY2soZXJyb3IsIGNvbXBvbmVudHMpIHdoZW4gZmluaXNoZWQuXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgb3BlcmF0aW9uIG1heSBmaW5pc2ggc3luY2hyb25vdXNseSBpZiBubyByb3V0ZXMgaGF2ZSBhblxuXHQgKiBhc3luY2hyb25vdXMgZ2V0Q29tcG9uZW50cyBtZXRob2QuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRDb21wb25lbnRzKG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcblx0ICAoMCwgX0FzeW5jVXRpbHMubWFwQXN5bmMpKG5leHRTdGF0ZS5yb3V0ZXMsIGZ1bmN0aW9uIChyb3V0ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG5cdCAgICBnZXRDb21wb25lbnRzRm9yUm91dGUobmV4dFN0YXRlLCByb3V0ZSwgY2FsbGJhY2spO1xuXHQgIH0sIGNhbGxiYWNrKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2V0Q29tcG9uZW50cztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX1BhdHRlcm5VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0LyoqXG5cdCAqIEV4dHJhY3RzIGFuIG9iamVjdCBvZiBwYXJhbXMgdGhlIGdpdmVuIHJvdXRlIGNhcmVzIGFib3V0IGZyb21cblx0ICogdGhlIGdpdmVuIHBhcmFtcyBvYmplY3QuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSb3V0ZVBhcmFtcyhyb3V0ZSwgcGFyYW1zKSB7XG5cdCAgdmFyIHJvdXRlUGFyYW1zID0ge307XG5cdFxuXHQgIGlmICghcm91dGUucGF0aCkgcmV0dXJuIHJvdXRlUGFyYW1zO1xuXHRcblx0ICAoMCwgX1BhdHRlcm5VdGlscy5nZXRQYXJhbU5hbWVzKShyb3V0ZS5wYXRoKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG5cdCAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywgcCkpIHtcblx0ICAgICAgcm91dGVQYXJhbXNbcF0gPSBwYXJhbXNbcF07XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiByb3V0ZVBhcmFtcztcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2V0Um91dGVQYXJhbXM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9jcmVhdGVIYXNoSGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0dmFyIF9jcmVhdGVIYXNoSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIYXNoSGlzdG9yeSk7XG5cdFxuXHR2YXIgX2NyZWF0ZVJvdXRlckhpc3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfY3JlYXRlUm91dGVySGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVSb3V0ZXJIaXN0b3J5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX2NyZWF0ZVJvdXRlckhpc3RvcnkyLmRlZmF1bHQpKF9jcmVhdGVIYXNoSGlzdG9yeTIuZGVmYXVsdCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBpc0FjdGl2ZTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHRmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuXHQgIGlmIChhID09IGIpIHJldHVybiB0cnVlO1xuXHRcblx0ICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuXHQgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgIHJldHVybiBkZWVwRXF1YWwoaXRlbSwgYltpbmRleF0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIGEpIHtcblx0ICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgcCkpIHtcblx0ICAgICAgICBjb250aW51ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGFbcF0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGlmIChiW3BdICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfSBlbHNlIGlmICghZGVlcEVxdWFsKGFbcF0sIGJbcF0pKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgcGF0aG5hbWUgbWF0Y2hlcyB0aGUgc3VwcGxpZWQgb25lLCBuZXQgb2Zcblx0ICogbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2ggbm9ybWFsaXphdGlvbi4gVGhpcyBpcyBzdWZmaWNpZW50IGZvciBhblxuXHQgKiBpbmRleE9ubHkgcm91dGUgbWF0Y2guXG5cdCAqL1xuXHRmdW5jdGlvbiBwYXRoSXNBY3RpdmUocGF0aG5hbWUsIGN1cnJlbnRQYXRobmFtZSkge1xuXHQgIC8vIE5vcm1hbGl6ZSBsZWFkaW5nIHNsYXNoIGZvciBjb25zaXN0ZW5jeS4gTGVhZGluZyBzbGFzaCBvbiBwYXRobmFtZSBoYXNcblx0ICAvLyBhbHJlYWR5IGJlZW4gbm9ybWFsaXplZCBpbiBpc0FjdGl2ZS4gU2VlIGNhdmVhdCB0aGVyZS5cblx0ICBpZiAoY3VycmVudFBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdCAgICBjdXJyZW50UGF0aG5hbWUgPSAnLycgKyBjdXJyZW50UGF0aG5hbWU7XG5cdCAgfVxuXHRcblx0ICAvLyBOb3JtYWxpemUgdGhlIGVuZCBvZiBib3RoIHBhdGggbmFtZXMgdG9vLiBNYXliZSBgL2Zvby9gIHNob3VsZG4ndCBzaG93XG5cdCAgLy8gYC9mb29gIGFzIGFjdGl2ZSwgYnV0IGluIHRoaXMgY2FzZSwgd2Ugd291bGQgYWxyZWFkeSBoYXZlIGZhaWxlZCB0aGVcblx0ICAvLyBtYXRjaC5cblx0ICBpZiAocGF0aG5hbWUuY2hhckF0KHBhdGhuYW1lLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcblx0ICAgIHBhdGhuYW1lICs9ICcvJztcblx0ICB9XG5cdCAgaWYgKGN1cnJlbnRQYXRobmFtZS5jaGFyQXQoY3VycmVudFBhdGhuYW1lLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcblx0ICAgIGN1cnJlbnRQYXRobmFtZSArPSAnLyc7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY3VycmVudFBhdGhuYW1lID09PSBwYXRobmFtZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcGF0aG5hbWUgbWF0Y2hlcyB0aGUgYWN0aXZlIHJvdXRlcyBhbmQgcGFyYW1zLlxuXHQgKi9cblx0ZnVuY3Rpb24gcm91dGVJc0FjdGl2ZShwYXRobmFtZSwgcm91dGVzLCBwYXJhbXMpIHtcblx0ICB2YXIgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZSxcblx0ICAgICAgcGFyYW1OYW1lcyA9IFtdLFxuXHQgICAgICBwYXJhbVZhbHVlcyA9IFtdO1xuXHRcblx0ICAvLyBmb3IuLi5vZiB3b3VsZCB3b3JrIGhlcmUgYnV0IGl0J3MgcHJvYmFibHkgc2xvd2VyIHBvc3QtdHJhbnNwaWxhdGlvbi5cblx0ICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cdCAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XG5cdCAgICB2YXIgcGF0dGVybiA9IHJvdXRlLnBhdGggfHwgJyc7XG5cdFxuXHQgICAgaWYgKHBhdHRlcm4uY2hhckF0KDApID09PSAnLycpIHtcblx0ICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZTtcblx0ICAgICAgcGFyYW1OYW1lcyA9IFtdO1xuXHQgICAgICBwYXJhbVZhbHVlcyA9IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPT0gbnVsbCAmJiBwYXR0ZXJuKSB7XG5cdCAgICAgIHZhciBtYXRjaGVkID0gKDAsIF9QYXR0ZXJuVXRpbHMubWF0Y2hQYXR0ZXJuKShwYXR0ZXJuLCByZW1haW5pbmdQYXRobmFtZSk7XG5cdCAgICAgIGlmIChtYXRjaGVkKSB7XG5cdCAgICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkLnJlbWFpbmluZ1BhdGhuYW1lO1xuXHQgICAgICAgIHBhcmFtTmFtZXMgPSBbXS5jb25jYXQocGFyYW1OYW1lcywgbWF0Y2hlZC5wYXJhbU5hbWVzKTtcblx0ICAgICAgICBwYXJhbVZhbHVlcyA9IFtdLmNvbmNhdChwYXJhbVZhbHVlcywgbWF0Y2hlZC5wYXJhbVZhbHVlcyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBudWxsO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAocmVtYWluaW5nUGF0aG5hbWUgPT09ICcnKSB7XG5cdCAgICAgICAgLy8gV2UgaGF2ZSBhbiBleGFjdCBtYXRjaCBvbiB0aGUgcm91dGUuIEp1c3QgY2hlY2sgdGhhdCBhbGwgdGhlIHBhcmFtc1xuXHQgICAgICAgIC8vIG1hdGNoLlxuXHQgICAgICAgIC8vIEZJWE1FOiBUaGlzIGRvZXNuJ3Qgd29yayBvbiByZXBlYXRlZCBwYXJhbXMuXG5cdCAgICAgICAgcmV0dXJuIHBhcmFtTmFtZXMuZXZlcnkoZnVuY3Rpb24gKHBhcmFtTmFtZSwgaW5kZXgpIHtcblx0ICAgICAgICAgIHJldHVybiBTdHJpbmcocGFyYW1WYWx1ZXNbaW5kZXhdKSA9PT0gU3RyaW5nKHBhcmFtc1twYXJhbU5hbWVdKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIGFsbCBrZXkvdmFsdWUgcGFpcnMgaW4gdGhlIGdpdmVuIHF1ZXJ5IGFyZVxuXHQgKiBjdXJyZW50bHkgYWN0aXZlLlxuXHQgKi9cblx0ZnVuY3Rpb24gcXVlcnlJc0FjdGl2ZShxdWVyeSwgYWN0aXZlUXVlcnkpIHtcblx0ICBpZiAoYWN0aXZlUXVlcnkgPT0gbnVsbCkgcmV0dXJuIHF1ZXJ5ID09IG51bGw7XG5cdFxuXHQgIGlmIChxdWVyeSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcblx0XG5cdCAgcmV0dXJuIGRlZXBFcXVhbChxdWVyeSwgYWN0aXZlUXVlcnkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIGEgPExpbms+IHRvIHRoZSBnaXZlbiBwYXRobmFtZS9xdWVyeSBjb21iaW5hdGlvbiBpc1xuXHQgKiBjdXJyZW50bHkgYWN0aXZlLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBY3RpdmUoX3JlZiwgaW5kZXhPbmx5LCBjdXJyZW50TG9jYXRpb24sIHJvdXRlcywgcGFyYW1zKSB7XG5cdCAgdmFyIHBhdGhuYW1lID0gX3JlZi5wYXRobmFtZTtcblx0ICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5O1xuXHRcblx0ICBpZiAoY3VycmVudExvY2F0aW9uID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0XG5cdCAgLy8gVE9ETzogVGhpcyBpcyBhIGJpdCB1Z2x5LiBJdCBrZWVwcyBhcm91bmQgc3VwcG9ydCBmb3IgdHJlYXRpbmcgcGF0aG5hbWVzXG5cdCAgLy8gd2l0aG91dCBwcmVjZWRpbmcgc2xhc2hlcyBhcyBhYnNvbHV0ZSBwYXRocywgYnV0IHBvc3NpYmx5IGFsc28gd29ya3Ncblx0ICAvLyBhcm91bmQgdGhlIHNhbWUgcXVpcmtzIHdpdGggYmFzZW5hbWVzIGFzIGluIG1hdGNoUm91dGVzLlxuXHQgIGlmIChwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuXHQgICAgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcblx0ICB9XG5cdFxuXHQgIGlmICghcGF0aElzQWN0aXZlKHBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpKSB7XG5cdCAgICAvLyBUaGUgcGF0aCBjaGVjayBpcyBuZWNlc3NhcnkgYW5kIHN1ZmZpY2llbnQgZm9yIGluZGV4T25seSwgYnV0IG90aGVyd2lzZVxuXHQgICAgLy8gd2Ugc3RpbGwgbmVlZCB0byBjaGVjayB0aGUgcm91dGVzLlxuXHQgICAgaWYgKGluZGV4T25seSB8fCAhcm91dGVJc0FjdGl2ZShwYXRobmFtZSwgcm91dGVzLCBwYXJhbXMpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBxdWVyeUlzQWN0aXZlKHF1ZXJ5LCBjdXJyZW50TG9jYXRpb24ucXVlcnkpO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9BY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXHRcblx0dmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblx0XG5cdHZhciBfUm91dGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9Sb3V0ZXJVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdC8qKlxuXHQgKiBBIGhpZ2gtbGV2ZWwgQVBJIHRvIGJlIHVzZWQgZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cblx0ICpcblx0ICogVGhpcyBmdW5jdGlvbiBtYXRjaGVzIGEgbG9jYXRpb24gdG8gYSBzZXQgb2Ygcm91dGVzIGFuZCBjYWxsc1xuXHQgKiBjYWxsYmFjayhlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgcmVuZGVyUHJvcHMpIHdoZW4gZmluaXNoZWQuXG5cdCAqXG5cdCAqIE5vdGU6IFlvdSBwcm9iYWJseSBkb24ndCB3YW50IHRvIHVzZSB0aGlzIGluIGEgYnJvd3NlciB1bmxlc3MgeW91J3JlIHVzaW5nXG5cdCAqIHNlcnZlci1zaWRlIHJlbmRlcmluZyB3aXRoIGFzeW5jIHJvdXRlcy5cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoKF9yZWYsIGNhbGxiYWNrKSB7XG5cdCAgdmFyIGhpc3RvcnkgPSBfcmVmLmhpc3Rvcnk7XG5cdCAgdmFyIHJvdXRlcyA9IF9yZWYucm91dGVzO1xuXHQgIHZhciBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb247XG5cdFxuXHQgIHZhciBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnaGlzdG9yeScsICdyb3V0ZXMnLCAnbG9jYXRpb24nXSk7XG5cdFxuXHQgICEoaGlzdG9yeSB8fCBsb2NhdGlvbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnbWF0Y2ggbmVlZHMgYSBoaXN0b3J5IG9yIGEgbG9jYXRpb24nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgIGhpc3RvcnkgPSBoaXN0b3J5ID8gaGlzdG9yeSA6ICgwLCBfY3JlYXRlTWVtb3J5SGlzdG9yeTIuZGVmYXVsdCkob3B0aW9ucyk7XG5cdCAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoaGlzdG9yeSwgKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcykocm91dGVzKSk7XG5cdFxuXHQgIHZhciB1bmxpc3RlbiA9IHZvaWQgMDtcblx0XG5cdCAgaWYgKGxvY2F0aW9uKSB7XG5cdCAgICAvLyBBbGxvdyBtYXRjaCh7IGxvY2F0aW9uOiAnL3RoZS9wYXRoJywgLi4uIH0pXG5cdCAgICBsb2NhdGlvbiA9IGhpc3RvcnkuY3JlYXRlTG9jYXRpb24obG9jYXRpb24pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBQaWNrIHVwIHRoZSBsb2NhdGlvbiBmcm9tIHRoZSBoaXN0b3J5IHZpYSBzeW5jaHJvbm91cyBoaXN0b3J5Lmxpc3RlblxuXHQgICAgLy8gY2FsbCBpZiBuZWVkZWQuXG5cdCAgICB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChoaXN0b3J5TG9jYXRpb24pIHtcblx0ICAgICAgbG9jYXRpb24gPSBoaXN0b3J5TG9jYXRpb247XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHZhciByb3V0ZXIgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRlck9iamVjdCkoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuXHQgIGhpc3RvcnkgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cdFxuXHQgIHRyYW5zaXRpb25NYW5hZ2VyLm1hdGNoKGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24sIG5leHRTdGF0ZSkge1xuXHQgICAgY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24gJiYgcm91dGVyLmNyZWF0ZUxvY2F0aW9uKHJlZGlyZWN0TG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UpLCBuZXh0U3RhdGUgJiYgX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuXHQgICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuXHQgICAgICByb3V0ZXI6IHJvdXRlcixcblx0ICAgICAgbWF0Y2hDb250ZXh0OiB7IGhpc3Rvcnk6IGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyOiB0cmFuc2l0aW9uTWFuYWdlciwgcm91dGVyOiByb3V0ZXIgfVxuXHQgICAgfSkpO1xuXHRcblx0ICAgIC8vIERlZmVyIHJlbW92aW5nIHRoZSBsaXN0ZW5lciB0byBoZXJlIHRvIHByZXZlbnQgRE9NIGhpc3RvcmllcyBmcm9tIGhhdmluZ1xuXHQgICAgLy8gdG8gdW53aW5kIERPTSBldmVudCBsaXN0ZW5lcnMgdW5uZWNlc3NhcmlseSwgaW4gY2FzZSBjYWxsYmFjayByZW5kZXJzIGFcblx0ICAgIC8vIDxSb3V0ZXI+IGFuZCBhdHRhY2hlcyBhbm90aGVyIGhpc3RvcnkgbGlzdGVuZXIuXG5cdCAgICBpZiAodW5saXN0ZW4pIHtcblx0ICAgICAgdW5saXN0ZW4oKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoUm91dGVzO1xuXHRcblx0dmFyIF9Bc3luY1V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpO1xuXHRcblx0dmFyIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFrZVN0YXRlV2l0aExvY2F0aW9uKTtcblx0XG5cdHZhciBfUGF0dGVyblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0dmFyIF9Sb3V0ZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q2hpbGRSb3V0ZXMocm91dGUsIGxvY2F0aW9uLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgY2FsbGJhY2spIHtcblx0ICBpZiAocm91dGUuY2hpbGRSb3V0ZXMpIHtcblx0ICAgIHJldHVybiBbbnVsbCwgcm91dGUuY2hpbGRSb3V0ZXNdO1xuXHQgIH1cblx0ICBpZiAoIXJvdXRlLmdldENoaWxkUm91dGVzKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfVxuXHRcblx0ICB2YXIgc3luYyA9IHRydWUsXG5cdCAgICAgIHJlc3VsdCA9IHZvaWQgMDtcblx0XG5cdCAgdmFyIHBhcnRpYWxOZXh0U3RhdGUgPSB7XG5cdCAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICBwYXJhbXM6IGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcylcblx0ICB9O1xuXHRcblx0ICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cdFxuXHQgIHJvdXRlLmdldENoaWxkUm91dGVzKHBhcnRpYWxOZXh0U3RhdGVXaXRoTG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgY2hpbGRSb3V0ZXMpIHtcblx0ICAgIGNoaWxkUm91dGVzID0gIWVycm9yICYmICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXMpKGNoaWxkUm91dGVzKTtcblx0ICAgIGlmIChzeW5jKSB7XG5cdCAgICAgIHJlc3VsdCA9IFtlcnJvciwgY2hpbGRSb3V0ZXNdO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY2FsbGJhY2soZXJyb3IsIGNoaWxkUm91dGVzKTtcblx0ICB9KTtcblx0XG5cdCAgc3luYyA9IGZhbHNlO1xuXHQgIHJldHVybiByZXN1bHQ7IC8vIE1pZ2h0IGJlIHVuZGVmaW5lZC5cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBjYWxsYmFjaykge1xuXHQgIGlmIChyb3V0ZS5pbmRleFJvdXRlKSB7XG5cdCAgICBjYWxsYmFjayhudWxsLCByb3V0ZS5pbmRleFJvdXRlKTtcblx0ICB9IGVsc2UgaWYgKHJvdXRlLmdldEluZGV4Um91dGUpIHtcblx0ICAgIHZhciBwYXJ0aWFsTmV4dFN0YXRlID0ge1xuXHQgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICAgIHBhcmFtczogY3JlYXRlUGFyYW1zKHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKVxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cdFxuXHQgICAgcm91dGUuZ2V0SW5kZXhSb3V0ZShwYXJ0aWFsTmV4dFN0YXRlV2l0aExvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcblx0ICAgICAgY2FsbGJhY2soZXJyb3IsICFlcnJvciAmJiAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShpbmRleFJvdXRlKVswXSk7XG5cdCAgICB9KTtcblx0ICB9IGVsc2UgaWYgKHJvdXRlLmNoaWxkUm91dGVzKSB7XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcGF0aGxlc3MgPSByb3V0ZS5jaGlsZFJvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkUm91dGUpIHtcblx0ICAgICAgICByZXR1cm4gIWNoaWxkUm91dGUucGF0aDtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAoMCwgX0FzeW5jVXRpbHMubG9vcEFzeW5jKShwYXRobGVzcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuXHQgICAgICAgIGdldEluZGV4Um91dGUocGF0aGxlc3NbaW5kZXhdLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGZ1bmN0aW9uIChlcnJvciwgaW5kZXhSb3V0ZSkge1xuXHQgICAgICAgICAgaWYgKGVycm9yIHx8IGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgICAgdmFyIHJvdXRlcyA9IFtwYXRobGVzc1tpbmRleF1dLmNvbmNhdChBcnJheS5pc0FycmF5KGluZGV4Um91dGUpID8gaW5kZXhSb3V0ZSA6IFtpbmRleFJvdXRlXSk7XG5cdCAgICAgICAgICAgIGRvbmUoZXJyb3IsIHJvdXRlcyk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBuZXh0KCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJvdXRlcykge1xuXHQgICAgICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlcyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2lnblBhcmFtcyhwYXJhbXMsIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKSB7XG5cdCAgcmV0dXJuIHBhcmFtTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtTmFtZSwgaW5kZXgpIHtcblx0ICAgIHZhciBwYXJhbVZhbHVlID0gcGFyYW1WYWx1ZXMgJiYgcGFyYW1WYWx1ZXNbaW5kZXhdO1xuXHRcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtc1twYXJhbU5hbWVdKSkge1xuXHQgICAgICBwYXJhbXNbcGFyYW1OYW1lXS5wdXNoKHBhcmFtVmFsdWUpO1xuXHQgICAgfSBlbHNlIGlmIChwYXJhbU5hbWUgaW4gcGFyYW1zKSB7XG5cdCAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gW3BhcmFtc1twYXJhbU5hbWVdLCBwYXJhbVZhbHVlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcGFyYW1zO1xuXHQgIH0sIHBhcmFtcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcykge1xuXHQgIHJldHVybiBhc3NpZ25QYXJhbXMoe30sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF0Y2hSb3V0ZURlZXAocm91dGUsIGxvY2F0aW9uLCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGNhbGxiYWNrKSB7XG5cdCAgdmFyIHBhdHRlcm4gPSByb3V0ZS5wYXRoIHx8ICcnO1xuXHRcblx0ICBpZiAocGF0dGVybi5jaGFyQXQoMCkgPT09ICcvJykge1xuXHQgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgIHBhcmFtTmFtZXMgPSBbXTtcblx0ICAgIHBhcmFtVmFsdWVzID0gW107XG5cdCAgfVxuXHRcblx0ICAvLyBPbmx5IHRyeSB0byBtYXRjaCB0aGUgcGF0aCBpZiB0aGUgcm91dGUgYWN0dWFsbHkgaGFzIGEgcGF0dGVybiwgYW5kIGlmXG5cdCAgLy8gd2UncmUgbm90IGp1c3Qgc2VhcmNoaW5nIGZvciBwb3RlbnRpYWwgbmVzdGVkIGFic29sdXRlIHBhdGhzLlxuXHQgIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPT0gbnVsbCAmJiBwYXR0ZXJuKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgbWF0Y2hlZCA9ICgwLCBfUGF0dGVyblV0aWxzLm1hdGNoUGF0dGVybikocGF0dGVybiwgcmVtYWluaW5nUGF0aG5hbWUpO1xuXHQgICAgICBpZiAobWF0Y2hlZCkge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZC5yZW1haW5pbmdQYXRobmFtZTtcblx0ICAgICAgICBwYXJhbU5hbWVzID0gW10uY29uY2F0KHBhcmFtTmFtZXMsIG1hdGNoZWQucGFyYW1OYW1lcyk7XG5cdCAgICAgICAgcGFyYW1WYWx1ZXMgPSBbXS5jb25jYXQocGFyYW1WYWx1ZXMsIG1hdGNoZWQucGFyYW1WYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgY2FsbGJhY2soZXJyb3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEJ5IGFzc3VtcHRpb24sIHBhdHRlcm4gaXMgbm9uLWVtcHR5IGhlcmUsIHdoaWNoIGlzIHRoZSBwcmVyZXF1aXNpdGUgZm9yXG5cdCAgICAvLyBhY3R1YWxseSB0ZXJtaW5hdGluZyBhIG1hdGNoLlxuXHQgICAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSAnJykge1xuXHQgICAgICB2YXIgX3JldDIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG1hdGNoID0ge1xuXHQgICAgICAgICAgcm91dGVzOiBbcm91dGVdLFxuXHQgICAgICAgICAgcGFyYW1zOiBjcmVhdGVQYXJhbXMocGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmRleFJvdXRlKSkge1xuXHQgICAgICAgICAgICAgIHZhciBfbWF0Y2gkcm91dGVzO1xuXHRcblx0ICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShpbmRleFJvdXRlLmV2ZXJ5KGZ1bmN0aW9uIChyb3V0ZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICFyb3V0ZS5wYXRoO1xuXHQgICAgICAgICAgICAgIH0pLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuXHQgICAgICAgICAgICAgIChfbWF0Y2gkcm91dGVzID0gbWF0Y2gucm91dGVzKS5wdXNoLmFwcGx5KF9tYXRjaCRyb3V0ZXMsIGluZGV4Um91dGUpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4Um91dGUpIHtcblx0ICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSghaW5kZXhSb3V0ZS5wYXRoLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuXHQgICAgICAgICAgICAgIG1hdGNoLnJvdXRlcy5wdXNoKGluZGV4Um91dGUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtYXRjaCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICB2OiB2b2lkIDBcblx0ICAgICAgICB9O1xuXHQgICAgICB9KCk7XG5cdFxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0MiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldDIpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQyLnY7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAocmVtYWluaW5nUGF0aG5hbWUgIT0gbnVsbCB8fCByb3V0ZS5jaGlsZFJvdXRlcykge1xuXHQgICAgLy8gRWl0aGVyIGEpIHRoaXMgcm91dGUgbWF0Y2hlZCBhdCBsZWFzdCBzb21lIG9mIHRoZSBwYXRoIG9yIGIpXG5cdCAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIGxvYWQgdGhpcyByb3V0ZSdzIGNoaWxkcmVuIGFzeW5jaHJvbm91c2x5LiBJblxuXHQgICAgLy8gZWl0aGVyIGNhc2UgY29udGludWUgY2hlY2tpbmcgZm9yIG1hdGNoZXMgaW4gdGhlIHN1YnRyZWUuXG5cdCAgICB2YXIgb25DaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIG9uQ2hpbGRSb3V0ZXMoZXJyb3IsIGNoaWxkUm91dGVzKSB7XG5cdCAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgfSBlbHNlIGlmIChjaGlsZFJvdXRlcykge1xuXHQgICAgICAgIC8vIENoZWNrIHRoZSBjaGlsZCByb3V0ZXMgdG8gc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoLlxuXHQgICAgICAgIG1hdGNoUm91dGVzKGNoaWxkUm91dGVzLCBsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBtYXRjaCkge1xuXHQgICAgICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2gpIHtcblx0ICAgICAgICAgICAgLy8gQSBjaGlsZCByb3V0ZSBtYXRjaGVkISBBdWdtZW50IHRoZSBtYXRjaCBhbmQgcGFzcyBpdCB1cCB0aGUgc3RhY2suXG5cdCAgICAgICAgICAgIG1hdGNoLnJvdXRlcy51bnNoaWZ0KHJvdXRlKTtcblx0ICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgbWF0Y2gpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2soKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9LCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IGdldENoaWxkUm91dGVzKHJvdXRlLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIG9uQ2hpbGRSb3V0ZXMpO1xuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgICBvbkNoaWxkUm91dGVzLmFwcGx5KHVuZGVmaW5lZCwgcmVzdWx0KTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSBtYXRjaGVzIHRoZSBnaXZlbiBsb2NhdGlvbiB0byBhIHNldCBvZiByb3V0ZXMgYW5kIGNhbGxzXG5cdCAqIGNhbGxiYWNrKGVycm9yLCBzdGF0ZSkgd2hlbiBmaW5pc2hlZC4gVGhlIHN0YXRlIG9iamVjdCB3aWxsIGhhdmUgdGhlXG5cdCAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHQgKlxuXHQgKiAtIHJvdXRlcyAgICAgICBBbiBhcnJheSBvZiByb3V0ZXMgdGhhdCBtYXRjaGVkLCBpbiBoaWVyYXJjaGljYWwgb3JkZXJcblx0ICogLSBwYXJhbXMgICAgICAgQW4gb2JqZWN0IG9mIFVSTCBwYXJhbWV0ZXJzXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgb3BlcmF0aW9uIG1heSBmaW5pc2ggc3luY2hyb25vdXNseSBpZiBubyByb3V0ZXMgaGF2ZSBhblxuXHQgKiBhc3luY2hyb25vdXMgZ2V0Q2hpbGRSb3V0ZXMgbWV0aG9kLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hSb3V0ZXMocm91dGVzLCBsb2NhdGlvbiwgY2FsbGJhY2ssIHJlbWFpbmluZ1BhdGhuYW1lKSB7XG5cdCAgdmFyIHBhcmFtTmFtZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s0XTtcblx0ICB2YXIgcGFyYW1WYWx1ZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDUgfHwgYXJndW1lbnRzWzVdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdCAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSB1bmRlZmluZWQpIHtcblx0ICAgIC8vIFRPRE86IFRoaXMgaXMgYSBsaXR0bGUgYml0IHVnbHksIGJ1dCBpdCB3b3JrcyBhcm91bmQgYSBxdWlyayBpbiBoaXN0b3J5XG5cdCAgICAvLyB0aGF0IHN0cmlwcyB0aGUgbGVhZGluZyBzbGFzaCBmcm9tIHBhdGhuYW1lcyB3aGVuIHVzaW5nIGJhc2VuYW1lcyB3aXRoXG5cdCAgICAvLyB0cmFpbGluZyBzbGFzaGVzLlxuXHQgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdCAgICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG5cdCAgICAgICAgcGF0aG5hbWU6ICcvJyArIGxvY2F0aW9uLnBhdGhuYW1lXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfQXN5bmNVdGlscy5sb29wQXN5bmMpKHJvdXRlcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuXHQgICAgbWF0Y2hSb3V0ZURlZXAocm91dGVzW2luZGV4XSwgbG9jYXRpb24sIHJlbWFpbmluZ1BhdGhuYW1lLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgZnVuY3Rpb24gKGVycm9yLCBtYXRjaCkge1xuXHQgICAgICBpZiAoZXJyb3IgfHwgbWF0Y2gpIHtcblx0ICAgICAgICBkb25lKGVycm9yLCBtYXRjaCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV4dCgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LCBjYWxsYmFjayk7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDEzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfdXNlUXVlcmllcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXHRcblx0dmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cdFxuXHR2YXIgX3JvdXRlcldhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbmV3IGNyZWF0ZUhpc3RvcnkgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGVcblx0ICogaGlzdG9yeSBvYmplY3RzIHRoYXQga25vdyBhYm91dCByb3V0aW5nLlxuXHQgKlxuXHQgKiBFbmhhbmNlcyBoaXN0b3J5IG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG5cdCAqXG5cdCAqIC0gbGlzdGVuKChlcnJvciwgbmV4dFN0YXRlKSA9PiB7fSlcblx0ICogLSBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUocm91dGUsIChuZXh0TG9jYXRpb24pID0+IHt9KVxuXHQgKiAtIG1hdGNoKGxvY2F0aW9uLCAoZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24sIG5leHRTdGF0ZSkgPT4ge30pXG5cdCAqIC0gaXNBY3RpdmUocGF0aG5hbWUsIHF1ZXJ5LCBpbmRleE9ubHk9ZmFsc2UpXG5cdCAqL1xuXHRmdW5jdGlvbiB1c2VSb3V0ZXMoY3JlYXRlSGlzdG9yeSkge1xuXHQgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYHVzZVJvdXRlc2AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXJgIGluc3RlYWQuJykgOiB2b2lkIDA7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgIHZhciByb3V0ZXMgPSBfcmVmLnJvdXRlcztcblx0XG5cdCAgICB2YXIgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ3JvdXRlcyddKTtcblx0XG5cdCAgICB2YXIgaGlzdG9yeSA9ICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkob3B0aW9ucyk7XG5cdCAgICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KShoaXN0b3J5LCByb3V0ZXMpO1xuXHQgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cdCAgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdXNlUm91dGVzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMikpKVxuXG4vKioqLyB9LFxuLyogMTM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gd2l0aFJvdXRlcjtcblx0XG5cdHZhciBfaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9ob2lzdE5vblJlYWN0U3RhdGljcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuXHRcblx0dmFyIF9Qcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG5cdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3aXRoUm91dGVyKFdyYXBwZWRDb21wb25lbnQsIG9wdGlvbnMpIHtcblx0ICB2YXIgd2l0aFJlZiA9IG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoUmVmO1xuXHRcblx0ICB2YXIgV2l0aFJvdXRlciA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG5cdCAgICBkaXNwbGF5TmFtZTogJ1dpdGhSb3V0ZXInLFxuXHRcblx0ICAgIGNvbnRleHRUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcblx0ICAgIHByb3BUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcblx0XG5cdCAgICBnZXRXcmFwcGVkSW5zdGFuY2U6IGZ1bmN0aW9uIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcblx0ICAgICAgIXdpdGhSZWYgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAnYHsgd2l0aFJlZjogdHJ1ZSB9YCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSB3aXRoUm91dGVyKCkgY2FsbC4nKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy53cmFwcGVkSW5zdGFuY2U7XG5cdCAgICB9LFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgcm91dGVyID0gdGhpcy5wcm9wcy5yb3V0ZXIgfHwgdGhpcy5jb250ZXh0LnJvdXRlcjtcblx0ICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcm91dGVyOiByb3V0ZXIgfSk7XG5cdFxuXHQgICAgICBpZiAod2l0aFJlZikge1xuXHQgICAgICAgIHByb3BzLnJlZiA9IGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgICBfdGhpcy53cmFwcGVkSW5zdGFuY2UgPSBjO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwcm9wcyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIFdpdGhSb3V0ZXIuZGlzcGxheU5hbWUgPSAnd2l0aFJvdXRlcignICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdCAgV2l0aFJvdXRlci5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcblx0XG5cdCAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyLmRlZmF1bHQpKFdpdGhSb3V0ZXIsIFdyYXBwZWRDb21wb25lbnQpO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSkpXG5cbi8qKiovIH0sXG4vKiAxMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnByaW50QnVmZmVyID0gcHJpbnRCdWZmZXI7XG5cdFxuXHR2YXIgX2hlbHBlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0XG5cdHZhciBfZGlmZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0XG5cdHZhciBfZGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaWZmKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9XG5cdFxuXHQvKipcblx0ICogR2V0IGxvZyBsZXZlbCBzdHJpbmcgYmFzZWQgb24gc3VwcGxpZWQgcGFyYW1zXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IGxldmVsIC0gY29uc29sZVtsZXZlbF1cblx0ICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIHNlbGVjdGVkIGFjdGlvblxuXHQgKiBAcGFyYW0ge2FycmF5fSBwYXlsb2FkIC0gc2VsZWN0ZWQgcGF5bG9hZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGxvZyBlbnRyeSB0eXBlXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IGxldmVsXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRMb2dMZXZlbChsZXZlbCwgYWN0aW9uLCBwYXlsb2FkLCB0eXBlKSB7XG5cdCAgc3dpdGNoICh0eXBlb2YgbGV2ZWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxldmVsKSkge1xuXHQgICAgY2FzZSAnb2JqZWN0Jzpcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBsZXZlbFt0eXBlXSA9PT0gJ2Z1bmN0aW9uJyA/IGxldmVsW3R5cGVdLmFwcGx5KGxldmVsLCBfdG9Db25zdW1hYmxlQXJyYXkocGF5bG9hZCkpIDogbGV2ZWxbdHlwZV07XG5cdCAgICBjYXNlICdmdW5jdGlvbic6XG5cdCAgICAgIHJldHVybiBsZXZlbChhY3Rpb24pO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGxldmVsO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFRpdGxlRm9ybWF0dGVyKG9wdGlvbnMpIHtcblx0ICB2YXIgdGltZXN0YW1wID0gb3B0aW9ucy50aW1lc3RhbXA7XG5cdCAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIHRpbWUsIHRvb2spIHtcblx0ICAgIHZhciBwYXJ0cyA9IFsnYWN0aW9uJ107XG5cdCAgICBpZiAodGltZXN0YW1wKSB7XG5cdCAgICAgIHBhcnRzLnB1c2goJ0AgJyArIHRpbWUpO1xuXHQgICAgfVxuXHQgICAgcGFydHMucHVzaChhY3Rpb24udHlwZSk7XG5cdCAgICBpZiAoZHVyYXRpb24pIHtcblx0ICAgICAgcGFydHMucHVzaCgnKGluICcgKyB0b29rLnRvRml4ZWQoMikgKyAnIG1zKScpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyAnKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmludEJ1ZmZlcihidWZmZXIsIG9wdGlvbnMpIHtcblx0ICB2YXIgbG9nZ2VyID0gb3B0aW9ucy5sb2dnZXI7XG5cdCAgdmFyIGFjdGlvblRyYW5zZm9ybWVyID0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lcjtcblx0ICB2YXIgX29wdGlvbnMkdGl0bGVGb3JtYXR0ID0gb3B0aW9ucy50aXRsZUZvcm1hdHRlcjtcblx0ICB2YXIgdGl0bGVGb3JtYXR0ZXIgPSBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSA6IF9vcHRpb25zJHRpdGxlRm9ybWF0dDtcblx0ICB2YXIgY29sbGFwc2VkID0gb3B0aW9ucy5jb2xsYXBzZWQ7XG5cdCAgdmFyIGNvbG9ycyA9IG9wdGlvbnMuY29sb3JzO1xuXHQgIHZhciBsZXZlbCA9IG9wdGlvbnMubGV2ZWw7XG5cdCAgdmFyIGRpZmYgPSBvcHRpb25zLmRpZmY7XG5cdFxuXHQgIGJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uIChsb2dFbnRyeSwga2V5KSB7XG5cdCAgICB2YXIgc3RhcnRlZCA9IGxvZ0VudHJ5LnN0YXJ0ZWQ7XG5cdCAgICB2YXIgc3RhcnRlZFRpbWUgPSBsb2dFbnRyeS5zdGFydGVkVGltZTtcblx0ICAgIHZhciBhY3Rpb24gPSBsb2dFbnRyeS5hY3Rpb247XG5cdCAgICB2YXIgcHJldlN0YXRlID0gbG9nRW50cnkucHJldlN0YXRlO1xuXHQgICAgdmFyIGVycm9yID0gbG9nRW50cnkuZXJyb3I7XG5cdCAgICB2YXIgdG9vayA9IGxvZ0VudHJ5LnRvb2s7XG5cdCAgICB2YXIgbmV4dFN0YXRlID0gbG9nRW50cnkubmV4dFN0YXRlO1xuXHRcblx0ICAgIHZhciBuZXh0RW50cnkgPSBidWZmZXJba2V5ICsgMV07XG5cdFxuXHQgICAgaWYgKG5leHRFbnRyeSkge1xuXHQgICAgICBuZXh0U3RhdGUgPSBuZXh0RW50cnkucHJldlN0YXRlO1xuXHQgICAgICB0b29rID0gbmV4dEVudHJ5LnN0YXJ0ZWQgLSBzdGFydGVkO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE1lc3NhZ2Vcblx0ICAgIHZhciBmb3JtYXR0ZWRBY3Rpb24gPSBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pO1xuXHQgICAgdmFyIGlzQ29sbGFwc2VkID0gdHlwZW9mIGNvbGxhcHNlZCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbGxhcHNlZChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBuZXh0U3RhdGU7XG5cdCAgICB9LCBhY3Rpb24pIDogY29sbGFwc2VkO1xuXHRcblx0ICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gKDAsIF9oZWxwZXJzLmZvcm1hdFRpbWUpKHN0YXJ0ZWRUaW1lKTtcblx0ICAgIHZhciB0aXRsZUNTUyA9IGNvbG9ycy50aXRsZSA/ICdjb2xvcjogJyArIGNvbG9ycy50aXRsZShmb3JtYXR0ZWRBY3Rpb24pICsgJzsnIDogbnVsbDtcblx0ICAgIHZhciB0aXRsZSA9IHRpdGxlRm9ybWF0dGVyKGZvcm1hdHRlZEFjdGlvbiwgZm9ybWF0dGVkVGltZSwgdG9vayk7XG5cdFxuXHQgICAgLy8gUmVuZGVyXG5cdCAgICB0cnkge1xuXHQgICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcblx0ICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXAoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwKHRpdGxlKTtcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICBsb2dnZXIubG9nKHRpdGxlKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcHJldlN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbcHJldlN0YXRlXSwgJ3ByZXZTdGF0ZScpO1xuXHQgICAgdmFyIGFjdGlvbkxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Zvcm1hdHRlZEFjdGlvbl0sICdhY3Rpb24nKTtcblx0ICAgIHZhciBlcnJvckxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Vycm9yLCBwcmV2U3RhdGVdLCAnZXJyb3InKTtcblx0ICAgIHZhciBuZXh0U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtuZXh0U3RhdGVdLCAnbmV4dFN0YXRlJyk7XG5cdFxuXHQgICAgaWYgKHByZXZTdGF0ZUxldmVsKSB7XG5cdCAgICAgIGlmIChjb2xvcnMucHJldlN0YXRlKSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCclYyBwcmV2IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLnByZXZTdGF0ZShwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBwcmV2U3RhdGUpO2Vsc2UgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgncHJldiBzdGF0ZScsIHByZXZTdGF0ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFjdGlvbkxldmVsKSB7XG5cdCAgICAgIGlmIChjb2xvcnMuYWN0aW9uKSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCclYyBhY3Rpb24nLCAnY29sb3I6ICcgKyBjb2xvcnMuYWN0aW9uKGZvcm1hdHRlZEFjdGlvbikgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGZvcm1hdHRlZEFjdGlvbik7ZWxzZSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCdhY3Rpb24nLCBmb3JtYXR0ZWRBY3Rpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChlcnJvciAmJiBlcnJvckxldmVsKSB7XG5cdCAgICAgIGlmIChjb2xvcnMuZXJyb3IpIGxvZ2dlcltlcnJvckxldmVsXSgnJWMgZXJyb3InLCAnY29sb3I6ICcgKyBjb2xvcnMuZXJyb3IoZXJyb3IsIHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGVycm9yKTtlbHNlIGxvZ2dlcltlcnJvckxldmVsXSgnZXJyb3InLCBlcnJvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG5leHRTdGF0ZUxldmVsKSB7XG5cdCAgICAgIGlmIChjb2xvcnMubmV4dFN0YXRlKSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCclYyBuZXh0IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLm5leHRTdGF0ZShuZXh0U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBuZXh0U3RhdGUpO2Vsc2UgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnbmV4dCBzdGF0ZScsIG5leHRTdGF0ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGRpZmYpIHtcblx0ICAgICAgKDAsIF9kaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5leHRTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBsb2cgZW5kIOKAlOKAlCcpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBsZXZlbDogXCJsb2dcIixcblx0ICBsb2dnZXI6IGNvbnNvbGUsXG5cdCAgbG9nRXJyb3JzOiB0cnVlLFxuXHQgIGNvbGxhcHNlZDogdW5kZWZpbmVkLFxuXHQgIHByZWRpY2F0ZTogdW5kZWZpbmVkLFxuXHQgIGR1cmF0aW9uOiBmYWxzZSxcblx0ICB0aW1lc3RhbXA6IHRydWUsXG5cdCAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuXHQgICAgcmV0dXJuIHN0YXRlO1xuXHQgIH0sXG5cdCAgYWN0aW9uVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbikge1xuXHQgICAgcmV0dXJuIGFjdGlvbjtcblx0ICB9LFxuXHQgIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZXJyb3IpIHtcblx0ICAgIHJldHVybiBlcnJvcjtcblx0ICB9LFxuXHQgIGNvbG9yczoge1xuXHQgICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkge1xuXHQgICAgICByZXR1cm4gXCJpbmhlcml0XCI7XG5cdCAgICB9LFxuXHQgICAgcHJldlN0YXRlOiBmdW5jdGlvbiBwcmV2U3RhdGUoKSB7XG5cdCAgICAgIHJldHVybiBcIiM5RTlFOUVcIjtcblx0ICAgIH0sXG5cdCAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIFwiIzAzQTlGNFwiO1xuXHQgICAgfSxcblx0ICAgIG5leHRTdGF0ZTogZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuXHQgICAgICByZXR1cm4gXCIjNENBRjUwXCI7XG5cdCAgICB9LFxuXHQgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuXHQgICAgICByZXR1cm4gXCIjRjIwNDA0XCI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBkaWZmOiBmYWxzZSxcblx0ICBkaWZmUHJlZGljYXRlOiB1bmRlZmluZWQsXG5cdFxuXHQgIC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuXHQgIHRyYW5zZm9ybWVyOiB1bmRlZmluZWRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBkaWZmTG9nZ2VyO1xuXHRcblx0dmFyIF9kZWVwRGlmZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfZGVlcERpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcERpZmYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGl0Yml0L2RpZmYjZGlmZmVyZW5jZXNcblx0dmFyIGRpY3Rpb25hcnkgPSB7XG5cdCAgJ0UnOiB7XG5cdCAgICBjb2xvcjogJyMyMTk2RjMnLFxuXHQgICAgdGV4dDogJ0NIQU5HRUQ6J1xuXHQgIH0sXG5cdCAgJ04nOiB7XG5cdCAgICBjb2xvcjogJyM0Q0FGNTAnLFxuXHQgICAgdGV4dDogJ0FEREVEOidcblx0ICB9LFxuXHQgICdEJzoge1xuXHQgICAgY29sb3I6ICcjRjQ0MzM2Jyxcblx0ICAgIHRleHQ6ICdERUxFVEVEOidcblx0ICB9LFxuXHQgICdBJzoge1xuXHQgICAgY29sb3I6ICcjMjE5NkYzJyxcblx0ICAgIHRleHQ6ICdBUlJBWTonXG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gc3R5bGUoa2luZCkge1xuXHQgIHJldHVybiAnY29sb3I6ICcgKyBkaWN0aW9uYXJ5W2tpbmRdLmNvbG9yICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW5kZXIoZGlmZikge1xuXHQgIHZhciBraW5kID0gZGlmZi5raW5kO1xuXHQgIHZhciBwYXRoID0gZGlmZi5wYXRoO1xuXHQgIHZhciBsaHMgPSBkaWZmLmxocztcblx0ICB2YXIgcmhzID0gZGlmZi5yaHM7XG5cdCAgdmFyIGluZGV4ID0gZGlmZi5pbmRleDtcblx0ICB2YXIgaXRlbSA9IGRpZmYuaXRlbTtcblx0XG5cdCAgc3dpdGNoIChraW5kKSB7XG5cdCAgICBjYXNlICdFJzpcblx0ICAgICAgcmV0dXJuIHBhdGguam9pbignLicpICsgJyAnICsgbGhzICsgJyDihpIgJyArIHJocztcblx0ICAgIGNhc2UgJ04nOlxuXHQgICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyByaHM7XG5cdCAgICBjYXNlICdEJzpcblx0ICAgICAgcmV0dXJuICcnICsgcGF0aC5qb2luKCcuJyk7XG5cdCAgICBjYXNlICdBJzpcblx0ICAgICAgcmV0dXJuIFtwYXRoLmpvaW4oJy4nKSArICdbJyArIGluZGV4ICsgJ10nLCBpdGVtXTtcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlmZkxvZ2dlcihwcmV2U3RhdGUsIG5ld1N0YXRlLCBsb2dnZXIsIGlzQ29sbGFwc2VkKSB7XG5cdCAgdmFyIGRpZmYgPSAoMCwgX2RlZXBEaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5ld1N0YXRlKTtcblx0XG5cdCAgdHJ5IHtcblx0ICAgIGlmIChpc0NvbGxhcHNlZCkge1xuXHQgICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJ2RpZmYnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxvZ2dlci5ncm91cCgnZGlmZicpO1xuXHQgICAgfVxuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGxvZ2dlci5sb2coJ2RpZmYnKTtcblx0ICB9XG5cdFxuXHQgIGlmIChkaWZmKSB7XG5cdCAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcblx0ICAgICAgdmFyIGtpbmQgPSBlbGVtLmtpbmQ7XG5cdFxuXHQgICAgICB2YXIgb3V0cHV0ID0gcmVuZGVyKGVsZW0pO1xuXHRcblx0ICAgICAgbG9nZ2VyLmxvZygnJWMgJyArIGRpY3Rpb25hcnlba2luZF0udGV4dCwgc3R5bGUoa2luZCksIG91dHB1dCk7XG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgbG9nZ2VyLmxvZygn4oCU4oCUIG5vIGRpZmYg4oCU4oCUJyk7XG5cdCAgfVxuXHRcblx0ICB0cnkge1xuXHQgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgbG9nZ2VyLmxvZygn4oCU4oCUIGRpZmYgZW5kIOKAlOKAlCAnKTtcblx0ICB9XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KTtcblx0XG5cdHZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXHRcblx0dmFyIF9kZWZhdWx0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQwKTtcblx0XG5cdHZhciBfZGVmYXVsdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmYXVsdHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGxvZ2dlciB3aXRoIGZvbGxvd2luZyBvcHRpb25zXG5cdCAqXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBsb2dnZXJcblx0ICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gb3B0aW9ucy5sZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5kdXJhdGlvbiAtIHByaW50IGR1cmF0aW9uIG9mIGVhY2ggYWN0aW9uP1xuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudGltZXN0YW1wIC0gcHJpbnQgdGltZXN0YW1wIHdpdGggZWFjaCBhY3Rpb24/XG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmNvbG9ycyAtIGN1c3RvbSBjb2xvcnNcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMubG9nZ2VyIC0gaW1wbGVtZW50YXRpb24gb2YgdGhlIGBjb25zb2xlYCBBUElcblx0ICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvZ0Vycm9ycyAtIHNob3VsZCBlcnJvcnMgaW4gYWN0aW9uIGV4ZWN1dGlvbiBiZSBjYXVnaHQsIGxvZ2dlZCwgYW5kIHJlLXRocm93bj9cblx0ICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmNvbGxhcHNlZCAtIGlzIGdyb3VwIGNvbGxhcHNlZD9cblx0ICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnByZWRpY2F0ZSAtIGNvbmRpdGlvbiB3aGljaCByZXNvbHZlcyBsb2dnZXIgYmVoYXZpb3Jcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIHN0YXRlIGJlZm9yZSBwcmludFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGFjdGlvbiBiZWZvcmUgcHJpbnRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGVycm9yIGJlZm9yZSBwcmludFxuXHQgKlxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259IGxvZ2dlciBtaWRkbGV3YXJlXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVMb2dnZXIoKSB7XG5cdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgdmFyIGxvZ2dlck9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgX2RlZmF1bHRzMi5kZWZhdWx0LCBvcHRpb25zKTtcblx0XG5cdCAgdmFyIGxvZ2dlciA9IGxvZ2dlck9wdGlvbnMubG9nZ2VyO1xuXHQgIHZhciB0cmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMudHJhbnNmb3JtZXI7XG5cdCAgdmFyIHN0YXRlVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnN0YXRlVHJhbnNmb3JtZXI7XG5cdCAgdmFyIGVycm9yVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLmVycm9yVHJhbnNmb3JtZXI7XG5cdCAgdmFyIHByZWRpY2F0ZSA9IGxvZ2dlck9wdGlvbnMucHJlZGljYXRlO1xuXHQgIHZhciBsb2dFcnJvcnMgPSBsb2dnZXJPcHRpb25zLmxvZ0Vycm9ycztcblx0ICB2YXIgZGlmZlByZWRpY2F0ZSA9IGxvZ2dlck9wdGlvbnMuZGlmZlByZWRpY2F0ZTtcblx0XG5cdCAgLy8gUmV0dXJuIGlmICdjb25zb2xlJyBvYmplY3QgaXMgbm90IGRlZmluZWRcblx0XG5cdCAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuXHQgICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9O1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIGlmICh0cmFuc2Zvcm1lcikge1xuXHQgICAgY29uc29sZS5lcnJvcignT3B0aW9uIFxcJ3RyYW5zZm9ybWVyXFwnIGlzIGRlcHJlY2F0ZWQsIHVzZSBcXCdzdGF0ZVRyYW5zZm9ybWVyXFwnIGluc3RlYWQhJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuXHQgIH1cblx0XG5cdCAgdmFyIGxvZ0J1ZmZlciA9IFtdO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcblx0ICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIHByZWRpY2F0ZSBmdW5jdGlvbiByZXR1cm5zICdmYWxzZSdcblx0ICAgICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pKSB7XG5cdCAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGxvZ0VudHJ5ID0ge307XG5cdCAgICAgICAgbG9nQnVmZmVyLnB1c2gobG9nRW50cnkpO1xuXHRcblx0ICAgICAgICBsb2dFbnRyeS5zdGFydGVkID0gX2hlbHBlcnMudGltZXIubm93KCk7XG5cdCAgICAgICAgbG9nRW50cnkuc3RhcnRlZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXHQgICAgICAgIGxvZ0VudHJ5LnByZXZTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG5cdCAgICAgICAgbG9nRW50cnkuYWN0aW9uID0gYWN0aW9uO1xuXHRcblx0ICAgICAgICB2YXIgcmV0dXJuZWRWYWx1ZSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICBpZiAobG9nRXJyb3JzKSB7XG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuXHQgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICBsb2dFbnRyeS5lcnJvciA9IGVycm9yVHJhbnNmb3JtZXIoZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBuZXh0KGFjdGlvbik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBsb2dFbnRyeS50b29rID0gX2hlbHBlcnMudGltZXIubm93KCkgLSBsb2dFbnRyeS5zdGFydGVkO1xuXHQgICAgICAgIGxvZ0VudHJ5Lm5leHRTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG5cdFxuXHQgICAgICAgIHZhciBkaWZmID0gbG9nZ2VyT3B0aW9ucy5kaWZmICYmIHR5cGVvZiBkaWZmUHJlZGljYXRlID09PSAnZnVuY3Rpb24nID8gZGlmZlByZWRpY2F0ZShnZXRTdGF0ZSwgYWN0aW9uKSA6IGxvZ2dlck9wdGlvbnMuZGlmZjtcblx0XG5cdCAgICAgICAgKDAsIF9jb3JlLnByaW50QnVmZmVyKShsb2dCdWZmZXIsIF9leHRlbmRzKHt9LCBsb2dnZXJPcHRpb25zLCB7IGRpZmY6IGRpZmYgfSkpO1xuXHQgICAgICAgIGxvZ0J1ZmZlci5sZW5ndGggPSAwO1xuXHRcblx0ICAgICAgICBpZiAobG9nRW50cnkuZXJyb3IpIHRocm93IGxvZ0VudHJ5LmVycm9yO1xuXHQgICAgICAgIHJldHVybiByZXR1cm5lZFZhbHVlO1xuXHQgICAgICB9O1xuXHQgICAgfTtcblx0ICB9O1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVMb2dnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRmdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcblx0ICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgcmV0dXJuIGFjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUsIGV4dHJhQXJndW1lbnQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIHRodW5rID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKCk7XG5cdHRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXHRcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gdGh1bms7XG5cbi8qKiovIH0sXG4vKiAxNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdFx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRcdHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdFx0fSk7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDE0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZUNBWUFBQUJOQ2h3cEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUZwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVOUzFqTURFMElEYzVMakUxTVRRNE1Td2dNakF4TXk4d015OHhNeTB4TWpvd09Ub3hOU0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESUNoWGFXNWtiM2R6S1NJZ2VHMXdUVTA2U1c1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRwRlJqQXdSRFV4UVRNNFJUQXhNVVUyUVVSRU1FUTNRME13UWpsQlJEYzBSaUlnZUcxd1RVMDZSRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRHBGUmpBd1JEVXhRak00UlRBeE1VVTJRVVJFTUVRM1EwTXdRamxCUkRjMFJpSStJRHg0YlhCTlRUcEVaWEpwZG1Wa1JuSnZiU0J6ZEZKbFpqcHBibk4wWVc1alpVbEVQU0o0YlhBdWFXbGtPa1ZHTURCRU5URTRNemhGTURFeFJUWkJSRVF3UkRkRFF6QkNPVUZFTnpSR0lpQnpkRkpsWmpwa2IyTjFiV1Z1ZEVsRVBTSjRiWEF1Wkdsa09rVkdNREJFTlRFNU16aEZNREV4UlRaQlJFUXdSRGREUXpCQ09VRkVOelJHSWk4K0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBpQThMM0prWmpwU1JFWStJRHd2ZURwNGJYQnRaWFJoUGlBOFAzaHdZV05yWlhRZ1pXNWtQU0p5SWo4K01jZGRoUUFBQWNoSlJFRlVlTnJrbDdsTEEwRVl4Wk5ORkRzdDdPMjBzQkJGVk1UQ0kxNlZLVHdLR3l2OUQwUUU2OWphV2dWQlVUd3diaE9OaXFDRlFjRkdDNjFVc0RHTmRxSklmQis4d0xDd3NyUEhJRGp3SXp1engzdnpmWE1sYnR0MnpFQnBBc3RnZ1BVVHNBRHVrd2JFMjBFQjFDbHRhZEFMdWl3REJwN0JDNjhmUUF2STAxQkdESlFENGxZNndBaDRCZjNnRGpTQ0RiRElaMUpScFVERWowQU42QUhYTkhFS21zRm01VUUxQlhHZnVJblhnbjF3dzNhSlJKOFNDU2tGSzZLZWkvZ1dtQWJmeXYyU1l1SmRVaEZtQ2pyQjRTL2lDZERLZElpSkJwbUdsa0h4ZFhEQmdWbWlrWmhsU0Z4Ry9oVDRBRy9xeTVZaDhVbm1YSHAvR1phQndPSkJESVFpN3RkQWFPSlNkS2RobXlMK0JRNGN5N0ZUZkJnVVhiNVY5aE9CV3pBUG5rQVZwOVk1djZNanJwMEM2WEdLb1Y3bFVqckg1YldiVTB4YlhNZEFtbnY2RHV1Zk5MTEUrcG9mY1IwRDQvek5POXF6NEpGalNWdmNxd0U1T0F3eC9IdU9leEtKakY5eHJ3YkdRRFU0NHhwZUQyYkJMbnVlNWVaUzlMT2dlSm1HRTBwdkN4UkxzRTNPZGNmS25oKzZBUW4vSUs5SEZTTXlGcmJCVmRDZExPa3gvSlhlaTJqT3VhTkZhVUFpTUJPMnFJNkJsYWpQN0NiK0YveHRBMG5uN3ZUdkl2QWp3QUQ1ZEpNdVloelkrd0FBQUFCSlJVNUVya0pnZ2c9PVwiXG5cbi8qKiovIH0sXG4vKiAxNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFCbUpMUjBRQUFBQUFBQUQ1UTd0L0FBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFFbjBsRVFWUm8zczJheTI4YlZSU0h2N2wreFE4YzJ6TXBxZzRGQWpza0hnSUpVS0dsRkZhRkJTcnNvZUloVkNwQWJQZ2JRQUlCUWtXaUNJVjlZZFh1a0tBc2loQVBBVUtzb0VrRlY1VmEyM0dpMkVuOEdMTVlqMnRQYmNmemNNSlB5aUl6OTU3NzNaTjc1NXg3Ymd4Q1NtdGRBQTREOXdNUEFIY0N4ZDVQRXFnQjE0QVY0RGZnQitCckVWa0xNNjRSRURZRkhBZE9BRWVBaEU4VGJlQWI0QXZnckloc3p4UmNhNTBHWGdYZUJtNE80N0VCWFFIZUEwNkx5R2JrNEZycnA0Q1BnZHNqQXZicUwrQk5FVGtmQ1hqUHl4OEFyOHdJMktzendCczdlWDhpdU5aNlAzQU9aK1B0cG40Q25oRVI3UnRjYTcySXM0RnUyMlZvVnl2QVVSRlpuaHBjYTMwTGNBRzRZNCtnWGYwREhCU1JmNzB2MUFqb0RQRGwvd0FhNEFCd3ZzYzBHUnhuSXo0NCtDQ1R5YkN3c0lCU2lsbktNQXhTcVpUMzhUM0FoeFBCdGRiSGdKZTl4ckxaTElsRUFzdXlaZ1p2R0FiRlloSFROSm1ibS9PK2ZrbHIvZlJRK3dIb09lQlBZUEdHMlNtRlpWbkU0M0hhN1RibGNobmJ0aU9EVmtwUktwVklKcFBZdGsybFVxSFZhbm1iclFCM3VaL0pRZmVkSEFVTllOczI1WEtaZHJ0TlBCNlAxUE94V0F6THNrZ21rM1E2SGNybDhpaG9jQUxmeVNHUDk3eDlDZGkvazJlaTlIdzhIc2MwVFdLeEdLMVdpMnExU3FmVG1kVGxLbkJBUkpxdTI0N3ZCQjIxNTVQSkpKWmxFWXZGYURhYlZDcVZuYUFCOWdIUHdmV2xjbUxhQWFPQVQ2VlNtS2FKVW9xdHJTMHFsWXFmdjl3TEFJYldlaDRuWC9hVm1nWmROdWwwbWtLaGdHRVlOQm9OYXJXYXIwa0RMV0NmQXA3d0N4M1U4N2xjam1LeGlHRVliR3hzQklHbXgzcFVBUThINmUwWFBwL1BrOC9uQVZoYlcyTjlmVDNvc0FBSEZYQnZHQXZUd0JjS0JYSzVITjF1bDlYVlZlcjFlcGdoQWU1V1JKQ1RqSU0zRElOU3FVUW1rNkhiN1ZLdFZ0bmNuUHFRTTBtTGh0YTZCc3hIWWMyN1lidmRMb2xFQXR1MnFWYXJOSnZOS0lZQldGZkFUVkZaODNvK2tVajBvMkdFMEFCNXhlZ01NYkRjSmVLcTIrMUdtdGU0WmhVUXFyNHhLRzgwbkVWdTA5TzZ3b24vb1RVcUdzNHFNUU91S1p6a0twVFM2VFNsVXFrZkRhdlZhbitKekFqK2tnTCtDR01obTgxT2pJWXpndjlkQVJlRDlzN244OHpQTzEvU1NkRndCdkRmRzcyaTVWVjg1aXVGUXFFZldHcTEybFNCSmFKOHZnVXNLQkdwQWQ5TzJ5dE1OSXpJOHhkRVpNM3R0VFJORDZWVS96RHJuZzIzdC8wVldpT0FYNExyd2Vjc08zd1dSNTBOZzBiREVQQlhnSy82NENMU0JONGQxOW8xUHJnMjIrMTJJT2lROE8rUE91V2Z4aWtCRE1tdHA3alJzRnd1VDNNMm5BWDhNazZabXlIdzNreE9lVnZIWXJHZ1o4TkE4S1pwRHVVNkEzcGRSTGJjWDI1b29iWCtGRTgxSzVWSytkNkVmdVZ1L0hxOVRxUFI4TDcrWEVSZUhId3dDanlERTVSQ25Zd2kxSS9BRVJFWm1zMmtNdk5GbkdycFhtb1pPRHhWbVJtZzEvQXhSbXpXWGRSbDRNbFIwR1BCZS9ETHdDSGc1ejJBL2hWNFZFVEdacTRUUDV5OTJSNENQdHRGNkRQQUkrTTg3Y3JQZGVFeDRDT2NtK05aNkRKd1NrVE9UZE00eUFYdGE4QmJURkVrblZKWGdYZUFUMlp5UWV1WndCendMUEE4OERnUTkybWloWE01dHNSdVhJbVBtVVFScC83NEVIQWZjQ3V3QUJTQUpzNC9JYXdDZitOczlGK0E3MFJrTmN5NC93RmRvRnZKSXV5bEhnQUFBQUJKUlU1RXJrSmdnZz09XCJcblxuLyoqKi8gfSxcbi8qIDE0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQURvMGxFUVZSNFh1MWJYVTdiUUJDZWNTSHRHK2tKNmtxeDB6ZUNoUE1LM0NBOVFjTUpDaWNvUFFGd0FzSUpTRThBdk1aSXBHK05IYW5oQklTM1lyZWVhdDFZeW8veHJqY0dyREo1akhkblpyOGRlMmEvMlVFbzRGZXJiVzRiaUo4QW9JV0kxUUpFUGlpQ2lNYUFlQkZGMGZGd2VIV3hyQzVjUm9CcE5xcVYxZFZEUkd3dkkwZDNMaEYxZ2pEY0g0MzZZMTBaU3dGZzI4MHpCR2pwS2k5aUhnRjBQYS8zVVZlV05nQ1c1YlFOeEJOZHhVWE9pNGgyZmQvdDZNalVCcUJ1TjM4Q2dEbW45QWFJdW9TbzdaSlppMENpS2lBS2ozczNOMjQwOEhydm53d0F5M0lhQnVMMWpFS2l5L3N3YkMzelBxb3VvRzQ1RjRDNE5UMCtJdHJ3ZmJldktpTVpwK1VCNHF2L3lqRE9wNVVSd0VmUDYzWHpHcUF6M3JhYkxRUTRtNTc3SjRwMmRLSkNZUURvR3FBRFFOb0c2T3BuQUo1N0I1NWJQM3VBMklHNjVYeW1QQ2tza1RtZi9ZbXNEQkJIT2p1YWUwNEIrcEZvUFBEZFk3UXRwNFAvOHZnWDl5T2lVd0hBN1dNZllNcUtyRGhZb1cwMyt3aXdYbFlqSDlNdUF2aU9JcXREeE01TEEwRXNub2phV2xIZ01YZmxxV1V6QUUrTmVObjBzUWVvN2toOEJBYll3akQ4OW1QVVYwNTR4RHdpV0JzTzNVdFZYV0pjcmVac0ljSmRuaU91b09oV1ZsYlhWMzZITjZvMktubkFOUHNqWWljQjdLZ1labHZPU1pJeEVsRS9DTU1kR1Y4dzRSblBFYkVoZ0JBWnB1ZTd1ekx3NG1nR0lPYkZwS3dxUzZRRWdHMDUxNGxCRTZOT1BkL05KRUxGUWw1WEtyZDVPWU0wcXUwK0NON0tnSnZQYUFYZ251OXV5SUJUQXFCdU4ybEdFTkhsd0hlM3M0US9RSnA4OWJ6ZVFkWTgyMjRlSU1DWHZHUkhHa3MwOEhyUzlVa0h4SWNsQm9BOWdGOEIvZ2JNZk03NUk4aFJnTU1nNXdHY0NIRW15S2x3QmdKOEZraXZJUE5oaUUrRGZCeG1Qb0FKRVdhRU1oQmdTb3c1UVNaRm1SVm1XdngvcUF2b1ZvYlNib0dxVklaS1Z4Z1JrVzRtcENsVWs1TG9PTDBZQXBBZW9PTGlUY3I5NFdldERDV0xFWjd3QnFDcVdxMU41bjB3RytZdmdMR3NKcGdHV3ZKZktRQ1FGU2VMZWw1YUR5aHFnVEk1REVCWnZ3R3luU3ZxT1hzQWU4QmlHMDFoVVdEaE9tMk9tRjZVaTh2a3pMOEM0aWFvNS9YaWUwWlpQN1ViSWdVMktja00wbm1lUnNHRDRpYXBBVkRiM0FQRE9KdzNUalF0QWtEdVRpMmRSV2JNRWJmREZwczNvMmgvTUx3Nmt1bFNBbUJ5ZFcyRWlHc3lnV1Y0VGtSM1FSaWFLbG1rRWdDVHZINmhWYTBNaTAyeklVOExueklBQ1FoQUpEcE1TdWtKWXVjQnNaMm5mekVYQUFLRStIV29WUGJpVnZtU05GcUlMejRBZElNZ09GSngrMm12K1F2ZkoyUU5CMXpsckFBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9LFxuLyogMTQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDNEFBQUF0Q0FZQUFBRFJMVm1aQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBRVFVbEVRVlJvM3MyWlhZaFZWUlRIZjNjTW16U1ZHcldIR3FQSmFCTHBPeVB5REVZZktCRkZWRXhSQ2tXWVR4blI2S3lYdnV6L0VrUkk5V0NGZlJGSmhwUGdtMkZ5RkxSaXNpOHpFSFV3cHFJcDlXcm1hTTMwc05keGpqZkhPZWZlTzNmdWVsbXN6Zjc0bmIzWDNXdXZkUXRVS0daMkRqQVpPQXZvQjRxU2psYzY3MGhTS0FQMFF1Qlc0SHFnRlRpL3BNc2c4QXZ3TGZBRjhMbWs0cGlCbTlsTndFSUh6dlBCeDRHTndHcEplMnNHYm1iTndITGd4bFR6MzBBM3NBUFlCeHdndU1rRW9BbTRETGdPbUEwMCtKZ0JZQzN3aHFRam93cHVaZ3VBVGdjQzJBdThEMnlVZERURFIwOEQ3Z1llQktaNGN5K3dUTktQb3dKdVpvdUJ4OTA4REx3R3JKTTBrSGNSTTVzSUxBYmFDU2R3RE9pVUZGY1YzTXlXQUkrNXVRdm9rTlJieVE3NXZHM0FDc0lKbmdDZWtyU3RLdUJtZGlmd3ZKdmR3TklzYnBFRGZpYXdFcGhPMlBtRmt2WlVCRzVtTTRBUGdVWmdKL0JFTmFGTDROOEN6Z1gyQUEvbnZmc2JTdXhPaHk0Q3kwY0RHa0RTYnVCWndwM2ZBaXpLTzhkSmNETzdHYmpCelZYVjhPa1I0RGNEbTl4Y1pHYm5sUVVPUE9yNlorQ1QwWVJPeWV2QXY0UlRiczhOYm1ZdHdGWGV0a3JTaVZwUVMrb0JOcmg1bDVrMVpCMmJkSnpuK2kvZ3MxcEFwNlRMOVhUZ3lyemdpVzl2bDlSZlkvRHZnSU1sSEpuQlcxM3ZxREUwa2daVDY3Wm1IZGZnditaSmJ1K3JOWGpKdXMyWndSbDYvQUQwalJING42Nm5aQjNRUU1oY0VxbkpiWElhU2FMbTJYbkEwNkYyL0JpQkorc2V5d04rTUdWUEd5UHdxYTRQWlFiM2ZEQVowREpHNE1tNlBabkJYZi9nK3VwYUUzdTBUQUxQenJ6Z1g3bWVZMllUc2c2dWtseExLRzhBZkprWGZCUGhpZGtJeks4eCtEMnVlOG03NDVMMkUyb2dBSStZMmJoYUVIdU41blkzdXp5S1pnZDNlZHQxTXptZm1CWEkwOEE0UWpMK2NaNkJKOEVsZFFPYjNWeGlacGVNSnJIbnRtMXV2aW5wY0ZuZ0xpOFQwclpHNEpXOFdVa082Tm1FTkJIQ0ZiZ203eHluZ0V2NmxaRGhEeEJjWm1XMTRjMXNGdkNxYnc3QURFTFJLSmY4NzBjWXgzRlBGRVVIZ0xtRVNIcExGRVZmeDNIOFJ4V2dieU9jNnFSVWN3R1lHMFZSWHh6SHU3TE9kYVpLMWtQQVVvYmVNNnVCOThwSk5NeHNLdkFrc01DYmlzQTI0STVVdDBGQWt0WlZCTzRMUnNCekREMDMrNENQZ0EyU2ZzOEFQQk80bCtBS3ljdHZOOUFCN0FlZUFSNG9CejVMdGJiSmQzNStxdjhBb1RUM0RhRVFlZ2c0Q2t3RUxnQXVKVVRFaTFKVDlRUHZBTzhteFI4ekt3d0QvNUtrcm9yQVV4OXdPYUZ3TTQ5OHo5OGlzQjc0UUZMZmFlWWREbjZGcEU4ckJrOHROQm1JZ0RtRU92akZuSm9BRkFsWDNQZUVhTHg5cFBLYXczY0E5MmVGencwK3pNTGpDZGZia1hMSzBPWEFWd1c4V3VMd3k0RDdTdUJmbExRKzNiY21qNm1zRXNjeFVSUnRKZndoTnN1YkMwQmJGRVcveFhIOFUxMkNsOEEzbGNCSGFmaTZBODhLWDFjK1hpcnU4NTJFSUpiSUFQQkNYZTU0SXI3eld3aFZnQ3U4dVFCY1U5ZmdaNEJmVTlldWtoWjNtM2JnSDJEdGY3UU9iS3VHRnVHUEFBQUFBRWxGVGtTdVFtQ0NcIlxuXG4vKioqLyB9LFxuLyogMTQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKi9cblx0XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG5cdCAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcblx0ICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcblx0ICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG5cdCAqL1xuXHRcblx0dmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcblx0ICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuXHQgICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuXHQgICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG5cdCAgICB9XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKFxuXHQgICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcblx0ICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihcblx0ICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG5cdCAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdCAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuXHQgICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuXHQgICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgICAgfSBjYXRjaCh4KSB7fVxuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSlcblxuLyoqKi8gfSxcbi8qIDE1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0KGZ1bmN0aW9uKHNlbGYpIHtcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHQgIGlmIChzZWxmLmZldGNoKSB7XG5cdCAgICByZXR1cm5cblx0ICB9XG5cdFxuXHQgIHZhciBzdXBwb3J0ID0ge1xuXHQgICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuXHQgICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG5cdCAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbmV3IEJsb2IoKVxuXHQgICAgICAgIHJldHVybiB0cnVlXG5cdCAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZVxuXHQgICAgICB9XG5cdCAgICB9KSgpLFxuXHQgICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcblx0ICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcblx0ICB9XG5cdFxuXHQgIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG5cdCAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG5cdCAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG5cdCAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG5cdCAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcblx0ICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcblx0ICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuXHQgICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcblx0ICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcblx0ICAgIF1cblx0XG5cdCAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG5cdCAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcblx0ICAgIH1cblx0ICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWVcblx0ICB9XG5cdFxuXHQgIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5cdCAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcblx0ICAgIHZhciBpdGVyYXRvciA9IHtcblx0ICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuXHQgICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcblx0ICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBpdGVyYXRvclxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcblx0ICAgIHRoaXMubWFwID0ge31cblx0XG5cdCAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcblx0ICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG5cdCAgICAgIH0sIHRoaXMpXG5cdFxuXHQgICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG5cdCAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG5cdCAgICAgIH0sIHRoaXMpXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQgICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcblx0ICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG5cdCAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuXHQgICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG5cdCAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0ICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcblx0ICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdCAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGl0ZW1zID0gW11cblx0ICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG5cdCAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG5cdCAgfVxuXHRcblx0ICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpdGVtcyA9IFtdXG5cdCAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcblx0ICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcblx0ICB9XG5cdFxuXHQgIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBpdGVtcyA9IFtdXG5cdCAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuXHQgICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuXHQgIH1cblx0XG5cdCAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcblx0ICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG5cdCAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuXHQgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG5cdCAgICB9XG5cdCAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuXHQgICAgICB9XG5cdCAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG5cdCAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXHQgICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuXHQgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG5cdCAgICByZXR1cm4gcHJvbWlzZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuXHQgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcblx0ICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcblx0ICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG5cdCAgICByZXR1cm4gcHJvbWlzZVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuXHQgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG5cdCAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcblx0ICAgIGlmIChidWYuc2xpY2UpIHtcblx0ICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcblx0ICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcblx0ICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBCb2R5KCkge1xuXHQgICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cdFxuXHQgICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG5cdCAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuXHQgICAgICBpZiAoIWJvZHkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG5cdCAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuXHQgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG5cdCAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuXHQgICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuXHQgICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG5cdCAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcblx0ICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcblx0ICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jylcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG5cdCAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcblx0ICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuXHQgICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuXHQgICAgICAgIGlmIChyZWplY3RlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuXHQgICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcblx0ICAgICAgaWYgKHJlamVjdGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlamVjdGVkXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuXHQgICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Jylcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcblx0ICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzXG5cdCAgfVxuXHRcblx0ICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcblx0ICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXHRcblx0ICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG5cdCAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG5cdCAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2Rcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cdCAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXHRcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHRoaXMudXJsID0gaW5wdXRcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcblx0ICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG5cdCAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG5cdCAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuXHQgICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG5cdCAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcblx0ICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG5cdCAgICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcblx0ICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuXHQgICAgfVxuXHQgICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG5cdCAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcblx0ICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cdFxuXHQgICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG5cdCAgICB9XG5cdCAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuXHQgIH1cblx0XG5cdCAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuXHQgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuXHQgICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG5cdCAgICAgIGlmIChieXRlcykge1xuXHQgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jylcblx0ICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcblx0ICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG5cdCAgICAgIH1cblx0ICAgIH0pXG5cdCAgICByZXR1cm4gZm9ybVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcblx0ICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuXHQgICAgcmF3SGVhZGVycy5zcGxpdCgnXFxyXFxuJykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuXHQgICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcblx0ICAgICAgaWYgKGtleSkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcblx0ICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGhlYWRlcnNcblx0ICB9XG5cdFxuXHQgIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblx0XG5cdCAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucykge1xuXHQgICAgICBvcHRpb25zID0ge31cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcblx0ICAgIHRoaXMuc3RhdHVzID0gJ3N0YXR1cycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzIDogMjAwXG5cdCAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG5cdCAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcblx0ICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcblx0ICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcblx0ICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuXHQgIH1cblx0XG5cdCAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblx0XG5cdCAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG5cdCAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG5cdCAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcblx0ICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcblx0ICAgICAgdXJsOiB0aGlzLnVybFxuXHQgICAgfSlcblx0ICB9XG5cdFxuXHQgIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuXHQgICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcblx0ICAgIHJldHVybiByZXNwb25zZVxuXHQgIH1cblx0XG5cdCAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cdFxuXHQgIFJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcblx0ICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcblx0ICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuXHQgIH1cblx0XG5cdCAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuXHQgIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3Rcblx0ICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2Vcblx0XG5cdCAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cdCAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXHRcblx0ICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0ge1xuXHQgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuXHQgICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG5cdCAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuXHQgICAgICAgIH1cblx0ICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG5cdCAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcblx0ICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcblx0ICAgICAgfVxuXHRcblx0ICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXHRcblx0ICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuXHQgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG5cdCAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuXHQgICAgICB9KVxuXHRcblx0ICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcblx0ICAgIH0pXG5cdCAgfVxuXHQgIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cdH0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcblxuXG4vKioqLyB9LFxuLyogMTUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBtb2JpbGUuMTgzMWJiN2ZiYWMzYWJkZjRkZTMuanMiLCIgXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHR0cnkge1xyXG4gXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuIFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuIFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4gXHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuIFx0XHR9XHJcbiBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4gXHRcdFx0aWYocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcclxuIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbiBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuIFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcclxuIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuIFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrKGUpO1xyXG4gXHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1cGRhdGUpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH07XHJcbiBcdH1cclxuXG4gXHRcclxuIFx0XHJcbiBcdC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2JlZjQ1YjAvc3JjL3NoYXJlZC91dGlscy9jYW5EZWZpbmVQcm9wZXJ0eS5qc1xyXG4gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuIFx0dHJ5IHtcclxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwieFwiLCB7XHJcbiBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuIFx0XHR9KTtcclxuIFx0XHRjYW5EZWZpbmVQcm9wZXJ0eSA9IHRydWU7XHJcbiBcdH0gY2F0Y2goeCkge1xyXG4gXHRcdC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMTgzMWJiN2ZiYWMzYWJkZjRkZTNcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbiBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbiBcdFx0XHRcdH0gZWxzZSBob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbiBcdFx0fTtcclxuIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbiBcdFx0XHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbiBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCAoZnVuY3Rpb24obmFtZSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiBcdFx0XHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4gXHRcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHRcdH0obmFtZSkpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGVuc3VyZShjaHVua0lkLCBjYWxsYmFjaykge1xyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbiBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBmbik7XHJcbiBcdFx0XHRcdH0gZmluYWxseSB7XHJcbiBcdFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuIFx0XHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbiBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH0pO1xyXG4gXHRcdH1cclxuIFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHR2YWx1ZTogZW5zdXJlXHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0Zm4uZSA9IGVuc3VyZTtcclxuIFx0XHR9XHJcbiBcdFx0cmV0dXJuIGZuO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBob3QgPSB7XHJcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbiBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwibnVtYmVyXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuIFx0XHR9O1xyXG4gXHRcdHJldHVybiBob3Q7XHJcbiBcdH1cclxuIFx0XHJcbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RDYWxsYmFjaztcclxuIFx0XHJcbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5LCBjYWxsYmFjaykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBhcHBseSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gZmFsc2U7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4gXHRcdGhvdERvd25sb2FkTWFuaWZlc3QoZnVuY3Rpb24oZXJyLCB1cGRhdGUpIHtcclxuIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4gXHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB1cGRhdGUuYy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXBbdXBkYXRlLmNbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xyXG4gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuIFx0XHRob3RDYWxsYmFjayA9IG51bGw7XHJcbiBcdFx0aWYoIWNhbGxiYWNrKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSwgY2FsbGJhY2spO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zLCBjYWxsYmFjaykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbiBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xyXG4gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlKSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgbW9kdWxlSWQgKyBcIiBpbiBcIiArIHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0cmV0dXJuIFtvdXRkYXRlZE1vZHVsZXMsIG91dGRhdGVkRGVwZW5kZW5jaWVzXTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4gXHRcdFx0XHR2YXIgcmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuIFx0XHRcdFx0XHRpZihvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIikpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdFswXSk7XHJcbiBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbiBcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdFsxXSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0WzFdW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbiBcdFx0XHRcdH0pO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4gXHRcclxuIFx0XHRcdHZhciBkYXRhID0ge307XHJcbiBcdFxyXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbiBcdFx0XHRcdGNiKGRhdGEpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuIFx0XHJcbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbiBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbiBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4gXHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuIFx0XHJcbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdHZhciBjYiA9IGNhbGxiYWNrc1tpXTtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0Y2Iob3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbiBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fSBlbHNlIGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbiBcdFx0aWYoZXJyb3IpIHtcclxuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuIFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHR9XHJcblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiBob3RDdXJyZW50UGFyZW50cyxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiaHR0cDovL2g1YXBwLjdkeWsuY29tL2FtYS83ZHlrL2Rpc3QvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMTgzMWJiN2ZiYWMzYWJkZjRkZTMiLCJpbXBvcnQgJ2JhYmVsLXBvbHlmaWxsJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RG9tIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7UHJvdmlkZXJ9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHtSb3V0ZXIsIFJvdXRlLCBJbmRleFJvdXRlLCBicm93c2VySGlzdG9yeSwgdXNlUm91dGVySGlzdG9yeX0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuXG5cbmltcG9ydCBcIi4uL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3NcIlxuXG5pbXBvcnQgQXBwIGZyb20gJy4vY29tcG9uZW50cy9BcHAnXG5pbXBvcnQgSG90IGZyb20gJy4vY29tcG9uZW50cy9Ib3QnXG5pbXBvcnQgVHV0b3IgZnJvbSAnLi9jb21wb25lbnRzL1R1dG9yJ1xuaW1wb3J0IEFjY291bnQgZnJvbSAnLi9jb21wb25lbnRzL0FjY291bnQnXG5pbXBvcnQgTGlzdGVuZWRMaXN0IGZyb20gJy4vY29udGFpbmVycy9saXN0cy9MaXRlbmVkTGlzdCdcbmltcG9ydCBBc2tlZE1lTGlzdCBmcm9tICcuL2NvbnRhaW5lcnMvbGlzdHMvQXNrZWRNZUxpc3QnXG5pbXBvcnQgSUFza2VkTGlzdCBmcm9tICcuL2NvbnRhaW5lcnMvbGlzdHMvSUFza2VkTGlzdCdcbmltcG9ydCBBY2NvdW50RWRpdCBmcm9tICcuL2NvbnRhaW5lcnMvQWNjb3VudEVkaXQnXG5pbXBvcnQgUXVlc3Rpb24gZnJvbSAnLi9jb250YWluZXJzL1F1ZXN0aW9uJ1xuaW1wb3J0IFR1dG9ySW5kZXggZnJvbSAnLi9jb250YWluZXJzL1R1dG9ySW5kZXgnXG5pbXBvcnQgVHV0b3JTaGFyZSBmcm9tICcuL2NvbnRhaW5lcnMvVHV0b3JTaGFyZSdcbmltcG9ydCBVc2VySW5kZXggZnJvbSAnLi9jb250YWluZXJzL1VzZXJJbmRleCdcbi8vIGltcG9ydCBVc2VyU2hhcmUgZnJvbSAnLi9jb250YWluZXJzL1VzZXJTaGFyZSdcbmltcG9ydCBBbnN3ZXIgZnJvbSAnLi9jb250YWluZXJzL3BhZ2VzL0Fuc3dlcidcbmltcG9ydCBTZWFyY2ggZnJvbSBcIi4vY29tcG9uZW50cy9TZWFyY2hcIlxuaW1wb3J0IFNlYXJjaFRpcHMgZnJvbSBcIi4vY29udGFpbmVycy9TZWFyY2hUaXBzXCJcbmltcG9ydCBTZWFyY2hSZXN1bHQgZnJvbSBcIi4vY29udGFpbmVycy9TZWFyY2hSZXN1bHRcIlxuaW1wb3J0IFJlc3VsdExpc3QgZnJvbSBcIi4vY29udGFpbmVycy9SZXN1bHRMaXN0XCJcbmltcG9ydCBQYXlJbmRleCBmcm9tIFwiLi9jb21wb25lbnRzL1BheUluZGV4XCJcbmltcG9ydCBUZXN0IGZyb20gXCIuL2NvbnRhaW5lcnMvVGVzdFwiXG5cbmltcG9ydCBjb25maWd1cmVTdG9yZSBmcm9tICcuL3N0b3JlL2NvbmZpZ3VyZVN0b3JlJ1xuY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSgpO1xuaW1wb3J0IHtiYXNlVXJsfSBmcm9tIFwiLi9hcGkvY29uZmlnXCJcblxuYnJvd3Nlckhpc3RvcnkubGlzdGVuKCBsb2NhdGlvbiA9PiAge1xuICAgIGNvbnNvbGUubG9nKGDlj5HpgIHlvZPliY3nvZHlnYDliLDosLfmrYznu5/orqFgKVxuICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbilcbiAgICBpZighd2luZG93LmxhbmRQYWdlKXtcbiAgICAgICAgd2luZG93LmxhbmRQYWdlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgfVxuICAgIGlmKGdhKXtcbiAgICAgICAgZ2EoJ3NlbmQnLCAncGFnZXZpZXcnLCB7XG4gICAgICAgICAgICBwYWdlOiB3aW5kb3cubG9jYXRpb24uaHJlZiwgLy8g5omL5Yqo6K6+572uIHBhdGhcbiAgICAgICAgICAgIHRpdGxlOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgLy8g5Lmf5Y+v5Lul5omL5Yqo6K6+572u6aG16Z2i5qCH6aKYXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5SZWFjdERvbS5yZW5kZXIoKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8Um91dGVyIGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fSA+XG4gICAgICA8Um91dGUgcGF0aCA9ICcvYW1hLzdkeWsvdGVzdCcgY29tcG9uZW50PXtUZXN0fS8+XG4gICAgICA8Um91dGUgcGF0aD17YmFzZVVybH0gY29tcG9uZW50PXtBcHB9PlxuICAgICAgICA8SW5kZXhSb3V0ZSBjb21wb25lbnQ9e0hvdH0vPlxuICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcInBheVwifSBjb21wb25lbnQ9e1BheUluZGV4fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcInR1dG9yXCJ9IGNvbXBvbmVudD17VHV0b3J9Lz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2Jhc2VVcmwrXCJhY2NvdW50XCJ9IGNvbXBvbmVudD17QWNjb3VudH0+XG4gICAgICAgICAgPEluZGV4Um91dGUgY29tcG9uZW50PXtMaXN0ZW5lZExpc3R9Lz5cbiAgICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcImFjY291bnQvQXNrZWRNZUxpc3RcIn0gY29tcG9uZW50PXtBc2tlZE1lTGlzdH0vPlxuICAgICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1wiYWNjb3VudC9JQXNrZWRMaXN0XCJ9IGNvbXBvbmVudD17SUFza2VkTGlzdH0vPlxuICAgICAgICA8L1JvdXRlPlxuICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcImFuc3dlci86aWRcIiB9IGNvbXBvbmVudD17QW5zd2VyfS8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1wiZWRpdFwifSBjb21wb25lbnQ9e0FjY291bnRFZGl0fS8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1wicXVlc3Rpb24vOmlkXCJ9IGNvbXBvbmVudD17UXVlc3Rpb259Lz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2Jhc2VVcmwgKyAndHV0b3InfT5cbiAgICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCArICd0dXRvci86aWQnfSAgY29tcG9uZW50PXtUdXRvckluZGV4fSAvPlxuICAgICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsICsgJ3R1dG9yL3NoYXJlLzppZCd9ICBjb21wb25lbnQ9e1R1dG9yU2hhcmV9IC8+XG4gICAgICAgIDwvUm91dGU+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1widXNlci86aWRcIn0gY29tcG9uZW50PXtVc2VySW5kZXh9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1wic2VhcmNoXCJ9IGNvbXBvbmVudD17U2VhcmNofT5cbiAgICAgICAgICAgIDxSb3V0ZSBwYXRoPXtiYXNlVXJsK1wic2VhcmNoL3Jlc3VsdC86cXVlcnlcIn0gY29tcG9uZW50PXtTZWFyY2hSZXN1bHR9IC8+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcInNlYXJjaC9saXN0Lzp0eXBlLzpxdWVyeVwifSBjb21wb25lbnQ9e1Jlc3VsdExpc3R9IC8+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD17YmFzZVVybCtcInNlYXJjaC90aXBzXCJ9IGNvbXBvbmVudD17U2VhcmNoVGlwc30gLz5cbiAgICAgICAgPC9Sb3V0ZT5cbiAgICAgIDwvUm91dGU+XG4gICAgPC9Sb3V0ZXI+XG4gIDwvUHJvdmlkZXI+XG4pLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcbi8vXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiUmVhY3RcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY29uc3QgIGRvbWFpbiA9ICdodHRwOi8vaDVhcHAuN2R5ay5jb20vYW1hL2FwaS9wdWJsaWMnO1xuZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSBcIi9hbWEvN2R5ay9cIjtcbmV4cG9ydCBjb25zdCBkb21haW5QYXRoID0gJ2h0dHA6Ly9oNWFwcC43ZHlrLmNvbS9hbWEvN2R5ay8nO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2FwaS9jb25maWcuanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNyZWF0ZU1lbW9yeUhpc3RvcnkgPSBleHBvcnRzLmhhc2hIaXN0b3J5ID0gZXhwb3J0cy5icm93c2VySGlzdG9yeSA9IGV4cG9ydHMuYXBwbHlSb3V0ZXJNaWRkbGV3YXJlID0gZXhwb3J0cy5mb3JtYXRQYXR0ZXJuID0gZXhwb3J0cy51c2VSb3V0ZXJIaXN0b3J5ID0gZXhwb3J0cy5tYXRjaCA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSBleHBvcnRzLmxvY2F0aW9uU2hhcGUgPSBleHBvcnRzLlByb3BUeXBlcyA9IGV4cG9ydHMuUm91dGluZ0NvbnRleHQgPSBleHBvcnRzLlJvdXRlckNvbnRleHQgPSBleHBvcnRzLmNyZWF0ZVJvdXRlcyA9IGV4cG9ydHMudXNlUm91dGVzID0gZXhwb3J0cy5Sb3V0ZUNvbnRleHQgPSBleHBvcnRzLkxpZmVjeWNsZSA9IGV4cG9ydHMuSGlzdG9yeSA9IGV4cG9ydHMuUm91dGUgPSBleHBvcnRzLlJlZGlyZWN0ID0gZXhwb3J0cy5JbmRleFJvdXRlID0gZXhwb3J0cy5JbmRleFJlZGlyZWN0ID0gZXhwb3J0cy53aXRoUm91dGVyID0gZXhwb3J0cy5JbmRleExpbmsgPSBleHBvcnRzLkxpbmsgPSBleHBvcnRzLlJvdXRlciA9IHVuZGVmaW5lZDtcblxudmFyIF9Sb3V0ZVV0aWxzID0gcmVxdWlyZSgnLi9Sb3V0ZVV0aWxzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY3JlYXRlUm91dGVzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzO1xuICB9XG59KTtcblxudmFyIF9Qcm9wVHlwZXMyID0gcmVxdWlyZSgnLi9Qcm9wVHlwZXMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdsb2NhdGlvblNoYXBlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX1Byb3BUeXBlczIubG9jYXRpb25TaGFwZTtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3JvdXRlclNoYXBlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX1Byb3BUeXBlczIucm91dGVyU2hhcGU7XG4gIH1cbn0pO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZm9ybWF0UGF0dGVybicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9QYXR0ZXJuVXRpbHMuZm9ybWF0UGF0dGVybjtcbiAgfVxufSk7XG5cbnZhciBfUm91dGVyMiA9IHJlcXVpcmUoJy4vUm91dGVyJyk7XG5cbnZhciBfUm91dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlcjIpO1xuXG52YXIgX0xpbmsyID0gcmVxdWlyZSgnLi9MaW5rJyk7XG5cbnZhciBfTGluazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaW5rMik7XG5cbnZhciBfSW5kZXhMaW5rMiA9IHJlcXVpcmUoJy4vSW5kZXhMaW5rJyk7XG5cbnZhciBfSW5kZXhMaW5rMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4TGluazIpO1xuXG52YXIgX3dpdGhSb3V0ZXIyID0gcmVxdWlyZSgnLi93aXRoUm91dGVyJyk7XG5cbnZhciBfd2l0aFJvdXRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoUm91dGVyMik7XG5cbnZhciBfSW5kZXhSZWRpcmVjdDIgPSByZXF1aXJlKCcuL0luZGV4UmVkaXJlY3QnKTtcblxudmFyIF9JbmRleFJlZGlyZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4UmVkaXJlY3QyKTtcblxudmFyIF9JbmRleFJvdXRlMiA9IHJlcXVpcmUoJy4vSW5kZXhSb3V0ZScpO1xuXG52YXIgX0luZGV4Um91dGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXhSb3V0ZTIpO1xuXG52YXIgX1JlZGlyZWN0MiA9IHJlcXVpcmUoJy4vUmVkaXJlY3QnKTtcblxudmFyIF9SZWRpcmVjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWRpcmVjdDIpO1xuXG52YXIgX1JvdXRlMiA9IHJlcXVpcmUoJy4vUm91dGUnKTtcblxudmFyIF9Sb3V0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZTIpO1xuXG52YXIgX0hpc3RvcnkyID0gcmVxdWlyZSgnLi9IaXN0b3J5Jyk7XG5cbnZhciBfSGlzdG9yeTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IaXN0b3J5Mik7XG5cbnZhciBfTGlmZWN5Y2xlMiA9IHJlcXVpcmUoJy4vTGlmZWN5Y2xlJyk7XG5cbnZhciBfTGlmZWN5Y2xlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpZmVjeWNsZTIpO1xuXG52YXIgX1JvdXRlQ29udGV4dDIgPSByZXF1aXJlKCcuL1JvdXRlQ29udGV4dCcpO1xuXG52YXIgX1JvdXRlQ29udGV4dDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZUNvbnRleHQyKTtcblxudmFyIF91c2VSb3V0ZXMyID0gcmVxdWlyZSgnLi91c2VSb3V0ZXMnKTtcblxudmFyIF91c2VSb3V0ZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVzMik7XG5cbnZhciBfUm91dGVyQ29udGV4dDIgPSByZXF1aXJlKCcuL1JvdXRlckNvbnRleHQnKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQyKTtcblxudmFyIF9Sb3V0aW5nQ29udGV4dDIgPSByZXF1aXJlKCcuL1JvdXRpbmdDb250ZXh0Jyk7XG5cbnZhciBfUm91dGluZ0NvbnRleHQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGluZ0NvbnRleHQyKTtcblxudmFyIF9Qcm9wVHlwZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvcFR5cGVzMik7XG5cbnZhciBfbWF0Y2gyID0gcmVxdWlyZSgnLi9tYXRjaCcpO1xuXG52YXIgX21hdGNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGNoMik7XG5cbnZhciBfdXNlUm91dGVySGlzdG9yeTIgPSByZXF1aXJlKCcuL3VzZVJvdXRlckhpc3RvcnknKTtcblxudmFyIF91c2VSb3V0ZXJIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVJvdXRlckhpc3RvcnkyKTtcblxudmFyIF9hcHBseVJvdXRlck1pZGRsZXdhcmUyID0gcmVxdWlyZSgnLi9hcHBseVJvdXRlck1pZGRsZXdhcmUnKTtcblxudmFyIF9hcHBseVJvdXRlck1pZGRsZXdhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbHlSb3V0ZXJNaWRkbGV3YXJlMik7XG5cbnZhciBfYnJvd3Nlckhpc3RvcnkyID0gcmVxdWlyZSgnLi9icm93c2VySGlzdG9yeScpO1xuXG52YXIgX2Jyb3dzZXJIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jyb3dzZXJIaXN0b3J5Mik7XG5cbnZhciBfaGFzaEhpc3RvcnkyID0gcmVxdWlyZSgnLi9oYXNoSGlzdG9yeScpO1xuXG52YXIgX2hhc2hIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc2hIaXN0b3J5Mik7XG5cbnZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTIgPSByZXF1aXJlKCcuL2NyZWF0ZU1lbW9yeUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZU1lbW9yeUhpc3RvcnkyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5Sb3V0ZXIgPSBfUm91dGVyMy5kZWZhdWx0OyAvKiBjb21wb25lbnRzICovXG5cbmV4cG9ydHMuTGluayA9IF9MaW5rMy5kZWZhdWx0O1xuZXhwb3J0cy5JbmRleExpbmsgPSBfSW5kZXhMaW5rMy5kZWZhdWx0O1xuZXhwb3J0cy53aXRoUm91dGVyID0gX3dpdGhSb3V0ZXIzLmRlZmF1bHQ7XG5cbi8qIGNvbXBvbmVudHMgKGNvbmZpZ3VyYXRpb24pICovXG5cbmV4cG9ydHMuSW5kZXhSZWRpcmVjdCA9IF9JbmRleFJlZGlyZWN0My5kZWZhdWx0O1xuZXhwb3J0cy5JbmRleFJvdXRlID0gX0luZGV4Um91dGUzLmRlZmF1bHQ7XG5leHBvcnRzLlJlZGlyZWN0ID0gX1JlZGlyZWN0My5kZWZhdWx0O1xuZXhwb3J0cy5Sb3V0ZSA9IF9Sb3V0ZTMuZGVmYXVsdDtcblxuLyogbWl4aW5zICovXG5cbmV4cG9ydHMuSGlzdG9yeSA9IF9IaXN0b3J5My5kZWZhdWx0O1xuZXhwb3J0cy5MaWZlY3ljbGUgPSBfTGlmZWN5Y2xlMy5kZWZhdWx0O1xuZXhwb3J0cy5Sb3V0ZUNvbnRleHQgPSBfUm91dGVDb250ZXh0My5kZWZhdWx0O1xuXG4vKiB1dGlscyAqL1xuXG5leHBvcnRzLnVzZVJvdXRlcyA9IF91c2VSb3V0ZXMzLmRlZmF1bHQ7XG5leHBvcnRzLlJvdXRlckNvbnRleHQgPSBfUm91dGVyQ29udGV4dDMuZGVmYXVsdDtcbmV4cG9ydHMuUm91dGluZ0NvbnRleHQgPSBfUm91dGluZ0NvbnRleHQzLmRlZmF1bHQ7XG5leHBvcnRzLlByb3BUeXBlcyA9IF9Qcm9wVHlwZXMzLmRlZmF1bHQ7XG5leHBvcnRzLm1hdGNoID0gX21hdGNoMy5kZWZhdWx0O1xuZXhwb3J0cy51c2VSb3V0ZXJIaXN0b3J5ID0gX3VzZVJvdXRlckhpc3RvcnkzLmRlZmF1bHQ7XG5leHBvcnRzLmFwcGx5Um91dGVyTWlkZGxld2FyZSA9IF9hcHBseVJvdXRlck1pZGRsZXdhcmUzLmRlZmF1bHQ7XG5cbi8qIGhpc3RvcmllcyAqL1xuXG5leHBvcnRzLmJyb3dzZXJIaXN0b3J5ID0gX2Jyb3dzZXJIaXN0b3J5My5kZWZhdWx0O1xuZXhwb3J0cy5oYXNoSGlzdG9yeSA9IF9oYXNoSGlzdG9yeTMuZGVmYXVsdDtcbmV4cG9ydHMuY3JlYXRlTWVtb3J5SGlzdG9yeSA9IF9jcmVhdGVNZW1vcnlIaXN0b3J5My5kZWZhdWx0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJyZWR1eFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiLFwicmVkdXhcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SZWFjdFJlZHV4PWUocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJyZWR1eFwiKSk6dC5SZWFjdFJlZHV4PWUodC5SZWFjdCx0LlJlZHV4KX0odGhpcyxmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKG8pe2lmKHJbb10pcmV0dXJuIHJbb10uZXhwb3J0czt2YXIgbj1yW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gdFtvXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxlKSxuLmxvYWRlZD0hMCxuLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIGUubT10LGUuYz1yLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWUuX19lc01vZHVsZT0hMCxlLmNvbm5lY3Q9ZS5Qcm92aWRlcj12b2lkIDA7dmFyIG49cig1KSxzPW8obiksaT1yKDYpLGE9byhpKTtlLlByb3ZpZGVyPXNbXCJkZWZhdWx0XCJdLGUuY29ubmVjdD1hW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24oZSxyKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMDt2YXIgbz1yKDEpO2VbXCJkZWZhdWx0XCJdPW8uUHJvcFR5cGVzLnNoYXBlKHtzdWJzY3JpYmU6by5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLGRpc3BhdGNoOm8uUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxnZXRTdGF0ZTpvLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWR9KX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpO3RyeXt0aHJvdyBFcnJvcih0KX1jYXRjaCh0KXt9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1yfSxmdW5jdGlvbih0LGUscil7dmFyIG89cigxNyksbj1vLlN5bWJvbDt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gaSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT12b2lkIDA7dmFyIGE9cigxKSxwPXIoMiksdT1vKHApLGM9cigzKSxmPShvKGMpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixvKXtuKHRoaXMsZSk7dmFyIGk9cyh0aGlzLHQuY2FsbCh0aGlzLHIsbykpO3JldHVybiBpLnN0b3JlPXIuc3RvcmUsaX1yZXR1cm4gaShlLHQpLGUucHJvdG90eXBlLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybntzdG9yZTp0aGlzLnN0b3JlfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKX0sZX0oYS5Db21wb25lbnQpKTtlW1wiZGVmYXVsdFwiXT1mLGYucHJvcFR5cGVzPXtzdG9yZTp1W1wiZGVmYXVsdFwiXS5pc1JlcXVpcmVkLGNoaWxkcmVuOmEuUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZH0sZi5jaGlsZENvbnRleHRUeXBlcz17c3RvcmU6dVtcImRlZmF1bHRcIl0uaXNSZXF1aXJlZH19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIGkodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiBhKHQpe3JldHVybiB0LmRpc3BsYXlOYW1lfHx0Lm5hbWV8fFwiQ29tcG9uZW50XCJ9ZnVuY3Rpb24gcCh0LGUpe3RyeXtyZXR1cm4gdC5hcHBseShlKX1jYXRjaCh0KXtyZXR1cm4gQy52YWx1ZT10LEN9fWZ1bmN0aW9uIHUodCxlLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSx1PSEhdCxsPXR8fHgsZD12b2lkIDA7ZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6ZT8oMCx2W1wiZGVmYXVsdFwiXSkoZSk6ajt2YXIgUD1yfHxULGI9by5wdXJlLGc9dm9pZCAwPT09Ynx8YixPPW8ud2l0aFJlZixtPXZvaWQgMCE9PU8mJk8sXz1nJiZQIT09VCxEPU0rKztyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUscil7dmFyIG89UCh0LGUscik7cmV0dXJuIG99dmFyIHI9XCJDb25uZWN0KFwiK2EodCkrXCIpXCIsbz1mdW5jdGlvbihvKXtmdW5jdGlvbiBhKHQsZSl7bih0aGlzLGEpO3ZhciBpPXModGhpcyxvLmNhbGwodGhpcyx0LGUpKTtpLnZlcnNpb249RCxpLnN0b3JlPXQuc3RvcmV8fGUuc3RvcmUsKDAsd1tcImRlZmF1bHRcIl0pKGkuc3RvcmUsJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJysoJ3Byb3BzIG9mIFwiJytyKydcIi4gJykrXCJFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBcIisoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJytyKydcIi4nKSk7dmFyIHA9aS5zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiBpLnN0YXRlPXtzdG9yZVN0YXRlOnB9LGkuY2xlYXJDYWNoZSgpLGl9cmV0dXJuIGkoYSxvKSxhLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hZ3x8dGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkfHx0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkfSxhLnByb3RvdHlwZS5jb21wdXRlU3RhdGVQcm9wcz1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKXJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUodCxlKTt2YXIgcj10LmdldFN0YXRlKCksbz10aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM/dGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhyLGUpOnRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMocik7cmV0dXJuIG99LGEucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1sKHQuZ2V0U3RhdGUoKSxlKSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI7cmV0dXJuIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHM9bz9yOmwsdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzPTEhPT10aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCxvP3RoaXMuY29tcHV0ZVN0YXRlUHJvcHModCxlKTpyfSxhLnByb3RvdHlwZS5jb21wdXRlRGlzcGF0Y2hQcm9wcz1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKXJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2godCxlKTt2YXIgcj10LmRpc3BhdGNoLG89dGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzP3RoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMocixlKTp0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKHIpO3JldHVybiBvfSxhLnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZCh0LmRpc3BhdGNoLGUpLG89XCJmdW5jdGlvblwiPT10eXBlb2YgcjtyZXR1cm4gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcz1vP3I6ZCx0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM9MSE9PXRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoLG8/dGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0LGUpOnJ9LGEucHJvdG90eXBlLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29tcHV0ZVN0YXRlUHJvcHModGhpcy5zdG9yZSx0aGlzLnByb3BzKTtyZXR1cm4oIXRoaXMuc3RhdGVQcm9wc3x8ISgwLHlbXCJkZWZhdWx0XCJdKSh0LHRoaXMuc3RhdGVQcm9wcykpJiYodGhpcy5zdGF0ZVByb3BzPXQsITApfSxhLnByb3RvdHlwZS51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHRoaXMuc3RvcmUsdGhpcy5wcm9wcyk7cmV0dXJuKCF0aGlzLmRpc3BhdGNoUHJvcHN8fCEoMCx5W1wiZGVmYXVsdFwiXSkodCx0aGlzLmRpc3BhdGNoUHJvcHMpKSYmKHRoaXMuZGlzcGF0Y2hQcm9wcz10LCEwKX0sYS5wcm90b3R5cGUudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZD1mdW5jdGlvbigpe3ZhciB0PWUodGhpcy5zdGF0ZVByb3BzLHRoaXMuZGlzcGF0Y2hQcm9wcyx0aGlzLnByb3BzKTtyZXR1cm4hKHRoaXMubWVyZ2VkUHJvcHMmJl8mJigwLHlbXCJkZWZhdWx0XCJdKSh0LHRoaXMubWVyZ2VkUHJvcHMpKSYmKHRoaXMubWVyZ2VkUHJvcHM9dCwhMCl9LGEucHJvdG90eXBlLmlzU3Vic2NyaWJlZD1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMudW5zdWJzY3JpYmV9LGEucHJvdG90eXBlLnRyeVN1YnNjcmliZT1mdW5jdGlvbigpe3UmJiF0aGlzLnVuc3Vic2NyaWJlJiYodGhpcy51bnN1YnNjcmliZT10aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKSx0aGlzLmhhbmRsZUNoYW5nZSgpKX0sYS5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlJiYodGhpcy51bnN1YnNjcmliZSgpLHRoaXMudW5zdWJzY3JpYmU9bnVsbCl9LGEucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy50cnlTdWJzY3JpYmUoKX0sYS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz1mdW5jdGlvbih0KXtnJiYoMCx5W1wiZGVmYXVsdFwiXSkodCx0aGlzLnByb3BzKXx8KHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZD0hMCl9LGEucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy50cnlVbnN1YnNjcmliZSgpLHRoaXMuY2xlYXJDYWNoZSgpfSxhLnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaFByb3BzPW51bGwsdGhpcy5zdGF0ZVByb3BzPW51bGwsdGhpcy5tZXJnZWRQcm9wcz1udWxsLHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZD0hMCx0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkPSEwLHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZD0hMSx0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yPW51bGwsdGhpcy5yZW5kZXJlZEVsZW1lbnQ9bnVsbCx0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzPW51bGwsdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcz1udWxsfSxhLnByb3RvdHlwZS5oYW5kbGVDaGFuZ2U9ZnVuY3Rpb24oKXtpZih0aGlzLnVuc3Vic2NyaWJlKXt2YXIgdD10aGlzLnN0b3JlLmdldFN0YXRlKCksZT10aGlzLnN0YXRlLnN0b3JlU3RhdGU7aWYoIWd8fGUhPT10KXtpZihnJiYhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKXt2YXIgcj1wKHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkLHRoaXMpO2lmKCFyKXJldHVybjtyPT09QyYmKHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I9Qy52YWx1ZSksdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkPSEwfXRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ9ITAsdGhpcy5zZXRTdGF0ZSh7c3RvcmVTdGF0ZTp0fSl9fX0sYS5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuKDAsd1tcImRlZmF1bHRcIl0pKG0sXCJUbyBhY2Nlc3MgdGhlIHdyYXBwZWQgaW5zdGFuY2UsIHlvdSBuZWVkIHRvIHNwZWNpZnkgeyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuXCIpLHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2V9LGEucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCxyPXRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQsbz10aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQsbj10aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yLHM9dGhpcy5yZW5kZXJlZEVsZW1lbnQ7aWYodGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkPSExLHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ9ITEsdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkPSExLHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I9bnVsbCxuKXRocm93IG47dmFyIGk9ITAsYT0hMDtnJiZzJiYoaT1yfHxlJiZ0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMsYT1lJiZ0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMpO3ZhciBwPSExLHU9ITE7bz9wPSEwOmkmJihwPXRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCkpLGEmJih1PXRoaXMudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkpO3ZhciBsPSEwO3JldHVybiBsPSEhKHB8fHV8fGUpJiZ0aGlzLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKSwhbCYmcz9zOnRoaXMucmVuZGVyZWRFbGVtZW50PW0/KDAsZi5jcmVhdGVFbGVtZW50KSh0LGMoe30sdGhpcy5tZXJnZWRQcm9wcyx7cmVmOlwid3JhcHBlZEluc3RhbmNlXCJ9KSk6KDAsZi5jcmVhdGVFbGVtZW50KSh0LHRoaXMubWVyZ2VkUHJvcHMpfSxhfShmLkNvbXBvbmVudCk7cmV0dXJuIG8uZGlzcGxheU5hbWU9cixvLldyYXBwZWRDb21wb25lbnQ9dCxvLmNvbnRleHRUeXBlcz17c3RvcmU6aFtcImRlZmF1bHRcIl19LG8ucHJvcFR5cGVzPXtzdG9yZTpoW1wiZGVmYXVsdFwiXX0sKDAsU1tcImRlZmF1bHRcIl0pKG8sdCl9fWUuX19lc01vZHVsZT0hMDt2YXIgYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTthcmd1bWVudHMubGVuZ3RoPmU7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBvIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbykmJih0W29dPXJbb10pfXJldHVybiB0fTtlW1wiZGVmYXVsdFwiXT11O3ZhciBmPXIoMSksbD1yKDIpLGg9byhsKSxkPXIoNykseT1vKGQpLFA9cig4KSx2PW8oUCksYj1yKDMpLGc9KG8oYikscigxOSkpLE89KG8oZykscig5KSksUz1vKE8pLG09cigxMCksdz1vKG0pLHg9ZnVuY3Rpb24odCl7cmV0dXJue319LGo9ZnVuY3Rpb24odCl7cmV0dXJue2Rpc3BhdGNoOnR9fSxUPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gYyh7fSxyLHQsZSl9LEM9e3ZhbHVlOm51bGx9LE09MH0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYodD09PWUpcmV0dXJuITA7dmFyIHI9T2JqZWN0LmtleXModCksbz1PYmplY3Qua2V5cyhlKTtpZihyLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9MDtyLmxlbmd0aD5zO3MrKylpZighbi5jYWxsKGUscltzXSl8fHRbcltzXV0hPT1lW3Jbc11dKXJldHVybiExO3JldHVybiEwfWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1yfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuKDAsbi5iaW5kQWN0aW9uQ3JlYXRvcnMpKHQsZSl9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1vO3ZhciBuPXIoMjApfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciByPXtjaGlsZENvbnRleHRUeXBlczohMCxjb250ZXh0VHlwZXM6ITAsZGVmYXVsdFByb3BzOiEwLGRpc3BsYXlOYW1lOiEwLGdldERlZmF1bHRQcm9wczohMCxtaXhpbnM6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LG89e25hbWU6ITAsbGVuZ3RoOiEwLHByb3RvdHlwZTohMCxjYWxsZXI6ITAsYXJndW1lbnRzOiEwLGFyaXR5OiEwfSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxzKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk7biYmKGk9aS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSkpO2Zvcih2YXIgYT0wO2kubGVuZ3RoPmE7KythKWlmKCEocltpW2FdXXx8b1tpW2FdXXx8cyYmc1tpW2FdXSkpdHJ5e3RbaVthXV09ZVtpW2FdXX1jYXRjaCh0KXt9fXJldHVybiB0fX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBvPWZ1bmN0aW9uKHQsZSxyLG8sbixzLGksYSl7aWYoIXQpe3ZhciBwO2lmKHZvaWQgMD09PWUpcD1FcnJvcihcIk1pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCIpO2Vsc2V7dmFyIHU9W3IsbyxuLHMsaSxhXSxjPTA7cD1FcnJvcihlLnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gdVtjKytdfSkpLHAubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBwLmZyYW1lc1RvUG9wPTEscH19O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA9PT10P3A6YToodD1PYmplY3QodCksdSYmdSBpbiB0P3ModCk6aSh0KSl9dmFyIG49cig0KSxzPXIoMTQpLGk9cigxNSksYT1cIltvYmplY3QgTnVsbF1cIixwPVwiW29iamVjdCBVbmRlZmluZWRdXCIsdT1uP24udG9TdHJpbmdUYWc6dm9pZCAwO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXt2YXIgcj1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmU7dC5leHBvcnRzPXJ9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpKX0sZnVuY3Rpb24odCxlLHIpe3ZhciBvPXIoMTYpLG49byhPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG8odCl7dmFyIGU9aS5jYWxsKHQscCkscj10W3BdO3RyeXt0W3BdPXZvaWQgMDt2YXIgbz0hMH1jYXRjaCh0KXt9dmFyIG49YS5jYWxsKHQpO3JldHVybiBvJiYoZT90W3BdPXI6ZGVsZXRlIHRbcF0pLG59dmFyIG49cig0KSxzPU9iamVjdC5wcm90b3R5cGUsaT1zLmhhc093blByb3BlcnR5LGE9cy50b1N0cmluZyxwPW4/bi50b1N0cmluZ1RhZzp2b2lkIDA7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbi5jYWxsKHQpfXZhciBvPU9iamVjdC5wcm90b3R5cGUsbj1vLnRvU3RyaW5nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQoZShyKSl9fXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUscil7dmFyIG89cigxMiksbj1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYscz1vfHxufHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBvKHQpe2lmKCFpKHQpfHxuKHQpIT1hKXJldHVybiExO3ZhciBlPXModCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIHI9Zi5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyIGluc3RhbmNlb2YgciYmYy5jYWxsKHIpPT1sfXZhciBuPXIoMTEpLHM9cigxMyksaT1yKDE4KSxhPVwiW29iamVjdCBPYmplY3RdXCIscD1GdW5jdGlvbi5wcm90b3R5cGUsdT1PYmplY3QucHJvdG90eXBlLGM9cC50b1N0cmluZyxmPXUuaGFzT3duUHJvcGVydHksbD1jLmNhbGwoT2JqZWN0KTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxyKXt0LmV4cG9ydHM9ZX1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yZWR1eC9kaXN0L3JlYWN0LXJlZHV4Lm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSByb3V0ZXJXYXJuaW5nO1xuZXhwb3J0cy5fcmVzZXRXYXJuZWQgPSBfcmVzZXRXYXJuZWQ7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgd2FybmVkID0ge307XG5cbmZ1bmN0aW9uIHJvdXRlcldhcm5pbmcoZmFsc2VUb1dhcm4sIG1lc3NhZ2UpIHtcbiAgLy8gT25seSBpc3N1ZSBkZXByZWNhdGlvbiB3YXJuaW5ncyBvbmNlLlxuICBpZiAobWVzc2FnZS5pbmRleE9mKCdkZXByZWNhdGVkJykgIT09IC0xKSB7XG4gICAgaWYgKHdhcm5lZFttZXNzYWdlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFttZXNzYWdlXSA9IHRydWU7XG4gIH1cblxuICBtZXNzYWdlID0gJ1tyZWFjdC1yb3V0ZXJdICcgKyBtZXNzYWdlO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgX3dhcm5pbmcyLmRlZmF1bHQuYXBwbHkodW5kZWZpbmVkLCBbZmFsc2VUb1dhcm4sIG1lc3NhZ2VdLmNvbmNhdChhcmdzKSk7XG59XG5cbmZ1bmN0aW9uIF9yZXNldFdhcm5lZCgpIHtcbiAgd2FybmVkID0ge307XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvcm91dGVyV2FybmluZy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ludmFyaWFudC9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ3JlYXRlZCBieSB6c2ggb24gMjAxNi8zLzExLlxuICovXG4gZXhwb3J0IGNvbnN0IFdYX0NPTkZJR19TVUNDRVNTICA9ICdXWF9DT05GSUdfU1VDQ0VTUydcbmV4cG9ydCBjb25zdCBSRUNFSVZFX1dYX0NPTkZJRyAgPSAnUkVDRUlWRV9XWF9DT05GSUcnXG5leHBvcnQgY29uc3QgU0VUX0xBTkRfUEFHRSAgPSAnU0VUX0xBTkRfUEFHRSdcbi8qKioqKioqKirpl67popgqKioqKioqKioqL1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfSE9UX1FVRVNUSU9OX0xJU1QgID0gJ1JFQ0VJVkVfSE9UX1FVRVNUSU9OX0xJU1QnXG5leHBvcnQgY29uc3QgSE9UX1FVRVNUSU9OX0xJU1RfQ09NUExFVEVEICA9ICdIT1RfUVVFU1RJT05fTElTVF9DT01QTEVURUQnXG5leHBvcnQgY29uc3QgUkVDRUlWRV9RVUVTVElPTl9JTkZPICA9ICdSRUNFSVZFX1FVRVNUSU9OX0lORk8nXG5leHBvcnQgY29uc3QgUkVRVUVTVF9MSVNURU5fSU5GTyAgPSAnUkVRVUVTVF9MSVNURU5fSU5GTydcbmV4cG9ydCBjb25zdCBSRUNFSVZFX0xJU1RFTl9JTkZPICA9ICdSRUNFSVZFX0xJU1RFTl9JTkZPJ1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfU0FWRV9WT0lDRSAgPSAnUkVDRUlWRV9TQVZFX1ZPSUNFJ1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfUFJJU0VfUVVFU1RJT04gPSAnUkVDRUlWRV9QUklTRV9RVUVTVElPTidcbmV4cG9ydCBjb25zdCBSRUNFSVZFX0NBTkNFTF9QUklTRV9RVUVTVElPTiA9ICdSRUNFSVZFX0NBTkNFTF9QUklTRV9RVUVTVElPTidcbmV4cG9ydCBjb25zdCBSRUNFSVZFX1BBSUQgPSAnUkVDRUlWRV9QQUlEJ1xuZXhwb3J0IGNvbnN0IENMRUFSX1FVRVNUSU9OID0gJ0NMRUFSX1FVRVNUSU9OJ1xuXG4vKioqKioqKioq5a+85biIKioqKioqKioqKi9cbmV4cG9ydCBjb25zdCBSRUNFSVZFX1RVVE9SX0xJU1QgID0gJ1JFQ0VJVkVfVFVUT1JfTElTVCdcbmV4cG9ydCBjb25zdCBSRUNFSVZFX1RVVE9SX0lORk8gID0gJ1JFQ0VJVkVfVFVUT1JfSU5GTydcbmV4cG9ydCBjb25zdCBSRUNFSVZFX1RVVE9SX0FOU1dFUl9MSVNUICA9ICdSRUNFSVZFX1RVVE9SX0FOU1dFUl9MSVNUJ1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfUFJFUEFZX0lORk8gID0gJ1JFUVVFU1RfUFJFUEFZX0lORk8nXG5leHBvcnQgY29uc3QgUkVDRUlWRV9QUkVQQVlfSU5GTyAgPSAnUkVDRUlWRV9QUkVQQVlfSU5GTydcbmV4cG9ydCBjb25zdCBDTEVBUl9UVVRPUl9JTkRFWCA9ICdDTEVBUl9UVVRPUl9JTkRFWCdcblxuLyoqKioqKioqKuaQnOe0oioqKioqKioqKiovXG5leHBvcnQgY29uc3QgUkVRVUVTVF9ISVNUT1JZX1NFQVJDSCA9ICdSRVFVRVNUX0hJU1RPUllfU0VBUkNIJ1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfSElTVE9SWV9TRUFSQ0ggPSAnUkVDRUlWRV9ISVNUT1JZX1NFQVJDSCdcbmV4cG9ydCBjb25zdCBSRVFVRVNUX0hPVF9TRUFSQ0ggPSAnUkVRVUVTVF9IT1RfU0VBUkNIJ1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfSE9UX1NFQVJDSCA9ICdSRUNFSVZFX0hPVF9TRUFSQ0gnXG5leHBvcnQgY29uc3QgU0VUX0NVUl9TRUFSQ0ggPSAnU0VUX0NVUl9TRUFSQ0gnXG5leHBvcnQgY29uc3QgUkVRVUVTVF9TRUFSQ0hfUVVFU1RJT04gPSAnUkVRVUVTVF9TRUFSQ0hfUVVFU1RJT04nXG5leHBvcnQgY29uc3QgUkVRVUVTVF9TRUFSQ0hfVFVUT1IgPSAnUkVRVUVTVF9TRUFSQ0hfVFVUT1InXG5leHBvcnQgY29uc3QgREVMRVRFX0hJU1RPUllfU1VDQ0VTUyA9ICdERUxFVEVfSElTVE9SWV9TVUNDRVNTJ1xuXG5cbi8qKioqKioqKirmiJHnmoQqKioqKioqKioqL1xuLy/ojrflj5bliLDnlKjmiLfmtojmga9cbmV4cG9ydCBjb25zdCBSRUNFSVZFX1VTRVJfSU5GTyA9ICdSRUNFSVZFX1VTRVJfSU5GTyc7XG5leHBvcnQgY29uc3QgUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8gPSAnUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8nO1xuXG4vL+iOt+WPluWQrOi/h+eahOmXrumimOWIl+ihqFxuZXhwb3J0IGNvbnN0IFJFUVVFU1RfTElTVEVORUQgPSAnUkVRVUVTVF9MSVNURU5FRCc7XG5leHBvcnQgY29uc3QgTElTVEVORURfQ09NUExFVEVEID0gJ0xJU1RFTkVEX0NPTVBMRVRFRCc7XG5leHBvcnQgY29uc3QgUkVDRUlWRV9MSVNURU5FRCA9ICdSRUNFSVZFX0xJU1RFTkVEJztcbi8v6I635Y+W5oiR6Zeu55qE6Zeu6aKY5YiX6KGoXG5leHBvcnQgY29uc3QgQ0xFQVJfSV9BU0tFRCA9ICdDTEVBUl9JX0FTS0VEJztcbmV4cG9ydCBjb25zdCBSRVFVRVNUX0lfQVNLRUQgPSAnUkVRVUVTVF9JX0FTS0VEJztcbmV4cG9ydCBjb25zdCBSRUNFSVZFX0lfQVNLRUQgPSAnUkVDRUlWRV9JX0FTS0VEJztcbmV4cG9ydCBjb25zdCBJX0FTS0VEX0NPTVBMRVRFRCA9ICdJX0FTS0VEX0NPTVBMRVRFRCc7XG5cbi8v6I635Y+W6Zeu5oiR55qE6Zeu6aKY5YiX6KGoXG5leHBvcnQgY29uc3QgUkVRVUVTVF9BU0tFRF9NRSA9ICdSRVFVRVNUX0FTS0VEX01FJztcbmV4cG9ydCBjb25zdCBDTEVBUl9BU0tFRF9NRSA9ICdDTEVBUl9BU0tFRF9NRSc7XG5leHBvcnQgY29uc3QgUkVDRUlWRV9BU0tFRF9NRSA9ICdSRUNFSVZFX0FTS0VEX01FJztcbmV4cG9ydCBjb25zdCBBU0tFRF9NRV9DT01QTEVURUQgPSAnQVNLRURfTUVfQ09NUExFVEVEJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9hY3Rpb25zL0FjdGlvblR5cGVzLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG4gICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG4gICAgfVxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcbiAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoKHgpIHt9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgYWNjb3VudCBmcm9tICcuLi9hcGkvYWNjb3VudCdcbmltcG9ydCB7XG4gIENMRUFSX0FTS0VEX01FLFxuICBDTEVBUl9JX0FTS0VELFxuICBSRVFVRVNUX0xJU1RFTkVELFxuICBSRVFVRVNUX0FTS0VEX01FLFxuICBSRVFVRVNUX0lfQVNLRUQsXG4gIFJFQ0VJVkVfVVNFUl9JTkZPLFxuICBSRUNFSVZFX0xJU1RFTkVELFxuICBSRUNFSVZFX0lfQVNLRUQsXG4gIFJFQ0VJVkVfQVNLRURfTUUsXG4gIExJU1RFTkVEX0NPTVBMRVRFRCxcbiAgSV9BU0tFRF9DT01QTEVURUQsXG4gIEFTS0VEX01FX0NPTVBMRVRFRCxcbiAgUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8sXG59IGZyb20gJy4vQWN0aW9uVHlwZXMnXG5pbXBvcnQgbWVzc2FnZSBmcm9tICcuLi91dGlsL3dldWkvbWVzc2FnZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgYWNjb3VudC5nZXRVc2VySW5mbygoZGF0YSkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBSRUNFSVZFX1VTRVJfSU5GTyxcbiAgICAgICAgZGF0YVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdGhlclVzZXJJbmZvKGlkKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBhY2NvdW50LmdldE90aGVyVXNlckluZm8oaWQsIChkYXRhKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFJFQ0VJVkVfT1RIRVJfVVNFUl9JTkZPLFxuICAgICAgICBkYXRhXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRVc2VySW5mbyhjb21wYW55LCBqb2IsIGV4cGVyaWVuY2UsdGVhY2hlcl9wcml6ZSwgaW50cm9kdWN0aW9uKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBhY2NvdW50LmVkaXRVc2VySW5mbyhjb21wYW55LCBqb2IsIGV4cGVyaWVuY2UsIHRlYWNoZXJfcHJpemUsaW50cm9kdWN0aW9uLCAoZGF0YSkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBSRUNFSVZFX1VTRVJfSU5GTyxcbiAgICAgICAgZGF0YVxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RlbmVkKHBhZ2UsIG51bSkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogUkVRVUVTVF9MSVNURU5FRFxuICAgIH0pO1xuICAgIGFjY291bnQuZ2V0TGlzdGVuZWQocGFnZSwgbnVtLCAoZGF0YSkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBSRUNFSVZFX0xJU1RFTkVELFxuICAgICAgICBkYXRhLFxuICAgICAgICBwYWdlLFxuICAgICAgICBudW1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SUFza2VkKHBhZ2UsIG51bSkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgaWYocGFnZT09MSl7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IENMRUFSX0lfQVNLRURcbiAgICAgIH0pXG4gICAgfVxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFJFUVVFU1RfSV9BU0tFRFxuICAgIH0pO1xuICAgIGFjY291bnQuZ2V0SUFza2VkKHBhZ2UsIG51bSwgKGRhdGEpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogUkVDRUlWRV9JX0FTS0VELFxuICAgICAgICBkYXRhLFxuICAgICAgICBwYWdlLFxuICAgICAgICBudW1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXNrZWRNZShwYWdlLCBudW0pIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGlmKHBhZ2U9PTEpe1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBDTEVBUl9BU0tFRF9NRVxuICAgICAgfSlcbiAgICB9XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogUkVRVUVTVF9BU0tFRF9NRVxuICAgIH0pO1xuICAgIGFjY291bnQuZ2V0QXNrZWRNZShwYWdlLCBudW0sIChkYXRhKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFJFQ0VJVkVfQVNLRURfTUUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIG51bVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBc2tlZE1lKCkge1xuICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IENMRUFSX0FTS0VEX01FXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdEJlY29tZVRlYWNoZXIoaW52aXRlLCBwcml6ZSkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgYWNjb3VudC5yZXF1ZXN0QmVjb21lVGVhY2hlcihpbnZpdGUsIHByaXplLCAoZGF0YSkgPT4ge1xuICAgICAgbWVzc2FnZS5zdWNjZXNzKCfnlLPor7fmiJDlip8hJywgMS41LCAoKSA9Pnt3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9KTtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogUkVDRUlWRV9VU0VSX0lORk8sXG4gICAgICAgIGRhdGFcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2FjdGlvbnMvYWNjb3VudC5qcyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0cy5pc1JlYWN0Q2hpbGRyZW4gPSBpc1JlYWN0Q2hpbGRyZW47XG5leHBvcnRzLmNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudCA9IGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDtcbmV4cG9ydHMuY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4gPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbjtcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzVmFsaWRDaGlsZChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IF9yZWFjdDIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChvYmplY3QpO1xufVxuXG5mdW5jdGlvbiBpc1JlYWN0Q2hpbGRyZW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc1ZhbGlkQ2hpbGQob2JqZWN0KSB8fCBBcnJheS5pc0FycmF5KG9iamVjdCkgJiYgb2JqZWN0LmV2ZXJ5KGlzVmFsaWRDaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlKGRlZmF1bHRQcm9wcywgcHJvcHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0UHJvcHMsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQpIHtcbiAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIHZhciByb3V0ZSA9IGNyZWF0ZVJvdXRlKHR5cGUuZGVmYXVsdFByb3BzLCBlbGVtZW50LnByb3BzKTtcblxuICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICB2YXIgY2hpbGRSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbihyb3V0ZS5jaGlsZHJlbiwgcm91dGUpO1xuXG4gICAgaWYgKGNoaWxkUm91dGVzLmxlbmd0aCkgcm91dGUuY2hpbGRSb3V0ZXMgPSBjaGlsZFJvdXRlcztcblxuICAgIGRlbGV0ZSByb3V0ZS5jaGlsZHJlbjtcbiAgfVxuXG4gIHJldHVybiByb3V0ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgcm91dGVzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBSZWFjdENoaWxkcmVuLiBKU1hcbiAqIHByb3ZpZGVzIGEgY29udmVuaWVudCB3YXkgdG8gdmlzdWFsaXplIGhvdyByb3V0ZXMgaW4gdGhlIGhpZXJhcmNoeSBhcmVcbiAqIG5lc3RlZC5cbiAqXG4gKiAgIGltcG9ydCB7IFJvdXRlLCBjcmVhdGVSb3V0ZXNGcm9tUmVhY3RDaGlsZHJlbiB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbiAqXG4gKiAgIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlc0Zyb21SZWFjdENoaWxkcmVuKFxuICogICAgIDxSb3V0ZSBjb21wb25lbnQ9e0FwcH0+XG4gKiAgICAgICA8Um91dGUgcGF0aD1cImhvbWVcIiBjb21wb25lbnQ9e0Rhc2hib2FyZH0vPlxuICogICAgICAgPFJvdXRlIHBhdGg9XCJuZXdzXCIgY29tcG9uZW50PXtOZXdzRmVlZH0vPlxuICogICAgIDwvUm91dGU+XG4gKiAgIClcbiAqXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IHVzZWQgd2hlbiB5b3UgcHJvdmlkZSA8Um91dGU+IGNoaWxkcmVuXG4gKiB0byBhIDxSb3V0ZXI+IGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudFJvdXRlKSB7XG4gIHZhciByb3V0ZXMgPSBbXTtcblxuICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBpZiAoX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAvLyBDb21wb25lbnQgY2xhc3NlcyBtYXkgaGF2ZSBhIHN0YXRpYyBjcmVhdGUqIG1ldGhvZC5cbiAgICAgIGlmIChlbGVtZW50LnR5cGUuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KSB7XG4gICAgICAgIHZhciByb3V0ZSA9IGVsZW1lbnQudHlwZS5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCwgcGFyZW50Um91dGUpO1xuXG4gICAgICAgIGlmIChyb3V0ZSkgcm91dGVzLnB1c2gocm91dGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVzLnB1c2goY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByb3V0ZXM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiByb3V0ZXMgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0IHdoaWNoXG4gKiBtYXkgYmUgYSBKU1ggcm91dGUsIGEgcGxhaW4gb2JqZWN0IHJvdXRlLCBvciBhbiBhcnJheSBvZiBlaXRoZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcyhyb3V0ZXMpIHtcbiAgaWYgKGlzUmVhY3RDaGlsZHJlbihyb3V0ZXMpKSB7XG4gICAgcm91dGVzID0gY3JlYXRlUm91dGVzRnJvbVJlYWN0Q2hpbGRyZW4ocm91dGVzKTtcbiAgfSBlbHNlIGlmIChyb3V0ZXMgJiYgIUFycmF5LmlzQXJyYXkocm91dGVzKSkge1xuICAgIHJvdXRlcyA9IFtyb3V0ZXNdO1xuICB9XG5cbiAgcmV0dXJuIHJvdXRlcztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZVV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgUmVhY3Qse0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRvYXN0IGZyb20gJy4vdG9hc3QnO1xuaW1wb3J0IEFsZXJ0IGZyb20gJy4vYWxlcnQnO1xuaW1wb3J0IENvbmZpcm0gZnJvbSBcIi4vY29uZmlybVwiXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJ1xuY2xhc3MgQWxlcnQxIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaGlkZUFsZXJ0ID0gdGhpcy5oaWRlQWxlcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNob3dBbGVydCA6IHRydWUsXG4gICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDpcIuehruWumlwiLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOnRoaXMuaGlkZUFsZXJ0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxuICAgIGhpZGVBbGVydCgpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93QWxlcnQ6ZmFsc2V9KTtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMucHJvcHMub25DbG9zZSA9PSAnZnVuY3Rpb24nKSB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICB9XG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxBbGVydCBzaG93PXt0aGlzLnN0YXRlLnNob3dBbGVydH0gdGl0bGU9XCLmj5DnpLpcIiBidXR0b25zPXt0aGlzLnN0YXRlLmJ1dHRvbnN9Pnt0aGlzLnByb3BzLmNvbnRlbnR9PC9BbGVydD5cbiAgICAgICAgKVxuICAgIH1cbn1cbmNsYXNzIFRvYXN0MSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvdyA6IHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzKTtcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvdzpmYWxzZX0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5wcm9wcy5vbkNsb3NlID09ICdmdW5jdGlvbicpIHRoaXMucHJvcHMub25DbG9zZSgpXG4gICAgICAgIH0sdGhpcy5wcm9wcy5kdXJhdGlvbiAqIDEwMDApO1xuICAgIH1cbiAgICByZW5kZXIoKXtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPFRvYXN0IHNob3cgPSB7dGhpcy5zdGF0ZS5zaG93fSBjaGlsZHJlbiA9IHt0aGlzLnByb3BzLmNvbnRlbnR9Lz5cbiAgICAgICAgKVxuICAgIH1cbn1cblxuY2xhc3MgU21hcnRDb25maXJtIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzaG93Q29uZmlybTp0cnVlXG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uZmlybSgpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93Q29uZmlybTpmYWxzZX0pXG4gICAgICAgIGlmKHR5cGVvZih0aGlzLnByb3BzLm9uQ29uZmlybSk9PT1cImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ29uZmlybSgpXG4gICAgfVxuICAgIGNhbmNlbCgpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzaG93Q29uZmlybTpmYWxzZX0pXG4gICAgICAgIGlmKHR5cGVvZih0aGlzLnByb3BzLm9uQ2FuY2VsKT09PVwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DYW5jZWwoKVxuICAgIH1cbiAgICByZW5kZXIoKXtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPENvbmZpcm1cbiAgICAgICAgICAgIGJ1dHRvbnM9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0eXBlOlwicHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMuY29uZmlybVRleHQsXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOnRoaXMuY29uZmlybS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0eXBlOlwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMuY2FuY2VsVGV4dCxcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6dGhpcy5jYW5jZWwuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICB0aXRsZT1cIuaPkOekulwiXG4gICAgICAgICAgICBzaG93PXt0aGlzLnN0YXRlLnNob3dDb25maXJtfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudH1cbiAgICAgICAgICAgIDwvQ29uZmlybT5cbiAgICAgICAgKVxuICAgIH1cblxuXG59XG5cblxubGV0IG1lc3NhZ2UgPSB7fTtcbm1lc3NhZ2Uuc3VjY2VzcyA9IChjb250ZW50LCBkdXJhdGlvbiAgPSAxLCBvbkNsb3NlICkgPT4ge1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuaWQgPSAnbWVzc2FnZS1zdWNjZXNzJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgUmVhY3REb20ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9hc3QxLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIG9uQ2xvc2U6b25DbG9zZSwgZHVyYXRpb246IGR1cmF0aW9ufSksIGRpdik7XG59XG5tZXNzYWdlLmFsZXJ0ID0oY29udGVudCwgb25DbG9zZSkgPT4ge1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuaWQgPSAnbWVzc2FnZS1hbGVydCc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIFJlYWN0RG9tLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEFsZXJ0MSwgeyBjb250ZW50OiBjb250ZW50LCBvbkNsb3NlOm9uQ2xvc2V9KSwgZGl2KTtcbn1cbm1lc3NhZ2UuY29uZmlybSA9IChjb250ZW50LCBjb25maXJtVGV4dD1cIuehruWumlwiLCBjYW5jZWxUZXh0PVwi5Y+W5raIXCIsb25Db25maXJtLCBvbkNhbmNlbCkgPT4ge1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5pZCA9ICdtZXNzYWdlLWNvbmZpcm0nO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBSZWFjdERvbS5yZW5kZXIoXG4gICAgICAgIDxTbWFydENvbmZpcm0gY29udGVudD17Y29udGVudH0gb25Db25maXJtPXtvbkNvbmZpcm19IG9uQ2FuY2VsPXtvbkNhbmNlbH0gY29uZmlybVRleHQgPSB7Y29uZmlybVRleHR9IGNhbmNlbFRleHQ9e2NhbmNlbFRleHR9IC8+LFxuICAgICAgICBkaXZcbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lc3NhZ2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL21lc3NhZ2UuanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmV4dHJhY3RQYXRoID0gZXh0cmFjdFBhdGg7XG5leHBvcnRzLnBhcnNlUGF0aCA9IHBhcnNlUGF0aDtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gZXh0cmFjdFBhdGgoc3RyaW5nKSB7XG4gIHZhciBtYXRjaCA9IHN0cmluZy5tYXRjaCgvXmh0dHBzPzpcXC9cXC9bXlxcL10qLyk7XG5cbiAgaWYgKG1hdGNoID09IG51bGwpIHJldHVybiBzdHJpbmc7XG5cbiAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gZXh0cmFjdFBhdGgocGF0aCk7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocGF0aCA9PT0gcGF0aG5hbWUsICdBIHBhdGggbXVzdCBiZSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2ggb25seSwgbm90IGEgZnVsbHkgcXVhbGlmaWVkIFVSTCBsaWtlIFwiJXNcIicsIHBhdGgpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIGlmIChwYXRobmFtZSA9PT0gJycpIHBhdGhuYW1lID0gJy8nO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2hcbiAgfTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvUGF0aFV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnJvdXRlcyA9IGV4cG9ydHMucm91dGUgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudCA9IGV4cG9ydHMuaGlzdG9yeSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMuZmFsc3kgPSBmYWxzeTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBmdW5jID0gX3JlYWN0LlByb3BUeXBlcy5mdW5jO1xudmFyIG9iamVjdCA9IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0O1xudmFyIGFycmF5T2YgPSBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2Y7XG52YXIgb25lT2ZUeXBlID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGU7XG52YXIgZWxlbWVudCA9IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudDtcbnZhciBzaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGU7XG52YXIgc3RyaW5nID0gX3JlYWN0LlByb3BUeXBlcy5zdHJpbmc7XG5mdW5jdGlvbiBmYWxzeShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgaWYgKHByb3BzW3Byb3BOYW1lXSkgcmV0dXJuIG5ldyBFcnJvcignPCcgKyBjb21wb25lbnROYW1lICsgJz4gc2hvdWxkIG5vdCBoYXZlIGEgXCInICsgcHJvcE5hbWUgKyAnXCIgcHJvcCcpO1xufVxuXG52YXIgaGlzdG9yeSA9IGV4cG9ydHMuaGlzdG9yeSA9IHNoYXBlKHtcbiAgbGlzdGVuOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHB1c2g6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgcmVwbGFjZTogZnVuYy5pc1JlcXVpcmVkLFxuICBnbzogZnVuYy5pc1JlcXVpcmVkLFxuICBnb0JhY2s6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ29Gb3J3YXJkOiBmdW5jLmlzUmVxdWlyZWRcbn0pO1xuXG52YXIgY29tcG9uZW50ID0gZXhwb3J0cy5jb21wb25lbnQgPSBvbmVPZlR5cGUoW2Z1bmMsIHN0cmluZ10pO1xudmFyIGNvbXBvbmVudHMgPSBleHBvcnRzLmNvbXBvbmVudHMgPSBvbmVPZlR5cGUoW2NvbXBvbmVudCwgb2JqZWN0XSk7XG52YXIgcm91dGUgPSBleHBvcnRzLnJvdXRlID0gb25lT2ZUeXBlKFtvYmplY3QsIGVsZW1lbnRdKTtcbnZhciByb3V0ZXMgPSBleHBvcnRzLnJvdXRlcyA9IG9uZU9mVHlwZShbcm91dGUsIGFycmF5T2Yocm91dGUpXSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvSW50ZXJuYWxQcm9wVHlwZXMuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi83LzIuXG4gKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9jb21tb24uc2Nzc1wiXG5cbmNsYXNzIExvYWRpbmcgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIoKXtcbiAgICBjb25zdCB7IGNvbXBsZXRlZCB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4oXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIiA+eyBjb21wbGV0ZWQgPyAn5Yqg6L295a6M5oiQ77yBJyA6ICfmraPlnKjliqDovb3igKbigKYnfTwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2FkaW5nXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvTG9hZGluZzIuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNy84LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGhhbmRsZVJlc3BvbnNlKGpzb24sY2Ipe1xuICAgIHN3aXRjaChqc29uLmVyckNvZGUpe1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gY2IoanNvbi5kYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxMDE6XG4gICAgICAgIGxldCByZWRpcmVjdFVybCA9IGxvY2F0aW9uLmhyZWZcbiAgICAgICAgbG9jYXRpb24uaHJlZj1gJHtqc29uLmRhdGEubG9naW5fdXJsfT9yZWRpcmVjdF91cmw9JHtyZWRpcmVjdFVybH1gXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKGpzb24ubXNnKVxuICAgIH1cbiAgfSxcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy91dGlsL2FwaUhhbmRsZXIuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgamYgb24gMTUvMTAvMjcuXG4gKi9cblxuXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBNYXNrIGZyb20gJy4vbWFzayc7XG5pbXBvcnQgXCIuL3dldWlfbWFzay5jc3NcIlxuaW1wb3J0IFwiLi93ZXVpX2RpYWxvZy5zY3NzXCJcblxuY2xhc3MgQWxlcnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gICAgX3JlbmRlckJ1dHRvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmJ1dHRvbnMubWFwKChhY3Rpb24sIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge3R5cGUsIGxhYmVsLCAuLi5vdGhlcnN9ID0gYWN0aW9uO1xuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgd2V1aV9idG5fZGlhbG9nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHR5cGUgPT09ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICBwcmltYXJ5OiB0eXBlID09PSAncHJpbWFyeSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxhIGtleT17aWR4fSBocmVmPVwiamF2YXNjcmlwdDo7XCIgey4uLm90aGVyc30gY2xhc3NOYW1lPXtjbGFzc05hbWV9PntsYWJlbH08L2E+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHt0aXRsZSwgc2hvdywgY2hpbGRyZW59ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dfYWxlcnRcIiBzdHlsZT17e2Rpc3BsYXk6IHNob3cgPyAnYmxvY2snIDogJ25vbmUnfX0+XG4gICAgICAgICAgICAgICAgPE1hc2svPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZXVpX2RpYWxvZ19oZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJ3ZXVpX2RpYWxvZ190aXRsZVwiPnt0aXRsZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dfYmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dfZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJCdXR0b25zKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BbGVydC5wcm9wVHlwZXMgPSB7XG4gIGJ1dHRvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgc2hvdzogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHRpdGxlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5BbGVydC5kZWZhdWx0UHJvcHMgPSB7XG4gIGJ1dHRvbnM6IFtdLFxuICBzaG93OiBmYWxzZSxcbiAgdGl0bGU6ICcnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBbGVydDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL2FsZXJ0LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpmIG9uIDE1LzEwLzI3LlxuICovXG5cblxuXG5pbXBvcnQgUmVhY3QgLHtDb21wb25lbnR9ZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgTWFzayBmcm9tICcuL21hc2snO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBcIi4vd2V1aV9tYXNrLmNzc1wiXG5pbXBvcnQgXCIuL3dldWlfdG9hc3QuY3NzXCJcbmltcG9ydCBcIi4vd2V1aV9pY29uX2ZvbnQuY3NzXCJcblxuY2xhc3MgVG9hc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge2ljb24sIHNob3csIGNoaWxkcmVuLCBpY29uU2l6ZX0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aWNvbiA9PT0gJ2xvYWRpbmcnID8gJ3dldWlfbG9hZGluZ190b2FzdCcgOiAnJ30gc3R5bGU9e3tkaXNwbGF5OiBzaG93ID8gJ2Jsb2NrJyA6ICdub25lJ319PlxuICAgICAgICAgICAgICAgIDxNYXNrIHRyYW5zcGFyZW50PXt0cnVlfS8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZXVpX3RvYXN0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHZhbHVlPXtpY29ufSBzaXplPXtpY29uU2l6ZX0vPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ3ZXVpX3RvYXN0X2NvbnRlbnRcIj57Y2hpbGRyZW59PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuVG9hc3QucHJvcFR5cGVzID0ge1xuICAgIGljb246IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgaWNvblNpemU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2hvdzogUmVhY3QuUHJvcFR5cGVzLmJvb2xcbn07XG5cblRvYXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpY29uOiAndG9hc3QnLFxuICAgIHNob3c6IGZhbHNlXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb2FzdDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL3RvYXN0LmpzIiwiLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgYSBjYWxsIHRvIGhpc3RvcnkucHVzaC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIFBVU0ggPSAnUFVTSCc7XG5cbmV4cG9ydHMuUFVTSCA9IFBVU0g7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5yZXBsYWNlLlxuICovXG52YXIgUkVQTEFDRSA9ICdSRVBMQUNFJztcblxuZXhwb3J0cy5SRVBMQUNFID0gUkVQTEFDRTtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IHNvbWUgb3RoZXIgYWN0aW9uIHN1Y2hcbiAqIGFzIHVzaW5nIGEgYnJvd3NlcidzIGJhY2svZm9yd2FyZCBidXR0b25zIGFuZC9vciBtYW51YWxseSBtYW5pcHVsYXRpbmdcbiAqIHRoZSBVUkwgaW4gYSBicm93c2VyJ3MgbG9jYXRpb24gYmFyLiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93RXZlbnRIYW5kbGVycy9vbnBvcHN0YXRlXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFBPUCA9ICdQT1AnO1xuXG5leHBvcnRzLlBPUCA9IFBPUDtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgUFVTSDogUFVTSCxcbiAgUkVQTEFDRTogUkVQTEFDRSxcbiAgUE9QOiBQT1Bcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL0FjdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcGlsZVBhdHRlcm4gPSBjb21waWxlUGF0dGVybjtcbmV4cG9ydHMubWF0Y2hQYXR0ZXJuID0gbWF0Y2hQYXR0ZXJuO1xuZXhwb3J0cy5nZXRQYXJhbU5hbWVzID0gZ2V0UGFyYW1OYW1lcztcbmV4cG9ydHMuZ2V0UGFyYW1zID0gZ2V0UGFyYW1zO1xuZXhwb3J0cy5mb3JtYXRQYXR0ZXJuID0gZm9ybWF0UGF0dGVybjtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59XG5cbmZ1bmN0aW9uIF9jb21waWxlUGF0dGVybihwYXR0ZXJuKSB7XG4gIHZhciByZWdleHBTb3VyY2UgPSAnJztcbiAgdmFyIHBhcmFtTmFtZXMgPSBbXTtcbiAgdmFyIHRva2VucyA9IFtdO1xuXG4gIHZhciBtYXRjaCA9IHZvaWQgMCxcbiAgICAgIGxhc3RJbmRleCA9IDAsXG4gICAgICBtYXRjaGVyID0gLzooW2EtekEtWl8kXVthLXpBLVowLTlfJF0qKXxcXCpcXCp8XFwqfFxcKHxcXCkvZztcbiAgd2hpbGUgKG1hdGNoID0gbWF0Y2hlci5leGVjKHBhdHRlcm4pKSB7XG4gICAgaWYgKG1hdGNoLmluZGV4ICE9PSBsYXN0SW5kZXgpIHtcbiAgICAgIHRva2Vucy5wdXNoKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuICAgICAgcmVnZXhwU291cmNlICs9IGVzY2FwZVJlZ0V4cChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKFteL10rKSc7XG4gICAgICBwYXJhbU5hbWVzLnB1c2gobWF0Y2hbMV0pO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hbMF0gPT09ICcqKicpIHtcbiAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKC4qKSc7XG4gICAgICBwYXJhbU5hbWVzLnB1c2goJ3NwbGF0Jyk7XG4gICAgfSBlbHNlIGlmIChtYXRjaFswXSA9PT0gJyonKSB7XG4gICAgICByZWdleHBTb3VyY2UgKz0gJyguKj8pJztcbiAgICAgIHBhcmFtTmFtZXMucHVzaCgnc3BsYXQnKTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKCcpIHtcbiAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKD86JztcbiAgICB9IGVsc2UgaWYgKG1hdGNoWzBdID09PSAnKScpIHtcbiAgICAgIHJlZ2V4cFNvdXJjZSArPSAnKT8nO1xuICAgIH1cblxuICAgIHRva2Vucy5wdXNoKG1hdGNoWzBdKTtcblxuICAgIGxhc3RJbmRleCA9IG1hdGNoZXIubGFzdEluZGV4O1xuICB9XG5cbiAgaWYgKGxhc3RJbmRleCAhPT0gcGF0dGVybi5sZW5ndGgpIHtcbiAgICB0b2tlbnMucHVzaChwYXR0ZXJuLnNsaWNlKGxhc3RJbmRleCwgcGF0dGVybi5sZW5ndGgpKTtcbiAgICByZWdleHBTb3VyY2UgKz0gZXNjYXBlUmVnRXhwKHBhdHRlcm4uc2xpY2UobGFzdEluZGV4LCBwYXR0ZXJuLmxlbmd0aCkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXR0ZXJuOiBwYXR0ZXJuLFxuICAgIHJlZ2V4cFNvdXJjZTogcmVnZXhwU291cmNlLFxuICAgIHBhcmFtTmFtZXM6IHBhcmFtTmFtZXMsXG4gICAgdG9rZW5zOiB0b2tlbnNcbiAgfTtcbn1cblxudmFyIENvbXBpbGVkUGF0dGVybnNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pIHtcbiAgaWYgKCFDb21waWxlZFBhdHRlcm5zQ2FjaGVbcGF0dGVybl0pIENvbXBpbGVkUGF0dGVybnNDYWNoZVtwYXR0ZXJuXSA9IF9jb21waWxlUGF0dGVybihwYXR0ZXJuKTtcblxuICByZXR1cm4gQ29tcGlsZWRQYXR0ZXJuc0NhY2hlW3BhdHRlcm5dO1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIG1hdGNoIGEgcGF0dGVybiBvbiB0aGUgZ2l2ZW4gcGF0aG5hbWUuIFBhdHRlcm5zIG1heSB1c2VcbiAqIHRoZSBmb2xsb3dpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzOlxuICpcbiAqIC0gOnBhcmFtTmFtZSAgICAgTWF0Y2hlcyBhIFVSTCBzZWdtZW50IHVwIHRvIHRoZSBuZXh0IC8sID8sIG9yICMuIFRoZVxuICogICAgICAgICAgICAgICAgICBjYXB0dXJlZCBzdHJpbmcgaXMgY29uc2lkZXJlZCBhIFwicGFyYW1cIlxuICogLSAoKSAgICAgICAgICAgICBXcmFwcyBhIHNlZ21lbnQgb2YgdGhlIFVSTCB0aGF0IGlzIG9wdGlvbmFsXG4gKiAtICogICAgICAgICAgICAgIENvbnN1bWVzIChub24tZ3JlZWR5KSBhbGwgY2hhcmFjdGVycyB1cCB0byB0aGUgbmV4dFxuICogICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgaW4gdGhlIHBhdHRlcm4sIG9yIHRvIHRoZSBlbmQgb2YgdGhlIFVSTCBpZlxuICogICAgICAgICAgICAgICAgICB0aGVyZSBpcyBub25lXG4gKiAtICoqICAgICAgICAgICAgIENvbnN1bWVzIChncmVlZHkpIGFsbCBjaGFyYWN0ZXJzIHVwIHRvIHRoZSBuZXh0IGNoYXJhY3RlclxuICogICAgICAgICAgICAgICAgICBpbiB0aGUgcGF0dGVybiwgb3IgdG8gdGhlIGVuZCBvZiB0aGUgVVJMIGlmIHRoZXJlIGlzIG5vbmVcbiAqXG4gKiAgVGhlIGZ1bmN0aW9uIGNhbGxzIGNhbGxiYWNrKGVycm9yLCBtYXRjaGVkKSB3aGVuIGZpbmlzaGVkLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSByZW1haW5pbmdQYXRobmFtZVxuICogLSBwYXJhbU5hbWVzXG4gKiAtIHBhcmFtVmFsdWVzXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUGF0dGVybihwYXR0ZXJuLCBwYXRobmFtZSkge1xuICAvLyBFbnN1cmUgcGF0dGVybiBzdGFydHMgd2l0aCBsZWFkaW5nIHNsYXNoIGZvciBjb25zaXN0ZW5jeSB3aXRoIHBhdGhuYW1lLlxuICBpZiAocGF0dGVybi5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgIHBhdHRlcm4gPSAnLycgKyBwYXR0ZXJuO1xuICB9XG5cbiAgdmFyIF9jb21waWxlUGF0dGVybjIgPSBjb21waWxlUGF0dGVybihwYXR0ZXJuKTtcblxuICB2YXIgcmVnZXhwU291cmNlID0gX2NvbXBpbGVQYXR0ZXJuMi5yZWdleHBTb3VyY2U7XG4gIHZhciBwYXJhbU5hbWVzID0gX2NvbXBpbGVQYXR0ZXJuMi5wYXJhbU5hbWVzO1xuICB2YXIgdG9rZW5zID0gX2NvbXBpbGVQYXR0ZXJuMi50b2tlbnM7XG5cblxuICBpZiAocGF0dGVybi5jaGFyQXQocGF0dGVybi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgcmVnZXhwU291cmNlICs9ICcvPyc7IC8vIEFsbG93IG9wdGlvbmFsIHBhdGggc2VwYXJhdG9yIGF0IGVuZC5cbiAgfVxuXG4gIC8vIFNwZWNpYWwtY2FzZSBwYXR0ZXJucyBsaWtlICcqJyBmb3IgY2F0Y2gtYWxsIHJvdXRlcy5cbiAgaWYgKHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuICAgIHJlZ2V4cFNvdXJjZSArPSAnJCc7XG4gIH1cblxuICB2YXIgbWF0Y2ggPSBwYXRobmFtZS5tYXRjaChuZXcgUmVnRXhwKCdeJyArIHJlZ2V4cFNvdXJjZSwgJ2knKSk7XG4gIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF0Y2hlZFBhdGggPSBtYXRjaFswXTtcbiAgdmFyIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lKSB7XG4gICAgLy8gUmVxdWlyZSB0aGF0IHRoZSBtYXRjaCBlbmRzIGF0IGEgcGF0aCBzZXBhcmF0b3IsIGlmIHdlIGRpZG4ndCBtYXRjaFxuICAgIC8vIHRoZSBmdWxsIHBhdGgsIHNvIGFueSByZW1haW5pbmcgcGF0aG5hbWUgaXMgYSBuZXcgcGF0aCBzZWdtZW50LlxuICAgIGlmIChtYXRjaGVkUGF0aC5jaGFyQXQobWF0Y2hlZFBhdGgubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgYSByZW1haW5pbmcgcGF0aG5hbWUsIHRyZWF0IHRoZSBwYXRoIHNlcGFyYXRvciBhcyBwYXJ0IG9mXG4gICAgLy8gdGhlIHJlbWFpbmluZyBwYXRobmFtZSBmb3IgcHJvcGVybHkgY29udGludWluZyB0aGUgbWF0Y2guXG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSAnLycgKyByZW1haW5pbmdQYXRobmFtZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVtYWluaW5nUGF0aG5hbWU6IHJlbWFpbmluZ1BhdGhuYW1lLFxuICAgIHBhcmFtTmFtZXM6IHBhcmFtTmFtZXMsXG4gICAgcGFyYW1WYWx1ZXM6IG1hdGNoLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHYgJiYgZGVjb2RlVVJJQ29tcG9uZW50KHYpO1xuICAgIH0pXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcmFtTmFtZXMocGF0dGVybikge1xuICByZXR1cm4gY29tcGlsZVBhdHRlcm4ocGF0dGVybikucGFyYW1OYW1lcztcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1zKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG4gIHZhciBtYXRjaCA9IG1hdGNoUGF0dGVybihwYXR0ZXJuLCBwYXRobmFtZSk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwYXJhbU5hbWVzID0gbWF0Y2gucGFyYW1OYW1lcztcbiAgdmFyIHBhcmFtVmFsdWVzID0gbWF0Y2gucGFyYW1WYWx1ZXM7XG5cbiAgdmFyIHBhcmFtcyA9IHt9O1xuXG4gIHBhcmFtTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1OYW1lLCBpbmRleCkge1xuICAgIHBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZXNbaW5kZXhdO1xuICB9KTtcblxuICByZXR1cm4gcGFyYW1zO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBwYXR0ZXJuIHdpdGggcGFyYW1zIGludGVycG9sYXRlZC4gVGhyb3dzXG4gKiBpZiB0aGVyZSBpcyBhIGR5bmFtaWMgc2VnbWVudCBvZiB0aGUgcGF0dGVybiBmb3Igd2hpY2ggdGhlcmUgaXMgbm8gcGFyYW0uXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFBhdHRlcm4ocGF0dGVybiwgcGFyYW1zKSB7XG4gIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuICB2YXIgX2NvbXBpbGVQYXR0ZXJuMyA9IGNvbXBpbGVQYXR0ZXJuKHBhdHRlcm4pO1xuXG4gIHZhciB0b2tlbnMgPSBfY29tcGlsZVBhdHRlcm4zLnRva2VucztcblxuICB2YXIgcGFyZW5Db3VudCA9IDAsXG4gICAgICBwYXRobmFtZSA9ICcnLFxuICAgICAgc3BsYXRJbmRleCA9IDA7XG5cbiAgdmFyIHRva2VuID0gdm9pZCAwLFxuICAgICAgcGFyYW1OYW1lID0gdm9pZCAwLFxuICAgICAgcGFyYW1WYWx1ZSA9IHZvaWQgMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRva2Vucy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgaWYgKHRva2VuID09PSAnKicgfHwgdG9rZW4gPT09ICcqKicpIHtcbiAgICAgIHBhcmFtVmFsdWUgPSBBcnJheS5pc0FycmF5KHBhcmFtcy5zcGxhdCkgPyBwYXJhbXMuc3BsYXRbc3BsYXRJbmRleCsrXSA6IHBhcmFtcy5zcGxhdDtcblxuICAgICAgIShwYXJhbVZhbHVlICE9IG51bGwgfHwgcGFyZW5Db3VudCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ01pc3Npbmcgc3BsYXQgIyVzIGZvciBwYXRoIFwiJXNcIicsIHNwbGF0SW5kZXgsIHBhdHRlcm4pIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICAgICAgaWYgKHBhcmFtVmFsdWUgIT0gbnVsbCkgcGF0aG5hbWUgKz0gZW5jb2RlVVJJKHBhcmFtVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodG9rZW4gPT09ICcoJykge1xuICAgICAgcGFyZW5Db3VudCArPSAxO1xuICAgIH0gZWxzZSBpZiAodG9rZW4gPT09ICcpJykge1xuICAgICAgcGFyZW5Db3VudCAtPSAxO1xuICAgIH0gZWxzZSBpZiAodG9rZW4uY2hhckF0KDApID09PSAnOicpIHtcbiAgICAgIHBhcmFtTmFtZSA9IHRva2VuLnN1YnN0cmluZygxKTtcbiAgICAgIHBhcmFtVmFsdWUgPSBwYXJhbXNbcGFyYW1OYW1lXTtcblxuICAgICAgIShwYXJhbVZhbHVlICE9IG51bGwgfHwgcGFyZW5Db3VudCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ01pc3NpbmcgXCIlc1wiIHBhcmFtZXRlciBmb3IgcGF0aCBcIiVzXCInLCBwYXJhbU5hbWUsIHBhdHRlcm4pIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICAgICAgaWYgKHBhcmFtVmFsdWUgIT0gbnVsbCkgcGF0aG5hbWUgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRobmFtZSArPSB0b2tlbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGF0aG5hbWUucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1BhdHRlcm5VdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTMuXG4gKi9cbmltcG9ydCBxdWVzdGlvbiBmcm9tICcuLi9hcGkvcXVlc3Rpb24nXG5cbmltcG9ydCB7XG4gICAgUkVDRUlWRV9IT1RfUVVFU1RJT05fTElTVCxcbiAgICBSRUNFSVZFX1FVRVNUSU9OX0lORk8sXG4gICAgUkVRVUVTVF9MSVNURU5fSU5GTyxcbiAgICBSRUNFSVZFX0xJU1RFTl9JTkZPLFxuICAgIFJFQ0VJVkVfU0FWRV9WT0lDRSxcbiAgICBSRUNFSVZFX1BSSVNFX1FVRVNUSU9OLFxuICAgIFJFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OLFxuICAgIFJFQ0VJVkVfUEFJRCxcbiAgICBDTEVBUl9RVUVTVElPTixcbiAgICBTRVRfQ1VSX1NFQVJDSCxcbiAgICBSRVFVRVNUX1NFQVJDSF9RVUVTVElPTlxufSBmcm9tICcuL0FjdGlvblR5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG90UXVlc3Rpb25MaXN0KHBhZ2UsIG51bSwgc2VhcmNoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogU0VUX0NVUl9TRUFSQ0gsXG4gICAgICAgICAgICBjdXJTZWFyY2g6IHNlYXJjaCB8fCBcIlwiXG4gICAgICAgIH0pXG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOlJFUVVFU1RfU0VBUkNIX1FVRVNUSU9OfSlcbiAgICAgICAgcXVlc3Rpb24uZ2V0SG90UXVlc3Rpb25MaXN0KHBhZ2UsIG51bSwgc2VhcmNoLCBkYXRhID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBSRUNFSVZFX0hPVF9RVUVTVElPTl9MSVNULFxuICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgICAgICBudW1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXN0aW9uSW5mbyhpZCkge1xuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uSW5mbyhpZCwgZGF0YSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUkVDRUlWRV9RVUVTVElPTl9JTkZPLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mbzogZGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCkge1xuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFJFUVVFU1RfTElTVEVOX0lORk9cbiAgICAgICAgfSlcbiAgICAgICAgcXVlc3Rpb24uZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCwgZGF0YSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUkVDRUlWRV9MSVNURU5fSU5GTyxcbiAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzYXZlVm9pY2Uoc2VydmVySWQsIHF1ZXN0aW9uSWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICBxdWVzdGlvbi5zYXZlVm9pY2Uoc2VydmVySWQsIHF1ZXN0aW9uSWQsIGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfU0FWRV9WT0lDRSxcbiAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuLy/ngrnotZ5cbmV4cG9ydCBmdW5jdGlvbiBwcmlzZVF1ZXN0aW9uKGFuc3dlcklkKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgcXVlc3Rpb24ucHJpc2VRdWVzdGlvbihhbnN3ZXJJZCwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBSRUNFSVZFX1BSSVNFX1FVRVNUSU9OLFxuICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vL+WPlua2iOeCuei1nlxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbFByaXNlUXVlc3Rpb24oYW5zd2VySWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICBxdWVzdGlvbi5jYW5jZWxQcmlzZVF1ZXN0aW9uKGFuc3dlcklkLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OLFxuICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuLy/mlK/ku5jmiJDlip9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQYWlkKGluZGV4KSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogUkVDRUlWRV9QQUlELFxuICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgfSlcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJRdWVzaXRvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBDTEVBUl9RVUVTVElPTlxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9hY3Rpb25zL3F1ZXN0aW9uLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzcvMi5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgXCIuLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9jb21tb24uc2Nzc1wiXG5cbiBjbGFzcyBMb2FkaW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgIHJlbmRlcigpe1xuICAgICByZXR1cm4oXG4gICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nXCIgPuato+WcqOWKoOi9veKApuKApjwvZGl2PlxuICAgICApXG4gICB9XG4gfVxuXG5leHBvcnQgZGVmYXVsdCBMb2FkaW5nXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvTG9hZGluZy5qcyIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NsYXNzbmFtZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJSZWFjdERPTVwiXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8xNC5cbiAqL1xuaW1wb3J0IHR1dG9yIGZyb20gJy4uL2FwaS90dXRvcidcblxuaW1wb3J0IHtcbiAgICBSRUNFSVZFX1RVVE9SX0xJU1QsXG4gICAgUkVDRUlWRV9UVVRPUl9JTkZPLFxuICAgIFJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QsXG4gICAgUkVRVUVTVF9QUkVQQVlfSU5GTyxcbiAgICBSRUNFSVZFX1BSRVBBWV9JTkZPLFxuICAgIENMRUFSX1RVVE9SX0lOREVYLFxuICAgIFNFVF9DVVJfU0VBUkNILFxuICAgIFJFUVVFU1RfU0VBUkNIX1RVVE9SXG59IGZyb20gJy4vQWN0aW9uVHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXRvckxpc3QocGFnZSwgbnVtLCBzZWFyY2gpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBSRVFVRVNUX1NFQVJDSF9UVVRPUlxuICAgICAgICB9KVxuICAgICAgICB0dXRvci5nZXRUdXRvckxpc3QocGFnZSwgbnVtLCBzZWFyY2gsIGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfVFVUT1JfTElTVCxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICAgICAgbnVtXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXRvckluZm8oaWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICB0dXRvci5nZXRUdXRvckluZm8oaWQsIGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfVFVUT1JfSU5GTyxcbiAgICAgICAgICAgICAgICB0dXRvckluZm86IGRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFR1dG9yQW5zd2VyTGlzdChpZCwgcGFnZSwgbnVtKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgdHV0b3IuZ2V0VHV0b3JBbnN3ZXJMaXN0KGlkLCBwYWdlLCBudW0sIGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgICAgIG51bVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlcGF5SW5mbyhjb250ZW50LCB0dXRvcklkKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogUkVRVUVTVF9QUkVQQVlfSU5GT1xuICAgICAgICB9KVxuICAgICAgICB0dXRvci5nZXRQcmVwYXlJbmZvKGNvbnRlbnQsIHR1dG9ySWQsIGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfUFJFUEFZX0lORk8sXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUdXRvckluZGV4KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IENMRUFSX1RVVE9SX0lOREVYXG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2FjdGlvbnMvdHV0b3IuanMiLCJpbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7YmFzZVVybH0gZnJvbSBcIi4uL2FwaS9jb25maWcuanNcIlxuY29uc3QgU2VhcmNoQmFyID0gKHtcbiAgICBjdXJTZWFyY2hcbn0pPT57XG4gICAgbGV0IHVybCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoXCIvXCIpXG4gICAgaWYodXJsLmluZGV4T2YoXCJzZWFyY2hcIik+MCYmY3VyU2VhcmNoJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXQjc2VhcmNoLWlucHV0XCIpKXtcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZSAhPSBjdXJTZWFyY2gpe1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZT1jdXJTZWFyY2hcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzaG93VGlwcz0oKT0+e1xuICAgICAgICAvLyBsZXQgdGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXRpcHNcIilcbiAgICAgICAgLy8gdGlwcy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goYCR7YmFzZVVybH1zZWFyY2gvdGlwc2ApXG4gICAgfVxuICAgIC8vIGNvbnN0IGhpZGVUaXBzPSgpPT57XG4gICAgLy8gICAgIGxldCB0aXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtdGlwc1wiKVxuICAgIC8vICAgICB0aXBzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgIC8vIH1cbiAgICBjb25zdCBoYW5kbGVTZWFyY2g9KCk9PntcbiAgICAgICAgbGV0IHF1ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I3NlYXJjaC1pbnB1dFwiKS52YWx1ZVxuICAgICAgICBjb25zb2xlLmxvZyhgcXVlcnkgaXMgJHtxdWVyeX1gKVxuICAgICAgICBpZihxdWVyeSE9XCJcIilcbiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goYCR7YmFzZVVybH1zZWFyY2gvcmVzdWx0LyR7cXVlcnl9YClcbiAgICB9XG4gICAgY29uc3QgY2xlYXJJbnB1dCA9ICgpPT57XG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNzZWFyY2gtaW5wdXRcIilcbiAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiXG4gICAgICAgIGlucHV0LmZvY3VzKClcblxuICAgIH1cbiAgICByZXR1cm4oXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWJhclwiID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWljb25cIiA+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e3JlcXVpcmUoXCIuLi8uLi9pbWFnZXMvc2VhcmNoLnBuZ1wiKX0gLz5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCIgb25Gb2N1cz17c2hvd1RpcHN9IGlkPVwic2VhcmNoLWlucHV0XCIgcGxhY2Vob2xkZXI9XCLovpPlhaXlhbPplK7or43mkJzntKLpl67popjlkozlr7zluIhcIiAvPlxuICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJjbG9zZVwiIG9uQ2xpY2s9e2NsZWFySW5wdXR9IHNyYz17cmVxdWlyZShcIi4uLy4uL2ltYWdlcy9jbG9zZS5wbmdcIil9IC8+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH0+5pCc57SiPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc3RhdGU9Pih7XG4gICAgY3VyU2VhcmNoOiBzdGF0ZS5jdXJTZWFyY2hcbn0pKShTZWFyY2hCYXIpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9TZWFyY2hCYXIuanMiLCJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IFRvYXN0IGZyb20gXCIuLi8uLi91dGlsL3dldWkvdG9hc3RcIlxuaW1wb3J0IHtkb21haW4sIGJhc2VVcmx9IGZyb20gXCIuLi8uLi9hcGkvY29uZmlnXCJcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCBhcGlIYW5kbGVyIGZyb20gXCIuLi8uLi91dGlsL2FwaUhhbmRsZXJcIlxuaW1wb3J0IHtoYW5kbGVQYWlkfSBmcm9tICcuLi8uLi9hY3Rpb25zL3F1ZXN0aW9uJ1xuaW1wb3J0ICcuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXIuc2NzcydcbmltcG9ydCBBbGVydCBmcm9tIFwiLi4vLi4vdXRpbC93ZXVpL2FsZXJ0XCJcblxuY2xhc3MgUXVlc3Rpb25JdGVtV2l0aEF2YXRhciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIHNob3dBbGVydDpmYWxzZSxcbiAgICAgICAgYWxlcnQ6e1xuICAgICAgICAgIHRpdGxlOlwi5o+Q56S6XCIsXG4gICAgICAgICAgYnV0dG9uczpbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgbGFiZWw6ICfnoa7lrponLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhpZGVBbGVydC5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBhbGVydENvbnRlbnQ6JydcbiAgICB9XG4gIH1cblxuICBidWJibGVDbGljayhhbnN3ZXJJZCwgcXVlc3Rpb25JZCwgaXNQYXllZCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBzdWNjZXNzVXJsID0gYCR7YmFzZVVybH1xdWVzdGlvbi8ke3F1ZXN0aW9uSWR9YFxuICAgIGlmIChpc1BheWVkKSB7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKHN1Y2Nlc3NVcmwpXG4gICAgfSBlbHNlIHtcbiAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke2Jhc2VVcmx9cGF5P2Fuc3dlcklkPSR7YW5zd2VySWR9JnR5cGU9cXVlc3Rpb24mc3VjY2Vzc1VybD0ke2VuY29kZVVSSUNvbXBvbmVudChzdWNjZXNzVXJsKX0mZmFpbFVybD0ke2VuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKX1gKVxuICAgICAgLy/lj5bpooTmlK/ku5jorqLljZVcbiAgICAvLyAgIHNlbGYuc2V0U3RhdGUoe2xvYWRpbmc6IHRydWV9KTtcbiAgICAvLyAgIGZldGNoKGAke2RvbWFpbn0vYXBpL3YxL2Fuc3dlci9saXN0ZW4/YW5zd2VyX2lkPSR7YW5zd2VySWR9YCwge1xuICAgIC8vICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIC8vICAgfSlcbiAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC8vICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbiwgKGRhdGEpPT4ge1xuICAgIC8vICAgICAgIHNlbGYuc2V0U3RhdGUoe2xvYWRpbmc6IGZhbHNlfSk7XG4gICAgLy8gICAgICAgaWYgKGRhdGEudGltZVN0YW1wICE9IHVuZGVmaW5lZCkge1xuICAgIC8vICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKClcbiAgICAvLyAgICAgICAgIC8vIGFsZXJ0KCduZXhzdGF0ZTonICsgZGF0YS50aW1lU3RhbXAgKyAnJyArICh0aW1lLnZhbHVlT2YoKS8xMDAwIC0gZGF0YS50aW1lU3RhbXApKTtcbiAgICAvLyAgICAgICAgIGlmICh0aW1lLnZhbHVlT2YoKSAvIDEwMDAgLSBkYXRhLnRpbWVTdGFtcCA8IDEwMDApIHtcbiAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCLov5vlhaXlvq7kv6HmlK/ku5hcIilcbiAgICAvLyAgICAgICAgICAgLy8gYWxlcnQoJ2VudGVyIHBheScpO1xuICAgIC8vICAgICAgICAgICBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KCkge1xuICAgIC8vICAgICAgICAgICAgIFdlaXhpbkpTQnJpZGdlLmludm9rZShcbiAgICAvLyAgICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGRhdGEsXG4gICAgLy8gICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyX21zZyA9PSBcImdldF9icmFuZF93Y3BheV9yZXF1ZXN0Om9rXCIpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaUr+S7mOaIkOWKn++8gVwiKVxuICAgIC8vICAgICAgICAgICAgICAgICAgIHNlbGYucHJvcHMuaGFuZGxlUGFpZChpbmRleCk7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHtiYXNlVXJsfXF1ZXN0aW9uLyR7cXVlc3Rpb25JZH1gKVxuICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJIaXN0b3J5LnB1c2goYCR7YmFzZVVybH1xdWVzdGlvbi8ke3F1ZXN0aW9uSWR9YClcbiAgICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHthbGVydENvbnRlbnQ6XCLmlK/ku5jlpLHotKVcIixzaG93QWxlcnQ6dHJ1ZX0pXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vICAgYWxlcnQoXCLmlK/ku5jlpLHotKXvvIzljp/lm6DvvJpcIiArIEpTT04uc3RyaW5naWZ5KHJlcykpXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAgIC8vICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCdvbldlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgICAgICAvLyDkvb/nlKjku6XkuIrmlrnlvI/liKTmlq3liY3nq6/ov5Tlm54s5b6u5L+h5Zui6Zif6YOR6YeN5o+Q56S677yacmVzLmVycl9tc2flsIblnKjnlKjmiLfmlK/ku5jmiJDlip/lkI7ov5Tlm54gICAgb2vvvIzkvYblubbkuI3kv53or4HlroPnu53lr7nlj6/pnaDjgIJcbiAgICAvLyAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICApO1xuICAgIC8vICAgICAgICAgICB9XG4gICAgICAvL1xuICAgIC8vICAgICAgICAgICBpZiAodHlwZW9mIFdlaXhpbkpTQnJpZGdlID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHksIGZhbHNlKTtcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgLy8gICAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAgIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICBvbkJyaWRnZVJlYWR5KCk7XG4gICAgLy8gICAgICAgICAgIH1cbiAgICAgIC8vXG4gICAgLy8gICAgICAgICB9IGVsc2UgaWYgKGRhdGEudXJsICE9IHVuZGVmaW5lZCkge1xuICAgIC8vICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQucm91dGVyLnB1c2goYHF1ZXN0aW9uLyR7c2VsZi5zdGF0ZS5jdXJRdWVzdGlvbklkfWApXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgfVxuICAgICAgLy9cbiAgICAvLyAgICAgfSkpXG4gICAgfVxuICB9XG4gIGhpZGVBbGVydCgpe1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0FsZXJ0OmZhbHNlfSlcbiAgICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7cXVlc3Rpb24sdXNlcklkfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cInF1ZXN0aW9uLWl0ZW0td2l0aC1hdmF0YXJcIj5cbiAgICAgICAgPEFsZXJ0IHNob3c9e3RoaXMuc3RhdGUuc2hvd0FsZXJ0fSB0aXRsZT17dGhpcy5zdGF0ZS5hbGVydC50aXRsZX0gYnV0dG9ucz17dGhpcy5zdGF0ZS5hbGVydC5idXR0b25zfSA+e3RoaXMuc3RhdGUuYWxlcnRDb250ZW50fTwvQWxlcnQ+XG4gICAgICAgIDxUb2FzdCBpY29uPVwibG9hZGluZ1wiIHNob3c9e3RoaXMuc3RhdGUubG9hZGluZ30+5q2j5Zyo6K+35rGC4oCm4oCmPC9Ub2FzdD5cbiAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwgK1wicXVlc3Rpb24vXCIrcXVlc3Rpb24ucXVlc3Rpb25faWR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb24tY29udGVudFwiPlxuICAgICAgICAgICAgPGg0PntxdWVzdGlvbi5xdWVzdGlvbl9jb250ZW50fTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgPExpbmsgdG89e3VzZXJJZD09cXVlc3Rpb24udGVhY2hlcl9pZD9gJHtiYXNlVXJsfWFjY291bnRgIDogYCR7YmFzZVVybH10dXRvci8ke3F1ZXN0aW9uLnRlYWNoZXJfaWR9YH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZW50b3JcIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPXtxdWVzdGlvbi50ZWFjaGVyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMid9Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVudG9yLWluZm9cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmFtZVwiPntxdWVzdGlvbi50ZWFjaGVyX25hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3Bhbj57cXVlc3Rpb24udGVhY2hlcl9wb3NpdGlvbn08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuc3dlclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ1YmJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5idWJibGVDbGljay5iaW5kKHRoaXMscXVlc3Rpb24uYW5zd2VyX2lkLHF1ZXN0aW9uLnF1ZXN0aW9uX2lkLHF1ZXN0aW9uLmFuc3dlcl9pc3BheWVkKX0+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidWJibGUtdGFpbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ1YmJsZS12b2ljZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ1YmJsZS10ZXh0XCI+e3F1ZXN0aW9uLmFuc3dlcl9pc3BheWVkID8gXCLngrnlh7vlgbflgbflkKxcIiA6IFwiMeWFg+WBt+WBt+WQrFwifTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TGluayB0bz17YmFzZVVybCArXCJxdWVzdGlvbi9cIitxdWVzdGlvbi5xdWVzdGlvbl9pZH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZW1hcmtcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj7vv6UmbmJzcDt7cXVlc3Rpb24ucXVlc3Rpb25fcHJpemV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbWFyay1pbmZvXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntxdWVzdGlvbi5hbnN3ZXJfbGlzdGVufeS6uuWBt+WQrDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia3VpXCI+e3F1ZXN0aW9uLmFuc3dlcl9saWtlfeS6uuinieW+l+i1njwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2FydGljbGU+XG4gIClcbiAgfVxuICB9XG5cbiAgUXVlc3Rpb25JdGVtV2l0aEF2YXRhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcXVlc3Rpb246e30sXG4gICAgaW5kZXg6MCxcbiAgfVxuICBRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyID0gY29ubmVjdCh1bmRlZmluZWQsIHtoYW5kbGVQYWlkfSkoUXVlc3Rpb25JdGVtV2l0aEF2YXRhcilcbiAgZXhwb3J0IGRlZmF1bHQgUXVlc3Rpb25JdGVtV2l0aEF2YXRhcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL2Jsb2Nrcy9RdWVzdGlvbkl0ZW1XaXRoQXZhdGFyLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5leHBvcnRzLmNhblVzZURPTSA9IGNhblVzZURPTTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9xdWVyeVN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5LXN0cmluZycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rID0gcmVxdWlyZSgnLi9ydW5UcmFuc2l0aW9uSG9vaycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1blRyYW5zaXRpb25Ib29rKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX2RlcHJlY2F0ZSA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlJyk7XG5cbnZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cbnZhciBTRUFSQ0hfQkFTRV9LRVkgPSAnJHNlYXJjaEJhc2UnO1xuXG5mdW5jdGlvbiBkZWZhdWx0U3RyaW5naWZ5UXVlcnkocXVlcnkpIHtcbiAgcmV0dXJuIF9xdWVyeVN0cmluZy5zdHJpbmdpZnkocXVlcnkpLnJlcGxhY2UoLyUyMC9nLCAnKycpO1xufVxuXG52YXIgZGVmYXVsdFBhcnNlUXVlcnlTdHJpbmcgPSBfcXVlcnlTdHJpbmcucGFyc2U7XG5cbmZ1bmN0aW9uIGlzTmVzdGVkT2JqZWN0KG9iamVjdCkge1xuICBmb3IgKHZhciBwIGluIG9iamVjdCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwKSAmJiB0eXBlb2Ygb2JqZWN0W3BdID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShvYmplY3RbcF0pICYmIG9iamVjdFtwXSAhPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gIH1yZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBjcmVhdGVIaXN0b3J5IGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY3JlYXRlXG4gKiBoaXN0b3J5IG9iamVjdHMgdGhhdCBrbm93IGhvdyB0byBoYW5kbGUgVVJMIHF1ZXJpZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVF1ZXJpZXMoY3JlYXRlSGlzdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICB2YXIgaGlzdG9yeSA9IGNyZWF0ZUhpc3Rvcnkob3B0aW9ucyk7XG5cbiAgICB2YXIgc3RyaW5naWZ5UXVlcnkgPSBvcHRpb25zLnN0cmluZ2lmeVF1ZXJ5O1xuICAgIHZhciBwYXJzZVF1ZXJ5U3RyaW5nID0gb3B0aW9ucy5wYXJzZVF1ZXJ5U3RyaW5nO1xuXG4gICAgaWYgKHR5cGVvZiBzdHJpbmdpZnlRdWVyeSAhPT0gJ2Z1bmN0aW9uJykgc3RyaW5naWZ5UXVlcnkgPSBkZWZhdWx0U3RyaW5naWZ5UXVlcnk7XG5cbiAgICBpZiAodHlwZW9mIHBhcnNlUXVlcnlTdHJpbmcgIT09ICdmdW5jdGlvbicpIHBhcnNlUXVlcnlTdHJpbmcgPSBkZWZhdWx0UGFyc2VRdWVyeVN0cmluZztcblxuICAgIGZ1bmN0aW9uIGFkZFF1ZXJ5KGxvY2F0aW9uKSB7XG4gICAgICBpZiAobG9jYXRpb24ucXVlcnkgPT0gbnVsbCkge1xuICAgICAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuXG4gICAgICAgIGxvY2F0aW9uLnF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2guc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgbG9jYXRpb25bU0VBUkNIX0JBU0VfS0VZXSA9IHsgc2VhcmNoOiBzZWFyY2gsIHNlYXJjaEJhc2U6ICcnIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IEluc3RlYWQgb2YgYWxsIHRoZSBib29rLWtlZXBpbmcgaGVyZSwgdGhpcyBzaG91bGQganVzdCBzdHJpcCB0aGVcbiAgICAgIC8vIHN0cmluZ2lmaWVkIHF1ZXJ5IGZyb20gdGhlIHNlYXJjaC5cblxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBxdWVyeSkge1xuICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgdmFyIHNlYXJjaEJhc2VTcGVjID0gbG9jYXRpb25bU0VBUkNIX0JBU0VfS0VZXTtcbiAgICAgIHZhciBxdWVyeVN0cmluZyA9IHF1ZXJ5ID8gc3RyaW5naWZ5UXVlcnkocXVlcnkpIDogJyc7XG4gICAgICBpZiAoIXNlYXJjaEJhc2VTcGVjICYmICFxdWVyeVN0cmluZykge1xuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShzdHJpbmdpZnlRdWVyeSAhPT0gZGVmYXVsdFN0cmluZ2lmeVF1ZXJ5IHx8ICFpc05lc3RlZE9iamVjdChxdWVyeSksICd1c2VRdWVyaWVzIGRvZXMgbm90IHN0cmluZ2lmeSBuZXN0ZWQgcXVlcnkgb2JqZWN0cyBieSBkZWZhdWx0OyAnICsgJ3VzZSBhIGN1c3RvbSBzdHJpbmdpZnlRdWVyeSBmdW5jdGlvbicpIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cbiAgICAgIHZhciBzZWFyY2hCYXNlID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHNlYXJjaEJhc2VTcGVjICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gc2VhcmNoQmFzZVNwZWMuc2VhcmNoKSB7XG4gICAgICAgIHNlYXJjaEJhc2UgPSBzZWFyY2hCYXNlU3BlYy5zZWFyY2hCYXNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VhcmNoQmFzZSA9IGxvY2F0aW9uLnNlYXJjaCB8fCAnJztcbiAgICAgIH1cblxuICAgICAgdmFyIHNlYXJjaCA9IHNlYXJjaEJhc2U7XG4gICAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgICAgc2VhcmNoICs9IChzZWFyY2ggPyAnJicgOiAnPycpICsgcXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIChfZXh0ZW5kczIgPSB7XG4gICAgICAgIHNlYXJjaDogc2VhcmNoXG4gICAgICB9LCBfZXh0ZW5kczJbU0VBUkNIX0JBU0VfS0VZXSA9IHsgc2VhcmNoOiBzZWFyY2gsIHNlYXJjaEJhc2U6IHNlYXJjaEJhc2UgfSwgX2V4dGVuZHMyKSk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgYWxsIHJlYWQgbWV0aG9kcyB3aXRoIHF1ZXJ5LWF3YXJlIHZlcnNpb25zLlxuICAgIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShob29rKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW5CZWZvcmUoZnVuY3Rpb24gKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICBfcnVuVHJhbnNpdGlvbkhvb2syWydkZWZhdWx0J10oaG9vaywgYWRkUXVlcnkobG9jYXRpb24pLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgbGlzdGVuZXIoYWRkUXVlcnkobG9jYXRpb24pKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGFsbCB3cml0ZSBtZXRob2RzIHdpdGggcXVlcnktYXdhcmUgdmVyc2lvbnMuXG4gICAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgICAgaGlzdG9yeS5wdXNoKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICAgIGhpc3RvcnkucmVwbGFjZShhcHBlbmRRdWVyeShsb2NhdGlvbiwgbG9jYXRpb24ucXVlcnkpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uLCBxdWVyeSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKCFxdWVyeSwgJ3RoZSBxdWVyeSBhcmd1bWVudCB0byBjcmVhdGVQYXRoIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhIGxvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVQYXRoKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBxdWVyeSB8fCBsb2NhdGlvbi5xdWVyeSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24sIHF1ZXJ5KSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oIXF1ZXJ5LCAndGhlIHF1ZXJ5IGFyZ3VtZW50IHRvIGNyZWF0ZUhyZWYgaXMgZGVwcmVjYXRlZDsgdXNlIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUhyZWYoYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5IHx8IGxvY2F0aW9uLnF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24obG9jYXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxMb2NhdGlvbiA9IGhpc3RvcnkuY3JlYXRlTG9jYXRpb24uYXBwbHkoaGlzdG9yeSwgW2FwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSldLmNvbmNhdChhcmdzKSk7XG4gICAgICBpZiAobG9jYXRpb24ucXVlcnkpIHtcbiAgICAgICAgZnVsbExvY2F0aW9uLnF1ZXJ5ID0gbG9jYXRpb24ucXVlcnk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRkUXVlcnkoZnVsbExvY2F0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoLCBxdWVyeSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgICBwdXNoKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgsIHsgcXVlcnk6IHF1ZXJ5IH0pKTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoLCBxdWVyeSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgcGF0aCA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgsIHsgcXVlcnk6IHF1ZXJ5IH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgICBwdXNoOiBwdXNoLFxuICAgICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICAgIGNyZWF0ZVBhdGg6IGNyZWF0ZVBhdGgsXG4gICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXG4gICAgICBwdXNoU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocHVzaFN0YXRlLCAncHVzaFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBwdXNoIGluc3RlYWQnKSxcbiAgICAgIHJlcGxhY2VTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZXBsYWNlU3RhdGUsICdyZXBsYWNlU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHJlcGxhY2UgaW5zdGVhZCcpXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHVzZVF1ZXJpZXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvdXNlUXVlcmllcy5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gdGhlIHdoYXR3Zy1mZXRjaCBwb2x5ZmlsbCBpbnN0YWxscyB0aGUgZmV0Y2goKSBmdW5jdGlvblxuLy8gb24gdGhlIGdsb2JhbCBvYmplY3QgKHdpbmRvdyBvciBzZWxmKVxuLy9cbi8vIFJldHVybiB0aGF0IGFzIHRoZSBleHBvcnQgZm9yIHVzZSBpbiBXZWJwYWNrLCBCcm93c2VyaWZ5IGV0Yy5cbnJlcXVpcmUoJ3doYXR3Zy1mZXRjaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBzZWxmLmZldGNoLmJpbmQoc2VsZik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaXNvbW9ycGhpYy1mZXRjaC9mZXRjaC1ucG0tYnJvd3NlcmlmeS5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMnKTtcblxudmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMpO1xuXG52YXIgX2dldFJvdXRlUGFyYW1zID0gcmVxdWlyZSgnLi9nZXRSb3V0ZVBhcmFtcycpO1xuXG52YXIgX2dldFJvdXRlUGFyYW1zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFJvdXRlUGFyYW1zKTtcblxudmFyIF9Sb3V0ZVV0aWxzID0gcmVxdWlyZSgnLi9Sb3V0ZVV0aWxzJyk7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcbnZhciBhcnJheSA9IF9SZWFjdCRQcm9wVHlwZXMuYXJyYXk7XG52YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBBIDxSb3V0ZXJDb250ZXh0PiByZW5kZXJzIHRoZSBjb21wb25lbnQgdHJlZSBmb3IgYSBnaXZlbiByb3V0ZXIgc3RhdGVcbiAqIGFuZCBzZXRzIHRoZSBoaXN0b3J5IG9iamVjdCBhbmQgdGhlIGN1cnJlbnQgbG9jYXRpb24gaW4gY29udGV4dC5cbiAqL1xuXG52YXIgUm91dGVyQ29udGV4dCA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUm91dGVyQ29udGV4dCcsXG5cblxuICBwcm9wVHlwZXM6IHtcbiAgICBoaXN0b3J5OiBvYmplY3QsXG4gICAgcm91dGVyOiBvYmplY3QuaXNSZXF1aXJlZCxcbiAgICBsb2NhdGlvbjogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgcm91dGVzOiBhcnJheS5pc1JlcXVpcmVkLFxuICAgIHBhcmFtczogb2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29tcG9uZW50czogYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBjcmVhdGVFbGVtZW50OiBmdW5jLmlzUmVxdWlyZWRcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlRWxlbWVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnRcbiAgICB9O1xuICB9LFxuXG5cbiAgY2hpbGRDb250ZXh0VHlwZXM6IHtcbiAgICBoaXN0b3J5OiBvYmplY3QsXG4gICAgbG9jYXRpb246IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHJvdXRlcjogb2JqZWN0LmlzUmVxdWlyZWRcbiAgfSxcblxuICBnZXRDaGlsZENvbnRleHQ6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcm91dGVyID0gX3Byb3BzLnJvdXRlcjtcbiAgICB2YXIgaGlzdG9yeSA9IF9wcm9wcy5oaXN0b3J5O1xuICAgIHZhciBsb2NhdGlvbiA9IF9wcm9wcy5sb2NhdGlvbjtcblxuICAgIGlmICghcm91dGVyKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2A8Um91dGVyQ29udGV4dD5gIGV4cGVjdHMgYSBgcm91dGVyYCByYXRoZXIgdGhhbiBhIGBoaXN0b3J5YCcpIDogdm9pZCAwO1xuXG4gICAgICByb3V0ZXIgPSBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgICAgICBzZXRSb3V0ZUxlYXZlSG9vazogaGlzdG9yeS5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGVcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHJvdXRlci5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGU7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGxvY2F0aW9uID0gKDAsIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMi5kZWZhdWx0KShsb2NhdGlvbiwgJ2Bjb250ZXh0LmxvY2F0aW9uYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGEgcm91dGUgY29tcG9uZW50XFwncyBgcHJvcHMubG9jYXRpb25gIGluc3RlYWQuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1hY2Nlc3Npbmdsb2NhdGlvbicpO1xuICAgIH1cblxuICAgIHJldHVybiB7IGhpc3Rvcnk6IGhpc3RvcnksIGxvY2F0aW9uOiBsb2NhdGlvbiwgcm91dGVyOiByb3V0ZXIgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24gY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCA9PSBudWxsID8gbnVsbCA6IHRoaXMucHJvcHMuY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcbiAgICB2YXIgaGlzdG9yeSA9IF9wcm9wczIuaGlzdG9yeTtcbiAgICB2YXIgbG9jYXRpb24gPSBfcHJvcHMyLmxvY2F0aW9uO1xuICAgIHZhciByb3V0ZXMgPSBfcHJvcHMyLnJvdXRlcztcbiAgICB2YXIgcGFyYW1zID0gX3Byb3BzMi5wYXJhbXM7XG4gICAgdmFyIGNvbXBvbmVudHMgPSBfcHJvcHMyLmNvbXBvbmVudHM7XG5cbiAgICB2YXIgZWxlbWVudCA9IG51bGw7XG5cbiAgICBpZiAoY29tcG9uZW50cykge1xuICAgICAgZWxlbWVudCA9IGNvbXBvbmVudHMucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGVsZW1lbnQsIGNvbXBvbmVudHMsIGluZGV4KSB7XG4gICAgICAgIGlmIChjb21wb25lbnRzID09IG51bGwpIHJldHVybiBlbGVtZW50OyAvLyBEb24ndCBjcmVhdGUgbmV3IGNoaWxkcmVuOyB1c2UgdGhlIGdyYW5kY2hpbGRyZW4uXG5cbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2luZGV4XTtcbiAgICAgICAgdmFyIHJvdXRlUGFyYW1zID0gKDAsIF9nZXRSb3V0ZVBhcmFtczIuZGVmYXVsdCkocm91dGUsIHBhcmFtcyk7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICByb3V0ZTogcm91dGUsXG4gICAgICAgICAgcm91dGVQYXJhbXM6IHJvdXRlUGFyYW1zLFxuICAgICAgICAgIHJvdXRlczogcm91dGVzXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCgwLCBfUm91dGVVdGlscy5pc1JlYWN0Q2hpbGRyZW4pKGVsZW1lbnQpKSB7XG4gICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZWxlbWVudCwgcHJvcCkpIHByb3BzW3Byb3BdID0gZWxlbWVudFtwcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHR5cGVvZiBjb21wb25lbnRzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjb21wb25lbnRzKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnRzID0ge307XG5cbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50cykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb21wb25lbnRzLCBrZXkpKSB7XG4gICAgICAgICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0aGUga2V5IGFzIGEgcHJvcCB0byBjcmVhdGVFbGVtZW50IHRvIGFsbG93XG4gICAgICAgICAgICAgIC8vIGN1c3RvbSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9ucyB0byBrbm93IHdoaWNoIG5hbWVkIGNvbXBvbmVudFxuICAgICAgICAgICAgICAvLyB0aGV5J3JlIHJlbmRlcmluZywgZm9yIGUuZy4gbWF0Y2hpbmcgdXAgdG8gZmV0Y2hlZCBkYXRhLlxuICAgICAgICAgICAgICBlbGVtZW50c1trZXldID0gX3RoaXMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzW2tleV0sIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleSB9LCBwcm9wcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMsIHByb3BzKTtcbiAgICAgIH0sIGVsZW1lbnQpO1xuICAgIH1cblxuICAgICEoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSB8fCBfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ1RoZSByb290IHJvdXRlIG11c3QgcmVuZGVyIGEgc2luZ2xlIGVsZW1lbnQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlckNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZXJDb250ZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNhblVzZU1lbWJyYW5lID0gdW5kZWZpbmVkO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2FuVXNlTWVtYnJhbmUgPSBleHBvcnRzLmNhblVzZU1lbWJyYW5lID0gZmFsc2U7XG5cbi8vIE5vLW9wIGJ5IGRlZmF1bHQuXG52YXIgZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB0cnkge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pLngpIHtcbiAgICAgIGV4cG9ydHMuY2FuVXNlTWVtYnJhbmUgPSBjYW5Vc2VNZW1icmFuZSA9IHRydWU7XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cblxuICBpZiAoY2FuVXNlTWVtYnJhbmUpIHtcbiAgICBkZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyhvYmplY3QsIG1lc3NhZ2UpIHtcbiAgICAgIC8vIFdyYXAgdGhlIGRlcHJlY2F0ZWQgb2JqZWN0IGluIGEgbWVtYnJhbmUgdG8gd2FybiBvbiBwcm9wZXJ0eSBhY2Nlc3MuXG4gICAgICB2YXIgbWVtYnJhbmUgPSB7fTtcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcCkge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgcmV0dXJuICdjb250aW51ZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIC8vIENhbid0IHVzZSBmYXQgYXJyb3cgaGVyZSBiZWNhdXNlIG9mIHVzZSBvZiBhcmd1bWVudHMgYmVsb3cuXG4gICAgICAgICAgbWVtYnJhbmVbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0W3Byb3BdLmFwcGx5KG9iamVjdCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiAnY29udGludWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlc2UgcHJvcGVydGllcyBhcmUgbm9uLWVudW1lcmFibGUgdG8gcHJldmVudCBSZWFjdCBkZXYgdG9vbHMgZnJvbVxuICAgICAgICAvLyBzZWVpbmcgdGhlbSBhbmQgY2F1c2luZyBzcHVyaW91cyB3YXJuaW5ncyB3aGVuIGFjY2Vzc2luZyB0aGVtLiBJblxuICAgICAgICAvLyBwcmluY2lwbGUgdGhpcyBjb3VsZCBiZSBkb25lIHdpdGggYSBwcm94eSwgYnV0IHN1cHBvcnQgZm9yIHRoZVxuICAgICAgICAvLyBvd25LZXlzIHRyYXAgb24gcHJveGllcyBpcyBub3QgdW5pdmVyc2FsLCBldmVuIGFtb25nIGJyb3dzZXJzIHRoYXRcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHN1cHBvcnQgcHJveGllcy5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1lbWJyYW5lLCBwcm9wLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0W3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9iamVjdCkge1xuICAgICAgICB2YXIgX3JldCA9IF9sb29wKHByb3ApO1xuXG4gICAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lbWJyYW5lO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJlZHV4PWUoKTp0LlJlZHV4PWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgbz1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWUuX19lc01vZHVsZT0hMCxlLmNvbXBvc2U9ZS5hcHBseU1pZGRsZXdhcmU9ZS5iaW5kQWN0aW9uQ3JlYXRvcnM9ZS5jb21iaW5lUmVkdWNlcnM9ZS5jcmVhdGVTdG9yZT12b2lkIDA7dmFyIG89bigyKSx1PXIobyksaT1uKDcpLGM9cihpKSxhPW4oNiksZj1yKGEpLHM9big1KSxkPXIocyksbD1uKDEpLHA9cihsKSx5PW4oMyk7cih5KTtlLmNyZWF0ZVN0b3JlPXVbXCJkZWZhdWx0XCJdLGUuY29tYmluZVJlZHVjZXJzPWNbXCJkZWZhdWx0XCJdLGUuYmluZEFjdGlvbkNyZWF0b3JzPWZbXCJkZWZhdWx0XCJdLGUuYXBwbHlNaWRkbGV3YXJlPWRbXCJkZWZhdWx0XCJdLGUuY29tcG9zZT1wW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxuPTA7dD5uO24rKyllW25dPWFyZ3VtZW50c1tuXTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0fTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIHI9ZVtlLmxlbmd0aC0xXSxvPWUuc2xpY2UoMCwtMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG8ucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSh0KX0sci5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1ufSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCxlLG4pe2Z1bmN0aW9uIHIoKXtiPT09aCYmKGI9aC5zbGljZSgpKX1mdW5jdGlvbiB1KCl7cmV0dXJuIHZ9ZnVuY3Rpb24gYyh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIGU9ITA7cmV0dXJuIHIoKSxiLnB1c2godCksZnVuY3Rpb24oKXtpZihlKXtlPSExLHIoKTt2YXIgbj1iLmluZGV4T2YodCk7Yi5zcGxpY2UobiwxKX19fWZ1bmN0aW9uIHModCl7aWYoISgwLGlbXCJkZWZhdWx0XCJdKSh0KSl0aHJvdyBFcnJvcihcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuXCIpO2lmKHZvaWQgMD09PXQudHlwZSl0aHJvdyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiBIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7aWYobSl0aHJvdyBFcnJvcihcIlJlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy5cIik7dHJ5e209ITAsdj15KHYsdCl9ZmluYWxseXttPSExfWZvcih2YXIgZT1oPWIsbj0wO2UubGVuZ3RoPm47bisrKWVbbl0oKTtyZXR1cm4gdH1mdW5jdGlvbiBkKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7eT10LHMoe3R5cGU6Zi5JTklUfSl9ZnVuY3Rpb24gbCgpe3ZhciB0LGU9YztyZXR1cm4gdD17c3Vic2NyaWJlOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt0Lm5leHQmJnQubmV4dCh1KCkpfWlmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LlwiKTtuKCk7dmFyIHI9ZShuKTtyZXR1cm57dW5zdWJzY3JpYmU6cn19fSx0W2FbXCJkZWZhdWx0XCJdXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0fXZhciBwO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJnZvaWQgMD09PW4mJihuPWUsZT12b2lkIDApLHZvaWQgMCE9PW4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7cmV0dXJuIG4obykodCxlKX1pZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIHk9dCx2PWUsaD1bXSxiPWgsbT0hMTtyZXR1cm4gcyh7dHlwZTpmLklOSVR9KSxwPXtkaXNwYXRjaDpzLHN1YnNjcmliZTpjLGdldFN0YXRlOnUscmVwbGFjZVJlZHVjZXI6ZH0scFthW1wiZGVmYXVsdFwiXV09bCxwfWUuX19lc01vZHVsZT0hMCxlLkFjdGlvblR5cGVzPXZvaWQgMCxlW1wiZGVmYXVsdFwiXT1vO3ZhciB1PW4oNCksaT1yKHUpLGM9bigxMiksYT1yKGMpLGY9ZS5BY3Rpb25UeXBlcz17SU5JVDpcIkBAcmVkdXgvSU5JVFwifX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpO3RyeXt0aHJvdyBFcnJvcih0KX1jYXRjaChlKXt9fWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1ufSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZighaSh0KXx8cC5jYWxsKHQpIT1jfHx1KHQpKXJldHVybiExO3ZhciBlPW8odCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIG49ZC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmcy5jYWxsKG4pPT1sfXZhciBvPW4oOCksdT1uKDkpLGk9bigxMSksYz1cIltvYmplY3QgT2JqZWN0XVwiLGE9RnVuY3Rpb24ucHJvdG90eXBlLGY9T2JqZWN0LnByb3RvdHlwZSxzPWEudG9TdHJpbmcsZD1mLmhhc093blByb3BlcnR5LGw9cy5jYWxsKE9iamVjdCkscD1mLnRvU3RyaW5nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLG49MDt0Pm47bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obixyLG8pe3ZhciBpPXQobixyLG8pLGE9aS5kaXNwYXRjaCxmPVtdLHM9e2dldFN0YXRlOmkuZ2V0U3RhdGUsZGlzcGF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGEodCl9fTtyZXR1cm4gZj1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdChzKX0pLGE9Y1tcImRlZmF1bHRcIl0uYXBwbHkodm9pZCAwLGYpKGkuZGlzcGF0Y2gpLHUoe30saSx7ZGlzcGF0Y2g6YX0pfX19ZS5fX2VzTW9kdWxlPSEwO3ZhciB1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9O2VbXCJkZWZhdWx0XCJdPW87dmFyIGk9bigxKSxjPXIoaSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX1mdW5jdGlvbiByKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gbih0LGUpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dCl0aHJvdyBFcnJvcihcImJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBcIisobnVsbD09PXQ/XCJudWxsXCI6dHlwZW9mIHQpKycuIERpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7Zm9yKHZhciByPU9iamVjdC5rZXlzKHQpLG89e30sdT0wO3IubGVuZ3RoPnU7dSsrKXt2YXIgaT1yW3VdLGM9dFtpXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYob1tpXT1uKGMsZSkpfXJldHVybiBvfWUuX19lc01vZHVsZT0hMCxlW1wiZGVmYXVsdFwiXT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCxlKXt2YXIgbj1lJiZlLnR5cGUscj1uJiYnXCInK24rJ1wiJ3x8XCJhbiBhY3Rpb25cIjtyZXR1cm5cIkdpdmVuIGFjdGlvbiBcIityKycsIHJlZHVjZXIgXCInK3QrJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLid9ZnVuY3Rpb24gdSh0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV0scj1uKHZvaWQgMCx7dHlwZTpjLkFjdGlvblR5cGVzLklOSVR9KTtpZih2b2lkIDA9PT1yKXRocm93IEVycm9yKCdSZWR1Y2VyIFwiJytlKydcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO3ZhciBvPVwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl9cIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoXCJcIikuam9pbihcIi5cIik7aWYodm9pZCAwPT09bih2b2lkIDAse3R5cGU6b30pKXRocm93IEVycm9yKCdSZWR1Y2VyIFwiJytlKydcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnKyhcIkRvbid0IHRyeSB0byBoYW5kbGUgXCIrYy5BY3Rpb25UeXBlcy5JTklUKycgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKStcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuXCIpfSl9ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9T2JqZWN0LmtleXModCksbj17fSxyPTA7ZS5sZW5ndGg+cjtyKyspe3ZhciBpPWVbcl07XCJmdW5jdGlvblwiPT10eXBlb2YgdFtpXSYmKG5baV09dFtpXSl9dmFyIGMsYT1PYmplY3Qua2V5cyhuKTt0cnl7dShuKX1jYXRjaChmKXtjPWZ9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzWzFdO2lmKGMpdGhyb3cgYztmb3IodmFyIHI9ITEsdT17fSxpPTA7YS5sZW5ndGg+aTtpKyspe3ZhciBmPWFbaV0scz1uW2ZdLGQ9dFtmXSxsPXMoZCxlKTtpZih2b2lkIDA9PT1sKXt2YXIgcD1vKGYsZSk7dGhyb3cgRXJyb3IocCl9dVtmXT1sLHI9cnx8bCE9PWR9cmV0dXJuIHI/dTp0fX1lLl9fZXNNb2R1bGU9ITAsZVtcImRlZmF1bHRcIl09aTt2YXIgYz1uKDIpLGE9big0KSxmPShyKGEpLG4oMykpO3IoZil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxvPXIoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT0hMTtpZihudWxsIT10JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnRvU3RyaW5nKXRyeXtlPSEhKHQrXCJcIil9Y2F0Y2gobil7fXJldHVybiBlfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuISF0JiZcIm9iamVjdFwiPT10eXBlb2YgdH10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDEzKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxNCksdT1yKG8pLGk9dm9pZCAwO3ZvaWQgMCE9PXQ/aT10OlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihpPXdpbmRvdyk7dmFyIGM9KDAsdVtcImRlZmF1bHRcIl0pKGkpO2VbXCJkZWZhdWx0XCJdPWN9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZSxuPXQuU3ltYm9sO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bi5vYnNlcnZhYmxlP2U9bi5vYnNlcnZhYmxlOihlPW4oXCJvYnNlcnZhYmxlXCIpLG4ub2JzZXJ2YWJsZT1lKTplPVwiQEBvYnNlcnZhYmxlXCIsZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlW1wiZGVmYXVsdFwiXT1ufV0pfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlZHV4L2Rpc3QvcmVkdXgubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENyZWF0ZWQgYnkgenNoIG9uIDIwMTYvNy8xMS5cbiAqL1xuaW1wb3J0IHdlaXhpbiBmcm9tIFwiLi4vYXBpL3dlaXhpblwiXG5cbmltcG9ydCB7XG4gICAgV1hfQ09ORklHX1NVQ0NFU1MsXG4gICAgUkVDRUlWRV9XWF9DT05GSUcsXG4gICAgU0VUX0xBTkRfUEFHRVxufSBmcm9tIFwiLi9BY3Rpb25UeXBlc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXWENvbmZpZyh1cmwpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICB3ZWl4aW4uZ2V0V1hDb25maWcodXJsLCBkYXRhID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBSRUNFSVZFX1dYX0NPTkZJRyxcbiAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRMYW5kUGFnZShsYW5kUGFnZSkge1xuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFNFVF9MQU5EX1BBR0UsXG4gICAgICAgICAgICBsYW5kUGFnZVxuICAgICAgICB9KVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25maWdTdWNjZXNzKCl7XG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogV1hfQ09ORklHX1NVQ0NFU1NcbiAgICAgICAgfSlcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvYWN0aW9ucy9jb25maWcuanMiLCJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgYmFzZVVybCB9IGZyb20gJy4uLy4uL2FwaS9jb25maWcnO1xuaW1wb3J0IFwiLi4vLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9UdXRvckl0ZW0uc2Nzc1wiXG5cbmNvbnN0IFR1dG9ySXRlbSA9ICh7XG4gICAgdHV0b3IsXG4gICAgaW5kZXgsXG4gICAgdXNlcklkXG59KT0+e1xuICAgIHJldHVybihcbiAgICAgICAgPExpbmsga2V5PXtpbmRleH0gdG89e3R1dG9yLnVzZXJfaWQgPT0gdXNlcklkID8gYCR7YmFzZVVybH1hY2NvdW50YCA6IGAke2Jhc2VVcmx9dHV0b3IvJHt0dXRvci51c2VyX2lkfWAgfT5cbiAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJ0dXRvci1pdGVtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR1dG9yLWluZm9cIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9e3R1dG9yLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJ30vPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR1dG9yLWludHJvXCI+XG4gICAgICAgICAgICAgICAgPGgzID57dHV0b3IudXNlcl9uYW1lfTwvaDM+XG4gICAgICAgICAgICAgICAgPGg0PlxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3R1dG9yLnVzZXJfdGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuc3dlci1pbmZvXCI+XG4gICAgICAgICAgICAgIHt0dXRvci5hbnN3ZXJfbnVtYmVyfeS4quWbnuetlFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICA8L0xpbms+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUdXRvckl0ZW07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9ibG9ja3MvVHV0b3JJdGVtLmpzIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQge2hvdFF1ZXN0aW9uTGlzdCxxdWVzdGlvbkluZm8sbGlzdGVuSW5mbyxzYXZlVm9pY2VJbmZvfSBmcm9tICcuL3F1ZXN0aW9uLmpzJ1xuaW1wb3J0IHt0dXRvckxpc3QsdHV0b3JJbmZvLHR1dG9yQW5zd2VyTGlzdCxwcmVwYXlJbmZvfSBmcm9tICcuL3R1dG9yLmpzJ1xuaW1wb3J0IHtoaXN0b3J5U2VhcmNoLGhvdFNlYXJjaCxjdXJTZWFyY2h9IGZyb20gXCIuL3NlYXJjaC5qc1wiXG5pbXBvcnQge1dYQ29uZmlnLGxhbmRQYWdlfSBmcm9tICcuL3dlaXhpbi5qcydcbmltcG9ydCBhY2NvdW50IGZyb20gJy4vYWNjb3VudC9pbmRleCdcbmltcG9ydCBvdGhlclVzZXJJbmZvIGZyb20gJy4vb3RoZXJVc2VySW5mbydcblxuY29uc3Qgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xuICBob3RRdWVzdGlvbkxpc3QsIHF1ZXN0aW9uSW5mbywgbGlzdGVuSW5mbywgc2F2ZVZvaWNlSW5mbyxcbiAgdHV0b3JMaXN0LCB0dXRvckluZm8sIHR1dG9yQW5zd2VyTGlzdCwgcHJlcGF5SW5mbyxcbiAgaGlzdG9yeVNlYXJjaCxob3RTZWFyY2gsY3VyU2VhcmNoLFxuICBhY2NvdW50LFxuICBvdGhlclVzZXJJbmZvLFxuICBXWENvbmZpZyxsYW5kUGFnZVxufSlcblxuZXhwb3J0IGRlZmF1bHQgcm9vdFJlZHVjZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy9pbmRleC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSBqZiBvbiAxNS8xMC8yNy5cbiAqL1xuXG5cblxuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuY2xhc3MgTWFzayBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7dHJhbnNwYXJlbnQsIC4uLm90aGVyc30gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICd3ZXVpX21hc2snOiAhdHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAnd2V1aV9tYXNrX3RyYW5zcGFyZW50JzogdHJhbnNwYXJlbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IHsuLi5vdGhlcnN9PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbk1hc2sucHJvcFR5cGVzID0ge1xuICAgIHRyYW5zcGFyZW50OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxufTtcbk1hc2suZGVmYXVsdFByb3BzID0ge1xuICAgIHRyYW5zcGFyZW50OiBmYWxzZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFzaztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL21hc2suanMiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyO1xuZXhwb3J0cy5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbmV4cG9ydHMuZ2V0SGFzaFBhdGggPSBnZXRIYXNoUGF0aDtcbmV4cG9ydHMucmVwbGFjZUhhc2hQYXRoID0gcmVwbGFjZUhhc2hQYXRoO1xuZXhwb3J0cy5nZXRXaW5kb3dQYXRoID0gZ2V0V2luZG93UGF0aDtcbmV4cG9ydHMuZ28gPSBnbztcbmV4cG9ydHMuZ2V0VXNlckNvbmZpcm1hdGlvbiA9IGdldFVzZXJDb25maXJtYXRpb247XG5leHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeTtcbmV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaDtcblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgaWYgKG5vZGUuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIGlmIChub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVsxXSB8fCAnJztcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKHBhdGgpIHtcbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArICcjJyArIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dQYXRoKCkge1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xufVxuXG5mdW5jdGlvbiBnbyhuKSB7XG4gIGlmIChuKSB3aW5kb3cuaGlzdG9yeS5nbyhuKTtcbn1cblxuZnVuY3Rpb24gZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWNrdC9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB1YS5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9ET01VdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBkZXByZWNhdGUoZm4sIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gJyArIG1lc3NhZ2UpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBkZXByZWNhdGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvZGVwcmVjYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zaXRpb25Ib29rKGhvb2ssIGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0ID0gaG9vayhsb2NhdGlvbiwgY2FsbGJhY2spO1xuXG4gIGlmIChob29rLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBBc3N1bWUgdGhlIGhvb2sgcnVucyBzeW5jaHJvbm91c2x5IGFuZCBhdXRvbWF0aWNhbGx5XG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgcmV0dXJuIHZhbHVlLlxuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHJlc3VsdCA9PT0gdW5kZWZpbmVkLCAnWW91IHNob3VsZCBub3QgXCJyZXR1cm5cIiBpbiBhIHRyYW5zaXRpb24gaG9vayB3aXRoIGEgY2FsbGJhY2sgYXJndW1lbnQ7IGNhbGwgdGhlIGNhbGxiYWNrIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBydW5UcmFuc2l0aW9uSG9vaztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9ydW5UcmFuc2l0aW9uSG9vay5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvb3BBc3luYyA9IGxvb3BBc3luYztcbmV4cG9ydHMubWFwQXN5bmMgPSBtYXBBc3luYztcbmZ1bmN0aW9uIGxvb3BBc3luYyh0dXJucywgd29yaywgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnJlbnRUdXJuID0gMCxcbiAgICAgIGlzRG9uZSA9IGZhbHNlO1xuICB2YXIgc3luYyA9IGZhbHNlLFxuICAgICAgaGFzTmV4dCA9IGZhbHNlLFxuICAgICAgZG9uZUFyZ3MgPSB2b2lkIDA7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBpc0RvbmUgPSB0cnVlO1xuICAgIGlmIChzeW5jKSB7XG4gICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuICAgICAgZG9uZUFyZ3MgPSBbXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhc05leHQgPSB0cnVlO1xuICAgIGlmIChzeW5jKSB7XG4gICAgICAvLyBJdGVyYXRlIGluc3RlYWQgb2YgcmVjdXJzaW5nIGlmIHBvc3NpYmxlLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN5bmMgPSB0cnVlO1xuXG4gICAgd2hpbGUgKCFpc0RvbmUgJiYgY3VycmVudFR1cm4gPCB0dXJucyAmJiBoYXNOZXh0KSB7XG4gICAgICBoYXNOZXh0ID0gZmFsc2U7XG4gICAgICB3b3JrLmNhbGwodGhpcywgY3VycmVudFR1cm4rKywgbmV4dCwgZG9uZSk7XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuXG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgLy8gVGhpcyBtZWFucyB0aGUgbG9vcCBmaW5pc2hlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgZG9uZUFyZ3MpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50VHVybiA+PSB0dXJucyAmJiBoYXNOZXh0KSB7XG4gICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59XG5cbmZ1bmN0aW9uIG1hcEFzeW5jKGFycmF5LCB3b3JrLCBjYWxsYmFjaykge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgdmFsdWVzID0gW107XG5cbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHZhbHVlcyk7XG5cbiAgdmFyIGlzRG9uZSA9IGZhbHNlLFxuICAgICAgZG9uZUNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBkb25lKGluZGV4LCBlcnJvciwgdmFsdWUpIHtcbiAgICBpZiAoaXNEb25lKSByZXR1cm47XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblxuICAgICAgaXNEb25lID0gKytkb25lQ291bnQgPT09IGxlbmd0aDtcblxuICAgICAgaWYgKGlzRG9uZSkgY2FsbGJhY2sobnVsbCwgdmFsdWVzKTtcbiAgICB9XG4gIH1cblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHdvcmsoaXRlbSwgaW5kZXgsIGZ1bmN0aW9uIChlcnJvciwgdmFsdWUpIHtcbiAgICAgIGRvbmUoaW5kZXgsIGVycm9yLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0FzeW5jVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucm91dGVyID0gZXhwb3J0cy5yb3V0ZXMgPSBleHBvcnRzLnJvdXRlID0gZXhwb3J0cy5jb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnQgPSBleHBvcnRzLmxvY2F0aW9uID0gZXhwb3J0cy5oaXN0b3J5ID0gZXhwb3J0cy5mYWxzeSA9IGV4cG9ydHMubG9jYXRpb25TaGFwZSA9IGV4cG9ydHMucm91dGVyU2hhcGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMnKTtcblxudmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMpO1xuXG52YXIgX0ludGVybmFsUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9JbnRlcm5hbFByb3BUeXBlcycpO1xuXG52YXIgSW50ZXJuYWxQcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfSW50ZXJuYWxQcm9wVHlwZXMpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYztcbnZhciBvYmplY3QgPSBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdDtcbnZhciBzaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGU7XG52YXIgc3RyaW5nID0gX3JlYWN0LlByb3BUeXBlcy5zdHJpbmc7XG52YXIgcm91dGVyU2hhcGUgPSBleHBvcnRzLnJvdXRlclNoYXBlID0gc2hhcGUoe1xuICBwdXNoOiBmdW5jLmlzUmVxdWlyZWQsXG4gIHJlcGxhY2U6IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ286IGZ1bmMuaXNSZXF1aXJlZCxcbiAgZ29CYWNrOiBmdW5jLmlzUmVxdWlyZWQsXG4gIGdvRm9yd2FyZDogZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRSb3V0ZUxlYXZlSG9vazogZnVuYy5pc1JlcXVpcmVkLFxuICBpc0FjdGl2ZTogZnVuYy5pc1JlcXVpcmVkXG59KTtcblxudmFyIGxvY2F0aW9uU2hhcGUgPSBleHBvcnRzLmxvY2F0aW9uU2hhcGUgPSBzaGFwZSh7XG4gIHBhdGhuYW1lOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgc2VhcmNoOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgc3RhdGU6IG9iamVjdCxcbiAgYWN0aW9uOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAga2V5OiBzdHJpbmdcbn0pO1xuXG4vLyBEZXByZWNhdGVkIHN0dWZmIGJlbG93OlxuXG52YXIgZmFsc3kgPSBleHBvcnRzLmZhbHN5ID0gSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3k7XG52YXIgaGlzdG9yeSA9IGV4cG9ydHMuaGlzdG9yeSA9IEludGVybmFsUHJvcFR5cGVzLmhpc3Rvcnk7XG52YXIgbG9jYXRpb24gPSBleHBvcnRzLmxvY2F0aW9uID0gbG9jYXRpb25TaGFwZTtcbnZhciBjb21wb25lbnQgPSBleHBvcnRzLmNvbXBvbmVudCA9IEludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudDtcbnZhciBjb21wb25lbnRzID0gZXhwb3J0cy5jb21wb25lbnRzID0gSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cztcbnZhciByb3V0ZSA9IGV4cG9ydHMucm91dGUgPSBJbnRlcm5hbFByb3BUeXBlcy5yb3V0ZTtcbnZhciByb3V0ZXMgPSBleHBvcnRzLnJvdXRlcyA9IEludGVybmFsUHJvcFR5cGVzLnJvdXRlcztcbnZhciByb3V0ZXIgPSBleHBvcnRzLnJvdXRlciA9IHJvdXRlclNoYXBlO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZXByZWNhdGVQcm9wVHlwZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZVByb3BUeXBlKHByb3BUeXBlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgbWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgIHJldHVybiBwcm9wVHlwZS5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUocHJvcFR5cGUpIHtcbiAgICAgIHJldHVybiBkZXByZWNhdGVQcm9wVHlwZShwcm9wVHlwZSwgJ1RoaXMgcHJvcCB0eXBlIGlzIG5vdCBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNlLCBhbmQgd2FzIHByZXZpb3VzbHkgZXhwb3J0ZWQgYnkgbWlzdGFrZS4gVGhlc2UgaW50ZXJuYWwgcHJvcCB0eXBlcyBhcmUgZGVwcmVjYXRlZCBmb3IgZXh0ZXJuYWwgdXNlLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4nKTtcbiAgICB9O1xuXG4gICAgdmFyIGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZVJlbmFtZWRQcm9wVHlwZShwcm9wVHlwZSwgbmFtZSkge1xuICAgICAgcmV0dXJuIGRlcHJlY2F0ZVByb3BUeXBlKHByb3BUeXBlLCAnVGhlIGAnICsgbmFtZSArICdgIHByb3AgdHlwZSBpcyBub3cgZXhwb3J0ZWQgYXMgYCcgKyBuYW1lICsgJ1NoYXBlYCB0byBhdm9pZCBuYW1lIGNvbmZsaWN0cy4gVGhpcyBleHBvcnQgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4nKTtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5mYWxzeSA9IGZhbHN5ID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShmYWxzeSk7XG4gICAgZXhwb3J0cy5oaXN0b3J5ID0gaGlzdG9yeSA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUoaGlzdG9yeSk7XG4gICAgZXhwb3J0cy5jb21wb25lbnQgPSBjb21wb25lbnQgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKGNvbXBvbmVudCk7XG4gICAgZXhwb3J0cy5jb21wb25lbnRzID0gY29tcG9uZW50cyA9IGRlcHJlY2F0ZUludGVybmFsUHJvcFR5cGUoY29tcG9uZW50cyk7XG4gICAgZXhwb3J0cy5yb3V0ZSA9IHJvdXRlID0gZGVwcmVjYXRlSW50ZXJuYWxQcm9wVHlwZShyb3V0ZSk7XG4gICAgZXhwb3J0cy5yb3V0ZXMgPSByb3V0ZXMgPSBkZXByZWNhdGVJbnRlcm5hbFByb3BUeXBlKHJvdXRlcyk7XG5cbiAgICBleHBvcnRzLmxvY2F0aW9uID0gbG9jYXRpb24gPSBkZXByZWNhdGVSZW5hbWVkUHJvcFR5cGUobG9jYXRpb24sICdsb2NhdGlvbicpO1xuICAgIGV4cG9ydHMucm91dGVyID0gcm91dGVyID0gZGVwcmVjYXRlUmVuYW1lZFByb3BUeXBlKHJvdXRlciwgJ3JvdXRlcicpO1xuICB9KSgpO1xufVxuXG52YXIgZGVmYXVsdEV4cG9ydCA9IHtcbiAgZmFsc3k6IGZhbHN5LFxuICBoaXN0b3J5OiBoaXN0b3J5LFxuICBsb2NhdGlvbjogbG9jYXRpb24sXG4gIGNvbXBvbmVudDogY29tcG9uZW50LFxuICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICByb3V0ZTogcm91dGUsXG4gIC8vIEZvciBzb21lIHJlYXNvbiwgcm91dGVzIHdhcyBuZXZlciBoZXJlLlxuICByb3V0ZXI6IHJvdXRlclxufTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVmYXVsdEV4cG9ydCA9ICgwLCBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllczIuZGVmYXVsdCkoZGVmYXVsdEV4cG9ydCwgJ1RoZSBkZWZhdWx0IGV4cG9ydCBmcm9tIGByZWFjdC1yb3V0ZXIvbGliL1Byb3BUeXBlc2AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgbmFtZWQgZXhwb3J0cyBpbnN0ZWFkLicpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBkZWZhdWx0RXhwb3J0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1Byb3BUeXBlcy5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9jb21wdXRlQ2hhbmdlZFJvdXRlczIgPSByZXF1aXJlKCcuL2NvbXB1dGVDaGFuZ2VkUm91dGVzJyk7XG5cbnZhciBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcHV0ZUNoYW5nZWRSb3V0ZXMyKTtcblxudmFyIF9UcmFuc2l0aW9uVXRpbHMgPSByZXF1aXJlKCcuL1RyYW5zaXRpb25VdGlscycpO1xuXG52YXIgX2lzQWN0aXZlMiA9IHJlcXVpcmUoJy4vaXNBY3RpdmUnKTtcblxudmFyIF9pc0FjdGl2ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0FjdGl2ZTIpO1xuXG52YXIgX2dldENvbXBvbmVudHMgPSByZXF1aXJlKCcuL2dldENvbXBvbmVudHMnKTtcblxudmFyIF9nZXRDb21wb25lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldENvbXBvbmVudHMpO1xuXG52YXIgX21hdGNoUm91dGVzID0gcmVxdWlyZSgnLi9tYXRjaFJvdXRlcycpO1xuXG52YXIgX21hdGNoUm91dGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGNoUm91dGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gaGFzQW55UHJvcGVydGllcyhvYmplY3QpIHtcbiAgZm9yICh2YXIgcCBpbiBvYmplY3QpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcCkpIHJldHVybiB0cnVlO1xuICB9cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcihoaXN0b3J5LCByb3V0ZXMpIHtcbiAgdmFyIHN0YXRlID0ge307XG5cbiAgLy8gU2lnbmF0dXJlIHNob3VsZCBiZSAobG9jYXRpb24sIGluZGV4T25seSksIGJ1dCBuZWVkcyB0byBzdXBwb3J0IChwYXRoLFxuICAvLyBxdWVyeSwgaW5kZXhPbmx5KVxuICBmdW5jdGlvbiBpc0FjdGl2ZShsb2NhdGlvbikge1xuICAgIHZhciBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzFdO1xuICAgIHZhciBkZXByZWNhdGVkSW5kZXhPbmx5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1syXTtcblxuICAgIHZhciBpbmRleE9ubHkgPSB2b2lkIDA7XG4gICAgaWYgKGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5ICYmIGluZGV4T25seU9yRGVwcmVjYXRlZFF1ZXJ5ICE9PSB0cnVlIHx8IGRlcHJlY2F0ZWRJbmRleE9ubHkgIT09IG51bGwpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYGlzQWN0aXZlKHBhdGhuYW1lLCBxdWVyeSwgaW5kZXhPbmx5KSBpcyBkZXByZWNhdGVkOyB1c2UgYGlzQWN0aXZlKGxvY2F0aW9uLCBpbmRleE9ubHkpYCB3aXRoIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG4gICAgICBsb2NhdGlvbiA9IHsgcGF0aG5hbWU6IGxvY2F0aW9uLCBxdWVyeTogaW5kZXhPbmx5T3JEZXByZWNhdGVkUXVlcnkgfTtcbiAgICAgIGluZGV4T25seSA9IGRlcHJlY2F0ZWRJbmRleE9ubHkgfHwgZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICBpbmRleE9ubHkgPSBpbmRleE9ubHlPckRlcHJlY2F0ZWRRdWVyeTtcbiAgICB9XG5cbiAgICByZXR1cm4gKDAsIF9pc0FjdGl2ZTMuZGVmYXVsdCkobG9jYXRpb24sIGluZGV4T25seSwgc3RhdGUubG9jYXRpb24sIHN0YXRlLnJvdXRlcywgc3RhdGUucGFyYW1zKTtcbiAgfVxuXG4gIHZhciBwYXJ0aWFsTmV4dFN0YXRlID0gdm9pZCAwO1xuXG4gIGZ1bmN0aW9uIG1hdGNoKGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICAgIGlmIChwYXJ0aWFsTmV4dFN0YXRlICYmIHBhcnRpYWxOZXh0U3RhdGUubG9jYXRpb24gPT09IGxvY2F0aW9uKSB7XG4gICAgICAvLyBDb250aW51ZSBmcm9tIHdoZXJlIHdlIGxlZnQgb2ZmLlxuICAgICAgZmluaXNoTWF0Y2gocGFydGlhbE5leHRTdGF0ZSwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAoMCwgX21hdGNoUm91dGVzMi5kZWZhdWx0KShyb3V0ZXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIG5leHRTdGF0ZSkge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFN0YXRlKSB7XG4gICAgICAgICAgZmluaXNoTWF0Y2goX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwgeyBsb2NhdGlvbjogbG9jYXRpb24gfSksIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hNYXRjaChuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF9jb21wdXRlQ2hhbmdlZFJvdXRlcyA9ICgwLCBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMzLmRlZmF1bHQpKHN0YXRlLCBuZXh0U3RhdGUpO1xuXG4gICAgdmFyIGxlYXZlUm91dGVzID0gX2NvbXB1dGVDaGFuZ2VkUm91dGVzLmxlYXZlUm91dGVzO1xuICAgIHZhciBjaGFuZ2VSb3V0ZXMgPSBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMuY2hhbmdlUm91dGVzO1xuICAgIHZhciBlbnRlclJvdXRlcyA9IF9jb21wdXRlQ2hhbmdlZFJvdXRlcy5lbnRlclJvdXRlcztcblxuXG4gICAgKDAsIF9UcmFuc2l0aW9uVXRpbHMucnVuTGVhdmVIb29rcykobGVhdmVSb3V0ZXMsIHN0YXRlKTtcblxuICAgIC8vIFRlYXIgZG93biBjb25maXJtYXRpb24gaG9va3MgZm9yIGxlZnQgcm91dGVzXG4gICAgbGVhdmVSb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgcmV0dXJuIGVudGVyUm91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMTtcbiAgICB9KS5mb3JFYWNoKHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUpO1xuXG4gICAgLy8gY2hhbmdlIGFuZCBlbnRlciBob29rcyBhcmUgcnVuIGluIHNlcmllc1xuICAgICgwLCBfVHJhbnNpdGlvblV0aWxzLnJ1bkNoYW5nZUhvb2tzKShjaGFuZ2VSb3V0ZXMsIHN0YXRlLCBuZXh0U3RhdGUsIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RJbmZvKSB7XG4gICAgICBpZiAoZXJyb3IgfHwgcmVkaXJlY3RJbmZvKSByZXR1cm4gaGFuZGxlRXJyb3JPclJlZGlyZWN0KGVycm9yLCByZWRpcmVjdEluZm8pO1xuXG4gICAgICAoMCwgX1RyYW5zaXRpb25VdGlscy5ydW5FbnRlckhvb2tzKShlbnRlclJvdXRlcywgbmV4dFN0YXRlLCBmaW5pc2hFbnRlckhvb2tzKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGZpbmlzaEVudGVySG9va3MoZXJyb3IsIHJlZGlyZWN0SW5mbykge1xuICAgICAgaWYgKGVycm9yIHx8IHJlZGlyZWN0SW5mbykgcmV0dXJuIGhhbmRsZUVycm9yT3JSZWRpcmVjdChlcnJvciwgcmVkaXJlY3RJbmZvKTtcblxuICAgICAgLy8gVE9ETzogRmV0Y2ggY29tcG9uZW50cyBhZnRlciBzdGF0ZSBpcyB1cGRhdGVkLlxuICAgICAgKDAsIF9nZXRDb21wb25lbnRzMi5kZWZhdWx0KShuZXh0U3RhdGUsIGZ1bmN0aW9uIChlcnJvciwgY29tcG9uZW50cykge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVE9ETzogTWFrZSBtYXRjaCBhIHB1cmUgZnVuY3Rpb24gYW5kIGhhdmUgc29tZSBvdGhlciBBUElcbiAgICAgICAgICAvLyBmb3IgXCJtYXRjaCBhbmQgdXBkYXRlIHN0YXRlXCIuXG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgbnVsbCwgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlLCB7IGNvbXBvbmVudHM6IGNvbXBvbmVudHMgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVFcnJvck9yUmVkaXJlY3QoZXJyb3IsIHJlZGlyZWN0SW5mbykge1xuICAgICAgaWYgKGVycm9yKSBjYWxsYmFjayhlcnJvcik7ZWxzZSBjYWxsYmFjayhudWxsLCByZWRpcmVjdEluZm8pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBSb3V0ZUd1aWQgPSAxO1xuXG4gIGZ1bmN0aW9uIGdldFJvdXRlSUQocm91dGUpIHtcbiAgICB2YXIgY3JlYXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGFyZ3VtZW50c1sxXTtcblxuICAgIHJldHVybiByb3V0ZS5fX2lkX18gfHwgY3JlYXRlICYmIChyb3V0ZS5fX2lkX18gPSBSb3V0ZUd1aWQrKyk7XG4gIH1cblxuICB2YXIgUm91dGVIb29rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgZnVuY3Rpb24gZ2V0Um91dGVIb29rc0ZvclJvdXRlcyhyb3V0ZXMpIHtcbiAgICByZXR1cm4gcm91dGVzLnJlZHVjZShmdW5jdGlvbiAoaG9va3MsIHJvdXRlKSB7XG4gICAgICBob29rcy5wdXNoLmFwcGx5KGhvb2tzLCBSb3V0ZUhvb2tzW2dldFJvdXRlSUQocm91dGUpXSk7XG4gICAgICByZXR1cm4gaG9va3M7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkhvb2sobG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgKDAsIF9tYXRjaFJvdXRlczIuZGVmYXVsdCkocm91dGVzLCBsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBuZXh0U3RhdGUpIHtcbiAgICAgIGlmIChuZXh0U3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBXZSBkaWRuJ3QgYWN0dWFsbHkgbWF0Y2ggYW55dGhpbmcsIGJ1dCBoYW5nXG4gICAgICAgIC8vIG9udG8gZXJyb3IvbmV4dFN0YXRlIHNvIHdlIGRvbid0IGhhdmUgdG8gbWF0Y2hSb3V0ZXNcbiAgICAgICAgLy8gYWdhaW4gaW4gdGhlIGxpc3RlbiBjYWxsYmFjay5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWNoZSBzb21lIHN0YXRlIGhlcmUgc28gd2UgZG9uJ3QgaGF2ZSB0b1xuICAgICAgLy8gbWF0Y2hSb3V0ZXMoKSBhZ2FpbiBpbiB0aGUgbGlzdGVuIGNhbGxiYWNrLlxuICAgICAgcGFydGlhbE5leHRTdGF0ZSA9IF9leHRlbmRzKHt9LCBuZXh0U3RhdGUsIHsgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuXG4gICAgICB2YXIgaG9va3MgPSBnZXRSb3V0ZUhvb2tzRm9yUm91dGVzKCgwLCBfY29tcHV0ZUNoYW5nZWRSb3V0ZXMzLmRlZmF1bHQpKHN0YXRlLCBwYXJ0aWFsTmV4dFN0YXRlKS5sZWF2ZVJvdXRlcyk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9va3MubGVuZ3RoOyByZXN1bHQgPT0gbnVsbCAmJiBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgLy8gUGFzc2luZyB0aGUgbG9jYXRpb24gYXJnIGhlcmUgaW5kaWNhdGVzIHRvXG4gICAgICAgIC8vIHRoZSB1c2VyIHRoYXQgdGhpcyBpcyBhIHRyYW5zaXRpb24gaG9vay5cbiAgICAgICAgcmVzdWx0ID0gaG9va3NbaV0obG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHVudGVzdGFibGUgd2l0aCBLYXJtYSAqL1xuICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRIb29rKCkge1xuICAgIC8vIFN5bmNocm9ub3VzbHkgY2hlY2sgdG8gc2VlIGlmIGFueSByb3V0ZSBob29rcyB3YW50XG4gICAgLy8gdG8gcHJldmVudCB0aGUgY3VycmVudCB3aW5kb3cvdGFiIGZyb20gY2xvc2luZy5cbiAgICBpZiAoc3RhdGUucm91dGVzKSB7XG4gICAgICB2YXIgaG9va3MgPSBnZXRSb3V0ZUhvb2tzRm9yUm91dGVzKHN0YXRlLnJvdXRlcyk7XG5cbiAgICAgIHZhciBtZXNzYWdlID0gdm9pZCAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvb2tzLmxlbmd0aDsgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnICYmIGkgPCBsZW47ICsraSkge1xuICAgICAgICAvLyBQYXNzaW5nIG5vIGFyZ3MgaW5kaWNhdGVzIHRvIHRoZSB1c2VyIHRoYXQgdGhpcyBpcyBhXG4gICAgICAgIC8vIGJlZm9yZXVubG9hZCBob29rLiBXZSBkb24ndCBrbm93IHRoZSBuZXh0IGxvY2F0aW9uLlxuICAgICAgICBtZXNzYWdlID0gaG9va3NbaV0oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVubGlzdGVuQmVmb3JlID0gdm9pZCAwLFxuICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSB2b2lkIDA7XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuQmVmb3JlSG9va3NGb3JSb3V0ZShyb3V0ZSkge1xuICAgIHZhciByb3V0ZUlEID0gZ2V0Um91dGVJRChyb3V0ZSwgZmFsc2UpO1xuICAgIGlmICghcm91dGVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlbGV0ZSBSb3V0ZUhvb2tzW3JvdXRlSURdO1xuXG4gICAgaWYgKCFoYXNBbnlQcm9wZXJ0aWVzKFJvdXRlSG9va3MpKSB7XG4gICAgICAvLyB0ZWFyZG93biB0cmFuc2l0aW9uICYgYmVmb3JldW5sb2FkIGhvb2tzXG4gICAgICBpZiAodW5saXN0ZW5CZWZvcmUpIHtcbiAgICAgICAgdW5saXN0ZW5CZWZvcmUoKTtcbiAgICAgICAgdW5saXN0ZW5CZWZvcmUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodW5saXN0ZW5CZWZvcmVVbmxvYWQpIHtcbiAgICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQoKTtcbiAgICAgICAgdW5saXN0ZW5CZWZvcmVVbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGdpdmVuIGhvb2sgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsZWF2aW5nIHRoZSBnaXZlbiByb3V0ZS5cbiAgICpcbiAgICogRHVyaW5nIGEgbm9ybWFsIHRyYW5zaXRpb24sIHRoZSBob29rIGZ1bmN0aW9uIHJlY2VpdmVzIHRoZSBuZXh0IGxvY2F0aW9uXG4gICAqIGFzIGl0cyBvbmx5IGFyZ3VtZW50IGFuZCBjYW4gcmV0dXJuIGVpdGhlciBhIHByb21wdCBtZXNzYWdlIChzdHJpbmcpIHRvIHNob3cgdGhlIHVzZXIsXG4gICAqIHRvIG1ha2Ugc3VyZSB0aGV5IHdhbnQgdG8gbGVhdmUgdGhlIHBhZ2U7IG9yIGBmYWxzZWAsIHRvIHByZXZlbnQgdGhlIHRyYW5zaXRpb24uXG4gICAqIEFueSBvdGhlciByZXR1cm4gdmFsdWUgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICpcbiAgICogRHVyaW5nIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgKGluIGJyb3dzZXJzKSB0aGUgaG9vayByZWNlaXZlcyBubyBhcmd1bWVudHMuXG4gICAqIEluIHRoaXMgY2FzZSBpdCBtdXN0IHJldHVybiBhIHByb21wdCBtZXNzYWdlIHRvIHByZXZlbnQgdGhlIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIHVuYmluZCB0aGUgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUocm91dGUsIGhvb2spIHtcbiAgICAvLyBUT0RPOiBXYXJuIGlmIHRoZXkgcmVnaXN0ZXIgZm9yIGEgcm91dGUgdGhhdCBpc24ndCBjdXJyZW50bHlcbiAgICAvLyBhY3RpdmUuIFRoZXkncmUgcHJvYmFibHkgZG9pbmcgc29tZXRoaW5nIHdyb25nLCBsaWtlIHJlLWNyZWF0aW5nXG4gICAgLy8gcm91dGUgb2JqZWN0cyBvbiBldmVyeSBsb2NhdGlvbiBjaGFuZ2UuXG4gICAgdmFyIHJvdXRlSUQgPSBnZXRSb3V0ZUlEKHJvdXRlKTtcbiAgICB2YXIgaG9va3MgPSBSb3V0ZUhvb2tzW3JvdXRlSURdO1xuXG4gICAgaWYgKCFob29rcykge1xuICAgICAgdmFyIHRoZXJlV2VyZU5vUm91dGVIb29rcyA9ICFoYXNBbnlQcm9wZXJ0aWVzKFJvdXRlSG9va3MpO1xuXG4gICAgICBSb3V0ZUhvb2tzW3JvdXRlSURdID0gW2hvb2tdO1xuXG4gICAgICBpZiAodGhlcmVXZXJlTm9Sb3V0ZUhvb2tzKSB7XG4gICAgICAgIC8vIHNldHVwIHRyYW5zaXRpb24gJiBiZWZvcmV1bmxvYWQgaG9va3NcbiAgICAgICAgdW5saXN0ZW5CZWZvcmUgPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZSh0cmFuc2l0aW9uSG9vayk7XG5cbiAgICAgICAgaWYgKGhpc3RvcnkubGlzdGVuQmVmb3JlVW5sb2FkKSB1bmxpc3RlbkJlZm9yZVVubG9hZCA9IGhpc3RvcnkubGlzdGVuQmVmb3JlVW5sb2FkKGJlZm9yZVVubG9hZEhvb2spO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaG9va3MuaW5kZXhPZihob29rKSA9PT0gLTEpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdhZGRpbmcgbXVsdGlwbGUgbGVhdmUgaG9va3MgZm9yIHRoZSBzYW1lIHJvdXRlIGlzIGRlcHJlY2F0ZWQ7IG1hbmFnZSBtdWx0aXBsZSBjb25maXJtYXRpb25zIGluIHlvdXIgb3duIGNvZGUgaW5zdGVhZCcpIDogdm9pZCAwO1xuXG4gICAgICAgIGhvb2tzLnB1c2goaG9vayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBob29rcyA9IFJvdXRlSG9va3Nbcm91dGVJRF07XG5cbiAgICAgIGlmIChob29rcykge1xuICAgICAgICB2YXIgbmV3SG9va3MgPSBob29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gaG9vaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5ld0hvb2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJlbW92ZUxpc3RlbkJlZm9yZUhvb2tzRm9yUm91dGUocm91dGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJvdXRlSG9va3Nbcm91dGVJRF0gPSBuZXdIb29rcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgQVBJIGZvciBzdGF0ZWZ1bCBlbnZpcm9ubWVudHMuIEFzIHRoZSBsb2NhdGlvblxuICAgKiBjaGFuZ2VzLCB3ZSB1cGRhdGUgc3RhdGUgYW5kIGNhbGwgdGhlIGxpc3RlbmVyLiBXZSBjYW4gYWxzb1xuICAgKiBncmFjZWZ1bGx5IGhhbmRsZSBlcnJvcnMgYW5kIHJlZGlyZWN0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIC8vIFRPRE86IE9ubHkgdXNlIGEgc2luZ2xlIGhpc3RvcnkgbGlzdGVuZXIuIE90aGVyd2lzZSB3ZSdsbFxuICAgIC8vIGVuZCB1cCB3aXRoIG11bHRpcGxlIGNvbmN1cnJlbnQgY2FsbHMgdG8gbWF0Y2guXG4gICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgaWYgKHN0YXRlLmxvY2F0aW9uID09PSBsb2NhdGlvbikge1xuICAgICAgICBsaXN0ZW5lcihudWxsLCBzdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaChsb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCByZWRpcmVjdExvY2F0aW9uLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGVycm9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlZGlyZWN0TG9jYXRpb24pIHtcbiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZShyZWRpcmVjdExvY2F0aW9uKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIobnVsbCwgbmV4dFN0YXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdMb2NhdGlvbiBcIiVzXCIgZGlkIG5vdCBtYXRjaCBhbnkgcm91dGVzJywgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG4gICAgbWF0Y2g6IG1hdGNoLFxuICAgIGxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZTogbGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG59XG5cbi8vZXhwb3J0IGRlZmF1bHQgdXNlUm91dGVzXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbG9nby5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWFnZXMvbG9nby5qcGdcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi83LzUuXG4gKi9cbmltcG9ydCBSZWFjdCx7Q29tcG9uZW50fSBmcm9tICdyZWFjdCdcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9Wb2ljZVdhdmUuc2NzcydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVm9pY2VXYXZlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyKCl7XG4gICAgcmV0dXJuKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2b2ljZS13YXZlc1wiPlxuICAgICAgICB7XG4gICAgICAgICAgWzEsMiwzXS5tYXAoaW5kZXggPT5cbiAgICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9IGNsYXNzTmFtZT17YHZvaWNlLXdhdmUgdm9pY2Utd2F2ZS0ke2luZGV4fWB9IC8+IFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9Wb2ljZVdhdmUuanMiLCJpbXBvcnQgUmVhY3Qse0NvbXBvbmVudH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7TGlua30gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQge2Jhc2VVcmx9IGZyb20gXCIuLi9hcGkvY29uZmlnLmpzXCJcbmltcG9ydCBMb2FkaW5nIGZyb20gXCIuL0xvYWRpbmdcIlxuaW1wb3J0IHtnZXRIaXN0b3J5U2VhcmNoLGdldEhvdFNlYXJjaCxkZWxldGVIaXN0b3J5fSBmcm9tIFwiLi4vYWN0aW9ucy9zZWFyY2guanNcIlxuXG5jbGFzcyBTZWFyY2hUaXBzICBleHRlbmRzIENvbXBvbmVudHtcbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgICBjb25zdCB7aGlzdG9yeVNlYXJjaCxob3RTZWFyY2gsZ2V0SGlzdG9yeSxnZXRIb3R9ID0gdGhpcy5wcm9wc1xuICAgICAgICBpZighaGlzdG9yeVNlYXJjaC5sb2FkaW5nKXtcbiAgICAgICAgICAgIGdldEhpc3RvcnkoMSwxMDApXG4gICAgICAgIH1cbiAgICAgICAgaWYoIWhpc3RvcnlTZWFyY2gubG9hZGluZyl7XG4gICAgICAgICAgICBnZXRIb3QoKVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZUhpc3RvcnkoKXtcbiAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVIaXN0b3J5KClcbiAgICB9XG4gICAgcmVuZGVyKCl7XG4gICAgICAgIGNvbnN0IHtoaXN0b3J5U2VhcmNoLGhvdFNlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXRpcHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpcC10aXRsZVwiPuWOhuWPsuiusOW9lTwvZGl2PlxuICAgICAgICAgICAgICAgIHtoaXN0b3J5U2VhcmNoLmRhdGEubGVuZ3RoPjA/PGltZyBjbGFzc05hbWU9XCJkZWxldGUtaWNvblwiIG9uQ2xpY2s9e3RoaXMuZGVsZXRlSGlzdG9yeS5iaW5kKHRoaXMpfSBzcmM9e3JlcXVpcmUoXCIuLi8uLi9pbWFnZXMvZGVsZXRlLnBuZ1wiKX0gLz46XCJcIn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZy1saXN0XCI+XG4gICAgICAgICAgICAgICAgICAgIHtoaXN0b3J5U2VhcmNoLmRhdGEubGVuZ3RoPjA/aGlzdG9yeVNlYXJjaC5kYXRhLm1hcCgoaXRlbSxpbmRleCk9PihcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGtleT17aW5kZXh9IHRvPXtgJHtiYXNlVXJsfXNlYXJjaC9yZXN1bHQvJHtpdGVtLnNlYXJjaH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICBjbGFzc05hbWU9XCJoaXN0b3J5LWl0ZW1cIj57aXRlbS5zZWFyY2h9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICkpOihoaXN0b3J5U2VhcmNoLmxvYWRpbmc/PExvYWRpbmcgLz46PGRpdiBjbGFzc05hbWU9XCJlbXB0eVwiID7mmoLml6DorrDlvZU8L2Rpdj4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlwLXRpdGxlXCI+54Ot6Zeo5pCc57SiPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWctbGlzdFwiPlxuICAgICAgICAgICAgICAgICAgICB7aG90U2VhcmNoLmRhdGEubGVuZ3RoPjA/aG90U2VhcmNoLmRhdGEubWFwKChpdGVtLGluZGV4KT0+KFxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsga2V5PXtpbmRleH0gdG89e2Ake2Jhc2VVcmx9c2VhcmNoL3Jlc3VsdC8ke2l0ZW0uc2VhcmNofWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgIGNsYXNzTmFtZT1cImhvdC1pdGVtXCI+e2l0ZW0uc2VhcmNofTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICApKTooaG90U2VhcmNoLmxvYWRpbmc/PExvYWRpbmcgLz46PGRpdiBjbGFzc05hbWU9XCJlbXB0eVwiID7mmoLml6DorrDlvZU8L2Rpdj4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc3RhdGU9Pih7XG4gICAgaGlzdG9yeVNlYXJjaDogc3RhdGUuaGlzdG9yeVNlYXJjaCxcbiAgICBob3RTZWFyY2g6IHN0YXRlLmhvdFNlYXJjaFxufSksZGlzcGF0Y2g9Pih7XG4gICAgZ2V0SGlzdG9yeToocGFnZSxudW0pPT57XG4gICAgICAgIGRpc3BhdGNoKGdldEhpc3RvcnlTZWFyY2gocGFnZSxudW0pKVxuICAgIH0sXG4gICAgZ2V0SG90OigpPT57XG4gICAgICAgIGRpc3BhdGNoKGdldEhvdFNlYXJjaCgpKVxuICAgIH0sXG4gICAgZGVsZXRlSGlzdG9yeTooKT0+e1xuICAgICAgICBkaXNwYXRjaChkZWxldGVIaXN0b3J5KCkpXG4gICAgfVxufSkpKFNlYXJjaFRpcHMpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9TZWFyY2hUaXBzLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTYuXG4gKi9cbi8qKlxuICogY3JlYXRlIGJ5IHd1d3FcbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgdGltZSBmcm9tICcuLi8uLi91dGlsL3RpbWUnO1xuaW1wb3J0ICcuLi8uLi8uLi9zdHlsZXNoZWV0cy9wYXJ0aWFscy9tb2R1bGVzL1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIuc2Nzcyc7XG5pbXBvcnQge2Jhc2VVcmx9IGZyb20gXCIuLi8uLi9hcGkvY29uZmlnXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3F1ZXN0aW9uLCBoZWFkfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gKFxuICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwicXVlc3Rpb24td2l0aG91dC1hdmF0YXJcIj5cbiAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwrXCJxdWVzdGlvbi9cIitxdWVzdGlvbi5pZH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICA8aDQ+eyBxdWVzdGlvbi5jb250ZW50IH08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5zd2VyXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz17IGhlYWQgfS8+XG5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ1YmJsZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidWJibGUtdGFpbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnViYmxlLXZvaWNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidWJibGUtdGV4dFwiPntxdWVzdGlvbi5pc19wYXllZD9cIueCueWHu+WBt+WBt+WQrFwiOlwiMSDlhYPlgbflgbflkKxcIn08L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZW1hcmtcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZVwiPnsgdGltZS5nZXRUaW1lU3BhbihxdWVzdGlvbi50aW1lKSB95YmN5Zue562UPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbWFyay1pbmZvXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntxdWVzdGlvbi5saXN0ZW59IOS6uuWBt+WQrDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiemFuXCI+e3F1ZXN0aW9uLmxpa2V9IOS6uuinieW+l+i1njwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2FydGljbGU+XG4gICAgKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhci5qcyIsImV4cG9ydCBkZWZhdWx0ICB7XG4gICAgLyoqXG4gICAgICog6L+U5Zue5pe26Ze077yaNeWIhumSn++8jDLlsI/ml7bvvIwx5aSp77yMMeW5tFxuICAgICAqIEBwYXJhbSBjYlxuICAgICAqL1xuICAgIGdldFRpbWVTcGFuKHRpbWUpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgcGFyYW1zIHRpbWUgaXMgJHt0aW1lfWApXG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUodGltZSkuZ2V0VGltZSgpO1xuICAgICAgICBpZih0aW1lc3RhbXAudG9TdHJpbmcoKS5sZW5ndGg9PTEzKXtcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHRpbWVzdGFtcC8xMDAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWNvbmRzID0gKG5vdy5nZXRUaW1lKCkvMTAwMCAtIHRpbWVzdGFtcCk7XG4gICAgICAgIGlmKCBzZWNvbmRzIDwgNjApe1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHNlY29uZHMpICsgJyDnp5InO1xuICAgICAgICB9ZWxzZSBpZiggc2Vjb25kcyA8IDM2MDApe1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHNlY29uZHMgLyA2MCkgKyAnIOWIhumSnyc7XG4gICAgICAgIH1lbHNlIGlmKCBzZWNvbmRzIDwgODY0MDApe1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHNlY29uZHMgLyAzNjAwKSArICcg5bCP5pe2JztcbiAgICAgICAgfWVsc2UgaWYoIHNlY29uZHMgPCAyNTkyMDAwKXtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCggc2Vjb25kcyAvIDg2NDAwKSArICcg5aSpJztcbiAgICAgICAgfWVsc2UgaWYoIHNlY29uZHMgPCAzMTUzNjAwMCl7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoIHNlY29uZHMgLyAyNTkyMDAwKSArICcg5Liq5pyIJztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoIHNlY29uZHMgLyAzMTUzNjAwMCkgKyAnIOW5tCc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC90aW1lLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGpmIG9uIDE1LzEwLzI3LlxuICovXG5cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IE1hc2sgZnJvbSAnLi9tYXNrJztcbmltcG9ydCBcIi4vd2V1aV9tYXNrLmNzc1wiXG5pbXBvcnQgXCIuL3dldWlfZGlhbG9nLnNjc3NcIlxuXG5jbGFzcyBDb25maXJtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICByZW5kZXJCdXR0b25zKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmJ1dHRvbnMubWFwKChhY3Rpb24sIGlkeCkgPT4ge1xuICAgICAgY29uc3Qge3R5cGUsIGxhYmVsLCAuLi5vdGhlcnN9ID0gYWN0aW9uO1xuICAgICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyh7XG4gICAgICAgIHdldWlfYnRuX2RpYWxvZzogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogdHlwZSA9PT0gJ2RlZmF1bHQnLFxuICAgICAgICBwcmltYXJ5OiB0eXBlID09PSAncHJpbWFyeSdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YSBrZXk9e2lkeH0gaHJlZj1cImphdmFzY3JpcHQ6O1wiIHsuLi5vdGhlcnN9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57bGFiZWx9PC9hPlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7dGl0bGUsIHNob3csIGNoaWxkcmVufSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZXVpX2RpYWxvZ19jb25maXJtXCIgc3R5bGU9e3tkaXNwbGF5OiBzaG93ID8gJ2Jsb2NrJyA6ICdub25lJ319PlxuICAgICAgICA8TWFzay8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndldWlfZGlhbG9nX2hkXCI+XG4gICAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cIndldWlfZGlhbG9nX3RpdGxlXCI+e3RpdGxlfTwvc3Ryb25nPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2V1aV9kaWFsb2dfYmRcIj5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndldWlfZGlhbG9nX2Z0XCI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJCdXR0b25zKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Db25maXJtLnByb3BUeXBlcyA9IHtcbiAgYnV0dG9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBzaG93OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgdGl0bGU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn07XG5cbkNvbmZpcm0uZGVmYXVsdFByb3BzID0ge1xuICBidXR0b25zOiBbXSxcbiAgc2hvdzogZmFsc2UsXG4gIHRpdGxlOiAnJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlybTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvdXRpbC93ZXVpL2NvbmZpcm0uanMiLCIvKmVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNhdmVTdGF0ZSA9IHNhdmVTdGF0ZTtcbmV4cG9ydHMucmVhZFN0YXRlID0gcmVhZFN0YXRlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgS2V5UHJlZml4ID0gJ0BASGlzdG9yeS8nO1xudmFyIFF1b3RhRXhjZWVkZWRFcnJvcnMgPSBbJ1F1b3RhRXhjZWVkZWRFcnJvcicsICdRVU9UQV9FWENFRURFRF9FUlInXTtcblxudmFyIFNlY3VyaXR5RXJyb3IgPSAnU2VjdXJpdHlFcnJvcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleShrZXkpIHtcbiAgcmV0dXJuIEtleVByZWZpeCArIGtleTtcbn1cblxuZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhdGUgPT0gbnVsbCkge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oY3JlYXRlS2V5KGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShjcmVhdGVLZXkoa2V5KSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcbiAgICAgIC8vIEJsb2NraW5nIGNvb2tpZXMgaW4gQ2hyb21lL0ZpcmVmb3gvU2FmYXJpIHRocm93cyBTZWN1cml0eUVycm9yIG9uIGFueVxuICAgICAgLy8gYXR0ZW1wdCB0byBhY2Nlc3Mgd2luZG93LnNlc3Npb25TdG9yYWdlLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFF1b3RhRXhjZWVkZWRFcnJvcnMuaW5kZXhPZihlcnJvci5uYW1lKSA+PSAwICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFNhZmFyaSBcInByaXZhdGUgbW9kZVwiIHRocm93cyBRdW90YUV4Y2VlZGVkRXJyb3IuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHNhdmUgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gU2FmYXJpIHByaXZhdGUgbW9kZScpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuICB2YXIganNvbiA9IHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICBqc29uID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY3JlYXRlS2V5KGtleSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5uYW1lID09PSBTZWN1cml0eUVycm9yKSB7XG4gICAgICAvLyBCbG9ja2luZyBjb29raWVzIGluIENocm9tZS9GaXJlZm94L1NhZmFyaSB0aHJvd3MgU2VjdXJpdHlFcnJvciBvbiBhbnlcbiAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gcmVhZCBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gc2VjdXJpdHkgc2V0dGluZ3MnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKGpzb24pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElnbm9yZSBpbnZhbGlkIEpTT04uXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL0RPTVN0YXRlU3RvcmFnZS5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSGlzdG9yeSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURPTUhpc3Rvcnkob3B0aW9ucykge1xuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVIaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHtcbiAgICBnZXRVc2VyQ29uZmlybWF0aW9uOiBfRE9NVXRpbHMuZ2V0VXNlckNvbmZpcm1hdGlvblxuICB9LCBvcHRpb25zLCB7XG4gICAgZ286IF9ET01VdGlscy5nb1xuICB9KSk7XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0RPTSBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlRE9NSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9jcmVhdGVET01IaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbnZhciBfRE9NU3RhdGVTdG9yYWdlID0gcmVxdWlyZSgnLi9ET01TdGF0ZVN0b3JhZ2UnKTtcblxudmFyIF9jcmVhdGVET01IaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVET01IaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVET01IaXN0b3J5KTtcblxuZnVuY3Rpb24gaXNBYnNvbHV0ZVBhdGgocGF0aCkge1xuICByZXR1cm4gdHlwZW9mIHBhdGggPT09ICdzdHJpbmcnICYmIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVNsYXNoKCkge1xuICB2YXIgcGF0aCA9IF9ET01VdGlscy5nZXRIYXNoUGF0aCgpO1xuXG4gIGlmIChpc0Fic29sdXRlUGF0aChwYXRoKSkgcmV0dXJuIHRydWU7XG5cbiAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aCgnLycgKyBwYXRoKTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZFF1ZXJ5U3RyaW5nVmFsdWVUb1BhdGgocGF0aCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gcGF0aCArIChwYXRoLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgKGtleSArICc9JyArIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gc3RyaXBRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwga2V5KSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnWz8mXT8nICsga2V5ICsgJz1bYS16QS1aMC05XSsnKSwgJycpO1xufVxuXG5mdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwga2V5KSB7XG4gIHZhciBtYXRjaCA9IHBhdGgubWF0Y2gobmV3IFJlZ0V4cCgnXFxcXD8uKj9cXFxcYicgKyBrZXkgKyAnPSguKz8pXFxcXGInKSk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXTtcbn1cblxudmFyIERlZmF1bHRRdWVyeUtleSA9ICdfayc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBxdWVyeUtleSA9IG9wdGlvbnMucXVlcnlLZXk7XG5cbiAgaWYgKHF1ZXJ5S2V5ID09PSB1bmRlZmluZWQgfHwgISFxdWVyeUtleSkgcXVlcnlLZXkgPSB0eXBlb2YgcXVlcnlLZXkgPT09ICdzdHJpbmcnID8gcXVlcnlLZXkgOiBEZWZhdWx0UXVlcnlLZXk7XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKCkge1xuICAgIHZhciBwYXRoID0gX0RPTVV0aWxzLmdldEhhc2hQYXRoKCk7XG5cbiAgICB2YXIga2V5ID0gdW5kZWZpbmVkLFxuICAgICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAocXVlcnlLZXkpIHtcbiAgICAgIGtleSA9IGdldFF1ZXJ5U3RyaW5nVmFsdWVGcm9tUGF0aChwYXRoLCBxdWVyeUtleSk7XG4gICAgICBwYXRoID0gc3RyaXBRdWVyeVN0cmluZ1ZhbHVlRnJvbVBhdGgocGF0aCwgcXVlcnlLZXkpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHN0YXRlID0gX0RPTVN0YXRlU3RvcmFnZS5yZWFkU3RhdGUoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgICAga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcbiAgICAgICAgX0RPTVV0aWxzLnJlcGxhY2VIYXNoUGF0aChhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIHF1ZXJ5S2V5LCBrZXkpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gc3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoX3JlZikge1xuICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25UbztcblxuICAgIGZ1bmN0aW9uIGhhc2hDaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgIGlmICghZW5zdXJlU2xhc2goKSkgcmV0dXJuOyAvLyBBbHdheXMgbWFrZSBzdXJlIGhhc2hlcyBhcmUgcHJlY2VlZGVkIHdpdGggYSAvLlxuXG4gICAgICB0cmFuc2l0aW9uVG8oZ2V0Q3VycmVudExvY2F0aW9uKCkpO1xuICAgIH1cblxuICAgIGVuc3VyZVNsYXNoKCk7XG4gICAgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VMaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VMaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcbiAgICB2YXIgYmFzZW5hbWUgPSBsb2NhdGlvbi5iYXNlbmFtZTtcbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuICAgIHZhciBhY3Rpb24gPSBsb2NhdGlvbi5hY3Rpb247XG4gICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleTtcblxuICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyBzZWFyY2g7XG5cbiAgICBpZiAocXVlcnlLZXkpIHtcbiAgICAgIHBhdGggPSBhZGRRdWVyeVN0cmluZ1ZhbHVlVG9QYXRoKHBhdGgsIHF1ZXJ5S2V5LCBrZXkpO1xuICAgICAgX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGUoa2V5LCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERyb3Aga2V5IGFuZCBzdGF0ZS5cbiAgICAgIGxvY2F0aW9uLmtleSA9IGxvY2F0aW9uLnN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudEhhc2ggPSBfRE9NVXRpbHMuZ2V0SGFzaFBhdGgoKTtcblxuICAgIGlmIChhY3Rpb24gPT09IF9BY3Rpb25zLlBVU0gpIHtcbiAgICAgIGlmIChjdXJyZW50SGFzaCAhPT0gcGF0aCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdZb3UgY2Fubm90IFBVU0ggdGhlIHNhbWUgcGF0aCB1c2luZyBoYXNoIGhpc3RvcnknKSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRIYXNoICE9PSBwYXRoKSB7XG4gICAgICAvLyBSRVBMQUNFXG4gICAgICBfRE9NVXRpbHMucmVwbGFjZUhhc2hQYXRoKHBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcbiAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcbiAgfSkpO1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcbiAgICAgIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BIYXNoQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBsb2NhdGlvbi5zdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgaGlzdG9yeS5wdXNoKGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgbG9jYXRpb24uc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblxuICAgIGhpc3RvcnkucmVwbGFjZShsb2NhdGlvbik7XG4gIH1cblxuICB2YXIgZ29Jc1N1cHBvcnRlZFdpdGhvdXRSZWxvYWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKTtcblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGdvSXNTdXBwb3J0ZWRXaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJykgOiB1bmRlZmluZWQ7XG5cbiAgICBoaXN0b3J5LmdvKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihwYXRoKSB7XG4gICAgcmV0dXJuICcjJyArIGhpc3RvcnkuY3JlYXRlSHJlZihwYXRoKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHN0YXJ0SGFzaENoYW5nZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgaGlzdG9yeS5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGhpc3RvcnkudW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXG4gICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lcigpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblxuICAgIGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBwYXRoKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHF1ZXJ5S2V5IHx8IHN0YXRlID09IG51bGwsICdZb3UgY2Fubm90IHVzZSBzdGF0ZSB3aXRob3V0IGEgcXVlcnlLZXkgaXQgd2lsbCBiZSBkcm9wcGVkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgcGF0aCk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICBsaXN0ZW46IGxpc3RlbixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG5cbiAgICByZWdpc3RlclRyYW5zaXRpb25Ib29rOiByZWdpc3RlclRyYW5zaXRpb25Ib29rLCAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG4gICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3RvcnlcbiAgICBwdXNoU3RhdGU6IHB1c2hTdGF0ZSwgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuICAgIHJlcGxhY2VTdGF0ZTogcmVwbGFjZVN0YXRlIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3RvcnlcbiAgfSk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUhhc2hIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL2NyZWF0ZUhhc2hIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfZGVlcEVxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xuXG52YXIgX2RlZXBFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9jcmVhdGVMb2NhdGlvbjIgPSByZXF1aXJlKCcuL2NyZWF0ZUxvY2F0aW9uJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTG9jYXRpb24yKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IHJlcXVpcmUoJy4vcnVuVHJhbnNpdGlvbkhvb2snKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxuZnVuY3Rpb24gY3JlYXRlUmFuZG9tS2V5KGxlbmd0aCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmXG4gIC8vYS5hY3Rpb24gPT09IGIuYWN0aW9uICYmIC8vIERpZmZlcmVudCBhY3Rpb24gIT09IGxvY2F0aW9uIGNoYW5nZS5cbiAgYS5rZXkgPT09IGIua2V5ICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10oYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbnZhciBEZWZhdWx0S2V5TGVuZ3RoID0gNjtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IG9wdGlvbnMuZ2V0Q3VycmVudExvY2F0aW9uO1xuICB2YXIgZmluaXNoVHJhbnNpdGlvbiA9IG9wdGlvbnMuZmluaXNoVHJhbnNpdGlvbjtcbiAgdmFyIHNhdmVTdGF0ZSA9IG9wdGlvbnMuc2F2ZVN0YXRlO1xuICB2YXIgZ28gPSBvcHRpb25zLmdvO1xuICB2YXIgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IG9wdGlvbnMuZ2V0VXNlckNvbmZpcm1hdGlvbjtcbiAgdmFyIGtleUxlbmd0aCA9IG9wdGlvbnMua2V5TGVuZ3RoO1xuXG4gIGlmICh0eXBlb2Yga2V5TGVuZ3RoICE9PSAnbnVtYmVyJykga2V5TGVuZ3RoID0gRGVmYXVsdEtleUxlbmd0aDtcblxuICB2YXIgdHJhbnNpdGlvbkhvb2tzID0gW107XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICB0cmFuc2l0aW9uSG9va3MucHVzaChob29rKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxLZXlzID0gW107XG4gIHZhciBjaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIGxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAmJiBwZW5kaW5nTG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHtcbiAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YocGVuZGluZ0xvY2F0aW9uLmtleSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGFsbEtleXMuaW5kZXhPZihsb2NhdGlvbi5rZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb24obmV3TG9jYXRpb24pIHtcbiAgICB2YXIgY3VycmVudCA9IGdldEN1cnJlbnQoKTtcblxuICAgIGxvY2F0aW9uID0gbmV3TG9jYXRpb247XG5cbiAgICBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBhbGxLZXlzID0gW10uY29uY2F0KGFsbEtleXMuc2xpY2UoMCwgY3VycmVudCArIDEpLCBbbG9jYXRpb24ua2V5XSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlJFUExBQ0UpIHtcbiAgICAgIGFsbEtleXNbY3VycmVudF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgfVxuXG4gICAgY2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcihsb2NhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBjaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9sb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgYWxsS2V5cyA9IFtfbG9jYXRpb24ua2V5XTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKF9sb2NhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZUxpc3RlbmVycyA9IGNoYW5nZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgX0FzeW5jVXRpbHMubG9vcEFzeW5jKHRyYW5zaXRpb25Ib29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKHRyYW5zaXRpb25Ib29rc1tpbmRleF0sIGxvY2F0aW9uLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGRvbmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAoZ2V0VXNlckNvbmZpcm1hdGlvbiAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgICBjYWxsYmFjayhvayAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwZW5kaW5nTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiAmJiBsb2NhdGlvbnNBcmVFcXVhbChsb2NhdGlvbiwgbmV4dExvY2F0aW9uKSkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xuXG4gICAgY29uZmlybVRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gbmV4dExvY2F0aW9uKSByZXR1cm47IC8vIFRyYW5zaXRpb24gd2FzIGludGVycnVwdGVkLlxuXG4gICAgICBpZiAob2spIHtcbiAgICAgICAgLy8gdHJlYXQgUFVTSCB0byBjdXJyZW50IHBhdGggbGlrZSBSRVBMQUNFIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBicm93c2Vyc1xuICAgICAgICBpZiAobmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgICAgIHZhciBwcmV2UGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgICAgIHZhciBuZXh0UGF0aCA9IGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKTtcblxuICAgICAgICAgIGlmIChuZXh0UGF0aCA9PT0gcHJldlBhdGggJiYgX2RlZXBFcXVhbDJbJ2RlZmF1bHQnXShsb2NhdGlvbi5zdGF0ZSwgbmV4dExvY2F0aW9uLnN0YXRlKSkgbmV4dExvY2F0aW9uLmFjdGlvbiA9IF9BY3Rpb25zLlJFUExBQ0U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmluaXNoVHJhbnNpdGlvbihuZXh0TG9jYXRpb24pICE9PSBmYWxzZSkgdXBkYXRlTG9jYXRpb24obmV4dExvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24gJiYgbmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobG9jYXRpb24ua2V5KTtcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IGFsbEtleXMuaW5kZXhPZihuZXh0TG9jYXRpb24ua2V5KTtcblxuICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSAmJiBuZXh0SW5kZXggIT09IC0xKSBnbyhwcmV2SW5kZXggLSBuZXh0SW5kZXgpOyAvLyBSZXN0b3JlIHRoZSBVUkwuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgdHJhbnNpdGlvblRvKGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBfQWN0aW9ucy5QVVNILCBjcmVhdGVLZXkoKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUkVQTEFDRSwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJhbmRvbUtleShrZXlMZW5ndGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiA9PSBudWxsIHx8IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHJldHVybiBsb2NhdGlvbjtcblxuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG4gICAgdmFyIHJlc3VsdCA9IHBhdGhuYW1lO1xuXG4gICAgaWYgKHNlYXJjaCkgcmVzdWx0ICs9IHNlYXJjaDtcblxuICAgIGlmIChoYXNoKSByZXN1bHQgKz0gaGFzaDtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBjcmVhdGVLZXkoKSA6IGFyZ3VtZW50c1syXTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArICdsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgobG9jYXRpb24pO1xuXG4gICAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgICBhY3Rpb24gPSBrZXk7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbM10gfHwgY3JlYXRlS2V5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jcmVhdGVMb2NhdGlvbjNbJ2RlZmF1bHQnXShsb2NhdGlvbiwgYWN0aW9uLCBrZXkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpO1xuICAgICAgdXBkYXRlTG9jYXRpb24obG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVMb2NhdGlvblN0YXRlKGdldEN1cnJlbnRMb2NhdGlvbigpLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpIHtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbi5zdGF0ZSwgc3RhdGUpO1xuICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKHRyYW5zaXRpb25Ib29rcy5pbmRleE9mKGhvb2spID09PSAtMSkgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgdHJhbnNpdGlvbkhvb2tzID0gdHJhbnNpdGlvbkhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG4gICAgfSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgdHJhbnNpdGlvblRvOiB0cmFuc2l0aW9uVG8sXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBjcmVhdGVLZXk6IGNyZWF0ZUtleSxcbiAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXG4gICAgc2V0U3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10oc2V0U3RhdGUsICdzZXRTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgbG9jYXRpb24ua2V5IHRvIHNhdmUgc3RhdGUgaW5zdGVhZCcpLFxuICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3JlZ2lzdGVyVHJhbnNpdGlvbkhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIGxpc3RlbkJlZm9yZSBpbnN0ZWFkJyksXG4gICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3VucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgdGhlIGNhbGxiYWNrIHJldHVybmVkIGZyb20gbGlzdGVuQmVmb3JlIGluc3RlYWQnKSxcbiAgICBwdXNoU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocHVzaFN0YXRlLCAncHVzaFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBwdXNoIGluc3RlYWQnKSxcbiAgICByZXBsYWNlU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVwbGFjZVN0YXRlLCAncmVwbGFjZVN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSByZXBsYWNlIGluc3RlYWQnKVxuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvbGliL2NyZWF0ZUhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rID0gcmVxdWlyZSgnLi9ydW5UcmFuc2l0aW9uSG9vaycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1blRyYW5zaXRpb25Ib29rKTtcblxudmFyIF9kZXByZWNhdGUgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZScpO1xuXG52YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXG5mdW5jdGlvbiB1c2VCYXNlbmFtZShjcmVhdGVIaXN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblxuICAgIHZhciBiYXNlbmFtZSA9IG9wdGlvbnMuYmFzZW5hbWU7XG5cbiAgICB2YXIgY2hlY2tlZEJhc2VIcmVmID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBjaGVja0Jhc2VIcmVmKCkge1xuICAgICAgaWYgKGNoZWNrZWRCYXNlSHJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdXNlIHRoZSB2YWx1ZSBvZiA8YmFzZSBocmVmPiBpbiBIVE1MXG4gICAgICAvLyBkb2N1bWVudHMgYXMgYmFzZW5hbWUgaWYgaXQncyBub3QgZXhwbGljaXRseSBnaXZlbi5cbiAgICAgIGlmIChiYXNlbmFtZSA9PSBudWxsICYmIF9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAgICAgdmFyIGJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYmFzZScpWzBdO1xuICAgICAgICB2YXIgYmFzZUhyZWYgPSBiYXNlICYmIGJhc2UuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cbiAgICAgICAgaWYgKGJhc2VIcmVmICE9IG51bGwpIHtcbiAgICAgICAgICBiYXNlbmFtZSA9IGJhc2VIcmVmO1xuXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnQXV0b21hdGljYWxseSBzZXR0aW5nIGJhc2VuYW1lIHVzaW5nIDxiYXNlIGhyZWY+IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgJyArICdiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFRoZSBzZW1hbnRpY3Mgb2YgPGJhc2UgaHJlZj4gYXJlICcgKyAnc3VidGx5IGRpZmZlcmVudCBmcm9tIGJhc2VuYW1lLiBQbGVhc2UgcGFzcyB0aGUgYmFzZW5hbWUgZXhwbGljaXRseSBpbiAnICsgJ3RoZSBvcHRpb25zIHRvIGNyZWF0ZUhpc3RvcnknKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGVja2VkQmFzZUhyZWYgPSB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEJhc2VuYW1lKGxvY2F0aW9uKSB7XG4gICAgICBjaGVja0Jhc2VIcmVmKCk7XG5cbiAgICAgIGlmIChiYXNlbmFtZSAmJiBsb2NhdGlvbi5iYXNlbmFtZSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKGJhc2VuYW1lKSA9PT0gMCkge1xuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKGJhc2VuYW1lLmxlbmd0aCk7XG4gICAgICAgICAgbG9jYXRpb24uYmFzZW5hbWUgPSBiYXNlbmFtZTtcblxuICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJycpIGxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2F0aW9uLmJhc2VuYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikge1xuICAgICAgY2hlY2tCYXNlSHJlZigpO1xuXG4gICAgICBpZiAoIWJhc2VuYW1lKSByZXR1cm4gbG9jYXRpb247XG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblxuICAgICAgdmFyIHBuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICB2YXIgbm9ybWFsaXplZEJhc2VuYW1lID0gYmFzZW5hbWUuc2xpY2UoLTEpID09PSAnLycgPyBiYXNlbmFtZSA6IGJhc2VuYW1lICsgJy8nO1xuICAgICAgdmFyIG5vcm1hbGl6ZWRQYXRobmFtZSA9IHBuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gcG5hbWUuc2xpY2UoMSkgOiBwbmFtZTtcbiAgICAgIHZhciBwYXRobmFtZSA9IG5vcm1hbGl6ZWRCYXNlbmFtZSArIG5vcm1hbGl6ZWRQYXRobmFtZTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xuICAgICAgICBwYXRobmFtZTogcGF0aG5hbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGFsbCByZWFkIG1ldGhvZHMgd2l0aCBiYXNlbmFtZS1hd2FyZSB2ZXJzaW9ucy5cbiAgICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUoaG9vaykge1xuICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuQmVmb3JlKGZ1bmN0aW9uIChsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKGhvb2ssIGFkZEJhc2VuYW1lKGxvY2F0aW9uKSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgIGxpc3RlbmVyKGFkZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbGwgd3JpdGUgbWV0aG9kcyB3aXRoIGJhc2VuYW1lLWF3YXJlIHZlcnNpb25zLlxuICAgIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcbiAgICAgIGhpc3RvcnkucHVzaChwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2UocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlUGF0aChwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVIcmVmKHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRCYXNlbmFtZShoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uLmFwcGx5KGhpc3RvcnksIFtwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pXS5jb25jYXQoYXJncykpKTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICAgIGxpc3RlbjogbGlzdGVuLFxuICAgICAgcHVzaDogcHVzaCxcbiAgICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbixcblxuICAgICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG4gICAgICByZXBsYWNlU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVwbGFjZVN0YXRlLCAncmVwbGFjZVN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSByZXBsYWNlIGluc3RlYWQnKVxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSB1c2VCYXNlbmFtZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi91c2VCYXNlbmFtZS5qc1xuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9Qcm9wVHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgYm9vbCA9IF9SZWFjdCRQcm9wVHlwZXMuYm9vbDtcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcbnZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcbnZhciBmdW5jID0gX1JlYWN0JFByb3BUeXBlcy5mdW5jO1xudmFyIG9uZU9mVHlwZSA9IF9SZWFjdCRQcm9wVHlwZXMub25lT2ZUeXBlO1xuXG5cbmZ1bmN0aW9uIGlzTGVmdENsaWNrRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LmJ1dHRvbiA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiAhIShldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KTtcbn1cblxuLy8gVE9ETzogRGUtZHVwbGljYXRlIGFnYWluc3QgaGFzQW55UHJvcGVydGllcyBpbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5cbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qob2JqZWN0KSB7XG4gIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHApKSByZXR1cm4gZmFsc2U7XG4gIH1yZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb25EZXNjcmlwdG9yKHRvLCBfcmVmKSB7XG4gIHZhciBxdWVyeSA9IF9yZWYucXVlcnk7XG4gIHZhciBoYXNoID0gX3JlZi5oYXNoO1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gIGlmIChxdWVyeSB8fCBoYXNoIHx8IHN0YXRlKSB7XG4gICAgcmV0dXJuIHsgcGF0aG5hbWU6IHRvLCBxdWVyeTogcXVlcnksIGhhc2g6IGhhc2gsIHN0YXRlOiBzdGF0ZSB9O1xuICB9XG5cbiAgcmV0dXJuIHRvO1xufVxuXG4vKipcbiAqIEEgPExpbms+IGlzIHVzZWQgdG8gY3JlYXRlIGFuIDxhPiBlbGVtZW50IHRoYXQgbGlua3MgdG8gYSByb3V0ZS5cbiAqIFdoZW4gdGhhdCByb3V0ZSBpcyBhY3RpdmUsIHRoZSBsaW5rIGdldHMgdGhlIHZhbHVlIG9mIGl0c1xuICogYWN0aXZlQ2xhc3NOYW1lIHByb3AuXG4gKlxuICogRm9yIGV4YW1wbGUsIGFzc3VtaW5nIHlvdSBoYXZlIHRoZSBmb2xsb3dpbmcgcm91dGU6XG4gKlxuICogICA8Um91dGUgcGF0aD1cIi9wb3N0cy86cG9zdElEXCIgY29tcG9uZW50PXtQb3N0fSAvPlxuICpcbiAqIFlvdSBjb3VsZCB1c2UgdGhlIGZvbGxvd2luZyBjb21wb25lbnQgdG8gbGluayB0byB0aGF0IHJvdXRlOlxuICpcbiAqICAgPExpbmsgdG89e2AvcG9zdHMvJHtwb3N0LmlkfWB9IC8+XG4gKlxuICogTGlua3MgbWF5IHBhc3MgYWxvbmcgbG9jYXRpb24gc3RhdGUgYW5kL29yIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzXG4gKiBpbiB0aGUgc3RhdGUvcXVlcnkgcHJvcHMsIHJlc3BlY3RpdmVseS5cbiAqXG4gKiAgIDxMaW5rIC4uLiBxdWVyeT17eyBzaG93OiB0cnVlIH19IHN0YXRlPXt7IHRoZTogJ3N0YXRlJyB9fSAvPlxuICovXG52YXIgTGluayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnTGluaycsXG5cblxuICBjb250ZXh0VHlwZXM6IHtcbiAgICByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGVcbiAgfSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICB0bzogb25lT2ZUeXBlKFtzdHJpbmcsIG9iamVjdF0pLFxuICAgIHF1ZXJ5OiBvYmplY3QsXG4gICAgaGFzaDogc3RyaW5nLFxuICAgIHN0YXRlOiBvYmplY3QsXG4gICAgYWN0aXZlU3R5bGU6IG9iamVjdCxcbiAgICBhY3RpdmVDbGFzc05hbWU6IHN0cmluZyxcbiAgICBvbmx5QWN0aXZlT25JbmRleDogYm9vbC5pc1JlcXVpcmVkLFxuICAgIG9uQ2xpY2s6IGZ1bmMsXG4gICAgdGFyZ2V0OiBzdHJpbmdcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25seUFjdGl2ZU9uSW5kZXg6IGZhbHNlLFxuICAgICAgc3R5bGU6IHt9XG4gICAgfTtcbiAgfSxcbiAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25DbGljaykgdGhpcy5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcblxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cbiAgICAhdGhpcy5jb250ZXh0LnJvdXRlciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8TGluaz5zIHJlbmRlcmVkIG91dHNpZGUgb2YgYSByb3V0ZXIgY29udGV4dCBjYW5ub3QgbmF2aWdhdGUuJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgaWYgKGlzTW9kaWZpZWRFdmVudChldmVudCkgfHwgIWlzTGVmdENsaWNrRXZlbnQoZXZlbnQpKSByZXR1cm47XG5cbiAgICAvLyBJZiB0YXJnZXQgcHJvcCBpcyBzZXQgKGUuZy4gdG8gXCJfYmxhbmtcIiksIGxldCBicm93c2VyIGhhbmRsZSBsaW5rLlxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdW50ZXN0YWJsZSB3aXRoIEthcm1hICovXG4gICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0KSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHRvID0gX3Byb3BzLnRvO1xuICAgIHZhciBxdWVyeSA9IF9wcm9wcy5xdWVyeTtcbiAgICB2YXIgaGFzaCA9IF9wcm9wcy5oYXNoO1xuICAgIHZhciBzdGF0ZSA9IF9wcm9wcy5zdGF0ZTtcblxuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uRGVzY3JpcHRvcih0bywgeyBxdWVyeTogcXVlcnksIGhhc2g6IGhhc2gsIHN0YXRlOiBzdGF0ZSB9KTtcblxuICAgIHRoaXMuY29udGV4dC5yb3V0ZXIucHVzaChsb2NhdGlvbik7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdG8gPSBfcHJvcHMyLnRvO1xuICAgIHZhciBxdWVyeSA9IF9wcm9wczIucXVlcnk7XG4gICAgdmFyIGhhc2ggPSBfcHJvcHMyLmhhc2g7XG4gICAgdmFyIHN0YXRlID0gX3Byb3BzMi5zdGF0ZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gX3Byb3BzMi5hY3RpdmVDbGFzc05hbWU7XG4gICAgdmFyIGFjdGl2ZVN0eWxlID0gX3Byb3BzMi5hY3RpdmVTdHlsZTtcbiAgICB2YXIgb25seUFjdGl2ZU9uSW5kZXggPSBfcHJvcHMyLm9ubHlBY3RpdmVPbkluZGV4O1xuXG4gICAgdmFyIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczIsIFsndG8nLCAncXVlcnknLCAnaGFzaCcsICdzdGF0ZScsICdhY3RpdmVDbGFzc05hbWUnLCAnYWN0aXZlU3R5bGUnLCAnb25seUFjdGl2ZU9uSW5kZXgnXSk7XG5cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSghKHF1ZXJ5IHx8IGhhc2ggfHwgc3RhdGUpLCAndGhlIGBxdWVyeWAsIGBoYXNoYCwgYW5kIGBzdGF0ZWAgcHJvcHMgb24gYDxMaW5rPmAgYXJlIGRlcHJlY2F0ZWQsIHVzZSBgPExpbmsgdG89e3sgcGF0aG5hbWUsIHF1ZXJ5LCBoYXNoLCBzdGF0ZSB9fS8+LiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaXNBY3RpdmVkZXByZWNhdGVkJykgOiB2b2lkIDA7XG5cbiAgICAvLyBJZ25vcmUgaWYgcmVuZGVyZWQgb3V0c2lkZSB0aGUgY29udGV4dCBvZiByb3V0ZXIsIHNpbXBsaWZpZXMgdW5pdCB0ZXN0aW5nLlxuICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xuXG5cbiAgICBpZiAocm91dGVyKSB7XG4gICAgICAvLyBJZiB1c2VyIGRvZXMgbm90IHNwZWNpZnkgYSBgdG9gIHByb3AsIHJldHVybiBhbiBlbXB0eSBhbmNob3IgdGFnLlxuICAgICAgaWYgKHRvID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdhJywgcHJvcHMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbkRlc2NyaXB0b3IodG8sIHsgcXVlcnk6IHF1ZXJ5LCBoYXNoOiBoYXNoLCBzdGF0ZTogc3RhdGUgfSk7XG4gICAgICBwcm9wcy5ocmVmID0gcm91dGVyLmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuXG4gICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lIHx8IGFjdGl2ZVN0eWxlICE9IG51bGwgJiYgIWlzRW1wdHlPYmplY3QoYWN0aXZlU3R5bGUpKSB7XG4gICAgICAgIGlmIChyb3V0ZXIuaXNBY3RpdmUobG9jYXRpb24sIG9ubHlBY3RpdmVPbkluZGV4KSkge1xuICAgICAgICAgIGlmIChhY3RpdmVDbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgcHJvcHMuY2xhc3NOYW1lICs9ICcgJyArIGFjdGl2ZUNsYXNzTmFtZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3BzLmNsYXNzTmFtZSA9IGFjdGl2ZUNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCBhY3RpdmVTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgb25DbGljazogdGhpcy5oYW5kbGVDbGljayB9KSk7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMaW5rO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvTGluay5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcbnZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBBIDxSZWRpcmVjdD4gaXMgdXNlZCB0byBkZWNsYXJlIGFub3RoZXIgVVJMIHBhdGggYSBjbGllbnQgc2hvdWxkXG4gKiBiZSBzZW50IHRvIHdoZW4gdGhleSByZXF1ZXN0IGEgZ2l2ZW4gVVJMLlxuICpcbiAqIFJlZGlyZWN0cyBhcmUgcGxhY2VkIGFsb25nc2lkZSByb3V0ZXMgaW4gdGhlIHJvdXRlIGNvbmZpZ3VyYXRpb25cbiAqIGFuZCBhcmUgdHJhdmVyc2VkIGluIHRoZSBzYW1lIG1hbm5lci5cbiAqL1xuXG52YXIgUmVkaXJlY3QgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JlZGlyZWN0JyxcblxuXG4gIHN0YXRpY3M6IHtcbiAgICBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICB2YXIgcm91dGUgPSAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KShlbGVtZW50KTtcblxuICAgICAgaWYgKHJvdXRlLmZyb20pIHJvdXRlLnBhdGggPSByb3V0ZS5mcm9tO1xuXG4gICAgICByb3V0ZS5vbkVudGVyID0gZnVuY3Rpb24gKG5leHRTdGF0ZSwgcmVwbGFjZSkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBuZXh0U3RhdGUubG9jYXRpb247XG4gICAgICAgIHZhciBwYXJhbXMgPSBuZXh0U3RhdGUucGFyYW1zO1xuXG5cbiAgICAgICAgdmFyIHBhdGhuYW1lID0gdm9pZCAwO1xuICAgICAgICBpZiAocm91dGUudG8uY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgICAgICBwYXRobmFtZSA9ICgwLCBfUGF0dGVyblV0aWxzLmZvcm1hdFBhdHRlcm4pKHJvdXRlLnRvLCBwYXJhbXMpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyb3V0ZS50bykge1xuICAgICAgICAgIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJvdXRlSW5kZXggPSBuZXh0U3RhdGUucm91dGVzLmluZGV4T2Yocm91dGUpO1xuICAgICAgICAgIHZhciBwYXJlbnRQYXR0ZXJuID0gUmVkaXJlY3QuZ2V0Um91dGVQYXR0ZXJuKG5leHRTdGF0ZS5yb3V0ZXMsIHJvdXRlSW5kZXggLSAxKTtcbiAgICAgICAgICB2YXIgcGF0dGVybiA9IHBhcmVudFBhdHRlcm4ucmVwbGFjZSgvXFwvKiQvLCAnLycpICsgcm91dGUudG87XG4gICAgICAgICAgcGF0aG5hbWUgPSAoMCwgX1BhdHRlcm5VdGlscy5mb3JtYXRQYXR0ZXJuKShwYXR0ZXJuLCBwYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVwbGFjZSh7XG4gICAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgICAgICAgIHF1ZXJ5OiByb3V0ZS5xdWVyeSB8fCBsb2NhdGlvbi5xdWVyeSxcbiAgICAgICAgICBzdGF0ZTogcm91dGUuc3RhdGUgfHwgbG9jYXRpb24uc3RhdGVcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcm91dGU7XG4gICAgfSxcbiAgICBnZXRSb3V0ZVBhdHRlcm46IGZ1bmN0aW9uIGdldFJvdXRlUGF0dGVybihyb3V0ZXMsIHJvdXRlSW5kZXgpIHtcbiAgICAgIHZhciBwYXJlbnRQYXR0ZXJuID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGkgPSByb3V0ZUluZGV4OyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XG4gICAgICAgIHZhciBwYXR0ZXJuID0gcm91dGUucGF0aCB8fCAnJztcblxuICAgICAgICBwYXJlbnRQYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKC9cXC8qJC8sICcvJykgKyBwYXJlbnRQYXR0ZXJuO1xuXG4gICAgICAgIGlmIChwYXR0ZXJuLmluZGV4T2YoJy8nKSA9PT0gMCkgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnLycgKyBwYXJlbnRQYXR0ZXJuO1xuICAgIH1cbiAgfSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZnJvbTogc3RyaW5nLCAvLyBBbGlhcyBmb3IgcGF0aFxuICAgIHRvOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBxdWVyeTogb2JqZWN0LFxuICAgIHN0YXRlOiBvYmplY3QsXG4gICAgb25FbnRlcjogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcbiAgfSxcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8UmVkaXJlY3Q+IGVsZW1lbnRzIGFyZSBmb3Igcm91dGVyIGNvbmZpZ3VyYXRpb24gb25seSBhbmQgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCcpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvUmVkaXJlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0cy5jcmVhdGVSb3V0ZXJPYmplY3QgPSBjcmVhdGVSb3V0ZXJPYmplY3Q7XG5leHBvcnRzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5ID0gY3JlYXRlUm91dGluZ0hpc3Rvcnk7XG5cbnZhciBfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcycpO1xuXG52YXIgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlck9iamVjdChoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcikge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICBzZXRSb3V0ZUxlYXZlSG9vazogdHJhbnNpdGlvbk1hbmFnZXIubGlzdGVuQmVmb3JlTGVhdmluZ1JvdXRlLFxuICAgIGlzQWN0aXZlOiB0cmFuc2l0aW9uTWFuYWdlci5pc0FjdGl2ZVxuICB9KTtcbn1cblxuLy8gZGVwcmVjYXRlZFxuZnVuY3Rpb24gY3JlYXRlUm91dGluZ0hpc3RvcnkoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpIHtcbiAgaGlzdG9yeSA9IF9leHRlbmRzKHt9LCBoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBoaXN0b3J5ID0gKDAsIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzMi5kZWZhdWx0KShoaXN0b3J5LCAnYHByb3BzLmhpc3RvcnlgIGFuZCBgY29udGV4dC5oaXN0b3J5YCBhcmUgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgY29udGV4dC5yb3V0ZXJgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItY29udGV4dGNoYW5nZXMnKTtcbiAgfVxuXG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlclV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVNZW1vcnlIaXN0b3J5O1xuXG52YXIgX3VzZVF1ZXJpZXMgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi91c2VRdWVyaWVzJyk7XG5cbnZhciBfdXNlUXVlcmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VRdWVyaWVzKTtcblxudmFyIF91c2VCYXNlbmFtZSA9IHJlcXVpcmUoJ2hpc3RvcnkvbGliL3VzZUJhc2VuYW1lJyk7XG5cbnZhciBfdXNlQmFzZW5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlQmFzZW5hbWUpO1xuXG52YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVNZW1vcnlIaXN0b3J5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShvcHRpb25zKSB7XG4gIC8vIHNpZ25hdHVyZXMgYW5kIHR5cGUgY2hlY2tpbmcgZGlmZmVyIGJldHdlZW4gYHVzZVJvdXRlc2AgYW5kXG4gIC8vIGBjcmVhdGVNZW1vcnlIaXN0b3J5YCwgaGF2ZSB0byBjcmVhdGUgYG1lbW9yeUhpc3RvcnlgIGZpcnN0IGJlY2F1c2VcbiAgLy8gYHVzZVF1ZXJpZXNgIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGUgc2lnbmF0dXJlXG4gIHZhciBtZW1vcnlIaXN0b3J5ID0gKDAsIF9jcmVhdGVNZW1vcnlIaXN0b3J5Mi5kZWZhdWx0KShvcHRpb25zKTtcbiAgdmFyIGNyZWF0ZUhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuICAgIHJldHVybiBtZW1vcnlIaXN0b3J5O1xuICB9O1xuICB2YXIgaGlzdG9yeSA9ICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoKDAsIF91c2VCYXNlbmFtZTIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkpKG9wdGlvbnMpO1xuICBoaXN0b3J5Ll9fdjJfY29tcGF0aWJsZV9fID0gdHJ1ZTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChjcmVhdGVIaXN0b3J5KSB7XG4gIHZhciBoaXN0b3J5ID0gdm9pZCAwO1xuICBpZiAoY2FuVXNlRE9NKSBoaXN0b3J5ID0gKDAsIF91c2VSb3V0ZXJIaXN0b3J5Mi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KSgpO1xuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbnZhciBfdXNlUm91dGVySGlzdG9yeSA9IHJlcXVpcmUoJy4vdXNlUm91dGVySGlzdG9yeScpO1xuXG52YXIgX3VzZVJvdXRlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUm91dGVySGlzdG9yeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9jcmVhdGVSb3V0ZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG1ha2VTdGF0ZVdpdGhMb2NhdGlvbjtcblxudmFyIF9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzID0gcmVxdWlyZSgnLi9kZXByZWNhdGVPYmplY3RQcm9wZXJ0aWVzJyk7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG1ha2VTdGF0ZVdpdGhMb2NhdGlvbihzdGF0ZSwgbG9jYXRpb24pIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgX2RlcHJlY2F0ZU9iamVjdFByb3BlcnRpZXMuY2FuVXNlTWVtYnJhbmUpIHtcbiAgICB2YXIgc3RhdGVXaXRoTG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgc3RhdGUpO1xuXG4gICAgLy8gSSBkb24ndCB1c2UgZGVwcmVjYXRlT2JqZWN0UHJvcGVydGllcyBoZXJlIGJlY2F1c2UgSSB3YW50IHRvIGtlZXAgdGhlXG4gICAgLy8gc2FtZSBjb2RlIHBhdGggYmV0d2VlbiBkZXZlbG9wbWVudCBhbmQgcHJvZHVjdGlvbiwgaW4gdGhhdCB3ZSBqdXN0XG4gICAgLy8gYXNzaWduIGV4dHJhIHByb3BlcnRpZXMgdG8gdGhlIGNvcHkgb2YgdGhlIHN0YXRlIG9iamVjdCBpbiBib3RoIGNhc2VzLlxuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcCkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobG9jYXRpb24sIHByb3ApKSB7XG4gICAgICAgIHJldHVybiAnY29udGludWUnO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RhdGVXaXRoTG9jYXRpb24sIHByb3AsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdBY2Nlc3NpbmcgbG9jYXRpb24gcHJvcGVydGllcyBkaXJlY3RseSBmcm9tIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgZ2V0Q29tcG9uZW50YCwgYGdldENvbXBvbmVudHNgLCBgZ2V0Q2hpbGRSb3V0ZXNgLCBhbmQgYGdldEluZGV4Um91dGVgIGlzIGRlcHJlY2F0ZWQuIFRoYXQgYXJndW1lbnQgaXMgbm93IHRoZSByb3V0ZXIgc3RhdGUgKGBuZXh0U3RhdGVgIG9yIGBwYXJ0aWFsTmV4dFN0YXRlYCkgcmF0aGVyIHRoYW4gdGhlIGxvY2F0aW9uLiBUbyBhY2Nlc3MgdGhlIGxvY2F0aW9uLCB1c2UgYG5leHRTdGF0ZS5sb2NhdGlvbmAgb3IgYHBhcnRpYWxOZXh0U3RhdGUubG9jYXRpb25gLicpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBsb2NhdGlvbltwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIHByb3AgaW4gbG9jYXRpb24pIHtcbiAgICAgIHZhciBfcmV0ID0gX2xvb3AocHJvcCk7XG5cbiAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGVXaXRoTG9jYXRpb247XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCBsb2NhdGlvbik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9tYWtlU3RhdGVXaXRoTG9jYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVzZVJvdXRlckhpc3Rvcnk7XG5cbnZhciBfdXNlUXVlcmllcyA9IHJlcXVpcmUoJ2hpc3RvcnkvbGliL3VzZVF1ZXJpZXMnKTtcblxudmFyIF91c2VRdWVyaWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMpO1xuXG52YXIgX3VzZUJhc2VuYW1lID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvdXNlQmFzZW5hbWUnKTtcblxudmFyIF91c2VCYXNlbmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VCYXNlbmFtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHVzZVJvdXRlckhpc3RvcnkoY3JlYXRlSGlzdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaGlzdG9yeSA9ICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoKDAsIF91c2VCYXNlbmFtZTIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkpKG9wdGlvbnMpO1xuICAgIGhpc3RvcnkuX192Ml9jb21wYXRpYmxlX18gPSB0cnVlO1xuICAgIHJldHVybiBoaXN0b3J5O1xuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvdXNlUm91dGVySGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgcmVwZWF0ID0gZXhwb3J0cy5yZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCB0aW1lcykge1xuICByZXR1cm4gbmV3IEFycmF5KHRpbWVzICsgMSkuam9pbihzdHIpO1xufTtcblxudmFyIHBhZCA9IGV4cG9ydHMucGFkID0gZnVuY3Rpb24gcGFkKG51bSwgbWF4TGVuZ3RoKSB7XG4gIHJldHVybiByZXBlYXQoXCIwXCIsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW07XG59O1xuXG52YXIgZm9ybWF0VGltZSA9IGV4cG9ydHMuZm9ybWF0VGltZSA9IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkge1xuICByZXR1cm4gcGFkKHRpbWUuZ2V0SG91cnMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldFNlY29uZHMoKSwgMikgKyBcIi5cIiArIHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKTtcbn07XG5cbi8vIFVzZSBwZXJmb3JtYW5jZSBBUEkgaWYgaXQncyBhdmFpbGFibGUgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciBwcmVjaXNpb25cbnZhciB0aW1lciA9IGV4cG9ydHMudGltZXIgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiID8gcGVyZm9ybWFuY2UgOiBEYXRlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWR1eC1sb2dnZXIvbGliL2hlbHBlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNRQUFBQW1DQVlBQUFDc3lEbVRBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlGcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TlMxak1ERTBJRGM1TGpFMU1UUTRNU3dnTWpBeE15OHdNeTh4TXkweE1qb3dPVG94TlNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVORElDaFhhVzVrYjNkektTSWdlRzF3VFUwNlNXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzJSa1EwUTBZeU56TTRSVEF4TVVVMk9VRkVSVUk1T0VJeVJFRXlPRUV5TUNJZ2VHMXdUVTA2Ukc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvMlJrUTBRMFl5T0RNNFJUQXhNVVUyT1VGRVJVSTVPRUl5UkVFeU9FRXlNQ0krSUR4NGJYQk5UVHBFWlhKcGRtVmtSbkp2YlNCemRGSmxaanBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2paR1JEUkRSakkxTXpoRk1ERXhSVFk1UVVSRlFqazRRakpFUVRJNFFUSXdJaUJ6ZEZKbFpqcGtiMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPalpHUkRSRFJqSTJNemhGTURFeFJUWTVRVVJGUWprNFFqSkVRVEk0UVRJd0lpOCtJRHd2Y21SbU9rUmxjMk55YVhCMGFXOXVQaUE4TDNKa1pqcFNSRVkrSUR3dmVEcDRiWEJ0WlhSaFBpQThQM2h3WVdOclpYUWdaVzVrUFNKeUlqOCt0L0g4RkFBQUFycEpSRUZVZU5yc1dFdHJGRUVRN3QxTUh1cEdVRFFFeFFlZVBJa0hMeEk4NUIrSWFFRFVtMlpWUkJTTU44R0xGeUhHb0lkZFFvZ2lpaVNIbUVQUW13aDZFandiVVJGQjBDQ2kwVVh6MkIyL2dscHBtdW5udE1rbEJkL083blJ0VFhWVjEyc0tsVXBsbnhEaUZyQUpXQkoyYWdGK0EzZUFJUTNQUWVBS3NONURaZzI0bHVCakZOZ2ovT2tHTUFsOHlGaXJBbDBCTXNlSytDaUljT3JVM0s4Rnl2dVJzUG1iZEJsNFpUSHRmWFl2MGFLR2I3NzVBT0Fvc0dDUXVSWjR5TmVGUkZtY0F0NVlkbEdURkxMUkgrQ3hpYUZjTG90cXRmcHZZMFZsZlp2RDRVczhYRUQ4SFNZR0tOTXA2MkVTUGd6c0F1ckFKZUN0eUVmMDBBcXdGZmdFbkFZYUtwTkpvYlBTK2xBa2hVNHA4aHRaVE10RnFlVzMxVUluZ1c1MjJVd0VoY2dhL1J3UVg3T3NZMVBvN24rdzBJaUxYMlY2YitHdkczSlBGaTF4Nkp2Qy9xZHNMZFZDQThCcnpkbEtPWXczZUdieUFVNk1XUlVoUmRpdmtWTkRvanpnaktjYjJqVDNTM3hkQjF6M2tGY2lTN3pMY1M2K2FPN1BCY3Fya1lXT0FWZlpVb3VPK1lUNEhoZ1VPZ0tjWTB1NXRoOVUvNFlMNklmRVNoTFZzcFZLak03cGZGV2hWWVh5VU1KWjhnU3dVV285YlNGS29md2tSdEZGcG03amhFeVpmSUlVdWdjY0RwQTF6OTNBOTV3NlVlbTQyZXd3eUdWN0F3VzFBOXNqdFNXLytIczNXZWlidEVodStBaTBhdjVJN3VyakNVRllwb21RNW0xT3JmWVhITTVGTDdCanVhSnNpNFcvNERsMUJFV1pUc0g5a210ZWNnWFBreVpvTXoxODlpZ2dYbVQxMWFiZFRrdTkwZ0hnZVFSdlBPTnJnM3VwdWs5aUxDbTVKK1lSS2JxNlRLWnhZQ2ViZFRaU0pFM3lXNUhaa0RIb2VPVHpTbTQ2NUJ0bG54Mm1qbnJrQnMwNGRmUndOTFFZcG80T2grZnNacjdVWmpWKzJaRElDclhMdGM1emc2MmErMCs1em5tbm9hS2lrUGVVWUpqSFFtZ3pXZWdpTU1oVjF6WEJVZnZ4eUREcDBwdTQ4N3paMUZFbVRUSzMvd293QUluUGtWV1FTN3g0QUFBQUFFbEZUa1N1UW1DQ1wiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW1hZ2VzL1FSRW50cnkucG5nXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvOS8zLlxuICovXG5pbXBvcnQgc2VhcmNoIGZyb20gJy4uL2FwaS9zZWFyY2gnXG5cbmltcG9ydCB7XG4gICAgUkVRVUVTVF9IT1RfU0VBUkNILFxuICAgIFJFQ0VJVkVfSE9UX1NFQVJDSCxcbiAgICBSRVFVRVNUX0hJU1RPUllfU0VBUkNILFxuICAgIFJFQ0VJVkVfSElTVE9SWV9TRUFSQ0gsXG4gICAgREVMRVRFX0hJU1RPUllfU1VDQ0VTU1xufSBmcm9tICcuL0FjdGlvblR5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG90U2VhcmNoKCkge1xuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFJFUVVFU1RfSE9UX1NFQVJDSFxuICAgICAgICB9KVxuICAgICAgICBzZWFyY2guZ2V0SG90U2VhcmNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFJFQ0VJVkVfSE9UX1NFQVJDSCxcbiAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaXN0b3J5U2VhcmNoKHBhZ2UsIG51bSkge1xuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFJFUVVFU1RfSElTVE9SWV9TRUFSQ0hcbiAgICAgICAgfSlcbiAgICAgICAgc2VhcmNoLmdldEhpc3RvcnlTZWFyY2gocGFnZSwgbnVtLCBkYXRhID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBSRUNFSVZFX0hJU1RPUllfU0VBUkNILFxuICAgICAgICAgICAgICAgIGRhdGE6ZGF0YS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgLy8gZGF0YTogW1wi5rWL6K+VXCIsXCLmtYvor5VcIl0sXG4gICAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgICAgICBudW1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUhpc3RvcnkoKXtcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgICAgICBzZWFyY2guZGVsZXRlSGlzdG9yeShkYXRhID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBERUxFVEVfSElTVE9SWV9TVUNDRVNTXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9hY3Rpb25zL3NlYXJjaC5qcyIsImltcG9ydCB7IGRvbWFpbiB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IGFwaUhhbmRsZXIgZnJvbSBcIi4uL3V0aWwvYXBpSGFuZGxlclwiXG5pbXBvcnQgbWVzc2FnZSBmcm9tICcuLi91dGlsL3dldWkvbWVzc2FnZSdcblxuZXhwb3J0IGRlZmF1bHQgIHtcbiAgICBnZXRVc2VySW5mbyhjYikge1xuXG4gICAgICAgIGZldGNoKGRvbWFpbiArIGAvYXBpL3YxL3VzZXIvZ2V0dXNlcm5vd2AsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSk7XG4gICAgfSxcbiAgICBnZXRPdGhlclVzZXJJbmZvKGlkLCBjYikge1xuICAgICAgICBmZXRjaChkb21haW4gKyBgL2FwaS92MS91c2VyL2dldHVzZXJpbmZvP2lkPSR7aWR9YCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKSk7XG4gICAgfSxcbiAgICBlZGl0VXNlckluZm8oY29tcGFueSwgam9iLCBleHBlcmllbmNlLCB0ZWFjaGVyX3ByaXplLCBpbnRyb2R1Y3Rpb24sIGNiKSB7XG4gICAgICBmZXRjaCggZG9tYWluICsgYC9hcGkvdjEvdXNlci9lZGl0dXNlcm5vd2Ase1xuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBjb21wYW55LFxuICAgICAgICAgICAgICBwb3NpdGlvbjpqb2IsXG4gICAgICAgICAgICAgIGV4cGVyaWVuY2UsXG4gICAgICAgICAgICAgIHByaXplOnRlYWNoZXJfcHJpemUsXG4gICAgICAgICAgICAgIGludHJvZHVjdGlvblxuICAgICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSk7XG4gICAgfSxcbiAgICBnZXRMaXN0ZW5lZChwYWdlLCBudW0sIGNiKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi9teWxpc3Rlbj9wYWdlPSR7cGFnZX0mbnVtYmVyPSR7bnVtfWAsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgICB9LFxuICAgIGdldElBc2tlZChwYWdlLCBudW0sIGNiKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi9teXF1ZXN0aW9uP3BhZ2U9JHtwYWdlfSZudW1iZXI9JHtudW19YCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sY2IpKVxuICAgIH0sXG4gICAgZ2V0QXNrZWRNZShwYWdlLCBudW0sIGNiKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi9teWFuc3dlcj9wYWdlPSR7cGFnZX0mbnVtYmVyPSR7bnVtfWAsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgICB9LFxuICAgIHJlcXVlc3RCZWNvbWVUZWFjaGVyKGludml0ZSwgcHJpemUsIGNiKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKGRvbWFpbiArICcvYXBpL3YxL3VzZXIvYmV0ZWFjaGVyJyx7XG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpbnZpdGUsXG4gICAgICAgICAgICAgICAgcHJpemVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmKGpzb24uZXJyQ29kZSAhPSAwKXtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbGVydCgn5oKo6L6T5YWl55qE6YKA6K+356CB5pyJ6K+v77yM6K+35qC45a+55ZCO5aGr5YaZJywoKSA9Pntjb25zb2xlLmxvZygnaGlkZScpfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sY2IpXG4gICAgICAgICAgICB9KVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9hcGkvYWNjb3VudC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzEzLlxuICovXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcbmltcG9ydCB7IGRvbWFpbiB9IGZyb20gJy4vY29uZmlnJ1xuY29uc3QgZW52ID0gJ2RldmVsb3BtZW50J1xuaW1wb3J0IGFwaUhhbmRsZXIgZnJvbSBcIi4uL3V0aWwvYXBpSGFuZGxlclwiXG5cbmV4cG9ydCBkZWZhdWx0ICB7XG4gIGdldEhvdFF1ZXN0aW9uTGlzdChwYWdlLCBudW0sIHNlYXJjaCwgY2Ipe1xuICAgIGxldCB1cmwgPSBgJHtkb21haW59L2FwaS92MS9xdWVzdGlvbi9nZXR0b3BpYz9wYWdlPSR7cGFnZX0mbnVtYmVyPSR7bnVtfWBcbiAgICBpZihzZWFyY2gpXG4gICAgICAgIHVybCArPSBgJnNlYXJjaD0ke3NlYXJjaH1gXG4gICAgZmV0Y2godXJsLHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+XG4gICAgICAgICAgcmVzcG9uc2UuanNvbigpXG4gICAgICAgIC8vIGRhdGEucXVlc3Rpb25MaXN0XG4gICAgICApXG4gICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbixjYikpXG4gIH0sXG4gIGdldFF1ZXN0aW9uSW5mbyhpZCwgY2Ipe1xuICAgIGNvbnN0IHVybCA9IGRvbWFpbiArICcvYXBpL3YxL3F1ZXN0aW9uL2dldHF1ZXN0aW9uP2lkPScgKyBpZDtcbiAgICBmZXRjaCh1cmwse1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT5cbiAgICAgICAgICByZXNwb25zZS5qc29uKClcbiAgICAgICAgLy8gZGF0YS5xdWVzdGlvbkluZm9cbiAgICAgIClcbiAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgfSxcbiAgZ2V0TGlzdGVuSW5mbyhhbnN3ZXJJZCxjYil7XG4gICAgZmV0Y2goYCR7ZG9tYWlufS9hcGkvdjEvYW5zd2VyL2xpc3Rlbj9hbnN3ZXJfaWQ9JHthbnN3ZXJJZH1gLHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgfSxcbiAgc2F2ZVZvaWNlKHNlcnZlcklkLHF1ZXN0aW9uSWQsY2IpIHtcbiAgICBmZXRjaCggYCR7ZG9tYWlufS9hcGkvdjEvYW5zd2VyL2Fuc3dlcmAse1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBzZXJ2ZXJfaWQ6c2VydmVySWQsXG4gICAgICAgIHF1ZXN0aW9uX2lkOnF1ZXN0aW9uSWRcbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHN3aXRjaChqc29uLmVyckNvZGUpe1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNiKGpzb24uZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG4gIHByaXNlUXVlc3Rpb24oYW5zd2VySWQsIGNiKXtcbiAgICBmZXRjaChgJHtkb21haW59L2FwaS92MS9xdWVzdGlvbi9saWtlP2Fuc3dlcl9pZD0ke2Fuc3dlcklkfWAsIHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oanNvbiA9PiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKSlcbiAgfSxcbiAgY2FuY2VsUHJpc2VRdWVzdGlvbihhbnN3ZXJJZCwgY2Ipe1xuICAgIGZldGNoKGAke2RvbWFpbn0vYXBpL3YxL3F1ZXN0aW9uL2NhbmNlbExpa2U/YW5zd2VyX2lkPSR7YW5zd2VySWR9YCwge1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpKVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvYXBpL3F1ZXN0aW9uLmpzIiwiaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnXG5pbXBvcnQge1xuICAgIGRvbWFpblxufSBmcm9tICcuL2NvbmZpZydcbmNvbnN0IGVudiA9ICdkZXZlbG9wbWVudCdcbmltcG9ydCBhcGlIYW5kbGVyIGZyb20gXCIuLi91dGlsL2FwaUhhbmRsZXJcIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZ2V0SG90U2VhcmNoKGNiKSB7XG4gICAgICAgIGxldCB1cmwgPSBgJHtkb21haW59L2FwaS92MS9ob3RgXG4gICAgICAgIGZldGNoKHVybCwge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgICAgICAvLyBkYXRhLnF1ZXN0aW9uTGlzdFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sIGNiKSlcbiAgICB9LFxuICAgIGdldEhpc3RvcnlTZWFyY2gocGFnZSwgbnVtLCBjYil7XG4gICAgICAgIGxldCB1cmwgPSBgJHtkb21haW59L2FwaS92MS9oaXN0b3J5P3BhZ2U9JHtwYWdlfSZudW1iZXI9JHtudW19YFxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbiwgY2IpKVxuICAgIH0sXG4gICAgZGVsZXRlSGlzdG9yeShjYil7XG4gICAgICAgIGxldCB1cmwgPSBgJHtkb21haW59L2FwaS92MS9oaXN0b3J5L2RlbGV0ZWBcbiAgICAgICAgZmV0Y2godXJsLHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLCBjYikpXG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvYXBpL3NlYXJjaC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE0LlxuICovXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcbmltcG9ydCB7IGRvbWFpbiB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IGFwaUhhbmRsZXIgZnJvbSBcIi4uL3V0aWwvYXBpSGFuZGxlclwiXG5cblxuZXhwb3J0IGRlZmF1bHQgIHtcbiAgZ2V0VHV0b3JMaXN0KHBhZ2UsIG51bSwgc2VhcmNoLCBjYil7XG4gICAgbGV0IHVybCA9IGRvbWFpbiArICcvYXBpL3YxL3VzZXIvZ2V0dGVhY2hlcj9wYWdlPScgKyBwYWdlICsgJyZudW1iZXI9JyArIG51bVxuICAgIGlmKHNlYXJjaClcbiAgICAgICAgdXJsICs9IFwiJnNlYXJjaD1cIitzZWFyY2hcbiAgICBmZXRjaCh1cmwse1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT5cbiAgICAgICAgICByZXNwb25zZS5qc29uKClcbiAgICAgICAgLy8gZGF0YS50dXRvckxpc3RcbiAgICAgIClcbiAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgfSxcbiAgZ2V0VHV0b3JJbmZvKGlkLGNiKXtcbiAgICBjb25zdCB1cmwgPSBkb21haW4gKyAnL2FwaS92MS91c2VyL2dldHVzZXJpbmZvP2lkPScraWRcbiAgICBmZXRjaCh1cmwse1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgLnRoZW4oanNvbiA9PiBhcGlIYW5kbGVyLmhhbmRsZVJlc3BvbnNlKGpzb24sY2IpKVxuICB9LFxuICBnZXRUdXRvckFuc3dlckxpc3QoaWQscGFnZSxudW1iZXIsY2Ipe1xuICAgIGNvbnN0IHVybCA9IGRvbWFpbiArIGAvYXBpL3YxL3VzZXIvZ2V0dGVhY2hlcmFuc3dlcj91c2VyX2lkPSR7aWR9JnBhZ2U9JHtwYWdlfSZudW1iZXI9JHtudW1iZXJ9YFxuICAgIGZldGNoKHVybCx7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihqc29uID0+IGFwaUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UoanNvbixjYikpXG4gIH0sXG4gIGdldFByZXBheUluZm8oY29udGVudCx0dXRvcklkLGNiKXtcbiAgICBjb25zdCB1cmwgPSBkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi90ZXN0cXVlc3Rpb24/Y29udGVudD0ke2NvbnRlbnR9JmFuc3dlcl91c2VyX2lkPSR7dHV0b3JJZH1gXG4gICAgZmV0Y2godXJsLHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2FwaS90dXRvci5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6c2ggb24gMjAxNi83LzExLlxuICovXG5pbXBvcnQgYXBpSGFuZGxlciBmcm9tIFwiLi4vdXRpbC9hcGlIYW5kbGVyXCJcbmltcG9ydCB7ZG9tYWlufSBmcm9tIFwiLi4vYXBpL2NvbmZpZ1wiXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldFdYQ29uZmlnKHVybCxjYil7XG4gICAgZmV0Y2goYCR7ZG9tYWlufS9hcGkvdjEvcXVlc3Rpb24vdGVzdGAse1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXJsXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKGpzb24gPT4gYXBpSGFuZGxlci5oYW5kbGVSZXNwb25zZShqc29uLGNiKSlcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9hcGkvd2VpeGluLmpzIiwiLyoqXG4gKiBjcmVhdGUgYnkgd3V3cVxuICovXG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEluZGV4TGluayxMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9BY2NvdW50LnNjc3MnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gJy4uL2FjdGlvbnMvYWNjb3VudCdcbmltcG9ydCB7YmFzZVVybH0gZnJvbSBcIi4uL2FwaS9jb25maWdcIlxuaW1wb3J0IExvYWRpbmcgZnJvbSBcIi4uL2NvbnRhaW5lcnMvTG9hZGluZ1wiXG5jbGFzcyBBY2NvdW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluZGV4OiAxLFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgICB0aGlzLnByb3BzLmdldFVzZXJJbmZvKCk7XG4gIH1cbiAgaGFuZGxlQ2xpY2sodmFsdWUsIGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aW5kZXg6IHZhbHVlfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucHJvcHMudXNlckluZm8udXNlcl9mYWNlID9cbiAgICAgIDxkaXYgaWQ9XCJhY2NvdW50SW5kZXhcIj5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMucHJvcHMudXNlckluZm8uaXNfdGVhY2hlciA9PT0gJzEnXG4gICAgICAgICAgPyA8TGluayBjbGFzc05hbWU9XCJlbnRyeS1sZWZ0XCIgdG89e2Jhc2VVcmwrYHR1dG9yL3NoYXJlLyR7dGhpcy5wcm9wcy51c2VySW5mby51c2VyX2lkfWB9ID5cbiAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJRUkVudHJ5XCIgc3JjPXtyZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL1FSRW50cnkucG5nXCIpfS8+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgOiAnJ1xuICAgICAgICB9XG4gICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cImVudHJ5LXJpZ2h0XCIgdG89e2Jhc2VVcmwrXCJlZGl0XCJ9ID5cbiAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImVkaXRFbnRyeVwiIHNyYz17cmVxdWlyZShcIi4uLy4uL2ltYWdlcy9FZGl0RW50cnkucG5nXCIpfS8+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkT3V0ZXJcIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPXt0aGlzLnByb3BzLnVzZXJJbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJ30vPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYW1lXCI+e3RoaXMucHJvcHMudXNlckluZm8udXNlcl9uYW1lfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc2l0aW9uXCI+e3RoaXMucHJvcHMudXNlckluZm8udXNlcl9jb21wYW55fSB7dGhpcy5wcm9wcy51c2VySW5mby51c2VyX3Bvc2l0aW9ufTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+e3RoaXMucHJvcHMudXNlckluZm8udXNlcl9pbnRyb2R1Y3Rpb259PC9kaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLnVzZXJJbmZvLmFuc3dlcl9udW0/PGRpdiBjbGFzc05hbWU9XCJkaXZpZGVyIHRvcFwiPjwvZGl2PjpcIlwifVxuICAgICAgICB7dGhpcy5wcm9wcy51c2VySW5mby5hbnN3ZXJfbnVtP1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0aWNzXCI+XG4gICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICA8bGk+e3RoaXMucHJvcHMudXNlckluZm8uYW5zd2VyX251bX3popg8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT57dGhpcy5wcm9wcy51c2VySW5mby5saXN0ZW5fbnVtfeasoTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPu+/pXt0aGlzLnByb3BzLnVzZXJJbmZvLnRlYWNoZXJfcHJpemV9PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT7lm57nrZTov4c8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT7ooqvlgbflkKw8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT7ouqvku7c8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+OlwiXCJcbiAgICAgICAgfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlkZXJXaWRlXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2XCI+XG4gICAgICAgICAgPEluZGV4TGluayB0bz17YmFzZVVybCtcImFjY291bnQvXCJ9IGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiID7lkKzov4fnmoQ8L0luZGV4TGluaz5cbiAgICAgICAgICA8TGluayB0bz17YmFzZVVybCtcImFjY291bnQvSUFza2VkTGlzdFwifSBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIiA+5oiR6Zeu55qEPC9MaW5rPlxuICAgICAgICAgIDxMaW5rIHRvPXtiYXNlVXJsK1wiYWNjb3VudC9Bc2tlZE1lTGlzdFwifSBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIiA+6Zeu5oiR55qEPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpZGVyXCI+PC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgeyB0aGlzLnByb3BzLmNoaWxkcmVuIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDogPExvYWRpbmcgLz5cbiAgICApXG4gIH1cbn1cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT57XG4gICAgcmV0dXJue1xuICAgICAgICB1c2VySW5mbzogc3RhdGUuYWNjb3VudC51c2VySW5mbyxcbiAgICB9XG59XG5cbkFjY291bnQgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgeyBnZXRVc2VySW5mbyB9KShBY2NvdW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb21wb25lbnRzL0FjY291bnQuanMiLCIvKipcbiAqIGNyZWF0ZSBieSB3dXdxXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtJbmRleExpbmssIExpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9BcHAuc2Nzcyc7XG5pbXBvcnQge2Jhc2VVcmx9IGZyb20gXCIuLi9hcGkvY29uZmlnXCJcbmltcG9ydCB7c2V0TGFuZFBhZ2V9IGZyb20gJy4uL2FjdGlvbnMvY29uZmlnLmpzJ1xuaW1wb3J0IFNlYXJjaEJhciBmcm9tIFwiLi4vY29udGFpbmVycy9TZWFyY2hCYXJcIlxuaW1wb3J0IFNlYXJjaFRpcHMgZnJvbSBcIi4uL2NvbnRhaW5lcnMvU2VhcmNoVGlwc1wiXG5pbXBvcnQgeyBnZXRXWENvbmZpZywgY29uZmlnU3VjY2VzcyB9IGZyb20gXCIuLi9hY3Rpb25zL2NvbmZpZ1wiXG5cbmNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb25maWdVcmxMaXN0ID0gW11cbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgaWYodGhpcy5wcm9wcy5sYW5kUGFnZT09bnVsbCl7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goc2V0TGFuZFBhZ2UobG9jYXRpb24uaHJlZikpXG4gICAgICB9XG4gICAgICB0aGlzLmNvbmZpZ1VybExpc3QucHVzaChcbiAgICAgICAgICBcImh0dHA6Ly9oNWFwcC43ZHlrLmNvbS9hbWEvN2R5ay9cIixcbiAgICAgICAgICB0aGlzLnByb3BzLmxhbmRQYWdlLFxuICAgICAgICAgIGxvY2F0aW9uLmhyZWZcbiAgICAgIClcbiAgICAgIGlmKCF0aGlzLnByb3BzLldYQ29uZmlnLnN1Y2Nlc3Mpe1xuICAgICAgICAgIHRoaXMucmVmcmVzaFdYQ29uZmlnKClcbiAgICAgIH1cbiAgICAgIHd4LmVycm9yKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgc2VsZi5yZWZyZXNoV1hDb25maWcoKVxuICAgICAgfSk7XG4gICAgICBsZXQgc2VsZiA9IHRoaXNcbiAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYoIXNlbGYucHJvcHMuV1hDb25maWcuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgIHNlbGYucHJvcHMuZGlzcGF0Y2goY29uZmlnU3VjY2VzcygpKVxuICAgICAgICAgIH1cbiAgICAgICAgICB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICB0aXRsZTogJ++8uzfngrnpl67nrZTvvL3pl67luIjlhYTvvIzpl67luIjlp5DvvIzpl67liY3ovognLCAvLyDliIbkuqvmoIfpophcbiAgICAgICAgICAgICAgZGVzYzogJ+Wkp+WtpueUn+iBjOWcuumXruetlOW5s+WPsO+8jOWvueS6juWNs+WwhuWIsOadpeeahOeni+aLm++8jOS9oOeahOmXrumimOmDveWPr+S7peWcqOi/memHjOino+WGs+OAgicsIC8vIOWIhuS6q+aPj+i/sFxuICAgICAgICAgICAgICBsaW5rOiBsb2NhdGlvbi5ocmVmLCAvLyDliIbkuqvpk77mjqVcbiAgICAgICAgICAgICAgaW1nVXJsOiByZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL2xvZ28uanBnXCIpLCAvLyDliIbkuqvlm77moIdcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvmiJDlip9cIikvLyDnlKjmiLfnoa7orqTliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5aSx6LSl77yM5Y6f5Zug5pivXCIrZXJyKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwi5YiG5Lqr5aSx6LSlXCIpLy8g55So5oi35Y+W5raI5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gIH1cbiAgcmVmcmVzaFdYQ29uZmlnKCl7XG4gICAgbGV0IHVybCA9IHRoaXMuY29uZmlnVXJsTGlzdC5wb3AoKVxuICAgIGlmKHVybCAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRXWENvbmZpZyh1cmwpKVxuICAgIH1cbiAgfVxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcyl7XG4gICAgaWYobmV4dFByb3BzLldYQ29uZmlnLmRhdGEudGltZXN0YW1wKXtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudmFsdWVPZigpXG4gICAgICBpZihub3cvMTAwMCAtIG5leHRQcm9wcy5XWENvbmZpZy5kYXRhLnRpbWVzdGFtcDwzKXtcbiAgICAgICAgY29uc3QganNBcGlMaXN0ID0gW1xuICAgICAgICAgICAgJ3N0YXJ0UmVjb3JkJyxcbiAgICAgICAgICAgICdzdG9wUmVjb3JkJyxcbiAgICAgICAgICAgICdwbGF5Vm9pY2UnLFxuICAgICAgICAgICAgJ3BhdXNlVm9pY2UnLFxuICAgICAgICAgICAgJ3N0b3BWb2ljZScsXG4gICAgICAgICAgICAndXBsb2FkVm9pY2UnLFxuICAgICAgICAgICAgJ2Nob29zZVdYUGF5JyxcbiAgICAgICAgICAgICdvbk1lbnVTaGFyZVRpbWVsaW5lJyxcbiAgICAgICAgICAgICdvbk1lbnVTaGFyZUFwcE1lc3NhZ2UnXG4gICAgICAgIF1cbiAgICAgICAgY29uc3QgbmV3V3hDb25maWcgPSB7fVxuICAgICAgICBuZXdXeENvbmZpZ1snZGVidWcnXSA9IGZhbHNlO1xuICAgICAgICBuZXdXeENvbmZpZ1snYXBwSWQnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhWydhcHBJZCddO1xuICAgICAgICBuZXdXeENvbmZpZ1sndGltZXN0YW1wJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXAudG9TdHJpbmcoKTtcbiAgICAgICAgbmV3V3hDb25maWdbJ25vbmNlU3RyJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnbm9uY2VTdHInXTtcbiAgICAgICAgbmV3V3hDb25maWdbJ3NpZ25hdHVyZSddID0gbmV4dFByb3BzLldYQ29uZmlnLmRhdGFbJ3NpZ25hdHVyZSddO1xuICAgICAgICBuZXdXeENvbmZpZ1snanNBcGlMaXN0J10gPSBqc0FwaUxpc3Q7XG4gICAgICAgIHd4LmNvbmZpZyhuZXdXeENvbmZpZylcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1jb250YWluZXJcIiByZWY9XCJjb250ZW50XCI+eyB0aGlzLnByb3BzLmNoaWxkcmVuIH08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGk+PEluZGV4TGluayBhY3RpdmVDbGFzc05hbWU9J2FjdGl2ZScgdG89e2Jhc2VVcmx9PueDreeCuTwvSW5kZXhMaW5rPjwvbGk+XG4gICAgICAgICAgICA8bGk+PExpbmsgYWN0aXZlQ2xhc3NOYW1lPSdhY3RpdmUnIHRvPXtiYXNlVXJsK1widHV0b3JcIn0+5a+85biIPC9MaW5rPjwvbGk+XG4gICAgICAgICAgICA8bGk+PExpbmsgYWN0aXZlQ2xhc3NOYW1lPSdhY3RpdmUnIHRvPXtiYXNlVXJsK1wiYWNjb3VudFwifT7miJHnmoQ8L0xpbms+PC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuQXBwID0gY29ubmVjdChzdGF0ZT0+KHtcbiAgICBsYW5kUGFnZTogc3RhdGUubGFuZFBhZ2UsXG4gICAgV1hDb25maWc6c3RhdGUuV1hDb25maWdcbn0pKShBcHApO1xuZXhwb3J0IGRlZmF1bHQgQXBwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvQXBwLmpzIiwiLyoqXG4gKiBjcmVhdGUgYnkgd3V3cVxuICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhvdFF1ZXN0aW9uTGlzdCBmcm9tICcuLi9jb250YWluZXJzL0hvdFF1ZXN0aW9uTGlzdC5qcydcbmNvbnN0IEhvdCA9ICgpID0+IHtcbiAgICByZXR1cm4oXG4gICAgICAgIDxIb3RRdWVzdGlvbkxpc3QgLz5cbiAgICApXG59XG5leHBvcnQgZGVmYXVsdCBIb3Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29tcG9uZW50cy9Ib3QuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvMTAvMzEuXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHticm93c2VySGlzdG9yeSxMaW5rfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCB7ZG9tYWluLGJhc2VVcmx9IGZyb20gXCIuLi9hcGkvY29uZmlnXCJcbmltcG9ydCBtZXNzYWdlIGZyb20gXCIuLi91dGlsL3dldWkvbWVzc2FnZVwiXG5pbXBvcnQgVG9hc3QgZnJvbSBcIi4uL3V0aWwvd2V1aS90b2FzdFwiXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5SW5kZXggZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlPXtcbiAgICAgICAgICAgIGxvYWRpbmc6dHJ1ZVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpe1xuICAgICAgICBjb25zdCB7dHlwZSxzdWNjZXNzVXJsLGZhaWxVcmx9ID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5xdWVyeVxuICAgICAgICBjb25zdCB1ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICAgICAgY29uc3QgaXNBbmRyb2lkID0gdS5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCB1LmluZGV4T2YoJ0FkcicpID4gLTE7IC8vYW5kcm9pZOe7iOerr1xuICAgICAgICBjb25zdCBpc2lPUyA9ICEhdS5tYXRjaCgvXFwoaVteO10rOyggVTspPyBDUFUuK01hYyBPUyBYLyk7IC8vaW9z57uI56uvXG4gICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sYW5kUGFnZS5pbmRleE9mKFwicGF5XCIpKVxuICAgICAgICBpZihpc2lPUyAmJiB3aW5kb3cubGFuZFBhZ2UuaW5kZXhPZihcInBheVwiKT09LTEpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLliLfmlrBcIilcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKVxuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlVcmw7XG4gICAgICAgIGlmKHR5cGU9PT1cInF1ZXN0aW9uXCIpe1xuICAgICAgICAgICAgY29uc3Qge2Fuc3dlcklkfSA9IHRoaXMucHJvcHMubG9jYXRpb24ucXVlcnlcbiAgICAgICAgICAgIHBheVVybCA9IGAke2RvbWFpbn0vYXBpL3YxL2Fuc3dlci9saXN0ZW4/YW5zd2VyX2lkPSR7YW5zd2VySWR9YFxuICAgICAgICB9ZWxzZSBpZih0eXBlPT09XCJ0dXRvclwiKXtcbiAgICAgICAgICAgIGNvbnN0IHtjb250ZW50LHR1dG9ySWR9ID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5xdWVyeVxuICAgICAgICAgICAgcGF5VXJsID0gYCR7ZG9tYWlufS9hcGkvdjEvcXVlc3Rpb24vdGVzdHF1ZXN0aW9uP2NvbnRlbnQ9JHtjb250ZW50fSZhbnN3ZXJfdXNlcl9pZD0ke3R1dG9ySWR9YFxuICAgICAgICB9XG4gICAgICAgIGZldGNoKHBheVVybCwge1xuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXG4gICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgICBpZihqc29uLmVyckNvZGU9PTApe1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgIGlmKHRpbWUudmFsdWVPZigpLzEwMDAtanNvbi5kYXRhLnRpbWVTdGFtcDwzMCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6L+b5YWl5b6u5L+h5pSv5LuYXCIpXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2UubG9hZGluZyhcIuivt+axguS4rVwiKVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KCl7XG4gICAgICAgICAgICAgICAgICAgICAgV2VpeGluSlNCcmlkZ2UuaW52b2tlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dldEJyYW5kV0NQYXlSZXF1ZXN0JywganNvbi5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmVycl9tc2cgPT0gXCJnZXRfYnJhbmRfd2NwYXlfcmVxdWVzdDpva1wiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc2V0U3RhdGUoe3BheVN1Y2Nlc3M6dHJ1ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIuaUr+S7mOaIkOWKn1wiLDEsKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChzdWNjZXNzVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuc3RhdGUubGlzdGVuVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHNlbGYucHJvcHMuZGlzcGF0Y2goZ2V0UXVlc3Rpb25JbmZvKGFuc3dlcklkKSksMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5zZXRTdGF0ZSh7cGxheU5vdzogZmFsc2V9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5pSv5LuY5aSx6LSlXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxlcnQoXCLmlK/ku5jlpLHotKXvvIzor7fph43or5VcIiwoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKGZhaWxVcmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGVydChcIuaUr+S7mOWksei0pe+8jOWOn+WboO+8mlwiK0pTT04uc3RyaW5naWZ5KHJlcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwi5aSx6LSl5Y6f5Zug77yaXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5L2/55So5Lul5LiK5pa55byP5Yik5pat5YmN56uv6L+U5ZueLOW+ruS/oeWboumYn+mDkemHjeaPkOekuu+8mnJlcy5lcnJfbXNn5bCG5Zyo55So5oi35pSv5LuY5oiQ5Yqf5ZCO6L+U5ZueICAgIG9r77yM5L2G5bm25LiN5L+d6K+B5a6D57ud5a+55Y+v6Z2g44CCXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFdlaXhpbkpTQnJpZGdlID09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICAgICAgICAgIGlmKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgb25CcmlkZ2VSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pe26Ze05oiz5LiN5LiA6Ie0XCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGB0aW1lICR7dGltZS52YWx1ZU9mKCkvMTAwMH0gdGltZVN0YW1wICR7anNvbi5kYXRhLnRpbWVTdGFtcH0gZGlmZiAke3RpbWUudmFsdWVPZigpLzEwMDAtanNvbi5kYXRhLnRpbWVTdGFtcH1gKVxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRvYXN0IGljb249XCJsb2FkaW5nXCIgc2hvdz17dGhpcy5zdGF0ZS5sb2FkaW5nfT7or7fmsYLmlK/ku5jkuK08L1RvYXN0PlxuICAgICAgICApXG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvUGF5SW5kZXguanMiLCJpbXBvcnQge2Jhc2VVcmx9IGZyb20gXCIuLi9hcGkvY29uZmlnXCJcbmltcG9ydCBTZWFyY2hCYXIgZnJvbSBcIi4uL2NvbnRhaW5lcnMvU2VhcmNoQmFyXCJcblxuY29uc3QgU2VhcmNoID0gKHtjaGlsZHJlbn0pPT57XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFNlYXJjaEJhciAvPlxuICAgICAgICB7IGNoaWxkcmVuIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbn1cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbXBvbmVudHMvU2VhcmNoLmpzIiwiLyoqXG4gKiBjcmVhdGUgYnkgd3V3cVxuICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFR1dG9yTGlzdCBmcm9tICcuLi9jb250YWluZXJzL1R1dG9yTGlzdCdcbmNsYXNzIFR1dG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxUdXRvckxpc3QgLz5cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFR1dG9yO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb21wb25lbnRzL1R1dG9yLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMjQuXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgUHJvcFR5cGVzfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7YnJvd3Nlckhpc3RvcnksIHdpdGhSb3V0ZXJ9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7YmFzZVVybH0gZnJvbSAnLi4vYXBpL2NvbmZpZydcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQge2VkaXRVc2VySW5mb30gZnJvbSAnLi4vYWN0aW9ucy9hY2NvdW50JztcbmltcG9ydCBBbGVydCBmcm9tIFwiLi4vdXRpbC93ZXVpL2FsZXJ0XCJcbmltcG9ydCBtZXNzYWdlIGZyb20gXCIuLi91dGlsL3dldWkvbWVzc2FnZVwiXG5pbXBvcnQgJy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvQWNjb3VudEVkaXQuc2NzcydcblxuY2xhc3MgQWNjb3VudEVkaXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGFueTogdGhpcy5wcm9wcy51c2VySW5mby51c2VyX2NvbXBhbnksXG4gICAgICBqb2I6IHRoaXMucHJvcHMudXNlckluZm8udXNlcl9wb3NpdGlvbixcbiAgICAgIGV4cGVyaWVuY2U6IHRoaXMucHJvcHMudXNlckluZm8udXNlcl9leHBlcmllbmNlLFxuICAgICAgaW50cm9kdWN0aW9uOiB0aGlzLnByb3BzLnVzZXJJbmZvLnVzZXJfaW50cm9kdWN0aW9uLFxuICAgICAgdGVhY2hlcl9wcml6ZTogdGhpcy5wcm9wcy51c2VySW5mby50ZWFjaGVyX3ByaXplLFxuICAgICAgc2hvd0FsZXJ0OmZhbHNlLFxuICAgICAgYWxlcnRDb250ZW50OlwiXCIsXG4gICAgICBhbGVydDp7XG4gICAgICAgIHRpdGxlOlwi5o+Q56S6XCIsXG4gICAgICAgIGJ1dHRvbnM6W1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6XCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBsYWJlbDpcIuehruWumlwiLFxuICAgICAgICAgICAgb25DbGljazp0aGlzLmhpZGVBbGVydC5iaW5kKHRoaXMpXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgY2FuTGVhdmU6ZmFsc2VcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucm91dGVyV2lsbExlYXZlID0gdGhpcy5yb3V0ZXJXaWxsTGVhdmUuYmluZCh0aGlzKTtcbiAgfVxuICBoaWRlQWxlcnQoKXtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWxlcnQ6ZmFsc2V9KVxuICB9XG4gIHJvdXRlcldpbGxMZWF2ZShuZXh0TG9jYXRpb24pIHtcbiAgICAvLyByZXR1cm4gZmFsc2UgdG8gcHJldmVudCBhIHRyYW5zaXRpb24gdy9vIHByb21wdGluZyB0aGUgdXNlcixcbiAgICAvLyBvciByZXR1cm4gYSBzdHJpbmcgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZGVjaWRlOlxuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cdGlmKG5leHRMb2NhdGlvbi5zdGF0ZSA9PSAnb2theScpe1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG4gICAgY29uc3Qgbm93ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMucHJvcHMudXNlckluZm87XG4gICAgaWYoIXRoaXMuc3RhdGUuY2FuTGVhdmUgJiYobm93LmNvbXBhbnkgIT0gcHJldmlvdXMudXNlcl9jb21wYW55IHx8IG5vdy5qb2IgIT0gcHJldmlvdXMudXNlcl9wb3NpdGlvbiB8fCBub3cuaW50cm9kdWN0aW9uICE9IHByZXZpb3VzLnVzZXJfaW50cm9kdWN0aW9uKSl7XG4gICAgICBzZWxmLnNldFN0YXRlKHtjYW5MZWF2ZTp0cnVlfSlcbiAgICAgIG1lc3NhZ2UuY29uZmlybSgn5oKo5omA57yW6L6R55qE6aG16Z2i5bCa5pyq5L+d5a2Y77yM56Gu6K6k56a75byAPycsXCLmjqXnnYDnvJbovpFcIixcIuaUvuW8g+S/ruaUuVwiLFxuICAgICAgICAoKT0+e1xuICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7Y2FuTGVhdmU6ZmFsc2V9KVxuICAgICAgICB9LFxuICAgICAgICAoKT0+e1xuICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChuZXh0TG9jYXRpb24ucGF0aG5hbWUpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBjb25zdCB7aWR9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICAvLyB0aGlzLnByb3BzLmRpc3BhdGNoKChpZCkpXG4gICAgY29uc29sZS5sb2coXCJxdWVzdGlvbkluZm89PT1cIiArIHRoaXMucHJvcHMudHV0b3JJbmZvKVxuICAgIHRoaXMucHJvcHMucm91dGVyLnNldFJvdXRlTGVhdmVIb29rKHRoaXMucHJvcHMucm91dGUsIHRoaXMucm91dGVyV2lsbExlYXZlKVxuICB9XG5cbiAgaGFuZGxlU3VibWl0KCkge1xuICAgIGlmKCEoL15bMS05XStbMC05XSpdKiQvKS50ZXN0KHRoaXMuc3RhdGUudGVhY2hlcl9wcml6ZSkpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHthbGVydENvbnRlbnQ6J+ivt+WcqFwi5o+Q6Zeu5Lu35qC8XCLkuK3loavlhaXmlbTmlbAnLHNob3dBbGVydDp0cnVlLHRlYWNoZXJfcHJpemU6XCJcIn0pXG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLnByb3BzLmVkaXRVc2VySW5mbyh0aGlzLnN0YXRlLmNvbXBhbnksIHRoaXMuc3RhdGUuam9iLCB0aGlzLnN0YXRlLmV4cGVyaWVuY2UsIHRoaXMuc3RhdGUudGVhY2hlcl9wcml6ZSx0aGlzLnN0YXRlLmludHJvZHVjdGlvbik7XG4gICAgYnJvd3Nlckhpc3RvcnkucHVzaCh7cGF0aG5hbWU6YmFzZVVybCArIFwiYWNjb3VudC9JQXNrZWRMaXN0XCIsIHN0YXRlOidva2F5J30pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHt1c2VySW5mb30gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJ1c2VyIGVkaXRcIj5cbiAgICAgICAgPEFsZXJ0IHNob3c9e3RoaXMuc3RhdGUuc2hvd0FsZXJ0fSB0aXRsZT1cIuaPkOekulwiIGJ1dHRvbnM9e3RoaXMuc3RhdGUuYWxlcnQuYnV0dG9uc30+e3RoaXMuc3RhdGUuYWxlcnRDb250ZW50fTwvQWxlcnQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3VzZXJJbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJ30vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3VzZXJJbmZvLmlzX3RlYWNoZXI9PT1cIjFcIj9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkXCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiYXZhdGFyXCIgc3JjPXt1c2VySW5mby51c2VyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMid9Lz5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm5hbWVcIj5cbiAgICAgICAgICAgICAgICB7IHVzZXJJbmZvLnVzZXJfbmFtZSB9XG4gICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbD7lp5PlkI3vvJo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLmgqjnmoTlp5PlkI1cIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSk9Pnt0aGlzLnNldFN0YXRlKHtuYW1lOiBlLnRhcmdldC52YWx1ZX0pfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPuWktOihlC/ogYzkvY08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLmn5Dlhazlj7jmn5DogYzkvY1cIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY29tcGFueX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSk9Pnt0aGlzLnNldFN0YXRlKHtjb21wYW55OiBlLnRhcmdldC52YWx1ZX0pfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPuaPkOmXruS7t+agvO+8mjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6L6T5YWl5oKo55qE5o+Q6Zeu5Lu35qC8XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRlYWNoZXJfcHJpemV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT57dGhpcy5zZXRTdGF0ZSh7dGVhY2hlcl9wcml6ZTogZS50YXJnZXQudmFsdWV9KX19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBzZWxmLWludHJvLXRleHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWw+5LuL57uN5LiA5LiL6Ieq5bex77yIMTAw5a2X5Lul5YaF77yJ77yaIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3VudFwiPnt0aGlzLnN0YXRlLmludHJvZHVjdGlvbi5sZW5ndGh9IC8gMTAwPC9kaXY+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIueugOWNleS7i+e7jeS4gOS4i+iHquW3se+8jOWGmeS4gOS6m+iHquW3seeahOe7j+WOhuWSjOaThemVv+WbnuetlOeahOmXrumimFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnRyb2R1Y3Rpb259XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgaWYoZS50YXJnZXQudmFsdWUubGVuZ3RoIDwgMTAxIHx8IGUudGFyZ2V0LnZhbHVlLmxlbmd0aCAtIHRoaXMuc3RhdGUuaW50cm9kdWN0aW9uLmxlbmd0aCA8IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aW50cm9kdWN0aW9uOiBlLnRhcmdldC52YWx1ZX0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmRcIj5cbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImF2YXRhclwiIHNyYz17dXNlckluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInfS8+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm5hbWVcIj5cbiAgICAgICAgICAgICAgICAgIHsgdXNlckluZm8udXNlcl9uYW1lIH1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPuWtpuagoS/lubTnuqfvvJo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5p+Q5a2m5qCh5aSn77yI56CU77yJKuWtpueUn1wiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmpvYn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKT0+e3RoaXMuc2V0U3RhdGUoe2NvbXBhbnk6IGUudGFyZ2V0LnZhbHVlfSl9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD7lpLTooZQv6IGM5L2N77yaPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuafkOWFrOWPuOafkOiBjOS9jVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNvbXBhbnl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSk9Pnt0aGlzLnNldFN0YXRlKHtqb2I6IGUudGFyZ2V0LnZhbHVlfSl9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXAgc2VsZi1pbnRyby10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+5LuL57uN5LiA5LiL6Ieq5bex77yIMTAw5a2X5Lul5YaF77yJ77yaPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY291bnRcIj57dGhpcy5zdGF0ZS5pbnRyb2R1Y3Rpb24ubGVuZ3RofSAvIDEwMDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5YaZ5LiA5Lqb5YWz5LqO6Ieq5bex55qE5oOF5Ya15ZKM6ZyA5rGC77yM6K6p5a+85biI5Y+v5Lul5pu05aW955qE5biu5Yqp5L2g6Kej5Yaz6Zeu6aKYXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW50cm9kdWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlLnRhcmdldC52YWx1ZS5sZW5ndGggPCAxMDEgfHwgZS50YXJnZXQudmFsdWUubGVuZ3RoIC0gdGhpcy5zdGF0ZS5pbnRyb2R1Y3Rpb24ubGVuZ3RoIDwgMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2ludHJvZHVjdGlvbjogZS50YXJnZXQudmFsdWV9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYm90dG9tLWJ0blwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0fT7lrozmiJA8L2E+XG4gICAgICA8L21haW4+XG4gICAgKVxuICB9XG59XG5BY2NvdW50RWRpdCA9IHdpdGhSb3V0ZXIoQWNjb3VudEVkaXQpXG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXJJbmZvOiBzdGF0ZS5hY2NvdW50LnVzZXJJbmZvXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzLCB7ZWRpdFVzZXJJbmZvfVxuKShBY2NvdW50RWRpdClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL0FjY291bnRFZGl0LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpzaCBvbiAyMDE2LzMvMTEuXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgUHJvcFR5cGVzfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQge2dldEhvdFF1ZXN0aW9uTGlzdH0gZnJvbSAnLi4vYWN0aW9ucy9xdWVzdGlvbi5qcydcbmltcG9ydCBMb2FkaW5nIGZyb20gXCIuL0xvYWRpbmcyXCJcbmltcG9ydCAgUXVlc3Rpb25JdGVtV2l0aEF2YXRhciAgZnJvbSAnLi9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aEF2YXRhcidcbmltcG9ydCBTZWFyY2hCYXIgZnJvbSBcIi4vU2VhcmNoQmFyXCJcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9Ib3RRdWVzdGlvbkxpc3Quc2NzcydcblxuY2xhc3MgSG90UXVlc3Rpb25MaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGU9e1xuICAgICAgY3VyQXVkaW86XCJcIixcbiAgICAgIGN1clBhZ2U6MSxcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpXG4gIH1cbiAgaGFuZGxlU2Nyb2xsKCl7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FwcC1jb250YWluZXInKVswXTtcbiAgICBpZiAoY29udGFpbmVyLmNsaWVudEhlaWdodCArIGNvbnRhaW5lci5zY3JvbGxUb3AgKyAxID49IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQgICYmICF0aGlzLnByb3BzLmhvdFF1ZXN0aW9uTGlzdC5jb21wbGV0ZWQpIHtcbiAgICAgIGNvbnN0IGN1clBhZ2UgPSArK3RoaXMuc3RhdGUuY3VyUGFnZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2N1clBhZ2V9KTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZ2V0SG90UXVlc3Rpb25MaXN0KGN1clBhZ2UsIDIwKSlcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRIb3RRdWVzdGlvbkxpc3QoMSwgMTApKVxuICAgICQoJy5hcHAtY29udGFpbmVyJykub24oJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgfVxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpe1xuICAgICQoJy5hcHAtY29udGFpbmVyJykub2ZmKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtob3RRdWVzdGlvbkxpc3QsdXNlcklkfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gKFxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiaG90LXF1ZXN0aW9uLWxpc3RcIj5cbiAgICAgICAgPFNlYXJjaEJhciAvPlxuICAgICAgICB7XG4gICAgICAgICAgaG90UXVlc3Rpb25MaXN0LmRhdGEubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+XG4gICAgICAgICAgICA8UXVlc3Rpb25JdGVtV2l0aEF2YXRhciB1c2VySWQ9e3VzZXJJZH0gcXVlc3Rpb24gPSB7IHF1ZXN0aW9uIH0ga2V5PXtpbmRleH0gaW5kZXg9e2luZGV4fS8+XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIDxMb2FkaW5nIGNvbXBsZXRlZCA9IHsgaG90UXVlc3Rpb25MaXN0LmNvbXBsZXRlZCB9IC8+XG4gICAgICA8L21haW4+XG4gICAgKVxuICB9XG59XG5cbkhvdFF1ZXN0aW9uTGlzdC5wcm9wVHlwZXMgPSB7XG4gIGhvdFF1ZXN0aW9uTGlzdDogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBsaXN0ZW5JbmZvOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGRhdGE6UHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkXG4gIH0pLmlzUmVxdWlyZWRcbn1cbkhvdFF1ZXN0aW9uTGlzdC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdFxufVxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgaG90UXVlc3Rpb25MaXN0OiBzdGF0ZS5ob3RRdWVzdGlvbkxpc3QsXG4gICAgbGlzdGVuSW5mbzpzdGF0ZS5saXN0ZW5JbmZvLFxuICAgIHVzZXJJZDogc3RhdGUuYWNjb3VudC51c2VySW5mby51c2VyX2lkXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzXG4pKEhvdFF1ZXN0aW9uTGlzdClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL0hvdFF1ZXN0aW9uTGlzdC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzMwLlxuICovXG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnQsIFByb3BUeXBlc30gZnJvbSAncmVhY3QnXG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5cbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9Nb2RhbC5zY3NzJ1xuaW1wb3J0ICBSZWFjdERPTSAgZnJvbSAncmVhY3QtZG9tJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5tb2RhbEVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5tb2RhbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLm1vZGFsRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgY29uZmlybSgpIHtcbiAgICB0aGlzLnByb3BzLmNvbmZpcm0oKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBsZWZ0ID0gKHRoaXMucHJvcHMubGVmdCkgPyB0aGlzLnByb3BzLmxlZnQgLyA3NSA6IDIyIC8gNzU7XG4gICAgY29uc3QgdG9wID0gKHRoaXMucHJvcHMudG9wKSA/IHRoaXMucHJvcHMudG9wIC8gNzUgOiAyMDAgLyA3NTtcbiAgICBjb25zdCBib3R0b20gPSAodGhpcy5wcm9wcy5ib3R0b20pID8gdGhpcy5wcm9wcy5ib3R0b20gLyA3NSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1wYWNrYWdlLWJsdXJcIiBpZD1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiXG4gICAgICAgICAgICAgc3R5bGU9e3tsZWZ0OiBgJHtsZWZ0fXJlbWAsIHJpZ2h0OmAke2xlZnR9cmVtYCwgdG9wOmAke3RvcH1yZW1gLCBib3R0b206YCR7Ym90dG9tfXJlbWB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RoaXMucHJvcHMudGl0bGV9PC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xvc2VcIiBvbkNsaWNrPXt0aGlzLmNsb3NlLmJpbmQodGhpcyl9Png8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJhY2tncm91bmRcIiBvbkNsaWNrPXsoKSA9PiB7dGhpcy5jbG9zZSgpO319PjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9Nb2RhbC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE0LlxuICovXG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnQsIFByb3BUeXBlc30gZnJvbSAncmVhY3QnXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5LExpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQge2dldFF1ZXN0aW9uSW5mbywgcHJpc2VRdWVzdGlvbiwgY2FuY2VsUHJpc2VRdWVzdGlvbiwgY2xlYXJRdWVzaXRvbn0gZnJvbSAnLi4vYWN0aW9ucy9xdWVzdGlvbi5qcydcbmltcG9ydCBWb2ljZVdhdmUgZnJvbSBcIi4uL2NvbXBvbmVudHMvVm9pY2VXYXZlXCJcbmltcG9ydCBUb2FzdCBmcm9tIFwiLi4vdXRpbC93ZXVpL3RvYXN0XCJcbmltcG9ydCB7YmFzZVVybCxkb21haW59IGZyb20gXCIuLi9hcGkvY29uZmlnXCJcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9RdWVzdGlvbi5zY3NzJ1xuaW1wb3J0IExvYWRpbmcgZnJvbSBcIi4vTG9hZGluZ1wiXG5pbXBvcnQgQWxlcnQgZnJvbSBcIi4uL3V0aWwvd2V1aS9hbGVydFwiXG5jbGFzcyBRdWVzdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlPXtcbiAgICAgIHBsYXlpbmc6IDAsXG4gICAgICBhbnN3ZXJBdWRpbzpudWxsLFxuICAgICAgY3VyQW5zd2VySWQ6bnVsbCxcbiAgICAgIHBsYXlOb3c6IHRydWUsXG4gICAgICBsaXN0ZW5UaW1lcjpudWxsLFxuICAgICAgc2hvd0FsZXJ0OmZhbHNlLFxuICAgICAgYWxlcnQ6e1xuICAgICAgICB0aXRsZTpcIuaPkOekulwiLFxuICAgICAgICBidXR0b25zOltcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICBsYWJlbDogJ+ehruWumicsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhpZGVBbGVydC5iaW5kKHRoaXMpXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgYWxlcnRDb250ZW50OicnLFxuICAgICAgbm90UmVnU2hhcmU6IHRydWVcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVQcmlzZSA9IHRoaXMuaGFuZGxlUHJpc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNhbmNsZVByaXNlID0gdGhpcy5oYW5kbGVDYW5jbGVQcmlzZS5iaW5kKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHtpZH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuICAgIHRoaXMucHJvcHMuZ2V0UXVlc3Rpb25JbmZvKGlkKTtcbiAgfVxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcyl7XG4gICAgICBsZXQge3F1ZXN0aW9uSW5mb30gPSBuZXh0UHJvcHNcbiAgICAgIGlmKHF1ZXN0aW9uSW5mby51c2VyX2ZhY2UgJiYgdGhpcy5zdGF0ZS5ub3RSZWdTaGFyZSl7XG4gICAgICAgICAgd3gub25NZW51U2hhcmVBcHBNZXNzYWdlKHtcbiAgICAgICAgICAgICAgdGl0bGU6IHF1ZXN0aW9uSW5mby5xdWVzdGlvbl9jb250ZW50LCAvLyDliIbkuqvmoIfpophcbiAgICAgICAgICAgICAgZGVzYzogYCR7cXVlc3Rpb25JbmZvLnRlYWNoZXJfbmFtZX3nlKgx5YiG6ZKf55qE6K+t6Z+z5bCx6Kej5Yaz5LqG6L+Z5Liq6Zeu6aKYYCwgLy8g5YiG5Lqr5o+P6L+wXG4gICAgICAgICAgICAgIGxpbms6IGxvY2F0aW9uLmhyZWYsIC8vIOWIhuS6q+mTvuaOpVxuICAgICAgICAgICAgICBpbWdVcmw6IHF1ZXN0aW9uSW5mby50ZWFjaGVyX2ZhY2UsIC8vIOWIhuS6q+Wbvuagh1xuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+aIkOWKn1wiKS8vIOeUqOaIt+ehruiupOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmYWlsOiBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvlpLHotKXvvIzljp/lm6DmmK9cIitlcnIpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvlpLHotKVcIikvLyDnlKjmiLflj5bmtojliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe25vdFJlZ1NoYXJlOmZhbHNlfSlcbiAgICAgIH1cbiAgfVxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpe1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYuc3RhdGUubGlzdGVuVGltZXIpXG4gICAgaWYodGhpcy5zdGF0ZS5hbnN3ZXJBdWRpbyE9bnVsbCl7XG4gICAgICAgIHRoaXMuc3RhdGUuYW5zd2VyQXVkaW8ucGF1c2UoKVxuICAgICAgICB0aGlzLnN0YXRlLmFuc3dlckF1ZGlvLmN1cnJlbnRUaW1lPTBcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7YW5zd2VyQXVkaW86bnVsbCxwbGF5aW5nOjB9KVxuICAgIHRoaXMucHJvcHMuY2xlYXJRdWVzaXRvbigpXG4gICAgd3gub25NZW51U2hhcmVBcHBNZXNzYWdlKHtcbiAgICAgICAgdGl0bGU6ICfvvLs354K56Zeu562U77y96Zeu5biI5YWE77yM6Zeu5biI5aeQ77yM6Zeu5YmN6L6IJywgLy8g5YiG5Lqr5qCH6aKYXG4gICAgICAgIGRlc2M6ICflpKflrabnlJ/ogYzlnLrpl67nrZTlubPlj7DvvIzlr7nkuo7ljbPlsIbliLDmnaXnmoTnp4vmi5vvvIzkvaDnmoTpl67popjpg73lj6/ku6XlnKjov5nph4zop6PlhrPjgIInLCAvLyDliIbkuqvmj4/ov7BcbiAgICAgICAgbGluazogbG9jYXRpb24uaHJlZiwgLy8g5YiG5Lqr6ZO+5o6lXG4gICAgICAgIGltZ1VybDogcmVxdWlyZShcIi4uLy4uL2ltYWdlcy9sb2dvLmpwZ1wiKSwgLy8g5YiG5Lqr5Zu+5qCHXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5oiQ5YqfXCIpLy8g55So5oi356Gu6K6k5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAgICAgIH0sXG4gICAgICAgIGZhaWw6IGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pe+8jOWOn+WboOaYr1wiK2VycilcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBhbGVydChcIuWIhuS6q+Wksei0pVwiKS8vIOeUqOaIt+WPlua2iOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgfVxuICBnZXRMaXN0ZW5JbmZvKGFuc3dlcklkLGNiKSB7XG4gICAgZmV0Y2goYCR7ZG9tYWlufS9hcGkvdjEvYW5zd2VyL2xpc3Rlbj9hbnN3ZXJfaWQ9JHthbnN3ZXJJZH1gLCB7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihqc29uID0+IGNiKGpzb24pKVxuICB9XG4gIHBheUZvckFuc3dlcihhbnN3ZXJJZCl7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke2Jhc2VVcmx9cGF5P2Fuc3dlcklkPSR7YW5zd2VySWR9JnR5cGU9cXVlc3Rpb24mc3VjY2Vzc1VybD0ke2VuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKX0mZmFpbFVybD0ke2VuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKX1gKVxuICB9XG4gIC8vIHBheUZvckFuc3dlcihhbnN3ZXJJZCl7XG4gIC8vICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgLy8gICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiB0cnVlfSlcbiAgLy8gICB0aGlzLmdldExpc3RlbkluZm8oYW5zd2VySWQsanNvbiA9PiB7XG4gIC8vICAgICAgIGlmKGpzb24uZXJyQ29kZT09MCl7XG4gIC8vICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAvLyAgICAgICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZSgpXG4gIC8vICAgICAgICAgaWYodGltZS52YWx1ZU9mKCkvMTAwMC1qc29uLmRhdGEudGltZVN0YW1wPDUpe1xuICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCLov5vlhaXlvq7kv6HmlK/ku5hcIilcbiAgLy8gICAgICAgICAgIGZ1bmN0aW9uIG9uQnJpZGdlUmVhZHkoKXtcbiAgLy8gICAgICAgICAgICAgV2VpeGluSlNCcmlkZ2UuaW52b2tlKFxuICAvLyAgICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGpzb24uZGF0YSxcbiAgLy8gICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpe1xuICAvLyAgICAgICAgICAgICAgICAgaWYocmVzLmVycl9tc2cgPT0gXCJnZXRfYnJhbmRfd2NwYXlfcmVxdWVzdDpva1wiICkge1xuICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtwYXlTdWNjZXNzOnRydWV9KTtcbiAgLy8gICAgICAgICAgICAgICAgICAgc2VsZi5wcm9wcy5nZXRRdWVzdGlvbkluZm8oc2VsZi5wcm9wcy5xdWVzdGlvbkluZm8ucXVlc3Rpb25faWQpO1xuICAvLyAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnN0YXRlLmxpc3RlblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZWxmLnByb3BzLmRpc3BhdGNoKGdldFF1ZXN0aW9uSW5mbyhhbnN3ZXJJZCkpLDEwMDApO1xuICAvLyAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnNldFN0YXRlKHtwbGF5Tm93OiBmYWxzZX0pXG4gIC8vICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgLy8gICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAvLyAgICAgICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHthbGVydENvbnRlbnQ6XCLmlK/ku5jlpLHotKVcIixzaG93QWxlcnQ6dHJ1ZX0pXG4gIC8vICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwi5pSv5LuY5aSx6LSl77yM5Y6f5Zug77yaXCIrSlNPTi5zdHJpbmdpZnkocmVzKSlcbiAgLy8gICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwi5aSx6LSl5Y6f5Zug77yaXCIpXG4gIC8vICAgICAgICAgICAgICAgICB9XG4gIC8vICAgICAgICAgICAgICAgICBpZiggZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciApe1xuICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdXZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gIC8vICAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe1xuICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAvLyAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gIC8vICAgICAgICAgICAgICAgICB9XG4gIC8vICAgICAgICAgICAgICAgICAvLyDkvb/nlKjku6XkuIrmlrnlvI/liKTmlq3liY3nq6/ov5Tlm54s5b6u5L+h5Zui6Zif6YOR6YeN5o+Q56S677yacmVzLmVycl9tc2flsIblnKjnlKjmiLfmlK/ku5jmiJDlip/lkI7ov5Tlm54gICAgb2vvvIzkvYblubbkuI3kv53or4HlroPnu53lr7nlj6/pnaDjgIJcbiAgLy8gICAgICAgICAgICAgICB9XG4gIC8vICAgICAgICAgICAgICk7XG4gIC8vICAgICAgICAgICB9XG4gIC8vICAgICAgICAgICBpZiAodHlwZW9mIFdlaXhpbkpTQnJpZGdlID09IFwidW5kZWZpbmVkXCIpe1xuICAvLyAgICAgICAgICAgICBpZiggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApe1xuICAvLyAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5LCBmYWxzZSk7XG4gIC8vICAgICAgICAgICAgIH1lbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCl7XG4gIC8vICAgICAgICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5KTtcbiAgLy8gICAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gIC8vICAgICAgICAgICAgIH1cbiAgLy8gICAgICAgICAgIH1lbHNle1xuICAvLyAgICAgICAgICAgICBvbkJyaWRnZVJlYWR5KCk7XG4gIC8vICAgICAgICAgICB9XG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICB9KVxuICAvLyB9XG4gIGdldEF1ZGlvKGFuc3dlcklkKXtcbiAgICBjb25zdCBzZWxmID10aGlzXG4gICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogdHJ1ZX0pXG4gICAgdGhpcy5nZXRMaXN0ZW5JbmZvKGFuc3dlcklkLGpzb24gPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2V9KVxuICAgICAgaWYoanNvbi5kYXRhLnRpbWVTdGFtcCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsvL3RvZG8g5LyY5YyWXG4gICAgICAgICAgc2VsZi5nZXRBdWRpbyhhbnN3ZXJJZClcbiAgICAgICAgfSw1MDApXG4gICAgICB9ZWxzZSBpZihqc29uLmRhdGEudXJsKXtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25JZCA9IHRoaXMucHJvcHMucGFyYW1zLmlkXG4gICAgICAgIGlmKGpzb24uZGF0YS5xdWVzdGlvbl9pZD09cXVlc3Rpb25JZCl7XG4gICAgICAgICAgY29uc3QgYW5zd2VyQXVkaW8gPSBuZXcgQXVkaW8oanNvbi5kYXRhLnVybClcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHthbnN3ZXJBdWRpbzphbnN3ZXJBdWRpb30pXG4gICAgICAgICAgc2VsZi5wbGF5QXVkaW8oYW5zd2VyQXVkaW8pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHBsYXlBdWRpbyhhbnN3ZXJJZCxhbnN3ZXJBdWRpbyl7XG4gICAgbGV0IGF1ZGlvID0gdGhpcy5zdGF0ZS5hbnN3ZXJBdWRpbyB8fCBhbnN3ZXJBdWRpbyxcbiAgICAgICAgc2VsZiA9IHRoaXNcbiAgICBpZihhdWRpbyl7XG4gICAgICBjb25zb2xlLmxvZyhcImF1ZGlvLnNyYz09PT1cIithdWRpby5zcmMpXG4gICAgICBhdWRpby5wbGF5KCk7Ly90b2RvIOS8mOWMllxuICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsKCk9PntcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe3BsYXlpbmc6MH0pXG4gICAgICB9KVxuICAgIH1lbHNle1xuICAgICAgdGhpcy5nZXRBdWRpbyhhbnN3ZXJJZClcbiAgICB9XG4gIH1cbiAgYnViYmxlQ2xpY2soYW5zd2VySWQsaXNQYXllZCl7XG4gICAgaWYodGhpcy5zdGF0ZS5wYXlTdWNjZXNzIHx8IGlzUGF5ZWQgKXtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3BsYXlpbmc6MX0pXG4gICAgICB0aGlzLnBsYXlBdWRpbyhhbnN3ZXJJZClcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMucGF5Rm9yQW5zd2VyKGFuc3dlcklkKVxuICAgIH1cbiAgfVxuICBoYW5kbGVQcmlzZShhbnN3ZXJJZCl7XG4gICAgaWYoIXRoaXMucHJvcHMucXVlc3Rpb25JbmZvLmFuc3dlcl9pc3BheWVkJiYhdGhpcy5zdGF0ZS5wYXlTdWNjZXNzKXtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5oKo6L+Y5rKh5pyJ5ZCs6L+H6K+l6Zeu6aKYXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgIH1lbHNle1xuICAgICAgICB0aGlzLnByb3BzLnByaXNlUXVlc3Rpb24oYW5zd2VySWQpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVDYW5jbGVQcmlzZShhbnN3ZXJJZCl7XG4gICAgdGhpcy5wcm9wcy5jYW5jZWxQcmlzZVF1ZXN0aW9uKGFuc3dlcklkKTtcbiAgfVxuICBoaWRlQWxlcnQoKXtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWxlcnQ6ZmFsc2V9KVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7cXVlc3Rpb25JbmZvfSA9IHRoaXMucHJvcHNcbiAgICAvLyBjb25zb2xlLmxvZyhcInRoaXMuc3RhdGUucGxheWluZz09XCIrdGhpcy5zdGF0ZS5wbGF5aW5nKVxuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSB7XG4gICAgICAwOiBcIiBcIixcbiAgICAgIDE6IFwiIHBsYXlpbmdcIlxuICAgIH1cblxuICAgIHJldHVybiAoIHF1ZXN0aW9uSW5mby51c2VyX2ZhY2UgP1xuICAgICAgPG1haW4gY2xhc3NOYW1lPVwicXVlc3Rpb25cIj5cbiAgICAgICAgPEFsZXJ0IHNob3c9e3RoaXMuc3RhdGUuc2hvd0FsZXJ0fSB0aXRsZT17dGhpcy5zdGF0ZS5hbGVydC50aXRsZX0gYnV0dG9ucz17dGhpcy5zdGF0ZS5hbGVydC5idXR0b25zfSA+e3RoaXMuc3RhdGUuYWxlcnRDb250ZW50fTwvQWxlcnQ+XG4gICAgICAgIDxUb2FzdCBpY29uPVwibG9hZGluZ1wiIHNob3c9e3RoaXMuc3RhdGUubG9hZGluZ30gPnsocXVlc3Rpb25JbmZvLmFuc3dlcl9pc3BheWVkIHx8IHRoaXMuc3RhdGUucGF5U3VjY2Vzcyk/XCLliqDovb3lo7Dpn7PkuK3igKbigKZcIjpcIuivt+axguaUr+S7mOS4reKApuKAplwifTwvVG9hc3Q+XG4gICAgICAgIDxMaW5rIHRvID0ge2Ake2Jhc2VVcmx9dXNlci8ke3F1ZXN0aW9uSW5mby51c2VyX2lkfWB9ID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJJbmZvXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz17cXVlc3Rpb25JbmZvLnVzZXJfZmFjZS5zbGljZSgwLCAtMSkgKyAnMTMyJ30gLz5cbiAgICAgICAgICAgIDxzcGFuPntxdWVzdGlvbkluZm8udXNlcl9uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIHsvKjxkaXYgY2xhc3NOYW1lPVwic2hhcmVcIj7pl67popjkuI3plJks5b+r5YiG5Lqr5Ye65Y675ZCn77yBPGkgY2xhc3NOYW1lPVwiaWNvbmZvbnQgaWNvbi1hcnJvd1wiIC8+PC9kaXY+Ki99XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAge3F1ZXN0aW9uSW5mby5xdWVzdGlvbl9jb250ZW50fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dXRvclwiPlxuICAgICAgICAgIDxpbWcgc3JjPXtxdWVzdGlvbkluZm8udGVhY2hlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInfS8+XG4gICAgICAgICAgPGgzID57cXVlc3Rpb25JbmZvLnRlYWNoZXJfbmFtZX08L2gzPlxuICAgICAgICAgIDxoNCA+e3F1ZXN0aW9uSW5mby50ZWFjaGVyX2NvbXBhbnkrXCLjgIBcIitxdWVzdGlvbkluZm8udGVhY2hlcl9wb3NpdGlvbn0gIDwvaDQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtcbiAgICAgICAgICBxdWVzdGlvbkluZm8uaXNhbnN3ZXJlZCA9PSAnMScgPyAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuc3dlclwiIG9uQ2xpY2s9e3RoaXMuYnViYmxlQ2xpY2suYmluZCh0aGlzLHF1ZXN0aW9uSW5mby5hbnN3ZXJfaWQscXVlc3Rpb25JbmZvLmFuc3dlcl9pc3BheWVkKX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYnViYmxlJHtjbGFzc05hbWVzW3RoaXMuc3RhdGUucGxheWluZ119YH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnViYmxlLXRhaWxcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPFZvaWNlV2F2ZSAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ1YmJsZS12b2ljZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidWJibGUtdGV4dFwiPnsocXVlc3Rpb25JbmZvLmFuc3dlcl9pc3BheWVkIHx8IHRoaXMuc3RhdGUucGF5U3VjY2Vzcyk/KHRoaXMuc3RhdGUucGxheWluZz09MT9cIuato+WcqOaSreaUvlwiOlwi54K55Ye75pKt5pS+XCIpOmAke3F1ZXN0aW9uSW5mby5xdWVzdGlvbl9wcml6ZX3lhYPlgbflgbflkKxgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZW1hcmtcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57cXVlc3Rpb25JbmZvLmFuc3dlcl9saXN0ZW595Lq65YG35ZCsPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImt1aVwiPntxdWVzdGlvbkluZm8uYW5zd2VyX2xpa2V95Lq66KeJ5b6X6LWePC9zcGFuPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSW5mby5hbnN3ZXJfaXNsaWtlZCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPVwicHJpc2VcIiBvbkNsaWNrPXsoKSA9PiB7dGhpcy5oYW5kbGVQcmlzZShxdWVzdGlvbkluZm8uYW5zd2VyX2lkKX19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpIGNsYXNzTmFtZT1cImljb25mb250IGljb24temFuTm9cIiAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7Lyo8ZGl2IGNsYXNzTmFtZT1cImRlc2NcIj7otZ48L2Rpdj4qL31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwicHJpc2VcIiBvbkNsaWNrPXsoKSA9PiB7dGhpcy5oYW5kbGVDYW5jbGVQcmlzZShxdWVzdGlvbkluZm8uYW5zd2VyX2lkKX19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjxpIGNsYXNzTmFtZT1cImljb25mb250IGljb24temFuWWVzXCIgLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey8qPGRpdiBjbGFzc05hbWU9XCJkZXNjXCI+5bey6LWePC9kaXY+Ki99XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+KSA6ICg8ZGl2IGNsYXNzTmFtZT1cIm5vdC1hbnN3ZXJcIj7nrYnlvoXogIHluIjlm57nrZTigKbigKY8L2Rpdj4pXG4gICAgICAgIH1cblxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNrXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZVwiPu+/pXtxdWVzdGlvbkluZm8udGVhY2hlcl9wcml6ZX08L2Rpdj5cbiAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJib3R0b20tYnRuXCIgdG89e2Jhc2VVcmwrXCJ0dXRvci9cIitxdWVzdGlvbkluZm8udGVhY2hlcl9pZH0+5ZCRVEHmj5Dpl648L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPlxuICAgICAgICA6XG4gICAgICA8TG9hZGluZyAvPlxuICAgIClcbiAgfVxufVxuXG5RdWVzdGlvbi5wcm9wVHlwZXMgPSB7XG4gIHF1ZXN0aW9uSW5mbzogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBsaXN0ZW5JbmZvOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsXG59XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHF1ZXN0aW9uSW5mbzogc3RhdGUucXVlc3Rpb25JbmZvLFxuICAgIGxpc3RlbkluZm86IHN0YXRlLmxpc3RlbkluZm9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHtcbiAgICBwcmlzZVF1ZXN0aW9uLFxuICAgIGdldFF1ZXN0aW9uSW5mbyxcbiAgICBjYW5jZWxQcmlzZVF1ZXN0aW9uLFxuICAgIGNsZWFyUXVlc2l0b25cbiAgfVxuKShRdWVzdGlvbilcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1F1ZXN0aW9uLmpzIiwiaW1wb3J0IHtjb25uZWN0fSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IHtMaW5rfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCB7YmFzZVVybH0gZnJvbSBcIi4uL2FwaS9jb25maWcuanNcIlxuXG5pbXBvcnQgUXVlc3Rpb25JdGVtV2l0aEF2YXRhciBmcm9tIFwiLi9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aEF2YXRhclwiXG5pbXBvcnQgVHV0b3JJdGVtIGZyb20gXCIuL2Jsb2Nrcy9UdXRvckl0ZW1cIlxuXG5jb25zdCBSZXN1bHRMaXN0ID0gKHtcbiAgICBxdWVzdGlvbnMsXG4gICAgdHV0b3JzLFxuICAgIHVzZXJJZFxufSkgPT4ge1xuICAgIGxldCB1cmwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKVxuICAgIGxldCBxdWVyeSA9IHVybC5wb3AoKVxuICAgIGxldCB0eXBlID0gdXJsLnBvcCgpXG4gICAgaWYodHlwZT09XCJxdWVzdGlvblwiKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICDlnKjpl67popjkuK3mkJzntKLnmoTnu5PmnpxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uLWxpc3RcIj5cbiAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpbmRleCk9PihcbiAgICAgICAgICAgICAgICAgICAgICAgIDxRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyIHVzZXJJZCA9IHt1c2VySWR9IHF1ZXN0aW9uID0geyBxdWVzdGlvbiB9IGtleT17aW5kZXh9Lz5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1yZXN1bHRzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAg5Zyo5a+85biI5Lit5pCc57Si55qE57uT5p6cXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dXRvci1saXN0XCI+XG4gICAgICAgICAgICAgICAgICAgIHt0dXRvcnMubWFwKCh0dXRvciwgaW5kZXgpPT4oXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHV0b3JJdGVtIGtleT17aW5kZXh9IHR1dG9yPXt0dXRvcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KHN0YXRlPT4oe1xuICAgIHF1ZXN0aW9uczogc3RhdGUuaG90UXVlc3Rpb25MaXN0LmRhdGEsXG4gICAgdHV0b3JzOiBzdGF0ZS50dXRvckxpc3QuZGF0YSxcbiAgICB1c2VySWQ6IHN0YXRlLmFjY291bnQudXNlckluZm8udXNlcl9pZFxufSkpKFJlc3VsdExpc3QpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9SZXN1bHRMaXN0LmpzIiwiaW1wb3J0IFJlYWN0LHtDb21wb25lbnR9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQge0xpbmt9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IHtiYXNlVXJsfSBmcm9tIFwiLi4vYXBpL2NvbmZpZy5qc1wiXG5pbXBvcnQge2dldEhvdFF1ZXN0aW9uTGlzdH0gZnJvbSBcIi4uL2FjdGlvbnMvcXVlc3Rpb25cIlxuaW1wb3J0IHtnZXRUdXRvckxpc3R9IGZyb20gXCIuLi9hY3Rpb25zL3R1dG9yXCJcblxuaW1wb3J0IFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIgZnJvbSBcIi4vYmxvY2tzL1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXJcIlxuaW1wb3J0IFR1dG9ySXRlbSBmcm9tIFwiLi9ibG9ja3MvVHV0b3JJdGVtXCJcblxuaW1wb3J0IFwiLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9TZWFyY2hSZXN1bHQuc2Nzc1wiXG5cbmNvbnN0IFNlYXJjaFJlc3VsdCA9ICh7XG4gICAgcXVlc3Rpb25zLFxuICAgIHR1dG9ycyxcbiAgICBjdXJTZWFyY2gsXG4gICAgdXNlcklkLFxuICAgIHF1ZXN0aW9uU2VhcmNoU3RhdHVzLFxuICAgIHR1dG9yU2VhcmNoU3RhdHVzLFxuICAgIGdldFF1ZXN0aW9uTGlzdCxcbiAgICBnZXRUdXRvckxpc3Rcbn0pID0+IHtcbiAgICBsZXQgc2VhcmNoID0gbG9jYXRpb24uaHJlZi5zcGxpdChcIi9cIikucG9wKClcbiAgICBzZWFyY2ggPSBkZWNvZGVVUkkoc2VhcmNoKVxuICAgIGlmKHNlYXJjaCE9PWN1clNlYXJjaCl7XG4gICAgICAgIGdldFF1ZXN0aW9uTGlzdCgxLDEwLHNlYXJjaClcbiAgICAgICAgZ2V0VHV0b3JMaXN0KDEsMTAsc2VhcmNoKVxuICAgIH1cbiAgICByZXR1cm4oXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXJlc3VsdHNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdWx0LXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cInRpdGxlXCI+5YaF5a65PC9oNT5cbiAgICAgICAgICAgICAgICB7KHF1ZXN0aW9uU2VhcmNoU3RhdHVzPT1cImNvbXBsZXRlXCIpJiZxdWVzdGlvbnMubGVuZ3RoPjI/PExpbmsgdG89e2Ake2Jhc2VVcmx9c2VhcmNoL2xpc3QvcXVlc3Rpb24vJHtzZWFyY2h9YH0+PGg1IGNsYXNzTmFtZT1cIm1vcmVcIj7mm7TlpJo8L2g1PjwvTGluaz46XCJcIn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1saXN0XCI+XG4gICAgICAgICAgICAgICAgeyhxdWVzdGlvblNlYXJjaFN0YXR1cz09XCJjb21wbGV0ZVwiKSYmcXVlc3Rpb25zLmxlbmd0aD4wP3F1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpbmRleCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXg8MilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyIHVzZXJJZCA9IHt1c2VySWR9IHF1ZXN0aW9uID0geyBxdWVzdGlvbiB9IGtleT17aW5kZXh9Lz5cbiAgICAgICAgICAgICAgICB9KTo8ZGl2IGNsYXNzTmFtZT1cImVtcHR5XCIgPuaaguaXoOebuOWFs+e7k+aenDwvZGl2Pn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8aDUgIGNsYXNzTmFtZT1cInRpdGxlXCI+5a+85biIPC9oNT5cbiAgICAgICAgICAgICAgICB7KHR1dG9yU2VhcmNoU3RhdHVzPT1cImNvbXBsZXRlXCIpJiZ0dXRvcnMubGVuZ3RoPjI/PExpbmsgdG89e2Ake2Jhc2VVcmx9c2VhcmNoL2xpc3QvdHV0b3IvJHtzZWFyY2h9YH0+PGg1ICBjbGFzc05hbWU9XCJtb3JlXCI+5pu05aSaPC9oNT48L0xpbms+OlwiXCJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHV0b3ItbGlzdFwiPlxuICAgICAgICAgICAgICAgIHsodHV0b3JTZWFyY2hTdGF0dXM9PVwiY29tcGxldGVcIikmJnR1dG9ycy5sZW5ndGg+MD90dXRvcnMubWFwKChpdGVtLGluZGV4KT0+e1xuICAgICAgICAgICAgICAgICAgICBpZihpbmRleDwyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUdXRvckl0ZW0gdHV0b3I9e2l0ZW19IGtleT17aW5kZXh9Lz5cbiAgICAgICAgICAgICAgICB9KTo8ZGl2IGNsYXNzTmFtZT1cImVtcHR5XCIgPuaaguaXoOebuOWFs+e7k+aenDwvZGl2Pn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc3RhdGU9Pih7XG4gICAgcXVlc3Rpb25zOiBzdGF0ZS5ob3RRdWVzdGlvbkxpc3QuZGF0YSxcbiAgICB0dXRvcnM6IHN0YXRlLnR1dG9yTGlzdC5kYXRhLFxuICAgIGN1clNlYXJjaDogc3RhdGUuY3VyU2VhcmNoLFxuICAgIHVzZXJJZDogc3RhdGUuYWNjb3VudC51c2VySW5mby51c2VyX2lkLFxuICAgIHF1ZXN0aW9uU2VhcmNoU3RhdHVzOnN0YXRlLmhvdFF1ZXN0aW9uTGlzdC5zZWFyY2hTdGF0dXMsXG4gICAgdHV0b3JTZWFyY2hTdGF0dXM6c3RhdGUudHV0b3JMaXN0LnNlYXJjaFN0YXR1c1xufSksZGlzcGF0Y2g9Pih7XG4gICAgZ2V0UXVlc3Rpb25MaXN0OiAocGFnZSxudW0sc2VhcmNoKT0+e1xuICAgICAgICBkaXNwYXRjaChnZXRIb3RRdWVzdGlvbkxpc3QocGFnZSxudW0sc2VhcmNoKSlcbiAgICB9LFxuICAgIGdldFR1dG9yTGlzdDogKHBhZ2UsbnVtLHNlYXJjaCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChnZXRUdXRvckxpc3QocGFnZSxudW0sc2VhcmNoKSlcbiAgICB9XG59KSkoU2VhcmNoUmVzdWx0KVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvU2VhcmNoUmVzdWx0LmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtZXNzYWdlIGZyb20gXCIuLi91dGlsL3dldWkvbWVzc2FnZVwiXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJ1xuY2xhc3MgVGVzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvdyA6IHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ2NoZW5nZ29uZ2xlJywgMiwgKCk9PnthbGVydCgnMjM0Jyl9KTtcbiAgICAgICAgbWVzc2FnZS5pbmZvKCdjaGVuZ2dvbmdsZScsIDIsICgpPT57YWxlcnQoJzIzNCcpfSk7XG4gICAgICAgIG1lc3NhZ2UuY2FuY2VsKCdjaGVuZ2dvbmdsZScsIDIsICgpPT57YWxlcnQoJzIzNCcpfSk7XG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2PnRlc3Q8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFRlc3Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9UZXN0LmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpodXNoaWhhbyBvbiAyMDE2LzYvMTUuXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgUHJvcFR5cGVzfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7TGluayxicm93c2VySGlzdG9yeX0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7Z2V0VHV0b3JJbmZvLGdldFR1dG9yQW5zd2VyTGlzdCxnZXRQcmVwYXlJbmZvLGNsZWFyVHV0b3JJbmRleH0gZnJvbSAnLi4vYWN0aW9ucy90dXRvci5qcydcbmltcG9ydCB7Z2V0SUFza2VkfSBmcm9tICcuLi9hY3Rpb25zL2FjY291bnQuanMnXG5pbXBvcnQgUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhciBmcm9tIFwiLi9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhclwiXG5pbXBvcnQgTG9hZGluZzIgZnJvbSBcIi4vTG9hZGluZzJcIlxuaW1wb3J0IExvYWRpbmcgZnJvbSAnLi9Mb2FkaW5nJ1xuaW1wb3J0IFRvYXN0IGZyb20gXCIuLi91dGlsL3dldWkvdG9hc3RcIlxuaW1wb3J0IG1lc3NhZ2UgZnJvbSBcIi4uL3V0aWwvd2V1aS9tZXNzYWdlXCJcbmltcG9ydCB7YmFzZVVybCxkb21haW59IGZyb20gXCIuLi9hcGkvY29uZmlnXCJcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9UdXRvckluZGV4LnNjc3MnXG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IEFsZXJ0IGZyb20gXCIuLi91dGlsL3dldWkvYWxlcnRcIlxuXG5jbGFzcyBUdXRvckluZGV4IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICB0ZXh0TGVuZ3RoOjAsXG4gICAgICAgIGN1clBhZ2U6MSxcbiAgICAgIGFza1N1Y2Nlc3M6ZmFsc2UsXG4gICAgICBsb2FkaW5nOmZhbHNlLFxuICAgICAgc2hvd0FsZXJ0OmZhbHNlLFxuICAgICAgYWxlcnQ6e1xuICAgICAgICB0aXRsZTpcIuaPkOekulwiLFxuICAgICAgICBidXR0b25zOltcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICBsYWJlbDogJ+ehruWumicsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhpZGVBbGVydC5iaW5kKHRoaXMpXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgYWxlcnRDb250ZW50OicnLFxuICAgICAgbmV4dExvY2F0aW9uOmxvY2F0aW9uLmhyZWYsXG4gICAgICBjYW5MZWF2ZTogZmFsc2UsXG4gICAgICBub3RSZWdTaGFyZTogdHJ1ZVxuICAgIH1cblx0dGhpcy5yb3V0ZXJXaWxsTGVhdmUgPSB0aGlzLnJvdXRlcldpbGxMZWF2ZS5iaW5kKHRoaXMpO1xuICB9XG4gIHBheUZvckFzayhjb250ZW50LHR1dG9ySWQpe1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHtiYXNlVXJsfXBheT90eXBlPXR1dG9yJmNvbnRlbnQ9JHtjb250ZW50fSZ0dXRvcklkPSR7dHV0b3JJZH0mZmFpbFVybD0ke2VuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKX0mc3VjY2Vzc1VybD0ke2Jhc2VVcmx9YWNjb3VudC9JQXNrZWRMaXN0YClcbiAgfVxuICAvLyBwYXlGb3JBc2soY29udGVudCx0dXRvcklkKXtcbiAgLy8gICBjb25zdCB1cmwgPSBkb21haW4gKyBgL2FwaS92MS9xdWVzdGlvbi90ZXN0cXVlc3Rpb24/Y29udGVudD0ke2NvbnRlbnR9JmFuc3dlcl91c2VyX2lkPSR7dHV0b3JJZH1gXG4gIC8vICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzp0cnVlfSlcbiAgLy8gICBmZXRjaCh1cmwse1xuICAvLyAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgLy8gICB9KVxuICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAvLyAgICAgLnRoZW4oanNvbiA9PntcbiAgLy8gICAgICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzpmYWxzZX0pXG4gIC8vICAgICAgIGNvbnN0IHNlbGYgPXRoaXNcbiAgLy8gICAgICAgaWYoanNvbi5kYXRhLnRpbWVTdGFtcCE9dW5kZWZpbmVkKXtcbiAgLy8gICAgICAgICBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KCl7XG4gIC8vICAgICAgICAgICBXZWl4aW5KU0JyaWRnZS5pbnZva2UoXG4gIC8vICAgICAgICAgICAgICdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIGpzb24uZGF0YSxcbiAgLy8gICAgICAgICAgICAgZnVuY3Rpb24ocmVzKXtcbiAgLy8gICAgICAgICAgICAgICBpZihyZXMuZXJyX21zZyA9PSBcImdldF9icmFuZF93Y3BheV9yZXF1ZXN0Om9rXCIgKSB7XG4gIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaUr+S7mOaIkOWKn++8gVwiKVxuICAvLyAgICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7YXNrU3VjY2Vzczp0cnVlfSlcbiAgLy8gICAgICAgICAgICAgICAgIHNlbGYucHJvcHMuZGlzcGF0Y2goZ2V0SUFza2VkKDEsIDEwKSk7XG4gIC8vICAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc1RpbWVyID0gc2V0VGltZW91dCgoKT0+e1xuICAvLyAgICAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKGJhc2VVcmwrXCJhY2NvdW50L0lBc2tlZExpc3RcIilcbiAgLy8gICAgICAgICAgICAgICAgIH0sMjAwMClcbiAgLy8gICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe3N1Y2Nlc3NUaW1lcjpzdWNjZXNzVGltZXJ9KVxuICAvLyAgICAgICAgICAgICAgIH1lbHNle1xuICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAvLyAgICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5pSv5LuY5aSx6LSlXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAvLyAgICAgICAgICAgICAgIH1cbiAgLy8gICAgICAgICAgICAgICBpZiggZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciApe1xuICAvLyAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAvLyAgICAgICAgICAgICAgIH1lbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCl7XG4gIC8vICAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAvLyAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29uV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAvLyAgICAgICAgICAgICAgIH1cbiAgLy9cbiAgLy8gICAgICAgICAgICAgICAvLyDkvb/nlKjku6XkuIrmlrnlvI/liKTmlq3liY3nq6/ov5Tlm54s5b6u5L+h5Zui6Zif6YOR6YeN5o+Q56S677yacmVzLmVycl9tc2flsIblnKjnlKjmiLfmlK/ku5jmiJDlip/lkI7ov5Tlm54gICAgb2vvvIzkvYblubbkuI3kv53or4HlroPnu53lr7nlj6/pnaDjgIJcbiAgLy8gICAgICAgICAgICAgfVxuICAvLyAgICAgICAgICAgKTtcbiAgLy8gICAgICAgICB9XG4gIC8vICAgICAgICAgaWYgKHR5cGVvZiBXZWl4aW5KU0JyaWRnZSA9PSBcInVuZGVmaW5lZFwiKXtcbiAgLy8gICAgICAgICAgIGlmKCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICl7XG4gIC8vICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1dlaXhpbkpTQnJpZGdlUmVhZHknLCBvbkJyaWRnZVJlYWR5LCBmYWxzZSk7XG4gIC8vICAgICAgICAgICB9ZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe1xuICAvLyAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnV2VpeGluSlNCcmlkZ2VSZWFkeScsIG9uQnJpZGdlUmVhZHkpO1xuICAvLyAgICAgICAgICAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25XZWl4aW5KU0JyaWRnZVJlYWR5Jywgb25CcmlkZ2VSZWFkeSk7XG4gIC8vICAgICAgICAgICB9XG4gIC8vICAgICAgICAgfWVsc2V7XG4gIC8vICAgICAgICAgICBvbkJyaWRnZVJlYWR5KCk7XG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICB9KVxuICAvLyB9XG4gIGFza0J0bkNsaWNrKCl7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMucmVmcy5jb250ZW50LnZhbHVlXG4gICAgY29uc29sZS5sb2coXCJjb250ZW50IGlzID09PVwiK2NvbnRlbnQpXG4gICAgaWYoY29udGVudD09XCJcIil7XG4gICAgICAvLyBhbGVydChcIuWGheWuueS4jeiDveS4uuepuuWTplwiKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWxlcnRDb250ZW50OiflhoXlrrnkuI3og73kuLrnqbrlk6YnLHNob3dBbGVydDp0cnVlfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB7aWR9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGdldFByZXBheUluZm8oY29udGVudCxpZCkpXG4gICAgdGhpcy5wYXlGb3JBc2soY29udGVudCxpZClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHtpZH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZ2V0VHV0b3JJbmZvKGlkKSlcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGdldFR1dG9yQW5zd2VyTGlzdChpZCwxLDEwKSlcbiAgICBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG4gICAgICBpZiAod2luZG93LnNjcm9sbFkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPT0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgJiYgIXRoaXMucHJvcHMudHV0b3JBbnN3ZXJMaXN0LmNvbXBsZXRlZCkge1xuICAgICAgICBjb25zdCBjdXJQYWdlID0gKyt0aGlzLnN0YXRlLmN1clBhZ2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2N1clBhZ2V9KTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRUdXRvckFuc3dlckxpc3QoaWQsY3VyUGFnZSwgMTApKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLnJvdXRlci5zZXRSb3V0ZUxlYXZlSG9vayh0aGlzLnByb3BzLnJvdXRlLCB0aGlzLnJvdXRlcldpbGxMZWF2ZSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHJvdXRlcldpbGxMZWF2ZShuZXh0TG9jYXRpb24pIHtcbiAgICAvLyByZXR1cm4gZmFsc2UgdG8gcHJldmVudCBhIHRyYW5zaXRpb24gdy9vIHByb21wdGluZyB0aGUgdXNlcixcbiAgICAvLyBvciByZXR1cm4gYSBzdHJpbmcgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZGVjaWRlOlxuICAgIGlmKHRoaXMucmVmcy5jb250ZW50LnZhbHVlICE9ICcnICYmICF0aGlzLnN0YXRlLmFza1N1Y2Nlc3MgJiYgIXRoaXMuc3RhdGUuY2FuTGVhdmUgJiYgbmV4dExvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoXCJwYXlcIik9PT0tMSl7XG4gICAgICB0aGlzLnNldFN0YXRlKHtuZXh0TG9jYXRpb246bmV4dExvY2F0aW9uLnBhdGhuYW1lLGNhbkxlYXZlOnRydWV9KVxuICAgICAgY29uc29sZS5sb2cobmV4dExvY2F0aW9uKVxuICAgICAgbGV0IHNlbGYgPSB0aGlzXG4gICAgICBtZXNzYWdlLmNvbmZpcm0oXCLmgqjnmoTmj5Dpl67lsJrmnKrmlK/ku5jvvIznoa7orqTnprvlvIDvvJ9cIixcIuaOpeedgOaPkOmXrlwiLFwi56a75byAXCIsXG4gICAgICAgICgpPT57XG4gICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtjYW5MZWF2ZTpmYWxzZX0pXG4gICAgICAgIH0sXG4gICAgICAgICgpPT57XG4gICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKG5leHRMb2NhdGlvbi5wYXRobmFtZSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIGhpZGVBbGVydCgpe1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dBbGVydDpmYWxzZX0pXG4gIH1cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpe1xuICAgICAgbGV0IHt0dXRvckluZm99ID0gbmV4dFByb3BzXG4gICAgICBpZih0dXRvckluZm8udXNlcl9mYWNlICYmIHRoaXMuc3RhdGUubm90UmVnU2hhcmUpe1xuICAgICAgICAgIHd4Lm9uTWVudVNoYXJlQXBwTWVzc2FnZSh7XG4gICAgICAgICAgICAgIHRpdGxlOiBgJHt0dXRvckluZm8udXNlcl9uYW1lfeKAlOKAlCR7dHV0b3JJbmZvLnVzZXJfY29tcGFueX3vvIwke3R1dG9ySW5mby51c2VyX3Bvc2l0aW9ufWAsIC8vIOWIhuS6q+agh+mimFxuICAgICAgICAgICAgICBkZXNjOiBcIuivtOWHuuacgOi/keWbsOaJsOS9oOeahOmXrumimO+8jOaIkeadpeW4ruS9oOino+WGs1wiLCAvLyDliIbkuqvmj4/ov7BcbiAgICAgICAgICAgICAgbGluazogbG9jYXRpb24uaHJlZiwgLy8g5YiG5Lqr6ZO+5o6lXG4gICAgICAgICAgICAgIGltZ1VybDogdHV0b3JJbmZvLnVzZXJfZmFjZSwgLy8g5YiG5Lqr5Zu+5qCHXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5oiQ5YqfXCIpLy8g55So5oi356Gu6K6k5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pe+8jOWOn+WboOaYr1wiK2VycilcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gICBhbGVydChcIuWIhuS6q+Wksei0pVwiKS8vIOeUqOaIt+WPlua2iOWIhuS6q+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bm90UmVnU2hhcmU6ZmFsc2V9KVxuICAgICAgfVxuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuc3VjY2Vzc1RpbWVyKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGNsZWFyVHV0b3JJbmRleCgpKTtcbiAgICB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICB0aXRsZTogJ++8uzfngrnpl67nrZTvvL3pl67luIjlhYTvvIzpl67luIjlp5DvvIzpl67liY3ovognLCAvLyDliIbkuqvmoIfpophcbiAgICAgICAgZGVzYzogJ+Wkp+WtpueUn+iBjOWcuumXruetlOW5s+WPsO+8jOWvueS6juWNs+WwhuWIsOadpeeahOeni+aLm++8jOS9oOeahOmXrumimOmDveWPr+S7peWcqOi/memHjOino+WGs+OAgicsIC8vIOWIhuS6q+aPj+i/sFxuICAgICAgICBsaW5rOiBsb2NhdGlvbi5ocmVmLCAvLyDliIbkuqvpk77mjqVcbiAgICAgICAgaW1nVXJsOiByZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL2xvZ28uanBnXCIpLCAvLyDliIbkuqvlm77moIdcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vICAgYWxlcnQoXCLliIbkuqvmiJDlip9cIikvLyDnlKjmiLfnoa7orqTliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbBcbiAgICAgICAgfSxcbiAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAvLyAgIGFsZXJ0KFwi5YiG5Lqr5aSx6LSl77yM5Y6f5Zug5pivXCIrZXJyKVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGFsZXJ0KFwi5YiG5Lqr5aSx6LSlXCIpLy8g55So5oi35Y+W5raI5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwXG4gICAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBoYW5kbGVUZXh0YXJlYSgpe1xuICAgICAgY29uc3QgdGV4dCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5jb250ZW50KS52YWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3RleHRMZW5ndGg6IHRleHQubGVuZ3RofSlcbiAgICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7dHV0b3JJbmZvLHR1dG9yQW5zd2VyTGlzdH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgIHR1dG9ySW5mby51c2VyX2ZhY2UgP1xuICAgICAgPG1haW4gY2xhc3NOYW1lPVwidHV0b3JJbmRleFwiPlxuICAgICAgICA8VG9hc3QgIHNob3c9e3RoaXMuc3RhdGUuYXNrU3VjY2Vzc30gPuaPkOmXruaIkOWKnzwvVG9hc3Q+XG4gICAgICAgIDxUb2FzdCAgaWNvbj1cImxvYWRpbmdcIiBzaG93PXt0aGlzLnN0YXRlLmxvYWRpbmd9ID7or7fmsYLmlK/ku5jkuK3igKbigKY8L1RvYXN0PlxuICAgICAgICA8QWxlcnQgc2hvdz17dGhpcy5zdGF0ZS5zaG93QWxlcnR9IHRpdGxlPXt0aGlzLnN0YXRlLmFsZXJ0LnRpdGxlfSBidXR0b25zPXt0aGlzLnN0YXRlLmFsZXJ0LmJ1dHRvbnN9ID57dGhpcy5zdGF0ZS5hbGVydENvbnRlbnR9PC9BbGVydD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0dXRvci1pbmZvXCI+XG4gICAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwrYHR1dG9yL3NoYXJlLyR7dHV0b3JJbmZvLnVzZXJfaWR9YH0gPlxuICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJRUkVudHJ5XCIgc3JjPXtyZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL1FSRW50cnkucG5nXCIpfS8+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiYXZhdGFyXCIgc3JjPXt0dXRvckluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInfS8+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInR1dG9yLW5hbWVcIj57dHV0b3JJbmZvLnVzZXJfbmFtZX08L2gzPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0dXRvci10aXRsZVwiPnt0dXRvckluZm8udXNlcl9jb21wYW55K1wiICBcIit0dXRvckluZm8udXNlcl9wb3NpdGlvbn08L2g0PlxuICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJ0dXRvci1pbnRyb1wiPnt0dXRvckluZm8udXNlcl9pbnRyb2R1Y3Rpb259PC9oNT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyYWRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyYWRlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHA+77+le3R1dG9ySW5mby50ZWFjaGVyX2luY29tZX08L3A+XG4gICAgICAgICAgICAgIDxwPuaAu+aUtuWFpTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmFkZS1pdGVtXCI+XG4gICAgICAgICAgICAgIDxwPu+/pXt0dXRvckluZm8ubGlzdGVuX251bX08L3A+XG4gICAgICAgICAgICAgIDxwPuiiq+WBt+WQrDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5zd2VyLXRleHRcIj5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIHJlZj1cImNvbnRlbnRcIiBtYXhMZW5ndGg9XCI2MFwiIG9uS2V5VXA9e3RoaXMuaGFuZGxlVGV4dGFyZWEuYmluZCh0aGlzKX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlVGV4dGFyZWEuYmluZCh0aGlzKX0gcGxhY2Vob2xkZXI9e1wi5ZCRXCIrdHV0b3JJbmZvLnVzZXJfbmFtZStcIuaPkOmXru+8jOetiVRB6K+t6Z+z5Zue562U77yb6LaF6L+HMjTlsI/ml7bmnKrlm57nrZTvvIzlsIbmjInmlK/ku5jot6/lvoTlhajpop3pgIDmrL5cIn0vPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtdGlwc1wiPnt0aGlzLnN0YXRlLnRleHRMZW5ndGh9LzYwPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZVwiPu+/pXt0dXRvckluZm8udGVhY2hlcl9wcml6ZX08L2Rpdj5cbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJib3R0b20tYnRuXCIgb25DbGljaz17dGhpcy5hc2tCdG5DbGljay5iaW5kKHRoaXMpfT7lkJFUQeaPkOmXrjwvYT5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1saXN0XCI+XG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT1cInRpdGxlXCI+5LuW6L+Y5Zue562U5LqG6L+Z5Lqb6Zeu6aKYPC9oNT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICB0dXRvckFuc3dlckxpc3QuZGF0YS5tYXAoKHF1ZXN0aW9uLGluZGV4KSA9PlxuICAgICAgICAgICAgICA8UXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhciBoZWFkPXt0dXRvckluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInfSBrZXk9e2luZGV4fSBxdWVzdGlvbj17cXVlc3Rpb259Lz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgIDxMb2FkaW5nMiBjb21wbGV0ZWQ9e3R1dG9yQW5zd2VyTGlzdC5jb21wbGV0ZWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPlxuICAgICAgOiA8TG9hZGluZy8+XG4gICAgKVxuICB9XG59XG5cblR1dG9ySW5kZXggPSB3aXRoUm91dGVyKFR1dG9ySW5kZXgpXG5cblR1dG9ySW5kZXgucHJvcFR5cGVzID0ge1xuICB0dXRvckluZm86IFByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZCxcbn1cblR1dG9ySW5kZXguY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFByb3BUeXBlcy5vYmplY3Rcbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHV0b3JJbmZvOiBzdGF0ZS50dXRvckluZm8sXG4gICAgdHV0b3JBbnN3ZXJMaXN0OiBzdGF0ZS50dXRvckFuc3dlckxpc3QsXG4gICAgcHJlcGF5SW5mbzogc3RhdGUucHJlcGF5SW5mbyxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHNcbikoVHV0b3JJbmRleClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1R1dG9ySW5kZXguanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8xNC5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50LCBQcm9wVHlwZXN9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHtnZXRUdXRvckxpc3R9IGZyb20gJy4uL2FjdGlvbnMvdHV0b3IuanMnXG5pbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gJy4uL2FjdGlvbnMvYWNjb3VudCdcbmltcG9ydCBUdXRvckl0ZW0gZnJvbSBcIi4vYmxvY2tzL1R1dG9ySXRlbVwiXG5pbXBvcnQgU2VhcmNoQmFyIGZyb20gXCIuL1NlYXJjaEJhclwiXG5cbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9UdXRvckxpc3Quc2NzcydcbmltcG9ydCBMb2FkaW5nIGZyb20gXCIuL0xvYWRpbmcyXCJcbmltcG9ydCB7YmFzZVVybH0gZnJvbSBcIi4uL2FwaS9jb25maWdcIlxuY2xhc3MgVHV0b3JMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJQYWdlOjEsXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlU2Nyb2xsID0gdGhpcy5oYW5kbGVTY3JvbGwuYmluZCh0aGlzKVxuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZ2V0VHV0b3JMaXN0KDEsIDIwKSlcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGdldFVzZXJJbmZvKCkpO1xuICAgICQoJy5hcHAtY29udGFpbmVyJykub24oJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgfVxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9mZignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXBwLWNvbnRhaW5lcicpWzBdO1xuICAgIGlmIChjb250YWluZXIuY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCArIDEgPj0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAgJiYgIXRoaXMucHJvcHMudHV0b3JMaXN0LmNvbXBsZXRlZCkge1xuICAgICAgY29uc3QgY3VyUGFnZSA9ICsrdGhpcy5zdGF0ZS5jdXJQYWdlO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y3VyUGFnZX0pO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRUdXRvckxpc3QoY3VyUGFnZSwgMTApKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7dHV0b3JMaXN0LCB1c2VySWR9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiAoXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJ0dXRvci1saXN0XCI+XG4gICAgICAgIDxTZWFyY2hCYXIgLz5cbiAgICAgICAge1xuICAgICAgICAgIHR1dG9yTGlzdC5kYXRhLm1hcCgodHV0b3IsIGluZGV4KSA9PlxuICAgICAgICAgICAgPFR1dG9ySXRlbSB1c2VySWQ9e3VzZXJJZH0gdHV0b3I9e3R1dG9yfSBrZXk9e2luZGV4fS8+XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIDxMb2FkaW5nIGNvbXBsZXRlZCA9IHsgdHV0b3JMaXN0LmNvbXBsZXRlZCB9IC8+XG4gICAgICA8L21haW4+XG4gICAgKVxuICB9XG59XG5cblR1dG9yTGlzdC5wcm9wVHlwZXMgPSB7XG4gIHR1dG9yTGlzdDogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxufVxuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0dXRvckxpc3Q6IHN0YXRlLnR1dG9yTGlzdCxcbiAgICB1c2VySWQ6IHN0YXRlLmFjY291bnQudXNlckluZm8udXNlcl9pZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wc1xuKShUdXRvckxpc3QpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9UdXRvckxpc3QuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8yNC5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IGdldFR1dG9ySW5mbyB9IGZyb20gJy4uL2FjdGlvbnMvdHV0b3InXG5pbXBvcnQge2RvbWFpblBhdGh9IGZyb20gJy4uL2FwaS9jb25maWcnXG5pbXBvcnQgJy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvVHV0b3JTaGFyZS5zY3NzJ1xuXG5jbGFzcyBUdXRvclNoYXJlIGV4dGVuZHMgQ29tcG9uZW50e1xuICAgIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgICAgIGNvbnN0IHtpZH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGdldFR1dG9ySW5mbyhpZCkpXG4gICAgICAgIGNvbnNvbGUubG9nKFwicXVlc3Rpb25JbmZvPT09XCIrdGhpcy5wcm9wcy50dXRvckluZm8pXG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyB0dXRvckluZm8gfSA9IHRoaXMucHJvcHNcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInVzZXIgc2hhcmVcIiA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3R1dG9ySW5mby51c2VyX2ZhY2V9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJhdmF0YXJcIiBzcmM9e3R1dG9ySW5mby51c2VyX2ZhY2V9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJuYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHV0b3JJbmZvLnVzZXJfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dHV0b3JJbmZvLnVzZXJfY29tcGFueX0gIHt0dXRvckluZm8udXNlcl9wb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAg6ZqP5pe26ZqP5Zyw5biu5L2g6Kej5Yaz5om+5bel5L2c6Zq+6aKY77yBXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHdpZHRoPVwiNzAlXCIgc3JjPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqclFyY29kZS5nZXRRckJhc2U2NChgJHtkb21haW5QYXRofXR1dG9yLyR7dHV0b3JJbmZvLnVzZXJfaWR9YCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nXHRcdDogMTAsICAgLy/kuoznu7TnoIHlm5vovrnnqbrnmb3vvIzpu5jorqTkuLoxMHB4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoXHRcdDogMjU2LCAgLy/kuoznu7TnoIHlm77niYflrr3luqbvvIzpu5jorqTkuLoyNTZweFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRcdFx0OiAyNTYsICAvL+S6jOe7tOeggeWbvueJh+mrmOW6pu+8jOm7mOiupOS4ujI1NnB4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RMZXZlbFx0OiAyLCAgICAvL+S6jOe7tOeggeWuuemUmWxldmVs77yM6buY6K6k5Li66auYXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQgICAgICA6IFwiI2ZmZmZmZlwiLCAgICAvL+S6jOe7tOeggeminOiJslxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlZ3JvdW5kICAgICAgOiBcIiMwMDAwMDBcIiAgICAgLy/kuoznu7TnoIHog4zmma/popzoibJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIOaIquWbvuWIhuS6q+WIsOaci+WPi+WciDxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICDluK7liqnmm7TlpJrnmoTlrablvJ/lrablprnop6PlhrPlm7Dmg5HlkKdcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21haW4+XG4gICAgICAgIClcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHV0b3JJbmZvOiBzdGF0ZS50dXRvckluZm9cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gICAgbWFwU3RhdGVUb1Byb3BzXG4pKFR1dG9yU2hhcmUpXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvVHV0b3JTaGFyZS5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE4LlxuICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgZ2V0T3RoZXJVc2VySW5mbyB9IGZyb20gJy4uL2FjdGlvbnMvYWNjb3VudCdcbmltcG9ydCAnLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9Vc2VySW5kZXguc2NzcydcblxuY2xhc3MgVXNlckluZGV4IGV4dGVuZHMgQ29tcG9uZW50e1xuICBjb21wb25lbnRXaWxsTW91bnQoKXtcbiAgICB0aGlzLnByb3BzLmdldE90aGVyVXNlckluZm8odGhpcy5wcm9wcy5wYXJhbXMuaWQpO1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgLy8gY29uc3Qge2lkfSA9IHRoaXMucHJvcHMucGFyYW1zXG4gICAgLy8gdGhpcy5wcm9wcy5kaXNwYXRjaChnZXRUdXRvckluZm8oaWQpKVxuICAgIGNvbnNvbGUubG9nKFwicXVlc3Rpb25JbmZvPT09XCIrdGhpcy5wcm9wcy50dXRvckluZm8pXG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiAoXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJ1c2VyXCIgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZ1wiPlxuICAgICAgICAgIDxpbWcgc3JjPXt1c2VyLnVzZXJfZmFjZX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmRcIj5cbiAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiYXZhdGFyXCIgc3JjPXt1c2VyLnVzZXJfZmFjZX0gLz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJuYW1lXCI+XG4gICAgICAgICAgICAgIHt1c2VyLnVzZXJfbmFtZX1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICAgICAge3VzZXIudXNlcl9jb21wYW55fSB7dXNlci51c2VyX3Bvc2l0aW9ufSB7dXNlci51c2VyX2V4cGVyaWVuY2V9XG4gICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxmLWludHJvXCI+XG4gICAgICAgICAgICAgIHt1c2VyLnVzZXJfaW50cm9kdWN0aW9ufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L21haW4+XG4gICAgKVxuICB9XG59XG5cblVzZXJJbmRleC5wcm9wVHlwZXMgPSB7XG4gIHR1dG9ySW5mbzogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkuaXNSZXF1aXJlZCxcbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUub3RoZXJVc2VySW5mb1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcywgXG4gIHtcbiAgICBnZXRPdGhlclVzZXJJbmZvXG4gIH1cbikoVXNlckluZGV4KVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9jb250YWluZXJzL1VzZXJJbmRleC5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6aHVzaGloYW8gb24gMjAxNi82LzE2LlxuICovXG4vKipcbiAqIGNyZWF0ZSBieSB3dXdxXG4gKi9cbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBiYXNlVXJsIH0gZnJvbSAnLi4vLi4vYXBpL2NvbmZpZyc7XG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvUXVlc3Rpb25JdGVtQXNrZWRNZS5zY3NzJztcblxuY2xhc3MgUXVlc3Rpb25JdGVtQXNrZWRNZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7cXVlc3Rpb259ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB1cmwgPSBxdWVzdGlvbi5pc2Fuc3dlcmVkID09ICcwJyA/IGAke2Jhc2VVcmx9YW5zd2VyLyR7cXVlc3Rpb24uaWR9YCA6IGAke2Jhc2VVcmx9cXVlc3Rpb24vJHtxdWVzdGlvbi5pZH1gO1xuICAgIHJldHVybiAoXG4gICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJxdWVzdGlvbi1pdGVtLWFza2VkLW1lXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlckluZm9cIj5cbiAgICAgICAgICA8TGluayB0byA9IHtgJHtiYXNlVXJsfXVzZXIvJHtxdWVzdGlvbi5xdWVzdGlvbl91c2VyX2lkfWB9ID5cbiAgICAgICAgICAgIDxpbWcgc3JjPXtxdWVzdGlvbi51c2VyX2ZhY2Uuc2xpY2UoMCwgLTEpICsgJzEzMid9IC8+XG4gICAgICAgICAgICA8c3Bhbj57cXVlc3Rpb24udXNlcl9uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TGluayB0byA9IHt1cmx9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb24tY29udGVudFwiPlxuICAgICAgICAgICAgPGg0PntxdWVzdGlvbi5jb250ZW50fTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXNcIj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcXVlc3Rpb24uaXNhbnN3ZXJlZCA9PSAnMCdcbiAgICAgICAgICAgICAgICA/IDxkaXYgY2xhc3NOYW1lPVwiYnRuIG5vdC1zb2x2ZWRcIj7lvoXop6PlhrM8L2Rpdj5cbiAgICAgICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwiYnRuIHNvbHZlZFwiPuW3suino+WGszwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2FydGljbGU+XG4gICAgKVxuICB9XG59XG5cbi8vIGNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4ge1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIGlzX3RlYWNoZXI6IHN0YXRlLmFjY291bnQudXNlckluZm8uaXNfdGVhY2hlclxuLy8gICAgIH1cbi8vIH1cbi8vIFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKCk7XG5leHBvcnQgZGVmYXVsdCBRdWVzdGlvbkl0ZW1Bc2tlZE1lO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvYmxvY2tzL1F1ZXN0aW9uSXRlbUFza2VkTWUuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8xNi5cbiAqL1xuLyoqXG4gKiBjcmVhdGUgYnkgd3V3cVxuICovXG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHtiYXNlVXJsfSBmcm9tIFwiLi4vLi4vYXBpL2NvbmZpZ1wiXG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUuc2Nzcyc7XG5cbmNsYXNzIFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtxdWVzdGlvbn0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8TGluayB0bz17YmFzZVVybCtcInF1ZXN0aW9uL1wiK3F1ZXN0aW9uLmlkfT5cbiAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwicXVlc3Rpb24td2l0aG91dC1hdmF0YXItd2l0aG91dC1idWJibGVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxoND57cXVlc3Rpb24uY29udGVudH08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzXCI+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLmlzYW5zd2VyZWQgPT0gJzAnXG4gICAgICAgICAgICAgICAgPyA8ZGl2IGNsYXNzTmFtZT1cImJ0biBub3Qtc29sdmVkXCI+5b6F6Kej5YazPC9kaXY+XG4gICAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT1cImJ0biBzb2x2ZWRcIj7lt7Lop6PlhrM8L2Rpdj5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2FydGljbGU+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvYmxvY2tzL1F1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXJXaXRob3V0QnViYmxlLmpzIiwiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvQXNrZWRNZUxpc3Quc2Nzcyc7XG5pbXBvcnQgTW9kYWwgZnJvbSAnLi4vTW9kYWwnO1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCBRdWVzdGlvbkl0ZW1Bc2tlZE1lIGZyb20gJy4uL2Jsb2Nrcy9RdWVzdGlvbkl0ZW1Bc2tlZE1lJztcbmltcG9ydCB7Z2V0QXNrZWRNZSwgcmVxdWVzdEJlY29tZVRlYWNoZXJ9IGZyb20gJy4uLy4uL2FjdGlvbnMvYWNjb3VudCdcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL0xvYWRpbmcyJ1xuaW1wb3J0IHsgYmFzZVVybCB9IGZyb20gXCIuLi8uLi9hcGkvY29uZmlnXCJcbmNsYXNzIEFza2VkTWVMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhZmZvcmQ6ICcnLFxuICAgICAgaW52aXRlQ29kZTogJycsXG4gICAgICBpc1RlYWNoZXI6IHRydWVcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5wcm9wcy5nZXRBc2tlZE1lKDEsIDEwKTtcbiAgICB9XG4gICAgJCgnLmFwcC1jb250YWluZXInKS5vbignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgJCgnLmFwcC1jb250YWluZXInKS5vZmYoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgfVxuICBoYW5kbGVTdWJtaXQoKSB7XG4gICAgaWYoIXRoaXMuc3RhdGUuaW52aXRlQ29kZSB8fCAhdGhpcy5zdGF0ZS5hZmZvcmQpe1xuICAgICAgICBhbGVydCgn6L+Y5pyJ56m657y655qE6aG577yM6K+35qOA5p+l5ZCO57un57ut5aGr5YaZJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5yZXF1ZXN0QmVjb21lVGVhY2hlcih0aGlzLnN0YXRlLmludml0ZUNvZGUsIHRoaXMuc3RhdGUuYWZmb3JkKTtcbiAgICB0aGlzLnJlZnMubW9kYWwuY2xvc2UoKTtcbiAgfVxuICBoYW5kbGVTY3JvbGwoKSB7XG4gICAgY29uc3Qge2NvbXBsZXRlZCwgcGFnZSwgbG9hZGluZ30gPSB0aGlzLnByb3BzO1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcHAtY29udGFpbmVyJylbMF07XG4gICAgaWYgKCFsb2FkaW5nICYmIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBjb250YWluZXIuc2Nyb2xsVG9wICsgMSA+PSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0ICAmJiAhY29tcGxldGVkKSB7XG4gICAgICB0aGlzLnByb3BzLmdldEFza2VkTWUocGFnZSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7dXNlckluZm8sIGNvbXBsZXRlZCwgZGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFza2VkTWVMaXN0XCI+XG4gICAgICAgIHtcbiAgICAgICAgICB1c2VySW5mby5pc190ZWFjaGVyID09PSAnMScgPyAoXG4gICAgICAgICAgLy8gdGhpcy5zdGF0ZS5pc1RlYWNoZXIgPyAoXG4gICAgICAgICAgICAoZGF0YS5sZW5ndGggPT09IDApICYmIGNvbXBsZXRlZFxuICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpbnRcIj5cbiAgICAgICAgICAgICAgICAgIOi/mOayoeacieS6uumXruS9oFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgJHtiYXNlVXJsfXR1dG9yL3NoYXJlLyR7dXNlckluZm8udXNlcl9pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJiZWNvbWVUdXRvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAg6K6p5pu05aSa5Lq65LqG6Kej5L2gXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGRhdGEubWFwKChpdGVtLCBpbmRleCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8UXVlc3Rpb25JdGVtQXNrZWRNZSBxdWVzdGlvbj17aXRlbX0ga2V5PXtpbmRleH0gLz47XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7Lyo8ZGl2IG9uQ2xpY2s9e2U9Pnt0aGlzLnNldFN0YXRlKHtpc1RlYWNoZXI6ICF0aGlzLnN0YXRlLmlzVGVhY2hlcn0pO319PuWIh+aNojwvZGl2PiovfVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIDxMb2FkaW5nIGNvbXBsZXRlZCA9IHtjb21wbGV0ZWR9IC8+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaW50XCI+XG4gICAgICAgICAgICAgICAg5oKo6L+Y5LiN5piv5a+85biI5ZOmflxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbWFpbFwiPlxuICAgICAgICAgICAgICAgIOWPkemAgeS4quS6uueugOWOhuWIsHJlbnpoZW5nQDdkeWsuY29tXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5leHRcIj5cbiAgICAgICAgICAgICAgICDlrqHmoLjpgJrov4flkI7miJHku6zkvJrku6Xpgq7ku7bnmoTlvaLlvI/lj5HmlL7pgoDor7fnoIFcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYmVjb21lVHV0b3JcIiBvbkNsaWNrPXsoZSk9Pnt0aGlzLnJlZnMubW9kYWwub3BlbigpfX0+XG4gICAgICAgICAgICAgICAg5oiQ5Li65a+85biIXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8TW9kYWwgbGVmdD1cIjIyXCIgdG9wPVwiMjI1XCIgcmVmPVwibW9kYWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImludml0YXRpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPumCgOivt+eggTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm5vLXVuZGVybGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6YDRyZW1gfX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW52aXRlQ29kZX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXmgqjnmoTpgoDor7fnoIFcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpPT57dGhpcy5zZXRTdGF0ZSh7aW52aXRlQ29kZTplLnRhcmdldC52YWx1ZX0pfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZmZvcmRcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPuWQkeaIkeaPkOmXrumcgOimgeaUr+S7mDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6YDEuMnJlbWB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJuby11bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hZmZvcmR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSk9Pnt0aGlzLnNldFN0YXRlKHthZmZvcmQ6ZS50YXJnZXQudmFsdWV9KX19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+5YWDPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VibWl0XCIgb25DbGljaz17dGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKX0+56Gu5a6aPC9kaXY+XG4gICAgICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICAgICAgIHsvKiAqLyB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBsb2FkaW5nOiBzdGF0ZS5hY2NvdW50LmFza2VkTWUubG9hZGluZyxcbiAgICBkYXRhOiBzdGF0ZS5hY2NvdW50LmFza2VkTWUuZGF0YSxcbiAgICBjb21wbGV0ZWQ6IHN0YXRlLmFjY291bnQuYXNrZWRNZS5jb21wbGV0ZWQsXG4gICAgdXNlckluZm86IHN0YXRlLmFjY291bnQudXNlckluZm8sXG4gICAgcGFnZTogc3RhdGUuYWNjb3VudC5hc2tlZE1lLnBhZ2VcbiAgfVxufVxuXG5Bc2tlZE1lTGlzdCA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7Z2V0QXNrZWRNZSwgcmVxdWVzdEJlY29tZVRlYWNoZXJ9KShBc2tlZE1lTGlzdCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFza2VkTWVMaXN0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvbGlzdHMvQXNrZWRNZUxpc3QuanMiLCJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvSUFza2VkTGlzdC5zY3NzJztcbmltcG9ydCBRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyIGZyb20gJy4uL2Jsb2Nrcy9RdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyJztcbmltcG9ydCBRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSBmcm9tICcuLi9ibG9ja3MvUXVlc3Rpb25JdGVtV2l0aG91dEF2YXRhcldpdGhvdXRCdWJibGUnO1xuaW1wb3J0IHtnZXRJQXNrZWR9IGZyb20gJy4uLy4uL2FjdGlvbnMvYWNjb3VudCdcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL0xvYWRpbmcyJ1xuaW1wb3J0IHtiYXNlVXJsfSBmcm9tIFwiLi4vLi4vYXBpL2NvbmZpZ1wiXG5cbmNsYXNzIElBc2tlZExpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZVNjcm9sbCA9IHRoaXMuaGFuZGxlU2Nyb2xsLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5wcm9wcy5nZXRJQXNrZWQoMSwgMTApO1xuICAgIH1cbiAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9uKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9mZignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGNvbnN0IHsgY29tcGxldGVkLCBwYWdlLCBsb2FkaW5nIH0gID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXBwLWNvbnRhaW5lcicpWzBdO1xuICAgIGlmICghbG9hZGluZyAmJiBjb250YWluZXIuY2xpZW50SGVpZ2h0ICsgY29udGFpbmVyLnNjcm9sbFRvcCArIDEgPj0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAgJiYgIWNvbXBsZXRlZCkge1xuICAgICAgY29uc29sZS5sb2coJ2hhaCcpO1xuICAgICAgdGhpcy5wcm9wcy5nZXRJQXNrZWQocGFnZSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEsIGNvbXBsZXRlZCB9ICA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaUFza2VkTGlzdFwiPlxuICAgICAgICB7XG4gICAgICAgICAgZGF0YS5sZW5ndGggfHwgICFjb21wbGV0ZWQ/IChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHtkYXRhLm1hcCgoaXRlbSwgaW5kZXgpPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5pc2Fuc3dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxRdWVzdGlvbkl0ZW1XaXRob3V0QXZhdGFyV2l0aG91dEJ1YmJsZSBrZXk9e2luZGV4fSBxdWVzdGlvbj17aXRlbX0vPjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFF1ZXN0aW9uSXRlbVdpdGhvdXRBdmF0YXIga2V5PXtpbmRleH0gcXVlc3Rpb249e2l0ZW19Lz47XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui/meS4qumXrumimOaciemXrumimFwiLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDxMb2FkaW5nIGNvbXBsZXRlZCA9IHtjb21wbGV0ZWR9Lz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaW50XCI+XG4gICAgICAgICAgICAgICAg5L2g6L+Y5rKh5pyJ6Zeu6L+H5ZGmflxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnb1wiPlxuICAgICAgICAgICAgICAgIOW/q+WOu+aJvjxMaW5rIHRvPXtiYXNlVXJsK1widHV0b3JcIn0+5a+85biIPC9MaW5rPuW4ruS9oOino+WGs+mXrumimOWQp35cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBsb2FkaW5nOiBzdGF0ZS5hY2NvdW50LmlBc2tlZC5sb2FkaW5nLFxuICAgIGRhdGE6IHN0YXRlLmFjY291bnQuaUFza2VkLmRhdGEsXG4gICAgY29tcGxldGVkOiBzdGF0ZS5hY2NvdW50LmlBc2tlZC5jb21wbGV0ZWQsXG4gICAgcGFnZTogc3RhdGUuYWNjb3VudC5pQXNrZWQucGFnZVxuICB9XG59XG5cbklBc2tlZExpc3QgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywge2dldElBc2tlZH0pKElBc2tlZExpc3QpO1xuXG5leHBvcnQgZGVmYXVsdCBJQXNrZWRMaXN0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvbGlzdHMvSUFza2VkTGlzdC5qcyIsImltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCAnLi4vLi4vLi4vc3R5bGVzaGVldHMvcGFydGlhbHMvbW9kdWxlcy9MaXRlbmVkTGlzdC5zY3NzJ1xuaW1wb3J0IHtnZXRMaXN0ZW5lZH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9hY2NvdW50J1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL0xvYWRpbmcyJ1xuaW1wb3J0IFF1ZXN0aW9uSXRlbVdpdGhBdmF0YXIgZnJvbSAnLi4vYmxvY2tzL1F1ZXN0aW9uSXRlbVdpdGhBdmF0YXInXG5pbXBvcnQge2Jhc2VVcmx9IGZyb20gXCIuLi8uLi9hcGkvY29uZmlnXCJcbmNsYXNzIExpdGVuZWRMaXN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucHJvcHMuZ2V0TGlzdGVuZWQoMSwgMTApO1xuICAgIH1cbiAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9uKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKCcuYXBwLWNvbnRhaW5lcicpLm9mZignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cblxuICBoYW5kbGVTY3JvbGwoKSB7XG4gICAgY29uc3QgeyBjb21wbGV0ZWQsIHBhZ2UsIGxvYWRpbmcgfSAgPSB0aGlzLnByb3BzO1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhcHAtY29udGFpbmVyJylbMF07XG4gICAgaWYgKCFsb2FkaW5nICYmIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBjb250YWluZXIuc2Nyb2xsVG9wICsgMSA+PSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0ICAmJiAhY29tcGxldGVkKSB7XG4gICAgICB0aGlzLnByb3BzLmdldExpc3RlbmVkKHBhZ2UsIDEwKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBjb21wbGV0ZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNrTWVMaXN0XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBkYXRhLmxlbmd0aCB8fCAhY29tcGxldGVkID8gKFxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDxRdWVzdGlvbkl0ZW1XaXRoQXZhdGFyIHF1ZXN0aW9uPXtxdWVzdGlvbn0ga2V5PXtpbmRleH0vPjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICA8TG9hZGluZyBjb21wbGV0ZWQgPSB7Y29tcGxldGVkfS8+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpbnRcIj5cbiAgICAgICAgICAgICAgICDkvaDov5jmsqHmnInlgbflkKzov4flkaZ+e2RhdGEubGVuZ3RofVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnb1wiPlxuICAgICAgICAgICAgICAgIOW/q+WOuzxMaW5rIHRvPXtiYXNlVXJsfT7ng63pl6g8L0xpbms+6YCb5LiA6YCb5ZCnflxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIGxvYWRpbmc6IHN0YXRlLmFjY291bnQubGlzdGVuZWQubG9hZGluZyxcbiAgICBkYXRhOiBzdGF0ZS5hY2NvdW50Lmxpc3RlbmVkLmRhdGEsXG4gICAgY29tcGxldGVkOiBzdGF0ZS5hY2NvdW50Lmxpc3RlbmVkLmNvbXBsZXRlZCxcbiAgICBwYWdlOiBzdGF0ZS5hY2NvdW50Lmxpc3RlbmVkLnBhZ2VcbiAgfVxufVxuTGl0ZW5lZExpc3QgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywge2dldExpc3RlbmVkfSkoTGl0ZW5lZExpc3QpO1xuZXhwb3J0IGRlZmF1bHQgTGl0ZW5lZExpc3Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvY29udGFpbmVycy9saXN0cy9MaXRlbmVkTGlzdC5qcyIsImltcG9ydCBSZWFjdCwge0NvbXBvbmVudCxQcm9wVHlwZXN9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IExpbmssYnJvd3Nlckhpc3RvcnksIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgJy4uLy4uLy4uL3N0eWxlc2hlZXRzL3BhcnRpYWxzL21vZHVsZXMvQW5zd2VyLnNjc3MnO1xuaW1wb3J0IHsgZ2V0UXVlc3Rpb25JbmZvLHNhdmVWb2ljZSB9IGZyb20gICcuLi8uLi9hY3Rpb25zL3F1ZXN0aW9uJztcbmltcG9ydCB7IGdldEFza2VkTWUgfSBmcm9tICAnLi4vLi4vYWN0aW9ucy9hY2NvdW50JztcbmltcG9ydCB7IGdldFdYQ29uZmlnICwgY29uZmlnU3VjY2Vzc30gZnJvbSBcIi4uLy4uL2FjdGlvbnMvY29uZmlnXCJcbmltcG9ydCB0aW1lIGZyb20gJy4uLy4uL3V0aWwvdGltZSdcbmltcG9ydCBWb2ljZVdhdmUgZnJvbSAgXCIuLi8uLi9jb21wb25lbnRzL1ZvaWNlV2F2ZVwiXG5pbXBvcnQgVG9hc3QgZnJvbSBcIi4uLy4uL3V0aWwvd2V1aS90b2FzdFwiXG5pbXBvcnQge2Jhc2VVcmwsZG9tYWlufSBmcm9tIFwiLi4vLi4vYXBpL2NvbmZpZ1wiXG5pbXBvcnQgQ29uZmlybSBmcm9tIFwiLi4vLi4vdXRpbC93ZXVpL2NvbmZpcm1cIlxuaW1wb3J0IEFsZXJ0IGZyb20gXCIuLi8uLi91dGlsL3dldWkvYWxlcnRcIlxuaW1wb3J0IG1lc3NhZ2UgZnJvbSBcIi4uLy4uL3V0aWwvd2V1aS9tZXNzYWdlXCJcbmltcG9ydCBMb2FkaW5nIGZyb20gXCIuLi9Mb2FkaW5nXCJcbmNsYXNzIEFuc3dlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnN0YXRlPXtcbiAgICAgIGxvY2FsSWQ6IG51bGwsXG4gICAgICBzdGF0dXM6IDAsLy8wOuivneetkuetieW+heW9lemfs++8jDHvvJrnrYnlvoXlvq7kv6Hlj5HotbflvZXpn7PvvIwy77ya5b2V6Z+z5Lit77yMM++8muetieW+heW+ruS/oeWBnOatouW9lemfs++8jDTvvJrnrYnlvoXmkq3mlL7vvIw177ya5pKt5pS+5LitXG4gICAgICBhbnN3ZXJTdWNjZXNzOiBmYWxzZSxcbiAgICAgIHN1Y2Nlc3NUaW1lcjpudWxsLFxuICAgICAgYXV0aG9yaXppbmc6ZmFsc2UsXG4gICAgICB1cGxvYWRpbmc6ZmFsc2UsXG4gICAgICBTVEFSVDowLFxuICAgICAgRU5EOjAsXG4gICAgICBjYW5MZWF2ZTogZmFsc2UsXG4gICAgICBzaG93QWxlcnQ6ZmFsc2UsXG4gICAgICBhbGVydENvbnRlbnQ6XCJcIixcbiAgICAgIGFsZXJ0OntcbiAgICAgICAgdGl0bGU6XCLmj5DnpLpcIixcbiAgICAgICAgYnV0dG9uczpbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTpcImRlZmF1bHRcIixcbiAgICAgICAgICAgIGxhYmVsOlwi56Gu5a6aXCIsXG4gICAgICAgICAgICBvbkNsaWNrOnRoaXMuaGlkZUFsZXJ0LmJpbmQodGhpcylcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBuZXh0TG9jYXRpb246bG9jYXRpb24uaHJlZlxuICAgIH1cbiAgICB0aGlzLmNvbmZpZ1VybExpc3Q9IFtdXG4gICAgdGhpcy5jbGlja0hhbmRsZXIgPSB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpXG5cdHRoaXMucm91dGVyV2lsbExlYXZlID0gdGhpcy5yb3V0ZXJXaWxsTGVhdmUuYmluZCh0aGlzKVxuICB9XG4gIGhpZGVBbGVydCgpe1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dBbGVydDpmYWxzZX0pXG4gIH1cbiAgY29tcG9uZW50V2lsbE1vdW50KCl7XG4gICAgY29uc3Qge2lkfSA9IHRoaXMucHJvcHMucGFyYW1zO1xuICAgIHRoaXMucHJvcHMuZ2V0UXVlc3Rpb25JbmZvKGlkKTtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIHRoaXMuY29uZmlnVXJsTGlzdC5wdXNoKFxuICAgICAgICBcImh0dHA6Ly9oNWFwcC43ZHlrLmNvbS9hbWEvN2R5ay9cIixcbiAgICAgICAgdGhpcy5wcm9wcy5sYW5kUGFnZSxcbiAgICAgICAgbG9jYXRpb24uaHJlZlxuICAgIClcbiAgICBpZighdGhpcy5wcm9wcy5XWENvbmZpZy5zdWNjZXNzKXtcbiAgICAgICAgdGhpcy5yZWZyZXNoV1hDb25maWcoKVxuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgIC8vIHd4LnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgLy8gICBjb25zb2xlLmxvZyhcImFsbG93UmVjb3JkXCIgKyBzZXNzaW9uU3RvcmFnZS5hbGxvd1JlY29yZClcbiAgICAvLyAgIGlmKCFzZXNzaW9uU3RvcmFnZS5hbGxvd1JlY29yZCB8fCBzZXNzaW9uU3RvcmFnZS5hbGxvd1JlY29yZCAhPT0gJ3RydWUnKXtcbiAgICAvLyAgICAgc2VsZi5zZXRTdGF0ZSh7YXV0aG9yaXppbmc6dHJ1ZX0pXG4gICAgLy8gICAgIHd4LnN0YXJ0UmVjb3JkKHtcbiAgICAvLyAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpe1xuICAgIC8vICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuYWxsb3dSZWNvcmQgPSB0cnVlO1xuICAgIC8vICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7YXV0aG9yaXppbmc6ZmFsc2V9KVxuICAgIC8vICAgICAgICAgc2VsZi5yZWNvcmRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgICAgICAgd3guc3RvcFJlY29yZCgpO1xuICAgIC8vICAgICAgICAgfSw1MDApO1xuICAgIC8vICAgICAgIH0sXG4gICAgLy8gICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe2F1dGhvcml6aW5nOmZhbHNlfSlcbiAgICAvLyAgICAgICB9XG4gICAgLy8gICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgICAgICAvLyBhbGVydCgn55So5oi35ouS57ud5o6I5p2D5b2V6Z+zJyk7XG4gICAgLy8gICAgICAgICBzZWxmLnNldFN0YXRlKHthbGVydENvbnRlbnQ6XCLnlKjmiLfmi5Lnu53mjojmnYPlvZXpn7NcIixzaG93QWxlcnQ6dHJ1ZSxhdXRob3JpemluZzpmYWxzZX0pXG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICB9KTtcbiAgICAvLyAgIH1cbiAgICAvL1xuICAgIC8vIH0pXG4gICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoIXNlbGYucHJvcHMuV1hDb25maWcuc3VjY2Vzcyl7XG4gICAgICAgICAgICBzZWxmLnByb3BzLmNvbmZpZ1N1Y2Nlc3MoKVxuICAgICAgICB9XG4gICAgICAgIHd4Lm9uVm9pY2VQbGF5RW5kKHtcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtzdGF0dXM6IDR9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICB3eC5lcnJvcihmdW5jdGlvbihyZXMpe1xuICAgICAgICBzZWxmLnJlZnJlc2hXWENvbmZpZygpXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5yb3V0ZXIuc2V0Um91dGVMZWF2ZUhvb2sodGhpcy5wcm9wcy5yb3V0ZSwgdGhpcy5yb3V0ZXJXaWxsTGVhdmUpXG4gIH1cbiAgcm91dGVyV2lsbExlYXZlKG5leHRMb2NhdGlvbikge1xuICAgIC8vIHJldHVybiBmYWxzZSB0byBwcmV2ZW50IGEgdHJhbnNpdGlvbiB3L28gcHJvbXB0aW5nIHRoZSB1c2VyLFxuICAgIC8vIG9yIHJldHVybiBhIHN0cmluZyB0byBhbGxvdyB0aGUgdXNlciB0byBkZWNpZGU6XG4gICAgaWYoIXRoaXMuc3RhdGUuYW5zd2VyU3VjY2VzcyYmIXRoaXMuc3RhdGUuY2FuTGVhdmUpe1xuICAgICAgLy8gcmV0dXJuICfmgqjnmoTlm57nrZTlsJrmnKrlrozmiJDvvIznoa7orqTnprvlvIA/J1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2FuTGVhdmU6dHJ1ZX0pXG4gICAgICBsZXQgY29uZmlybVRleHQsc2VsZiA9IHRoaXNcbiAgICAgIHN3aXRjaCh0aGlzLnN0YXRlLnN0YXR1cyl7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY29uZmlybVRleHQgPSBcIuaCqOi/mOacquWbnuetlOivpemXrumimO+8jOehruiupOemu+W8gD9cIlxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGxldCB0YWxrQnRuID0gUmVhY3RET00uZmluZERPTU5vZGUoc2VsZi5yZWZzLnJvdW5kQ29udGFpbmVyKVxuICAgICAgICAgICAgdGFsa0J0bi5jbGljaygpXG4gICAgICAgICAgICBjb25maXJtVGV4dCA9IFwi5q2j5Zyo5b2V6Z+z5Lit77yM56Gu6K6k56a75byAP1wiXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgY29uZmlybVRleHQgPSBcIuaCqOeahOW9lemfs+i/mOacquS4iuS8oO+8jOehruiupOemu+W8gD9cIlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAvLyAgIHRoaXMuc2V0U3RhdGUoe2NvbmZpcm1UZXh0OmNvbmZpcm1UZXh0LHNob3dDb25maXJtOnRydWUsbmV4dExvY2F0aW9uOm5leHRMb2NhdGlvbn0pXG5cbiAgICAgICAgbWVzc2FnZS5jb25maXJtKGNvbmZpcm1UZXh0LCBcIuaOpeedgOWbnuetlFwiLCBcIuemu+W8gFwiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjYW5MZWF2ZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKG5leHRMb2NhdGlvbi5wYXRobmFtZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcyl7XG4gICAgaWYobmV4dFByb3BzLldYQ29uZmlnLmRhdGEudGltZXN0YW1wKXtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudmFsdWVPZigpXG4gICAgICBpZihub3cvMTAwMCAtIG5leHRQcm9wcy5XWENvbmZpZy5kYXRhLnRpbWVzdGFtcDwzJiZuZXh0UHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXAhPXRoaXMucHJvcHMuV1hDb25maWcuZGF0YS50aW1lc3RhbXApe1xuICAgICAgICBjb25zdCBqc0FwaUxpc3QgPSBbXG4gICAgICAgICAgJ3N0YXJ0UmVjb3JkJyxcbiAgICAgICAgICAnc3RvcFJlY29yZCcsXG4gICAgICAgICAgJ3BsYXlWb2ljZScsXG4gICAgICAgICAgJ3BhdXNlVm9pY2UnLFxuICAgICAgICAgICdzdG9wVm9pY2UnLFxuICAgICAgICAgICdvblZvaWNlUGxheUVuZCcsXG4gICAgICAgICAgJ3VwbG9hZFZvaWNlJyxcbiAgICAgICAgICAnY2hvb3NlV1hQYXknLFxuICAgICAgICAgICdvbk1lbnVTaGFyZVRpbWVsaW5lJyxcbiAgICAgICAgICAnb25NZW51U2hhcmVBcHBNZXNzYWdlJ1xuICAgICAgICBdXG4gICAgICAgIGNvbnN0IG5ld1d4Q29uZmlnID0ge31cbiAgICAgICAgbmV3V3hDb25maWdbJ2RlYnVnJ10gPSBmYWxzZTtcbiAgICAgICAgbmV3V3hDb25maWdbJ2FwcElkJ10gPSBuZXh0UHJvcHMuV1hDb25maWcuZGF0YVsnYXBwSWQnXTtcbiAgICAgICAgbmV3V3hDb25maWdbJ3RpbWVzdGFtcCddID0gbmV4dFByb3BzLldYQ29uZmlnLmRhdGEudGltZXN0YW1wLnRvU3RyaW5nKCk7XG4gICAgICAgIG5ld1d4Q29uZmlnWydub25jZVN0ciddID0gbmV4dFByb3BzLldYQ29uZmlnLmRhdGFbJ25vbmNlU3RyJ107XG4gICAgICAgIG5ld1d4Q29uZmlnWydzaWduYXR1cmUnXSA9IG5leHRQcm9wcy5XWENvbmZpZy5kYXRhWydzaWduYXR1cmUnXTtcbiAgICAgICAgbmV3V3hDb25maWdbJ2pzQXBpTGlzdCddID0ganNBcGlMaXN0O1xuICAgICAgICB3eC5jb25maWcobmV3V3hDb25maWcpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCl7XG4gICAgY29uc3Qgc2VsZiA9dGhpc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnN1Y2Nlc3NUaW1lcilcbiAgICB3eC5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgdmFyIHRhbGtCdG4gPSBSZWFjdERPTS5maW5kRE9NTm9kZShzZWxmLnJlZnMucm91bmRDb250YWluZXIpXG4gICAgICB0YWxrQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZWxmLmNsaWNrSGFuZGxlcixmYWxzZSlcbiAgfSlcblxuICB9XG4gIHJlZnJlc2hXWENvbmZpZygpe1xuICAgIGxldCB1cmwgPSB0aGlzLmNvbmZpZ1VybExpc3QucG9wKClcbiAgICBpZih1cmwgIT09IHVuZGVmaW5lZCl7XG4gICAgICAgIHRoaXMucHJvcHMuZ2V0V1hDb25maWcodXJsKVxuICAgIH1cbiAgfVxuICBjbGlja0hhbmRsZXIoZXZlbnQpe1xuICAgIC8vIHZhciBsb2NhbElkLFNUQVJULEVORCxyZWNvcmRUaW1lcjtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICB2YXIgcmVjb3JkU3RhcnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICB3eC5zdGFydFJlY29yZCh7XG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgbGV0IFNUQVJUID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe1NUQVJUOlNUQVJULHN0YXR1czoyfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gYWxlcnQoJ+eUqOaIt+aLkue7neaOiOadg+W9lemfsycpO1xuICAgICAgICAgICAgICBzZWxmLnNldFN0YXRlKHtzdGF0dXM6MCxhbGVydENvbnRlbnQ6XCLnlKjmiLfmi5Lnu53mjojmnYPlvZXpn7NcIixzaG93QWxlcnQ6dHJ1ZX0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDpmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoe3N0YXR1czowLGFsZXJ0Q29udGVudDpcIuiOt+WPluaOiOadg+Wksei0pe+8jOivt+eojeWAmemHjeivlVwiLHNob3dBbGVydDp0cnVlfSlcbiAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hXWENvbmZpZygpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICAgIHZhciByZWNvcmRTdG9wSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBFTkQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGlmKChFTkQgLSBzZWxmLnN0YXRlLlNUQVJUKSA8IDEwMDApe1xuICAgICAgICBFTkQgPSAwO1xuICAgICAgICAvLyBhbGVydChcIuW9lemfs+S4jeiDveWwj+S6jjHnp5Llk6ZcIilcbiAgICAgICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHd4LnN0b3BSZWNvcmQoKVxuICAgICAgICB9KVxuICAgICAgICBzZWxmLnNldFN0YXRlKHtzdGF0dXM6MCxhbGVydENvbnRlbnQ6XCLlvZXpn7PkuI3og73lsJHkuo4x56eS5ZOmXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfWVsc2V7XG4gICAgICAgICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgd3guc3RvcFJlY29yZCh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgbGV0IGxvY2FsSWQgPSByZXMubG9jYWxJZFxuICAgICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7bG9jYWxJZDpsb2NhbElkLHN0YXR1czo0fSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWw6ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7c3RhdHVzOjAsYWxlcnRDb250ZW50Olwi6I635Y+W5o6I5p2D5aSx6LSl77yM6K+356iN5YCZ6YeN6K+VXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hXWENvbmZpZygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcGxheVN0YXJ0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICB3eC5wbGF5Vm9pY2Uoe1xuICAgICAgICAgICAgbG9jYWxJZDogc2VsZi5zdGF0ZS5sb2NhbElkIC8vIOmcgOimgeaSreaUvueahOmfs+mikeeahOacrOWcsElE77yM55Sxc3RvcFJlY29yZOaOpeWPo+iOt+W+l1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gICAgdmFyIHBsYXlTdG9wSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgd3gucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICB3eC5zdG9wVm9pY2Uoe1xuICAgICAgICAgICAgbG9jYWxJZDogc2VsZi5zdGF0ZS5sb2NhbElkIC8vIOmcgOimgeWBnOatoueahOmfs+mikeeahOacrOWcsElE77yM55Sxc3RvcFJlY29yZOaOpeWPo+iOt+W+l1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gICAgdmFyIHBhc3NIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIndhaXQgZm9yIHd4XCIpXG4gICAgfVxuICAgIHN3aXRjaCAoc2VsZi5zdGF0ZS5zdGF0dXMpIHtcbiAgICAgIGNhc2UgMDovKuivneetkuetieW+heW9lemfsyovXG4gICAgICAgIHNlbGYuc2V0U3RhdGUoe3N0YXR1czogMX0pXG4gICAgICAgIHJlY29yZFN0YXJ0SGFuZGxlcihldmVudClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTovKuetieW+heW+ruS/oeWPkei1t+W9lemfsyovXG4gICAgICAgIHBhc3NIYW5kbGVyKGV2ZW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOi8q5b2V6Z+z5LitKi9cbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7c3RhdHVzOjN9KVxuICAgICAgICByZWNvcmRTdG9wSGFuZGxlcihldmVudClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMzovKuetieW+heW+ruS/oeWBnOatouW9lemfsyovXG4gICAgICAgIHBhc3NIYW5kbGVyKGV2ZW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSA0Oi8q562J5b6F5pKt5pS+Ki9cbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7c3RhdHVzOjV9KVxuICAgICAgICBwbGF5U3RhcnRIYW5kbGVyKGV2ZW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSA1Oi8q5pKt5pS+5LitKi9cbiAgICAgICAgcGxheVN0b3BIYW5kbGVyKGV2ZW50KVxuICAgICAgICBzZWxmLnNldFN0YXRlKHtzdGF0dXM6NH0pXG4gICAgfVxuXG4gIH1cbiAgc2F2ZVZvaWNlKHNlcnZlcklkLHF1ZXN0aW9uSWQpe1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgc2VsZi5zZXRTdGF0ZSh7dXBsb2FkaW5nOnRydWV9KVxuICAgIGZldGNoKCBgJHtkb21haW59L2FwaS92MS9hbnN3ZXIvYW5zd2VyYCx7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHNlcnZlcl9pZDpzZXJ2ZXJJZCxcbiAgICAgICAgcXVlc3Rpb25faWQ6cXVlc3Rpb25JZFxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgaWYoanNvbi5lcnJDb2RlPT0wKXtcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHt1cGxvYWRpbmc6ZmFsc2UsYW5zd2VyU3VjY2Vzczp0cnVlfSlcbiAgICAgICAgICBzZWxmLnByb3BzLmdldEFza2VkTWUoMSwxMClcbiAgICAgICAgICBsZXQgc3VjY2Vzc1RpbWVyID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChiYXNlVXJsK1wiYWNjb3VudC9Bc2tlZE1lTGlzdFwiKVxuICAgICAgICAgIH0sMjAwMClcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHtzdWNjZXNzVGltZXI6c3VjY2Vzc1RpbWVyfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi5oqx5q2J77yM5b2V6Z+z5LiK5Lyg5aSx6LSlXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuICBjb25maXJtQW5zd2VyKCl7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBjb25zdCBsb2NhbElkID0gdGhpcy5zdGF0ZS5sb2NhbElkXG4gICAgaWYobG9jYWxJZD09bnVsbCl7XG4gICAgICAvLyBhbGVydChcIuivt+WFiOW9lemfs+WTplwiKVxuICAgICAgc2VsZi5zZXRTdGF0ZSh7YWxlcnRDb250ZW50Olwi6K+35YWI5b2V6Z+z5ZOmXCIsc2hvd0FsZXJ0OnRydWV9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHd4LnVwbG9hZFZvaWNlKHtcbiAgICAgIGxvY2FsSWQ6IGxvY2FsSWQsIC8vIOmcgOimgeS4iuS8oOeahOmfs+mikeeahOacrOWcsElE77yM55Sxc3RvcFJlY29yZOaOpeWPo+iOt+W+l1xuICAgICAgaXNTaG93UHJvZ3Jlc3NUaXBzOiAxLCAvLyDpu5jorqTkuLox77yM5pi+56S66L+b5bqm5o+Q56S6XG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlcklkID0gcmVzLnNlcnZlcklkXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uSWQgPSBzZWxmLnByb3BzLnBhcmFtcy5pZFxuICAgICAgICBzZWxmLnNhdmVWb2ljZShzZXJ2ZXJJZCxxdWVzdGlvbklkKVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbiAgcGxheVZvaWNlKCl7XG4gICAgdGhpcy5zZXRTdGF0ZSh7cGxheWluZzp0cnVlfSlcbiAgfVxuICByZVJlY29yZCgpe1xuICAgIHRoaXMuc2V0U3RhdGUoe3N0YXR1czowfSlcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcXVlc3Rpb25JbmZvID0gdGhpcy5wcm9wcy5xdWVzdGlvbkluZm87XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IHtcbiAgICAgIDAgOiBcIiBcIixcbiAgICAgIDEgOiBcIiBcIixcbiAgICAgIDIgOiBcIiBvblwiLFxuICAgICAgMyA6IFwiIG9uXCIsXG4gICAgICA0IDogXCIgdm9pY2VcIixcbiAgICAgIDUgOiBcIiB2b2ljZS1vblwiXG4gICAgfVxuICAgIGNvbnN0IFRpcHMgPSB7XG4gICAgICAwIDogPGRpdj7ngrnlh7vlvZXpn7M8L2Rpdj4sXG4gICAgICAxIDogPGRpdj7lvIDlkK/kuK08L2Rpdj4sXG4gICAgICAyIDogPGRpdj7mraPlnKjlvZXpn7M8YnIvPueCueWHu+WBnOatojwvZGl2PixcbiAgICAgIDMgOiA8ZGl2PuWBnOatouS4rTwvZGl2PixcbiAgICAgIDQgOiA8ZGl2PueCueWHu+ivleWQrDwvZGl2PixcbiAgICAgIDUgOiA8ZGl2PuaSreaUvuS4rTwvZGl2PlxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgICBxdWVzdGlvbkluZm8udXNlcl9mYWNlP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3VudC1hbnN3ZXJcIj5cbiAgICAgICAgICAgIDxUb2FzdCAgc2hvdz17dGhpcy5zdGF0ZS5hbnN3ZXJTdWNjZXNzfSA+5Zue562U5oiQ5YqfPC9Ub2FzdD5cbiAgICAgICAgICAgIDxUb2FzdCAgaWNvbj1cImxvYWRpbmdcIiBzaG93PXt0aGlzLnN0YXRlLnN0YXR1cz09MX0gPuW8gOWQr+S4rTwvVG9hc3Q+XG4gICAgICAgICAgICA8VG9hc3QgIGljb249XCJsb2FkaW5nXCIgc2hvdz17dGhpcy5zdGF0ZS5zdGF0dXM9PTN9ID7lgZzmraLkuK08L1RvYXN0PlxuICAgICAgICAgICAgPFRvYXN0ICBpY29uPVwibG9hZGluZ1wiIHNob3c9e3RoaXMuc3RhdGUuYXV0aG9yaXppbmd9ID7ojrflj5bmjojmnYM8L1RvYXN0PlxuICAgICAgICAgICAgPFRvYXN0ICBpY29uPVwibG9hZGluZ1wiIHNob3c9e3RoaXMuc3RhdGUudXBsb2FkaW5nfSA+5LiK5Lyg5LitPC9Ub2FzdD5cbiAgICAgICAgICAgIDxBbGVydCBzaG93PXt0aGlzLnN0YXRlLnNob3dBbGVydH0gdGl0bGU9XCLmj5DnpLpcIiBidXR0b25zPXt0aGlzLnN0YXRlLmFsZXJ0LmJ1dHRvbnN9Pnt0aGlzLnN0YXRlLmFsZXJ0Q29udGVudH08L0FsZXJ0PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbnN3ZXItcXVlc3Rpb25cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgdG89e2Ake2Jhc2VVcmx9dXNlci8ke3F1ZXN0aW9uSW5mby51c2VyX2lkfWB9PjxpbWcgc3JjPXtxdWVzdGlvbkluZm8udXNlcl9mYWNlLnNsaWNlKDAsIC0xKSArICcxMzInfS8+PC9MaW5rPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5hbWVcIj57cXVlc3Rpb25JbmZvLnVzZXJfbmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHJpY2VcIj7vv6Uge3F1ZXN0aW9uSW5mby5xdWVzdGlvbl9wcml6ZX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0ZW1cIj57IHF1ZXN0aW9uSW5mby5xdWVzdGlvbl9jb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbWVcIj57dGltZS5nZXRUaW1lU3BhbihxdWVzdGlvbkluZm8ucXVlc3Rpb25fdGltZSl95LmL5YmNPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGludFwiPuaCqOeahOWbnuetlOWwhuiiq+WFrOW8gO+8jOetlOahiOavj+iiq+WBt+WQrOS4gOasoe+8jOS9oOWwsei1miDvv6UwLjM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVwbHlIaW50XCI+e1RpcHNbdGhpcy5zdGF0ZS5zdGF0dXNdfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiByZWY9XCJyZXBseUNvbnRhaW5lclwiIGNsYXNzTmFtZT1cInJlcGx5Q29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgcmVmPVwicm91bmRDb250YWluZXJcIiBvbkNsaWNrPXtlID0+IHRoaXMuY2xpY2tIYW5kbGVyKGUpfSBjbGFzc05hbWU9e1wicm91bmQtY29udGFpbmVyIFwiK2NsYXNzTmFtZXNbdGhpcy5zdGF0ZS5zdGF0dXNdfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlcGx5SWNvblwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjb3JkaW5nXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidWJibGUtdm9pY2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8Vm9pY2VXYXZlIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlUmVjb3JkXCIgb25DbGljaz17dGhpcy5yZVJlY29yZC5iaW5kKHRoaXMpfT7ph43lvZU8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjb3JkSGludFwiPnt0aGlzLnN0YXRlLmxvY2FsSWQ9PW51bGw/XCLngrnlh7vlvZXpn7PmjInpkq7mnIDlpJrlj6/lvZXliLY2MFNcIjpcIueCueWHu+ivleWQrOWPr+ivleWQrOaCqOacgOi/keS4gOasoeeahOWbnuetlFwifTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZW5kQnRuXCIgb25DbGljaz17dGhpcy5jb25maXJtQW5zd2VyLmJpbmQodGhpcyl9PuWPkemAgTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDo8TG9hZGluZyAvPlxuICAgIClcbiAgfVxufVxuQW5zd2VyID0gd2l0aFJvdXRlcihBbnN3ZXIpXG5cbkFuc3dlci5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdFxufVxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PntcbiAgcmV0dXJuIHtcbiAgICBxdWVzdGlvbkluZm86IHN0YXRlLnF1ZXN0aW9uSW5mbyxcbiAgICBzYXZlVm9pY2VJbmZvOiBzdGF0ZS5zYXZlVm9pY2VJbmZvLFxuICAgIFdYQ29uZmlnOnN0YXRlLldYQ29uZmlnLFxuICAgIGxhbmRQYWdlOnN0YXRlLmxhbmRQYWdlXG4gIH1cbn1cblxuXG5BbnN3ZXIgPSBjb25uZWN0KCBtYXBTdGF0ZVRvUHJvcHMsIHsgZ2V0UXVlc3Rpb25JbmZvLHNhdmVWb2ljZSxnZXRXWENvbmZpZyxjb25maWdTdWNjZXNzLGdldEFza2VkTWUgfSkoQW5zd2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgQW5zd2VyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL2NvbnRhaW5lcnMvcGFnZXMvQW5zd2VyLmpzIiwiaW1wb3J0IHsgUkVDRUlWRV9BU0tFRF9NRSwgUkVRVUVTVF9BU0tFRF9NRSwgQVNLRURfTUVfQ09NUExFVEVELENMRUFSX0FTS0VEX01FIH0gZnJvbSAgJy4uLy4uL2FjdGlvbnMvQWN0aW9uVHlwZXMnXG5jb25zdCBkZWZhdWx0U3RhdGUgPSB7XG4gICAgbG9hZGluZzpmYWxzZSxcbiAgICBkYXRhOltdLFxuICAgIGNvbXBsZXRlZDpmYWxzZSxcbiAgICBwYWdlOjFcbn1cbmNvbnN0IGFza2VkTWUgPSAoc3RhdGUgPSBkZWZhdWx0U3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaChhY3Rpb24udHlwZSl7XG4gICAgICAgIGNhc2UgQ0xFQVJfQVNLRURfTUU6XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFN0YXRlO1xuICAgICAgICBjYXNlIFJFUVVFU1RfQVNLRURfTUU6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtsb2FkaW5nOiB0cnVlfSk7XG4gICAgICAgIGNhc2UgUkVDRUlWRV9BU0tFRF9NRTpcbiAgICAgICAgICAgIGlmKGFjdGlvbi5wYWdlID09IDEpe1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTpzdGF0ZS5wYWdlICsxLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwgXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ZGF0YSwgXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6c3RhdGUucGFnZSArMSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXNrZWRNZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvYWNjb3VudC9hc2tlZE1lLmpzIiwiaW1wb3J0IHsgQ0xFQVJfSV9BU0tFRCwgUkVDRUlWRV9JX0FTS0VELCBSRVFVRVNUX0lfQVNLRUQgfSBmcm9tICAnLi4vLi4vYWN0aW9ucy9BY3Rpb25UeXBlcydcbmNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcbiAgICBsb2FkaW5nOmZhbHNlLFxuICAgIGRhdGE6W10sXG4gICAgY29tcGxldGVkOmZhbHNlLFxuICAgIHBhZ2U6MVxufVxuY29uc3QgaUFza2VkID0gKHN0YXRlID0gZGVmYXVsdFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICBzd2l0Y2goYWN0aW9uLnR5cGUpe1xuICAgICAgICBjYXNlIENMRUFSX0lfQVNLRUQ6XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFN0YXRlO1xuICAgICAgICBjYXNlIFJFUVVFU1RfSV9BU0tFRDpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2xvYWRpbmc6IHRydWV9KTtcbiAgICAgICAgY2FzZSBSRUNFSVZFX0lfQVNLRUQ6XG4gICAgICAgICAgICBpZihhY3Rpb24ucGFnZSA9PSAxKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOmZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOmFjdGlvbi5kYXRhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBzdGF0ZS5wYWdlICsxXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpQXNrZWQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL2FjY291bnQvaUFza2VkLmpzIiwiaW1wb3J0IHVzZXJJbmZvIGZyb20gJy4vdXNlckluZm8nXG5pbXBvcnQgbGlzdGVuZWQgZnJvbSAnLi9saXN0ZW5lZCcgXG5pbXBvcnQgaUFza2VkIGZyb20gJy4vaUFza2VkJ1xuaW1wb3J0IGFza2VkTWUgZnJvbSAnLi9hc2tlZE1lJ1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnXG5cbmNvbnN0IGluZGV4ID0gY29tYmluZVJlZHVjZXJzKHtcbiAgICB1c2VySW5mbyxcbiAgICBsaXN0ZW5lZCxcbiAgICBpQXNrZWQsXG4gICAgYXNrZWRNZVxufSlcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL2FjY291bnQvaW5kZXguanMiLCJpbXBvcnQge1JFQ0VJVkVfTElTVEVORUQsIFJFUVVFU1RfTElTVEVORUQsIExJU1RFTkVEX0NPTVBMRVRFRH0gZnJvbSAgJy4uLy4uL2FjdGlvbnMvQWN0aW9uVHlwZXMnXG5jb25zdCBkZWZhdWx0U3RhdGUgPSB7XG4gIGxvYWRpbmc6IGZhbHNlLFxuICBkYXRhOiBbXSxcbiAgY29tcGxldGVkOiBmYWxzZSxcbiAgcGFnZTogMVxufVxuY29uc3QgbGlzdGVuZWQgPSAoc3RhdGUgPSBkZWZhdWx0U3RhdGUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBSRVFVRVNUX0xJU1RFTkVEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7bG9hZGluZzogdHJ1ZX0pO1xuICAgIGNhc2UgUkVDRUlWRV9MSVNURU5FRDpcbiAgICAgIGxldCBkYXRhTm93ID0gYWN0aW9uLmRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFuc3dlcl9pZDogaXRlbS5hbnN3ZXJfaWQsXG4gICAgICAgICAgYW5zd2VyX2xpa2U6IGl0ZW0ubGlrZSxcbiAgICAgICAgICBhbnN3ZXJfaXNwYXllZDoxLFxuICAgICAgICAgIGFuc3dlcl9saXN0ZW46IGl0ZW0ubGlzdGVuLFxuICAgICAgICAgIHRlYWNoZXJfaWQ6IGl0ZW0udGVhY2hlcl9pZCxcbiAgICAgICAgICB0ZWFjaGVyX2ZhY2U6IGl0ZW0udGVhY2hlcl9mYWNlLFxuICAgICAgICAgIHRlYWNoZXJfbmFtZTogaXRlbS50ZWFjaGVyX25hbWUsXG4gICAgICAgICAgdGVhY2hlcl9wb3NpdGlvbjogaXRlbS50ZWFjaGVyX3Bvc2l0aW9uLFxuICAgICAgICAgIHF1ZXN0aW9uX2NvbnRlbnQ6IGl0ZW0uY29udGVudCxcbiAgICAgICAgICBxdWVzdGlvbl9pZDogaXRlbS5pZCxcbiAgICAgICAgICBxdWVzdGlvbl9wcml6ZTppdGVtLnByaXplLFxuICAgICAgICAgIHF1ZXN0aW9uX3RpbWU6IGl0ZW0udGltZSxcbiAgICAgICAgICB1c2VyX2lkOiBpdGVtLnF1ZXN0aW9uX3VzZXJfaWQsXG4gICAgICAgICAgaXNBbnN3ZXJlZDogaXRlbS5pc2Fuc3dlcmVkLFxuICAgICAgICAgIHdlaWdodDogaXRlbS53ZWlnaHRcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmKGFjdGlvbi5wYWdlID09IDEpe1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0sXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZGF0YTogZGF0YU5vd1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBjb25zdCBkYXRhID0gc3RhdGUuZGF0YS5jb25jYXQoZGF0YU5vdyk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSxcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIHBhZ2U6IHN0YXRlLnBhZ2UgKyAxXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlzdGVuZWQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL2FjY291bnQvbGlzdGVuZWQuanMiLCJpbXBvcnQgeyBSRUNFSVZFX1VTRVJfSU5GTyB9IGZyb20gJy4uLy4uL2FjdGlvbnMvQWN0aW9uVHlwZXMnXG5cbmNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcblxufVxuY29uc3QgdXNlckluZm8gPSAoc3RhdGUgPSBkZWZhdWx0U3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaChhY3Rpb24udHlwZSl7XG4gICAgICAgIGNhc2UgUkVDRUlWRV9VU0VSX0lORk86XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJJbmZvO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy9hY2NvdW50L3VzZXJJbmZvLmpzIiwiaW1wb3J0IHsgUkVDRUlWRV9PVEhFUl9VU0VSX0lORk8gfSBmcm9tICcuLi9hY3Rpb25zL0FjdGlvblR5cGVzJ1xuXG5jb25zdCBvdGhlclVzZXJJbmZvID0gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpe1xuICAgICAgICBjYXNlIFJFQ0VJVkVfT1RIRVJfVVNFUl9JTkZPOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgb3RoZXJVc2VySW5mbztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvcmVkdWNlcnMvb3RoZXJVc2VySW5mby5qcyIsIi8qKlxuICogQ3JlYXRlZCBieSB6c2ggb24gMjAxNi8zLzE0LlxuICovXG5pbXBvcnQge1xuICAgIFJFQ0VJVkVfSE9UX1FVRVNUSU9OX0xJU1QsXG4gICAgUkVDRUlWRV9RVUVTVElPTl9JTkZPLFxuICAgIFJFUVVFU1RfTElTVEVOX0lORk8sXG4gICAgUkVDRUlWRV9MSVNURU5fSU5GTyxcbiAgICBSRUNFSVZFX1NBVkVfVk9JQ0UsXG4gICAgUkVDRUlWRV9QUklTRV9RVUVTVElPTixcbiAgICBSRUNFSVZFX0NBTkNFTF9QUklTRV9RVUVTVElPTixcbiAgICBSRUNFSVZFX1BBSUQsXG4gICAgQ0xFQVJfUVVFU1RJT04sXG4gICAgUkVRVUVTVF9TRUFSQ0hfUVVFU1RJT05cbn0gZnJvbSAnLi4vYWN0aW9ucy9BY3Rpb25UeXBlcydcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIGhvdFF1ZXN0aW9uTGlzdDoge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgc2VhcmNoU3RhdHVzOiBcImNvbXBsZXRlXCIsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIG51bTogMTAsXG4gICAgfSxcbiAgICBxdWVzdGlvbkluZm86IHt9LFxuICAgIGxpc3RlbkluZm86IHtcbiAgICAgICAgdGltZVN0YW1wOiAwLFxuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9LFxuICAgIHNhdmVWb2ljZUluZm86IHtcbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIHNhdmVkOiBmYWxzZVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhvdFF1ZXN0aW9uTGlzdChzdGF0ZSA9IGluaXRpYWxTdGF0ZS5ob3RRdWVzdGlvbkxpc3QsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUNFSVZFX0hPVF9RVUVTVElPTl9MSVNUOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5wYWdlID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLmhvdFF1ZXN0aW9uTGlzdCwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoU3RhdHVzOlwiY29tcGxldGVcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBzdGF0ZS5kYXRhLmNvbmNhdChhY3Rpb24uZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IGFjdGlvbi5wYWdlLFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGF0dXM6XCJjb21wbGV0ZVwiXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRVFVRVNUX1NFQVJDSF9RVUVTVElPTjpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LHN0YXRlLHtzZWFyY2hTdGF0dXM6J3NlYXJjaGluZyd9KVxuICAgICAgICBjYXNlIFJFQ0VJVkVfUEFJRDpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuZGF0YS5zbGljZSgwLCBhY3Rpb24uaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5kYXRhW2FjdGlvbi5pbmRleF0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcl9pc3BheWVkOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyX2xpc3RlbjogKHN0YXRlLmRhdGFbYWN0aW9uLmluZGV4XS5hbnN3ZXJfbGlzdGVuICsgMSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuZGF0YS5zbGljZShhY3Rpb24uaW5kZXggKyAxLCBzdGF0ZS5kYXRhLmxlbmd0aClcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBxdWVzdGlvbkluZm8oc3RhdGUgPSBpbml0aWFsU3RhdGUucXVlc3Rpb25JbmZvLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgUkVDRUlWRV9RVUVTVElPTl9JTkZPOlxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5xdWVzdGlvbkluZm9cbiAgICAgICAgY2FzZSBSRUNFSVZFX1BSSVNFX1FVRVNUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgYW5zd2VyX2lzbGlrZWQ6IDEsXG4gICAgICAgICAgICAgICAgYW5zd2VyX2xpa2U6IGFjdGlvbi5kYXRhLmxpa2UsXG4gICAgICAgICAgICAgICAgYW5zd2VyX2xpc3RlbjogYWN0aW9uLmRhdGEubGlzdGVuXG4gICAgICAgICAgICB9KVxuICAgICAgICBjYXNlIFJFQ0VJVkVfQ0FOQ0VMX1BSSVNFX1FVRVNUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgYW5zd2VyX2lzbGlrZWQ6IDAsXG4gICAgICAgICAgICAgICAgYW5zd2VyX2xpa2U6IGFjdGlvbi5kYXRhLmxpa2UsXG4gICAgICAgICAgICAgICAgYW5zd2VyX2xpc3RlbjogYWN0aW9uLmRhdGEubGlzdGVuXG4gICAgICAgICAgICB9KVxuICAgICAgICBjYXNlIENMRUFSX1FVRVNUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZS5xdWVzdGlvbkluZm87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuSW5mbyhzdGF0ZSA9IGluaXRpYWxTdGF0ZS5saXN0ZW5JbmZvLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgUkVRVUVTVF9MSVNURU5fSU5GTzpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGNhc2UgUkVDRUlWRV9MSVNURU5fSU5GTzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICAgICAgdGltZVN0YW1wOiBuZXcgRGF0ZSgpLnZhbHVlT2YoKSxcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIENMRUFSX1FVRVNUSU9OOlxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZS5saXN0ZW5JbmZvO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVWb2ljZUluZm8oc3RhdGUgPSBpbml0aWFsU3RhdGUuc2F2ZVZvaWNlSW5mbywgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFJFQ0VJVkVfU0FWRV9WT0lDRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2F2ZWQ6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy9xdWVzdGlvbi5qcyIsImltcG9ydCB7XG4gICAgUkVRVUVTVF9ISVNUT1JZX1NFQVJDSCxcbiAgICBSRUNFSVZFX0hJU1RPUllfU0VBUkNILFxuICAgIFJFQ0VJVkVfSE9UX1NFQVJDSCxcbiAgICBSRVFVRVNUX0hPVF9TRUFSQ0gsXG4gICAgU0VUX0NVUl9TRUFSQ0gsXG4gICAgREVMRVRFX0hJU1RPUllfU1VDQ0VTU1xufSBmcm9tICcuLi9hY3Rpb25zL0FjdGlvblR5cGVzJ1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgaGlzdG9yeVNlYXJjaDoge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGNvbXBsZXRlZDpmYWxzZSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbnVtOiAxMCxcbiAgICB9LFxuICAgIGhvdFNlYXJjaDoge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgY29tcGxldGVkOmZhbHNlLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbnVtOiAxMCxcbiAgICB9LFxuICAgIGN1clNlYXJjaDogXCJcIlxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaXN0b3J5U2VhcmNoKHN0YXRlID0gaW5pdGlhbFN0YXRlLmhpc3RvcnlTZWFyY2gsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBSRVFVRVNUX0hJU1RPUllfU0VBUkNIOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sc3RhdGUse2xvYWRpbmc6dHJ1ZX0pXG4gICAgICAgIGNhc2UgUkVDRUlWRV9ISVNUT1JZX1NFQVJDSDpcbiAgICAgICAgICAgIGlmIChhY3Rpb24ucGFnZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZS5oaXN0b3J5U2VhcmNoLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0gPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSsxXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHN0YXRlLmRhdGEuY29uY2F0KGFjdGlvbi5kYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogYWN0aW9uLnBhZ2UrMVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgREVMRVRFX0hJU1RPUllfU1VDQ0VTUzpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LHN0YXRlLHtkYXRhOltdfSlcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBob3RTZWFyY2goc3RhdGUgPSBpbml0aWFsU3RhdGUuaG90U2VhcmNoLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgUkVRVUVTVF9IT1RfU0VBUkNIOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sc3RhdGUse2xvYWRpbmc6dHJ1ZX0pXG4gICAgICAgIGNhc2UgUkVDRUlWRV9IT1RfU0VBUkNIOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sc3RhdGUse2RhdGE6YWN0aW9uLmRhdGEsbG9hZGluZzpmYWxzZSxjb21wbGV0ZWQ6dHJ1ZX0pXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3VyU2VhcmNoKHN0YXRlID0gaW5pdGlhbFN0YXRlLmN1clNlYXJjaCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFNFVF9DVVJfU0VBUkNIOlxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jdXJTZWFyY2hcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy9zZWFyY2guanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgemh1c2hpaGFvIG9uIDIwMTYvNi8xNC5cbiAqL1xuaW1wb3J0IHtcbiAgICBSRUNFSVZFX1RVVE9SX0xJU1QsXG4gICAgUkVDRUlWRV9UVVRPUl9JTkZPLFxuICAgIFJFQ0VJVkVfVFVUT1JfQU5TV0VSX0xJU1QsXG4gICAgUkVRVUVTVF9QUkVQQVlfSU5GTyxcbiAgICBSRUNFSVZFX1BSRVBBWV9JTkZPLFxuICAgIENMRUFSX1RVVE9SX0lOREVYLFxuICAgIFJFUVVFU1RfU0VBUkNIX1RVVE9SXG59IGZyb20gJy4uL2FjdGlvbnMvQWN0aW9uVHlwZXMnXG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICB0dXRvckxpc3Q6IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIG51bTogMTAsXG4gICAgICAgIHNlYXJjaFN0YXR1czogXCJjb21wbGV0ZVwiXG4gICAgfSxcbiAgICB0dXRvckluZm86IHt9LFxuICAgIHR1dG9yQW5zd2VyTGlzdDoge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgcGFnZTogMVxuICAgIH0sXG4gICAgcHJlcGF5SW5mbzoge1xuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXRvckxpc3Qoc3RhdGUgPSBpbml0aWFsU3RhdGUudHV0b3JMaXN0LCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgUkVDRUlWRV9UVVRPUl9MSVNUOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5wYWdlID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLnR1dG9yTGlzdCwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBhY3Rpb24uZGF0YS5sZW5ndGggPCBhY3Rpb24ubnVtID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoU3RhdHVzOlwiY29tcGxldGVcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBzdGF0ZS5kYXRhLmNvbmNhdChhY3Rpb24uZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IGFjdGlvbi5wYWdlLFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGF0dXM6XCJjb21wbGV0ZVwiXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRVFVRVNUX1NFQVJDSF9UVVRPUjpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LHN0YXRlLHtzZWFyY2hTdGF0dXM6XCJzZWFyY2hpbmdcIn0pXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdHV0b3JJbmZvKHN0YXRlID0gaW5pdGlhbFN0YXRlLnR1dG9ySW5mbywgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFJFQ0VJVkVfVFVUT1JfSU5GTzpcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24udHV0b3JJbmZvXG4gICAgICAgIGNhc2UgQ0xFQVJfVFVUT1JfSU5ERVg6XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlLnR1dG9ySW5mb1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHR1dG9yQW5zd2VyTGlzdChzdGF0ZSA9IGluaXRpYWxTdGF0ZS50dXRvckFuc3dlckxpc3QsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUNFSVZFX1RVVE9SX0FOU1dFUl9MSVNUOlxuICAgICAgICAgICAgaWYoYWN0aW9uLnBhZ2UgPT0gMSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZS50dXRvckFuc3dlckxpc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGFjdGlvbi5kYXRhLmxlbmd0aCA8IGFjdGlvbi5udW0gPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogc3RhdGUuZGF0YS5jb25jYXQoYWN0aW9uLmRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBhY3Rpb24ucGFnZSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogYWN0aW9uLmRhdGEubGVuZ3RoIDwgYWN0aW9uLm51bSA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBDTEVBUl9UVVRPUl9JTkRFWDpcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsU3RhdGUudHV0b3JBbnN3ZXJMaXN0XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlcGF5SW5mbyhzdGF0ZSA9IGluaXRpYWxTdGF0ZS5wcmVwYXlJbmZvLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgUkVRVUVTVF9QUkVQQVlfSU5GTzpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGNhc2UgUkVDRUlWRV9QUkVQQVlfSU5GTzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBDTEVBUl9UVVRPUl9JTkRFWDpcbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsU3RhdGUucHJlcGF5SW5mb1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL3JlZHVjZXJzL3R1dG9yLmpzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IHpzaCBvbiAyMDE2LzcvMTEuXG4gKi9cbmltcG9ydCB7XG4gICAgV1hfQ09ORklHX1NVQ0NFU1MsXG4gICAgUkVDRUlWRV9XWF9DT05GSUcsXG4gICAgU0VUX0xBTkRfUEFHRVxufSBmcm9tICcuLi9hY3Rpb25zL0FjdGlvblR5cGVzJ1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgV1hDb25maWc6IHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGRhdGE6IHt9LFxuICAgIH0sXG4gICAgbGFuZFBhZ2U6IG51bGwsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXWENvbmZpZyhzdGF0ZSA9IGluaXRpYWxTdGF0ZS5XWENvbmZpZywgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFJFQ0VJVkVfV1hfQ09ORklHOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGNhc2UgV1hfQ09ORklHX1NVQ0NFU1M6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGxhbmRQYWdlKHN0YXRlID0gaW5pdGlhbFN0YXRlLmxhbmRQYWdlLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgU0VUX0xBTkRfUEFHRTpcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ubGFuZFBhZ2VcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qYXZhc2NyaXB0cy9yZWR1Y2Vycy93ZWl4aW4uanMiLCJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJ1xuaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInXG5pbXBvcnQgcm9vdFJlZHVjZXIgZnJvbSAnLi4vcmVkdWNlcnMvaW5kZXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgIHJvb3RSZWR1Y2VyLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBhcHBseU1pZGRsZXdhcmUodGh1bmtNaWRkbGV3YXJlLCBjcmVhdGVMb2dnZXIoKSlcbiAgKVxuXG4gIGlmIChtb2R1bGUuaG90KSB7XG4gICAgLy8gRW5hYmxlIFdlYnBhY2sgaG90IG1vZHVsZSByZXBsYWNlbWVudCBmb3IgcmVkdWNlcnNcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgnLi4vcmVkdWNlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXh0Um9vdFJlZHVjZXIgPSByZXF1aXJlKCcuLi9yZWR1Y2VycycpLmRlZmF1bHRcbiAgICAgIHN0b3JlLnJlcGxhY2VSZWR1Y2VyKG5leHRSb290UmVkdWNlcilcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHN0b3JlXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvamF2YXNjcmlwdHMvc3RvcmUvY29uZmlndXJlU3RvcmUuanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgamYgb24gMTUvMTEvMy5cbiAqL1xuXG5cbmltcG9ydCBSZWFjdCAse0NvbXBvbmVudH1mcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuY2xhc3MgSWNvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7dmFsdWUsIHNpemUsIGNsYXNzTmFtZSwgLi4ub3RoZXJzfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IGNscyA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgWyd3ZXVpX2ljb25fJyArIHZhbHVlXTogdHJ1ZSxcbiAgICAgICAgICAgIHdldWlfaWNvbl9tc2c6IHNpemUgPT09ICdsYXJnZScsXG4gICAgICAgICAgICBbY2xhc3NOYW1lXTogY2xhc3NOYW1lXG4gICAgICAgIH0pOyBcblxuICAgICAgICBpZiAodmFsdWUgPT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndldWlfbG9hZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbLi4uQXJyYXkoMTIpXS5tYXAoKHgsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPXtgd2V1aV9sb2FkaW5nX2xlYWYgd2V1aV9sb2FkaW5nX2xlYWZfJHtpfWB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8aSB7Li4ub3RoZXJzfSBjbGFzc05hbWU9e2Nsc30vPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkljb24ucHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNpemU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn07XG5cbkljb24uZGVmYXVsdFByb3BzID0ge1xuICAgIHZhbHVlOiAnc3VjY2VzcycsXG4gICAgc2l6ZTogJ3NtYWxsJ1xufTtcbmV4cG9ydCBkZWZhdWx0IEljb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2phdmFzY3JpcHRzL3V0aWwvd2V1aS9pY29uLmpzIiwiLyohXG4gKiBkZWVwLWRpZmYuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5EZWVwRGlmZiA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2NvcGUsIGNvbmZsaWN0LCBjb25mbGljdFJlc29sdXRpb24gPSBbXTtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbCkge1xuICAgICRzY29wZSA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICRzY29wZSA9IHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUgPSB7fTtcbiAgfVxuICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcbiAgaWYgKGNvbmZsaWN0KSB7XG4gICAgY29uZmxpY3RSZXNvbHV0aW9uLnB1c2goXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29uZmxpY3QgJiYgJHNjb3BlLkRlZXBEaWZmID09PSBhY2N1bXVsYXRlRGlmZikge1xuICAgICAgICAgICRzY29wZS5EZWVwRGlmZiA9IGNvbmZsaWN0O1xuICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIG5vZGVqcyBjb21wYXRpYmxlIG9uIHNlcnZlciBzaWRlIGFuZCBpbiB0aGUgYnJvd3Nlci5cbiAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJywge1xuICAgICAgdmFsdWU6IGtpbmQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcbiAgICAgICAgdmFsdWU6IHBhdGgsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmZFZGl0KHBhdGgsIG9yaWdpbiwgdmFsdWUpIHtcbiAgICBEaWZmRWRpdC5zdXBlcl8uY2FsbCh0aGlzLCAnRScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZk5ldyhwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmRGVsZXRlZChwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZBcnJheShwYXRoLCBpbmRleCwgaXRlbSkge1xuICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaW5kZXgnLCB7XG4gICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpdGVtJywge1xuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkFycmF5LCBEaWZmKTtcblxuICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG4gICAgdmFyIHJlc3QgPSBhcnIuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCBhcnIubGVuZ3RoKTtcbiAgICBhcnIubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbSA6IGZyb207XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhbFR5cGVPZihzdWJqZWN0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygc3ViamVjdDtcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0ID09PSBNYXRoKSB7XG4gICAgICByZXR1cm4gJ21hdGgnO1xuICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcbiAgICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoLnNsaWNlKDApO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByZWZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdmdW5jdGlvbicgJiYgcHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAocHJlZmlsdGVyLnByZWZpbHRlciAmJiBwcmVmaWx0ZXIucHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChwcmVmaWx0ZXIubm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG4gICAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICAgIGxocyA9IGFsdFswXTtcbiAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFBhdGgucHVzaChrZXkpO1xuICAgIH1cblxuICAgIC8vIFVzZSBzdHJpbmcgY29tcGFyaXNvbiBmb3IgcmVnZXhlc1xuICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcbiAgICAgIGxocyA9IGxocy50b1N0cmluZygpO1xuICAgICAgcmhzID0gcmhzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGx0eXBlID0gdHlwZW9mIGxocztcbiAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuICAgIGlmIChsdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChydHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcbiAgICB9IGVsc2UgaWYgKHJlYWxUeXBlT2YobGhzKSAhPT0gcmVhbFR5cGVPZihyaHMpKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKGx0eXBlID09PSAnb2JqZWN0JyAmJiBsaHMgIT09IG51bGwgJiYgcmhzICE9PSBudWxsKSB7XG4gICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YobGhzKSA8IDApIHtcbiAgICAgICAgc3RhY2sucHVzaChsaHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG4gICAgICAgICAgdmFyIGksIGxlbiA9IGxocy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmRGVsZXRlZCh1bmRlZmluZWQsIGxoc1tpXSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZk5ldyh1bmRlZmluZWQsIHJoc1tpKytdKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWtleXMgPSBPYmplY3Qua2V5cyhsaHMpO1xuICAgICAgICAgIHZhciBwa2V5cyA9IE9iamVjdC5rZXlzKHJocyk7XG4gICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBwa2V5cy5pbmRleE9mKGspO1xuICAgICAgICAgICAgaWYgKG90aGVyID49IDApIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgICAgcGtleXMgPSBhcnJheVJlbW92ZShwa2V5cywgb3RoZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGRlZXBEaWZmKHVuZGVmaW5lZCwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG4gICAgICBpZiAoIShsdHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4obGhzKSAmJiBpc05hTihyaHMpKSkge1xuICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlmZihsaHMsIHJocywgcHJlZmlsdGVyLCBhY2N1bSkge1xuICAgIGFjY3VtID0gYWNjdW0gfHwgW107XG4gICAgZGVlcERpZmYobGhzLCByaHMsXG4gICAgICBmdW5jdGlvbihkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZWZpbHRlcik7XG4gICAgcmV0dXJuIChhY2N1bS5sZW5ndGgpID8gYWNjdW0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFyciA9IGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgIGxhc3QgPSBjaGFuZ2UucGF0aCA/IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gKHR5cGVvZiBjaGFuZ2UucGF0aFtpXSA9PT0gJ251bWJlcicpID8gW10gOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShjaGFuZ2UucGF0aCA/IGl0W2NoYW5nZS5wYXRoW2ldXSA6IGl0LCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoICYmIGNoYW5nZS5wYXRoLmxlbmd0aCkge1xuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0IGF0IHRoZSBpbmRleCBoYXMgY2hhbmdlZC4uLlxuICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcbiAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBhcnJheSBpdGVtIGlzIGRpZmZlcmVudC4uLlxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShhcnJbaW5kZXhdLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSwgdTtcbiAgICAgIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgLy8gQXJyYXkgd2FzIG1vZGlmaWVkLi4uXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSBhbiBhcnJheS4uLlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBlZGl0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAvLyBJdGVtIGlzIG5ldy4uLlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuICAgICAgICAgIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVlcERpZmYodGFyZ2V0LCBzb3VyY2UsIG9uQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhY2N1bXVsYXRlRGlmZiwge1xuXG4gICAgZGlmZjoge1xuICAgICAgdmFsdWU6IGFjY3VtdWxhdGVEaWZmLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb2JzZXJ2YWJsZURpZmY6IHtcbiAgICAgIHZhbHVlOiBkZWVwRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5RGlmZjoge1xuICAgICAgdmFsdWU6IGFwcGx5RGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogYXBwbHlDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZXZlcnRDaGFuZ2U6IHtcbiAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBpc0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0O1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG5vQ29uZmxpY3Q6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVzb2x1dGlvbikge1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBpdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVEaWZmO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9kZWVwLWRpZmYvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuL2xpYi9rZXlzLmpzJyk7XG52YXIgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2xpYi9pc19hcmd1bWVudHMuanMnKTtcblxudmFyIGRlZXBFcXVhbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuXG4gIH0gZWxzZSBpZiAoYWN0dWFsIGluc3RhbmNlb2YgRGF0ZSAmJiBleHBlY3RlZCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMy4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCB8fCB0eXBlb2YgYWN0dWFsICE9ICdvYmplY3QnICYmIHR5cGVvZiBleHBlY3RlZCAhPSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvcHRzLnN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gNy40LiBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAoeCkge1xuICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnIHx8IHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIG9wdHMpIHtcbiAgdmFyIGksIGtleTtcbiAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LlxuICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG4gIC8vfn5+SSd2ZSBtYW5hZ2VkIHRvIGJyZWFrIE9iamVjdC5rZXlzIHRocm91Z2ggc2NyZXd5IGFyZ3VtZW50cyBwYXNzaW5nLlxuICAvLyAgIENvbnZlcnRpbmcgdG8gYXJyYXkgc29sdmVzIHRoZSBwcm9ibGVtLlxuICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcbiAgICBpZiAoIWlzQXJndW1lbnRzKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcbiAgfVxuICBpZiAoaXNCdWZmZXIoYSkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIga2EgPSBvYmplY3RLZXlzKGEpLFxuICAgICAgICBrYiA9IG9iamVjdEtleXMoYik7XG4gIH0gY2F0Y2ggKGUpIHsvL2hhcHBlbnMgd2hlbiBvbmUgaXMgYSBzdHJpbmcgbGl0ZXJhbCBhbmQgdGhlIG90aGVyIGlzbid0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcbiAgLy8gaGFzT3duUHJvcGVydHkpXG4gIGlmIChrYS5sZW5ndGggIT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgb3B0cykpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGEgPT09IHR5cGVvZiBiO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlZXAtZXF1YWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA9IChmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50cylcbn0pKCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPyBzdXBwb3J0ZWQgOiB1bnN1cHBvcnRlZDtcblxuZXhwb3J0cy5zdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG5mdW5jdGlvbiBzdXBwb3J0ZWQob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn07XG5cbmV4cG9ydHMudW5zdXBwb3J0ZWQgPSB1bnN1cHBvcnRlZDtcbmZ1bmN0aW9uIHVuc3VwcG9ydGVkKG9iamVjdCl7XG4gIHJldHVybiBvYmplY3QgJiZcbiAgICB0eXBlb2Ygb2JqZWN0ID09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIG9iamVjdC5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnY2FsbGVlJykgJiZcbiAgICAhT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpIHx8XG4gICAgZmFsc2U7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuICA/IE9iamVjdC5rZXlzIDogc2hpbTtcblxuZXhwb3J0cy5zaGltID0gc2hpbTtcbmZ1bmN0aW9uIHNoaW0gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgcmV0dXJuIGtleXM7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZGVlcC1lcXVhbC9saWIva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gMTA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbmV4cG9ydHMubG9vcEFzeW5jID0gbG9vcEFzeW5jO1xuXG5mdW5jdGlvbiBsb29wQXN5bmModHVybnMsIHdvcmssIGNhbGxiYWNrKSB7XG4gIHZhciBjdXJyZW50VHVybiA9IDAsXG4gICAgICBpc0RvbmUgPSBmYWxzZTtcbiAgdmFyIHN5bmMgPSBmYWxzZSxcbiAgICAgIGhhc05leHQgPSBmYWxzZSxcbiAgICAgIGRvbmVBcmdzID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgaXNEb25lID0gdHJ1ZTtcbiAgICBpZiAoc3luYykge1xuICAgICAgLy8gSXRlcmF0ZSBpbnN0ZWFkIG9mIHJlY3Vyc2luZyBpZiBwb3NzaWJsZS5cbiAgICAgIGRvbmVBcmdzID0gW10uY29uY2F0KF9zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGlmIChpc0RvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoYXNOZXh0ID0gdHJ1ZTtcbiAgICBpZiAoc3luYykge1xuICAgICAgLy8gSXRlcmF0ZSBpbnN0ZWFkIG9mIHJlY3Vyc2luZyBpZiBwb3NzaWJsZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzeW5jID0gdHJ1ZTtcblxuICAgIHdoaWxlICghaXNEb25lICYmIGN1cnJlbnRUdXJuIDwgdHVybnMgJiYgaGFzTmV4dCkge1xuICAgICAgaGFzTmV4dCA9IGZhbHNlO1xuICAgICAgd29yay5jYWxsKHRoaXMsIGN1cnJlbnRUdXJuKyssIG5leHQsIGRvbmUpO1xuICAgIH1cblxuICAgIHN5bmMgPSBmYWxzZTtcblxuICAgIGlmIChpc0RvbmUpIHtcbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhlIGxvb3AgZmluaXNoZWQgc3luY2hyb25vdXNseS5cbiAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGRvbmVBcmdzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFR1cm4gPj0gdHVybnMgJiYgaGFzTmV4dCkge1xuICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2xpYi9Bc3luY1V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbnZhciBfRE9NU3RhdGVTdG9yYWdlID0gcmVxdWlyZSgnLi9ET01TdGF0ZVN0b3JhZ2UnKTtcblxudmFyIF9jcmVhdGVET01IaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVET01IaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVET01IaXN0b3J5KTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIEhUTUw1J3MgaGlzdG9yeSBBUElcbiAqIChwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudCkgdG8gbWFuYWdlIGhpc3RvcnkuXG4gKiBUaGlzIGlzIHRoZSByZWNvbW1lbmRlZCBtZXRob2Qgb2YgbWFuYWdpbmcgaGlzdG9yeSBpbiBicm93c2VycyBiZWNhdXNlXG4gKiBpdCBwcm92aWRlcyB0aGUgY2xlYW5lc3QgVVJMcy5cbiAqXG4gKiBOb3RlOiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBmdWxsXG4gKiBwYWdlIHJlbG9hZHMgd2lsbCBiZSB1c2VkIHRvIHByZXNlcnZlIFVSTHMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBmb3JjZVJlZnJlc2ggPSBvcHRpb25zLmZvcmNlUmVmcmVzaDtcblxuICB2YXIgaXNTdXBwb3J0ZWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KCk7XG4gIHZhciB1c2VSZWZyZXNoID0gIWlzU3VwcG9ydGVkIHx8IGZvcmNlUmVmcmVzaDtcblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGhpc3RvcnlTdGF0ZSA9IGhpc3RvcnlTdGF0ZSB8fCB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBoaXN0b3J5U3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IF9ET01VdGlscy5nZXRXaW5kb3dQYXRoKCk7XG4gICAgdmFyIF9oaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGU7XG4gICAgdmFyIGtleSA9IF9oaXN0b3J5U3RhdGUua2V5O1xuXG4gICAgdmFyIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHN0YXRlID0gX0RPTVN0YXRlU3RvcmFnZS5yZWFkU3RhdGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblxuICAgICAgaWYgKGlzU3VwcG9ydGVkKSB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoX2V4dGVuZHMoe30sIGhpc3RvcnlTdGF0ZSwgeyBrZXk6IGtleSB9KSwgbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydFBvcFN0YXRlTGlzdGVuZXIoX3JlZikge1xuICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25UbztcblxuICAgIGZ1bmN0aW9uIHBvcFN0YXRlTGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG5cbiAgICAgIHRyYW5zaXRpb25UbyhnZXRDdXJyZW50TG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgICB9XG5cbiAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ3BvcHN0YXRlJywgcG9wU3RhdGVMaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcbiAgICB2YXIgYmFzZW5hbWUgPSBsb2NhdGlvbi5iYXNlbmFtZTtcbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gbG9jYXRpb24uYWN0aW9uO1xuICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXk7XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblxuICAgIF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlKGtleSwgc3RhdGUpO1xuXG4gICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHZhciBoaXN0b3J5U3RhdGUgPSB7XG4gICAgICBrZXk6IGtleVxuICAgIH07XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBpZiAodXNlUmVmcmVzaCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGg7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBsb2NhdGlvbiB1cGRhdGUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJFUExBQ0VcbiAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHBhdGgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcbiAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcbiAgfSkpO1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcbiAgICAgIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICBoaXN0b3J5LnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaGlzdG9yeS51bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cbiAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayxcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9va1xuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDExM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKCkge1xuICB2YXIgbG9jYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnLycgOiBhcmd1bWVudHNbMF07XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBfQWN0aW9ucy5QT1AgOiBhcmd1bWVudHNbMV07XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXG4gIHZhciBfZm91cnRoQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1szXTtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChsb2NhdGlvbik7XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdvYmplY3QnKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGNyZWF0ZUxvY2F0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBhICcgKyAnbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgYWN0aW9uID0ga2V5IHx8IF9BY3Rpb25zLlBPUDtcbiAgICBrZXkgPSBfZm91cnRoQXJnO1xuICB9XG5cbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggfHwgJyc7XG4gIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlIHx8IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCxcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAga2V5OiBrZXlcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlTG9jYXRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvY3JlYXRlTG9jYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDExNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSGlzdG9yeSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlU3RvcmFnZShlbnRyaWVzKSB7XG4gIHJldHVybiBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkuc3RhdGU7XG4gIH0pLnJlZHVjZShmdW5jdGlvbiAobWVtbywgZW50cnkpIHtcbiAgICBtZW1vW2VudHJ5LmtleV0gPSBlbnRyeS5zdGF0ZTtcbiAgICByZXR1cm4gbWVtbztcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucyA9IHsgZW50cmllczogb3B0aW9ucyB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbnMgPSB7IGVudHJpZXM6IFtvcHRpb25zXSB9O1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgIGdldEN1cnJlbnRMb2NhdGlvbjogZ2V0Q3VycmVudExvY2F0aW9uLFxuICAgIGZpbmlzaFRyYW5zaXRpb246IGZpbmlzaFRyYW5zaXRpb24sXG4gICAgc2F2ZVN0YXRlOiBzYXZlU3RhdGUsXG4gICAgZ286IGdvXG4gIH0pKTtcblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zO1xuICB2YXIgZW50cmllcyA9IF9vcHRpb25zLmVudHJpZXM7XG4gIHZhciBjdXJyZW50ID0gX29wdGlvbnMuY3VycmVudDtcblxuICBpZiAodHlwZW9mIGVudHJpZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgZW50cmllcyA9IFtlbnRyaWVzXTtcbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShlbnRyaWVzKSkge1xuICAgIGVudHJpZXMgPSBbJy8nXTtcbiAgfVxuXG4gIGVudHJpZXMgPSBlbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICB2YXIga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcblxuICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdzdHJpbmcnKSByZXR1cm4geyBwYXRobmFtZTogZW50cnksIGtleToga2V5IH07XG5cbiAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnb2JqZWN0JyAmJiBlbnRyeSkgcmV0dXJuIF9leHRlbmRzKHt9LCBlbnRyeSwgeyBrZXk6IGtleSB9KTtcblxuICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnVW5hYmxlIHRvIGNyZWF0ZSBoaXN0b3J5IGVudHJ5IGZyb20gJXMnLCBlbnRyeSkgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfSk7XG5cbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGN1cnJlbnQgPSBlbnRyaWVzLmxlbmd0aCAtIDE7XG4gIH0gZWxzZSB7XG4gICAgIShjdXJyZW50ID49IDAgJiYgY3VycmVudCA8IGVudHJpZXMubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnQ3VycmVudCBpbmRleCBtdXN0IGJlID49IDAgYW5kIDwgJXMsIHdhcyAlcycsIGVudHJpZXMubGVuZ3RoLCBjdXJyZW50KSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIHN0b3JhZ2UgPSBjcmVhdGVTdGF0ZVN0b3JhZ2UoZW50cmllcyk7XG5cbiAgZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcbiAgICBzdG9yYWdlW2tleV0gPSBzdGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRTdGF0ZShrZXkpIHtcbiAgICByZXR1cm4gc3RvcmFnZVtrZXldO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbY3VycmVudF07XG4gICAgdmFyIGJhc2VuYW1lID0gZW50cnkuYmFzZW5hbWU7XG4gICAgdmFyIHBhdGhuYW1lID0gZW50cnkucGF0aG5hbWU7XG4gICAgdmFyIHNlYXJjaCA9IGVudHJ5LnNlYXJjaDtcblxuICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgKHNlYXJjaCB8fCAnJyk7XG5cbiAgICB2YXIga2V5ID0gdW5kZWZpbmVkLFxuICAgICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoZW50cnkua2V5KSB7XG4gICAgICBrZXkgPSBlbnRyeS5rZXk7XG4gICAgICBzdGF0ZSA9IHJlYWRTdGF0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBoaXN0b3J5LmNyZWF0ZUtleSgpO1xuICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAgZW50cnkua2V5ID0ga2V5O1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuR28obikge1xuICAgIHZhciBpbmRleCA9IGN1cnJlbnQgKyBuO1xuICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgZW50cmllcy5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgaWYgKG4pIHtcbiAgICAgIGlmICghY2FuR28obikpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnQ2Fubm90IGdvKCVzKSB0aGVyZSBpcyBub3QgZW5vdWdoIGhpc3RvcnknLCBuKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50ICs9IG47XG5cbiAgICAgIHZhciBjdXJyZW50TG9jYXRpb24gPSBnZXRDdXJyZW50TG9jYXRpb24oKTtcblxuICAgICAgLy8gY2hhbmdlIGFjdGlvbiB0byBQT1BcbiAgICAgIGhpc3RvcnkudHJhbnNpdGlvblRvKF9leHRlbmRzKHt9LCBjdXJyZW50TG9jYXRpb24sIHsgYWN0aW9uOiBfQWN0aW9ucy5QT1AgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcbiAgICBzd2l0Y2ggKGxvY2F0aW9uLmFjdGlvbikge1xuICAgICAgY2FzZSBfQWN0aW9ucy5QVVNIOlxuICAgICAgICBjdXJyZW50ICs9IDE7XG5cbiAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBvbiB0aGUgdG9wIG9mIHN0YWNrXG4gICAgICAgIC8vIHJlbW92ZSByZXN0IGFuZCBwdXNoIG5ld1xuICAgICAgICBpZiAoY3VycmVudCA8IGVudHJpZXMubGVuZ3RoKSBlbnRyaWVzLnNwbGljZShjdXJyZW50KTtcblxuICAgICAgICBlbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBfQWN0aW9ucy5SRVBMQUNFOlxuICAgICAgICBlbnRyaWVzW2N1cnJlbnRdID0gbG9jYXRpb247XG4gICAgICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9saWIvY3JlYXRlTWVtb3J5SGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMTE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgbWl4aW5zOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZSxcbiAgICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxufTtcblxudmFyIGlzR2V0T3duUHJvcGVydHlTeW1ib2xzQXZhaWxhYmxlID0gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbic7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGN1c3RvbVN0YXRpY3MpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHsgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc0dldE93blByb3BlcnR5U3ltYm9sc0F2YWlsYWJsZSkge1xuICAgICAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXlzW2ldXSAmJiAhS05PV05fU1RBVElDU1trZXlzW2ldXSAmJiAoIWN1c3RvbVN0YXRpY3MgfHwgIWN1c3RvbVN0YXRpY3Nba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdHJldHVybiBzdHIuc3BsaXQoJz8nKVsxXSB8fCAnJztcbn07XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXG5cdHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvXihcXD98I3wmKS8sICcnKTtcblxuXHRpZiAoIXN0cikge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXG5cdHJldHVybiBzdHIuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKHJldCwgcGFyYW0pIHtcblx0XHR2YXIgcGFydHMgPSBwYXJhbS5yZXBsYWNlKC9cXCsvZywgJyAnKS5zcGxpdCgnPScpO1xuXHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0dmFyIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cblx0XHRrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcblxuXHRcdC8vIG1pc3NpbmcgYD1gIHNob3VsZCBiZSBgbnVsbGA6XG5cdFx0Ly8gaHR0cDovL3czLm9yZy9UUi8yMDEyL1dELXVybC0yMDEyMDUyNC8jY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdHZhbCA9IHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXG5cdFx0aWYgKCFyZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0cmV0W2tleV0gPSB2YWw7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJldFtrZXldKSkge1xuXHRcdFx0cmV0W2tleV0ucHVzaCh2YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXRba2V5XSA9IFtyZXRba2V5XSwgdmFsXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LCB7fSk7XG59O1xuXG5leHBvcnRzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChvYmopIHtcblx0cmV0dXJuIG9iaiA/IE9iamVjdC5rZXlzKG9iaikuc29ydCgpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dmFyIHZhbCA9IG9ialtrZXldO1xuXG5cdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnNsaWNlKCkuc29ydCgpLm1hcChmdW5jdGlvbiAodmFsMikge1xuXHRcdFx0XHRyZXR1cm4gc3RyaWN0VXJpRW5jb2RlKGtleSkgKyAnPScgKyBzdHJpY3RVcmlFbmNvZGUodmFsMik7XG5cdFx0XHR9KS5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0cmljdFVyaUVuY29kZShrZXkpICsgJz0nICsgc3RyaWN0VXJpRW5jb2RlKHZhbCk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9xdWVyeS1zdHJpbmcvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDExN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQSBtaXhpbiB0aGF0IGFkZHMgdGhlIFwiaGlzdG9yeVwiIGluc3RhbmNlIHZhcmlhYmxlIHRvIGNvbXBvbmVudHMuXG4gKi9cbnZhciBIaXN0b3J5ID0ge1xuXG4gIGNvbnRleHRUeXBlczoge1xuICAgIGhpc3Rvcnk6IF9JbnRlcm5hbFByb3BUeXBlcy5oaXN0b3J5XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICd0aGUgYEhpc3RvcnlgIG1peGluIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSBhY2Nlc3MgYGNvbnRleHQucm91dGVyYCB3aXRoIHlvdXIgb3duIGBjb250ZXh0VHlwZXNgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItaGlzdG9yeW1peGluJykgOiB2b2lkIDA7XG4gICAgdGhpcy5oaXN0b3J5ID0gdGhpcy5jb250ZXh0Lmhpc3Rvcnk7XG4gIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9IaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTGluayA9IHJlcXVpcmUoJy4vTGluaycpO1xuXG52YXIgX0xpbmsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGluayk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQW4gPEluZGV4TGluaz4gaXMgdXNlZCB0byBsaW5rIHRvIGFuIDxJbmRleFJvdXRlPi5cbiAqL1xudmFyIEluZGV4TGluayA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnSW5kZXhMaW5rJyxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9MaW5rMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyBvbmx5QWN0aXZlT25JbmRleDogdHJ1ZSB9KSk7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9JbmRleExpbmsuanNcbi8vIG1vZHVsZSBpZCA9IDExOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9SZWRpcmVjdCA9IHJlcXVpcmUoJy4vUmVkaXJlY3QnKTtcblxudmFyIF9SZWRpcmVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWRpcmVjdCk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcbnZhciBzdHJpbmcgPSBfUmVhY3QkUHJvcFR5cGVzLnN0cmluZztcbnZhciBvYmplY3QgPSBfUmVhY3QkUHJvcFR5cGVzLm9iamVjdDtcblxuLyoqXG4gKiBBbiA8SW5kZXhSZWRpcmVjdD4gaXMgdXNlZCB0byByZWRpcmVjdCBmcm9tIGFuIGluZGV4Um91dGUuXG4gKi9cblxudmFyIEluZGV4UmVkaXJlY3QgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0luZGV4UmVkaXJlY3QnLFxuXG5cbiAgc3RhdGljczoge1xuICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogZnVuY3Rpb24gY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KGVsZW1lbnQsIHBhcmVudFJvdXRlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZTogc2FuaXR5IGNoZWNrICovXG4gICAgICBpZiAocGFyZW50Um91dGUpIHtcbiAgICAgICAgcGFyZW50Um91dGUuaW5kZXhSb3V0ZSA9IF9SZWRpcmVjdDIuZGVmYXVsdC5jcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0FuIDxJbmRleFJlZGlyZWN0PiBkb2VzIG5vdCBtYWtlIHNlbnNlIGF0IHRoZSByb290IG9mIHlvdXIgcm91dGUgY29uZmlnJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHByb3BUeXBlczoge1xuICAgIHRvOiBzdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBxdWVyeTogb2JqZWN0LFxuICAgIHN0YXRlOiBvYmplY3QsXG4gICAgb25FbnRlcjogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuICAgIGNoaWxkcmVuOiBfSW50ZXJuYWxQcm9wVHlwZXMuZmFsc3lcbiAgfSxcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICc8SW5kZXhSZWRpcmVjdD4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSZWRpcmVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL0luZGV4UmVkaXJlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDEyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9Sb3V0ZVV0aWxzID0gcmVxdWlyZSgnLi9Sb3V0ZVV0aWxzJyk7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmdW5jID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5mdW5jO1xuXG4vKipcbiAqIEFuIDxJbmRleFJvdXRlPiBpcyB1c2VkIHRvIHNwZWNpZnkgaXRzIHBhcmVudCdzIDxSb3V0ZSBpbmRleFJvdXRlPiBpblxuICogYSBKU1ggcm91dGUgY29uZmlnLlxuICovXG5cbnZhciBJbmRleFJvdXRlID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdJbmRleFJvdXRlJyxcblxuXG4gIHN0YXRpY3M6IHtcbiAgICBjcmVhdGVSb3V0ZUZyb21SZWFjdEVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudChlbGVtZW50LCBwYXJlbnRSb3V0ZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2U6IHNhbml0eSBjaGVjayAqL1xuICAgICAgaWYgKHBhcmVudFJvdXRlKSB7XG4gICAgICAgIHBhcmVudFJvdXRlLmluZGV4Um91dGUgPSAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50KShlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQW4gPEluZGV4Um91dGU+IGRvZXMgbm90IG1ha2Ugc2Vuc2UgYXQgdGhlIHJvb3Qgb2YgeW91ciByb3V0ZSBjb25maWcnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcGF0aDogX0ludGVybmFsUHJvcFR5cGVzLmZhbHN5LFxuICAgIGNvbXBvbmVudDogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudCxcbiAgICBjb21wb25lbnRzOiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cyxcbiAgICBnZXRDb21wb25lbnQ6IGZ1bmMsXG4gICAgZ2V0Q29tcG9uZW50czogZnVuY1xuICB9LFxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxJbmRleFJvdXRlPiBlbGVtZW50cyBhcmUgZm9yIHJvdXRlciBjb25maWd1cmF0aW9uIG9ubHkgYW5kIHNob3VsZCBub3QgYmUgcmVuZGVyZWQnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleFJvdXRlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvSW5kZXhSb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgb2JqZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3Q7XG5cbi8qKlxuICogVGhlIExpZmVjeWNsZSBtaXhpbiBhZGRzIHRoZSByb3V0ZXJXaWxsTGVhdmUgbGlmZWN5Y2xlIG1ldGhvZCB0byBhXG4gKiBjb21wb25lbnQgdGhhdCBtYXkgYmUgdXNlZCB0byBjYW5jZWwgYSB0cmFuc2l0aW9uIG9yIHByb21wdCB0aGUgdXNlclxuICogZm9yIGNvbmZpcm1hdGlvbi5cbiAqXG4gKiBPbiBzdGFuZGFyZCB0cmFuc2l0aW9ucywgcm91dGVyV2lsbExlYXZlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGVcbiAqIGxvY2F0aW9uIHdlJ3JlIHRyYW5zaXRpb25pbmcgdG8uIFRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbiwgcmV0dXJuIGZhbHNlLlxuICogVG8gcHJvbXB0IHRoZSB1c2VyIGZvciBjb25maXJtYXRpb24sIHJldHVybiBhIHByb21wdCBtZXNzYWdlIChzdHJpbmcpLlxuICpcbiAqIER1cmluZyB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IChhc3N1bWluZyB5b3UncmUgdXNpbmcgdGhlIHVzZUJlZm9yZVVubG9hZFxuICogaGlzdG9yeSBlbmhhbmNlciksIHJvdXRlcldpbGxMZWF2ZSBkb2VzIG5vdCByZWNlaXZlIGEgbG9jYXRpb24gb2JqZWN0XG4gKiBiZWNhdXNlIGl0IGlzbid0IHBvc3NpYmxlIGZvciB1cyB0byBrbm93IHRoZSBsb2NhdGlvbiB3ZSdyZSB0cmFuc2l0aW9uaW5nXG4gKiB0by4gSW4gdGhpcyBjYXNlIHJvdXRlcldpbGxMZWF2ZSBtdXN0IHJldHVybiBhIHByb21wdCBtZXNzYWdlIHRvIHByZXZlbnRcbiAqIHRoZSB1c2VyIGZyb20gY2xvc2luZyB0aGUgd2luZG93L3RhYi5cbiAqL1xuXG52YXIgTGlmZWN5Y2xlID0ge1xuXG4gIGNvbnRleHRUeXBlczoge1xuICAgIGhpc3Rvcnk6IG9iamVjdC5pc1JlcXVpcmVkLFxuICAgIC8vIE5lc3RlZCBjaGlsZHJlbiByZWNlaXZlIHRoZSByb3V0ZSBhcyBjb250ZXh0LCBlaXRoZXJcbiAgICAvLyBzZXQgYnkgdGhlIHJvdXRlIGNvbXBvbmVudCB1c2luZyB0aGUgUm91dGVDb250ZXh0IG1peGluXG4gICAgLy8gb3IgYnkgc29tZSBvdGhlciBhbmNlc3Rvci5cbiAgICByb3V0ZTogb2JqZWN0XG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgLy8gUm91dGUgY29tcG9uZW50cyByZWNlaXZlIHRoZSByb3V0ZSBvYmplY3QgYXMgYSBwcm9wLlxuICAgIHJvdXRlOiBvYmplY3RcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICd0aGUgYExpZmVjeWNsZWAgbWl4aW4gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgY29udGV4dC5yb3V0ZXIuc2V0Um91dGVMZWF2ZUhvb2socm91dGUsIGhvb2spYC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWxpZmVjeWNsZW1peGluJykgOiB2b2lkIDA7XG4gICAgIXRoaXMucm91dGVyV2lsbExlYXZlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ1RoZSBMaWZlY3ljbGUgbWl4aW4gcmVxdWlyZXMgeW91IHRvIGRlZmluZSBhIHJvdXRlcldpbGxMZWF2ZSBtZXRob2QnKSA6ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgcm91dGUgPSB0aGlzLnByb3BzLnJvdXRlIHx8IHRoaXMuY29udGV4dC5yb3V0ZTtcblxuICAgICFyb3V0ZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdUaGUgTGlmZWN5Y2xlIG1peGluIG11c3QgYmUgdXNlZCBvbiBlaXRoZXIgYSkgYSA8Um91dGUgY29tcG9uZW50PiBvciAnICsgJ2IpIGEgZGVzY2VuZGFudCBvZiBhIDxSb3V0ZSBjb21wb25lbnQ+IHRoYXQgdXNlcyB0aGUgUm91dGVDb250ZXh0IG1peGluJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdGhpcy5fdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUgPSB0aGlzLmNvbnRleHQuaGlzdG9yeS5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUocm91dGUsIHRoaXMucm91dGVyV2lsbExlYXZlKTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl91bmxpc3RlbkJlZm9yZUxlYXZpbmdSb3V0ZSkgdGhpcy5fdW5saXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUoKTtcbiAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTGlmZWN5Y2xlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvTGlmZWN5Y2xlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG52YXIgX0ludGVybmFsUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9JbnRlcm5hbFByb3BUeXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX1JlYWN0JFByb3BUeXBlcyA9IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXM7XG52YXIgc3RyaW5nID0gX1JlYWN0JFByb3BUeXBlcy5zdHJpbmc7XG52YXIgZnVuYyA9IF9SZWFjdCRQcm9wVHlwZXMuZnVuYztcblxuLyoqXG4gKiBBIDxSb3V0ZT4gaXMgdXNlZCB0byBkZWNsYXJlIHdoaWNoIGNvbXBvbmVudHMgYXJlIHJlbmRlcmVkIHRvIHRoZVxuICogcGFnZSB3aGVuIHRoZSBVUkwgbWF0Y2hlcyBhIGdpdmVuIHBhdHRlcm4uXG4gKlxuICogUm91dGVzIGFyZSBhcnJhbmdlZCBpbiBhIG5lc3RlZCB0cmVlIHN0cnVjdHVyZS4gV2hlbiBhIG5ldyBVUkwgaXNcbiAqIHJlcXVlc3RlZCwgdGhlIHRyZWUgaXMgc2VhcmNoZWQgZGVwdGgtZmlyc3QgdG8gZmluZCBhIHJvdXRlIHdob3NlXG4gKiBwYXRoIG1hdGNoZXMgdGhlIFVSTC4gIFdoZW4gb25lIGlzIGZvdW5kLCBhbGwgcm91dGVzIGluIHRoZSB0cmVlXG4gKiB0aGF0IGxlYWQgdG8gaXQgYXJlIGNvbnNpZGVyZWQgXCJhY3RpdmVcIiBhbmQgdGhlaXIgY29tcG9uZW50cyBhcmVcbiAqIHJlbmRlcmVkIGludG8gdGhlIERPTSwgbmVzdGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIGluIHRoZSB0cmVlLlxuICovXG5cbnZhciBSb3V0ZSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUm91dGUnLFxuXG5cbiAgc3RhdGljczoge1xuICAgIGNyZWF0ZVJvdXRlRnJvbVJlYWN0RWxlbWVudDogX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVGcm9tUmVhY3RFbGVtZW50XG4gIH0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGNvbXBvbmVudDogX0ludGVybmFsUHJvcFR5cGVzLmNvbXBvbmVudCxcbiAgICBjb21wb25lbnRzOiBfSW50ZXJuYWxQcm9wVHlwZXMuY29tcG9uZW50cyxcbiAgICBnZXRDb21wb25lbnQ6IGZ1bmMsXG4gICAgZ2V0Q29tcG9uZW50czogZnVuY1xuICB9LFxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJzxSb3V0ZT4gZWxlbWVudHMgYXJlIGZvciByb3V0ZXIgY29uZmlndXJhdGlvbiBvbmx5IGFuZCBzaG91bGQgbm90IGJlIHJlbmRlcmVkJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgb2JqZWN0ID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5vYmplY3Q7XG5cbi8qKlxuICogVGhlIFJvdXRlQ29udGV4dCBtaXhpbiBwcm92aWRlcyBhIGNvbnZlbmllbnQgd2F5IGZvciByb3V0ZVxuICogY29tcG9uZW50cyB0byBzZXQgdGhlIHJvdXRlIGluIGNvbnRleHQuIFRoaXMgaXMgbmVlZGVkIGZvclxuICogcm91dGVzIHRoYXQgcmVuZGVyIGVsZW1lbnRzIHRoYXQgd2FudCB0byB1c2UgdGhlIExpZmVjeWNsZVxuICogbWl4aW4gdG8gcHJldmVudCB0cmFuc2l0aW9ucy5cbiAqL1xuXG52YXIgUm91dGVDb250ZXh0ID0ge1xuXG4gIHByb3BUeXBlczoge1xuICAgIHJvdXRlOiBvYmplY3QuaXNSZXF1aXJlZFxuICB9LFxuXG4gIGNoaWxkQ29udGV4dFR5cGVzOiB7XG4gICAgcm91dGU6IG9iamVjdC5pc1JlcXVpcmVkXG4gIH0sXG5cbiAgZ2V0Q2hpbGRDb250ZXh0OiBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdXRlOiB0aGlzLnByb3BzLnJvdXRlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdUaGUgYFJvdXRlQ29udGV4dGAgbWl4aW4gaXMgZGVwcmVjYXRlZC4gWW91IGNhbiBwcm92aWRlIGB0aGlzLnByb3BzLnJvdXRlYCBvbiBjb250ZXh0IHdpdGggeW91ciBvd24gYGNvbnRleHRUeXBlc2AuIGh0dHA6Ly90aW55LmNjL3JvdXRlci1yb3V0ZWNvbnRleHRtaXhpbicpIDogdm9pZCAwO1xuICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZUNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0ZUNvbnRleHQuanNcbi8vIG1vZHVsZSBpZCA9IDEyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlSGFzaEhpc3RvcnkgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi9jcmVhdGVIYXNoSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5KTtcblxudmFyIF91c2VRdWVyaWVzID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvdXNlUXVlcmllcycpO1xuXG52YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfSW50ZXJuYWxQcm9wVHlwZXMgPSByZXF1aXJlKCcuL0ludGVybmFsUHJvcFR5cGVzJyk7XG5cbnZhciBfUm91dGVyQ29udGV4dCA9IHJlcXVpcmUoJy4vUm91dGVyQ29udGV4dCcpO1xuXG52YXIgX1JvdXRlckNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyQ29udGV4dCk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG52YXIgX1JvdXRlclV0aWxzID0gcmVxdWlyZSgnLi9Sb3V0ZXJVdGlscycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGlzRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSkge1xuICByZXR1cm4gIWhpc3RvcnkgfHwgIWhpc3RvcnkuX192Ml9jb21wYXRpYmxlX187XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYW5pdHkgY2hlY2sgKi9cbmZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRIaXN0b3J5KGhpc3RvcnkpIHtcbiAgLy8gdjMgaGlzdG9yaWVzIGV4cG9zZSBnZXRDdXJyZW50TG9jYXRpb24sIGJ1dCBhcmVuJ3QgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAgcmV0dXJuIGhpc3RvcnkgJiYgaGlzdG9yeS5nZXRDdXJyZW50TG9jYXRpb247XG59XG5cbnZhciBfUmVhY3QkUHJvcFR5cGVzID0gX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcztcbnZhciBmdW5jID0gX1JlYWN0JFByb3BUeXBlcy5mdW5jO1xudmFyIG9iamVjdCA9IF9SZWFjdCRQcm9wVHlwZXMub2JqZWN0O1xuXG4vKipcbiAqIEEgPFJvdXRlcj4gaXMgYSBoaWdoLWxldmVsIEFQSSBmb3IgYXV0b21hdGljYWxseSBzZXR0aW5nIHVwXG4gKiBhIHJvdXRlciB0aGF0IHJlbmRlcnMgYSA8Um91dGVyQ29udGV4dD4gd2l0aCBhbGwgdGhlIHByb3BzXG4gKiBpdCBuZWVkcyBlYWNoIHRpbWUgdGhlIFVSTCBjaGFuZ2VzLlxuICovXG5cbnZhciBSb3V0ZXIgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JvdXRlcicsXG5cblxuICBwcm9wVHlwZXM6IHtcbiAgICBoaXN0b3J5OiBvYmplY3QsXG4gICAgY2hpbGRyZW46IF9JbnRlcm5hbFByb3BUeXBlcy5yb3V0ZXMsXG4gICAgcm91dGVzOiBfSW50ZXJuYWxQcm9wVHlwZXMucm91dGVzLCAvLyBhbGlhcyBmb3IgY2hpbGRyZW5cbiAgICByZW5kZXI6IGZ1bmMsXG4gICAgY3JlYXRlRWxlbWVudDogZnVuYyxcbiAgICBvbkVycm9yOiBmdW5jLFxuICAgIG9uVXBkYXRlOiBmdW5jLFxuXG4gICAgLy8gRGVwcmVjYXRlZDpcbiAgICBwYXJzZVF1ZXJ5U3RyaW5nOiBmdW5jLFxuICAgIHN0cmluZ2lmeVF1ZXJ5OiBmdW5jLFxuXG4gICAgLy8gUFJJVkFURTogRm9yIGNsaWVudC1zaWRlIHJlaHlkcmF0aW9uIG9mIHNlcnZlciBtYXRjaC5cbiAgICBtYXRjaENvbnRleHQ6IG9iamVjdFxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihwcm9wcykge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIHByb3BzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9jYXRpb246IG51bGwsXG4gICAgICByb3V0ZXM6IG51bGwsXG4gICAgICBwYXJhbXM6IG51bGwsXG4gICAgICBjb21wb25lbnRzOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25FcnJvcikge1xuICAgICAgdGhpcy5wcm9wcy5vbkVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaHJvdyBlcnJvcnMgYnkgZGVmYXVsdCBzbyB3ZSBkb24ndCBzaWxlbnRseSBzd2FsbG93IHRoZW0hXG4gICAgICB0aHJvdyBlcnJvcjsgLy8gVGhpcyBlcnJvciBwcm9iYWJseSBvY2N1cnJlZCBpbiBnZXRDaGlsZFJvdXRlcyBvciBnZXRDb21wb25lbnRzLlxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwYXJzZVF1ZXJ5U3RyaW5nID0gX3Byb3BzLnBhcnNlUXVlcnlTdHJpbmc7XG4gICAgdmFyIHN0cmluZ2lmeVF1ZXJ5ID0gX3Byb3BzLnN0cmluZ2lmeVF1ZXJ5O1xuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoIShwYXJzZVF1ZXJ5U3RyaW5nIHx8IHN0cmluZ2lmeVF1ZXJ5KSwgJ2BwYXJzZVF1ZXJ5U3RyaW5nYCBhbmQgYHN0cmluZ2lmeVF1ZXJ5YCBhcmUgZGVwcmVjYXRlZC4gUGxlYXNlIGNyZWF0ZSBhIGN1c3RvbSBoaXN0b3J5LiBodHRwOi8vdGlueS5jYy9yb3V0ZXItY3VzdG9tcXVlcnlzdHJpbmcnKSA6IHZvaWQgMDtcblxuICAgIHZhciBfY3JlYXRlUm91dGVyT2JqZWN0cyA9IHRoaXMuY3JlYXRlUm91dGVyT2JqZWN0cygpO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy5oaXN0b3J5O1xuICAgIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IF9jcmVhdGVSb3V0ZXJPYmplY3RzLnRyYW5zaXRpb25NYW5hZ2VyO1xuICAgIHZhciByb3V0ZXIgPSBfY3JlYXRlUm91dGVyT2JqZWN0cy5yb3V0ZXI7XG5cblxuICAgIHRoaXMuX3VubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIubGlzdGVuKGZ1bmN0aW9uIChlcnJvciwgc3RhdGUpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBfdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShzdGF0ZSwgX3RoaXMucHJvcHMub25VcGRhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5oaXN0b3J5ID0gaGlzdG9yeTtcbiAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgfSxcbiAgY3JlYXRlUm91dGVyT2JqZWN0czogZnVuY3Rpb24gY3JlYXRlUm91dGVyT2JqZWN0cygpIHtcbiAgICB2YXIgbWF0Y2hDb250ZXh0ID0gdGhpcy5wcm9wcy5tYXRjaENvbnRleHQ7XG5cbiAgICBpZiAobWF0Y2hDb250ZXh0KSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb250ZXh0O1xuICAgIH1cblxuICAgIHZhciBoaXN0b3J5ID0gdGhpcy5wcm9wcy5oaXN0b3J5O1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcm91dGVzID0gX3Byb3BzMi5yb3V0ZXM7XG4gICAgdmFyIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbjtcblxuXG4gICAgISFpc1Vuc3VwcG9ydGVkSGlzdG9yeShoaXN0b3J5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdZb3UgaGF2ZSBwcm92aWRlZCBhIGhpc3Rvcnkgb2JqZWN0IGNyZWF0ZWQgd2l0aCBoaXN0b3J5IHYzLnguICcgKyAnVGhpcyB2ZXJzaW9uIG9mIFJlYWN0IFJvdXRlciBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHYzIGhpc3RvcnkgJyArICdvYmplY3RzLiBQbGVhc2UgdXNlIGhpc3RvcnkgdjIueCBpbnN0ZWFkLicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGlmIChpc0RlcHJlY2F0ZWRIaXN0b3J5KGhpc3RvcnkpKSB7XG4gICAgICBoaXN0b3J5ID0gdGhpcy53cmFwRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoaGlzdG9yeSwgKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcykocm91dGVzIHx8IGNoaWxkcmVuKSk7XG4gICAgdmFyIHJvdXRlciA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGVyT2JqZWN0KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG4gICAgdmFyIHJvdXRpbmdIaXN0b3J5ID0gKDAsIF9Sb3V0ZXJVdGlscy5jcmVhdGVSb3V0aW5nSGlzdG9yeSkoaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuXG4gICAgcmV0dXJuIHsgaGlzdG9yeTogcm91dGluZ0hpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyOiB0cmFuc2l0aW9uTWFuYWdlciwgcm91dGVyOiByb3V0ZXIgfTtcbiAgfSxcbiAgd3JhcERlcHJlY2F0ZWRIaXN0b3J5OiBmdW5jdGlvbiB3cmFwRGVwcmVjYXRlZEhpc3RvcnkoaGlzdG9yeSkge1xuICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcGFyc2VRdWVyeVN0cmluZyA9IF9wcm9wczMucGFyc2VRdWVyeVN0cmluZztcbiAgICB2YXIgc3RyaW5naWZ5UXVlcnkgPSBfcHJvcHMzLnN0cmluZ2lmeVF1ZXJ5O1xuXG5cbiAgICB2YXIgY3JlYXRlSGlzdG9yeSA9IHZvaWQgMDtcbiAgICBpZiAoaGlzdG9yeSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdJdCBhcHBlYXJzIHlvdSBoYXZlIHByb3ZpZGVkIGEgZGVwcmVjYXRlZCBoaXN0b3J5IG9iamVjdCB0byBgPFJvdXRlci8+YCwgcGxlYXNlIHVzZSBhIGhpc3RvcnkgcHJvdmlkZWQgYnkgJyArICdSZWFjdCBSb3V0ZXIgd2l0aCBgaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tIFxcJ3JlYWN0LXJvdXRlclxcJ2Agb3IgYGltcG9ydCB7IGhhc2hIaXN0b3J5IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgLiAnICsgJ0lmIHlvdSBhcmUgdXNpbmcgYSBjdXN0b20gaGlzdG9yeSBwbGVhc2UgY3JlYXRlIGl0IHdpdGggYHVzZVJvdXRlckhpc3RvcnlgLCBzZWUgaHR0cDovL3RpbnkuY2Mvcm91dGVyLXVzaW5naGlzdG9yeSBmb3IgZGV0YWlscy4nKSA6IHZvaWQgMDtcbiAgICAgIGNyZWF0ZUhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gaGlzdG9yeTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX3JvdXRlcldhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnYFJvdXRlcmAgbm8gbG9uZ2VyIGRlZmF1bHRzIHRoZSBoaXN0b3J5IHByb3AgdG8gaGFzaCBoaXN0b3J5LiBQbGVhc2UgdXNlIHRoZSBgaGFzaEhpc3RvcnlgIHNpbmdsZXRvbiBpbnN0ZWFkLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItZGVmYXVsdGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgIGNyZWF0ZUhpc3RvcnkgPSBfY3JlYXRlSGFzaEhpc3RvcnkyLmRlZmF1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuICgwLCBfdXNlUXVlcmllczIuZGVmYXVsdCkoY3JlYXRlSGlzdG9yeSkoeyBwYXJzZVF1ZXJ5U3RyaW5nOiBwYXJzZVF1ZXJ5U3RyaW5nLCBzdHJpbmdpZnlRdWVyeTogc3RyaW5naWZ5UXVlcnkgfSk7XG4gIH0sXG5cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FuaXR5IGNoZWNrICovXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkobmV4dFByb3BzLmhpc3RvcnkgPT09IHRoaXMucHJvcHMuaGlzdG9yeSwgJ1lvdSBjYW5ub3QgY2hhbmdlIDxSb3V0ZXIgaGlzdG9yeT47IGl0IHdpbGwgYmUgaWdub3JlZCcpIDogdm9pZCAwO1xuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoKG5leHRQcm9wcy5yb3V0ZXMgfHwgbmV4dFByb3BzLmNoaWxkcmVuKSA9PT0gKHRoaXMucHJvcHMucm91dGVzIHx8IHRoaXMucHJvcHMuY2hpbGRyZW4pLCAnWW91IGNhbm5vdCBjaGFuZ2UgPFJvdXRlciByb3V0ZXM+OyBpdCB3aWxsIGJlIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl91bmxpc3RlbikgdGhpcy5fdW5saXN0ZW4oKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGxvY2F0aW9uID0gX3N0YXRlLmxvY2F0aW9uO1xuICAgIHZhciByb3V0ZXMgPSBfc3RhdGUucm91dGVzO1xuICAgIHZhciBwYXJhbXMgPSBfc3RhdGUucGFyYW1zO1xuICAgIHZhciBjb21wb25lbnRzID0gX3N0YXRlLmNvbXBvbmVudHM7XG4gICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjcmVhdGVFbGVtZW50ID0gX3Byb3BzNC5jcmVhdGVFbGVtZW50O1xuICAgIHZhciByZW5kZXIgPSBfcHJvcHM0LnJlbmRlcjtcblxuICAgIHZhciBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHM0LCBbJ2NyZWF0ZUVsZW1lbnQnLCAncmVuZGVyJ10pO1xuXG4gICAgaWYgKGxvY2F0aW9uID09IG51bGwpIHJldHVybiBudWxsOyAvLyBBc3luYyBtYXRjaFxuXG4gICAgLy8gT25seSBmb3J3YXJkIG5vbi1Sb3V0ZXItc3BlY2lmaWMgcHJvcHMgdG8gcm91dGluZyBjb250ZXh0LCBhcyB0aG9zZSBhcmVcbiAgICAvLyB0aGUgb25seSBvbmVzIHRoYXQgbWlnaHQgYmUgY3VzdG9tIHJvdXRpbmcgY29udGV4dCBwcm9wcy5cbiAgICBPYmplY3Qua2V5cyhSb3V0ZXIucHJvcFR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wVHlwZSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSBwcm9wc1twcm9wVHlwZV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVuZGVyKF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuICAgICAgcm91dGVyOiB0aGlzLnJvdXRlcixcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgIHJvdXRlczogcm91dGVzLFxuICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFxuICAgIH0pKTtcbiAgfVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1JvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMTI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1JvdXRlckNvbnRleHQgPSByZXF1aXJlKCcuL1JvdXRlckNvbnRleHQnKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUm91dGluZ0NvbnRleHQgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JvdXRpbmdDb250ZXh0JyxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgUm91dGluZ0NvbnRleHRgIGhhcyBiZWVuIHJlbmFtZWQgdG8gYFJvdXRlckNvbnRleHRgLiBQbGVhc2UgdXNlIGBpbXBvcnQgeyBSb3V0ZXJDb250ZXh0IH0gZnJvbSBcXCdyZWFjdC1yb3V0ZXJcXCdgLiBodHRwOi8vdGlueS5jYy9yb3V0ZXItcm91dGVyY29udGV4dCcpIDogdm9pZCAwO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIHRoaXMucHJvcHMpO1xuICB9XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGluZ0NvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9Sb3V0aW5nQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMTI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucnVuRW50ZXJIb29rcyA9IHJ1bkVudGVySG9va3M7XG5leHBvcnRzLnJ1bkNoYW5nZUhvb2tzID0gcnVuQ2hhbmdlSG9va3M7XG5leHBvcnRzLnJ1bkxlYXZlSG9va3MgPSBydW5MZWF2ZUhvb2tzO1xuXG52YXIgX0FzeW5jVXRpbHMgPSByZXF1aXJlKCcuL0FzeW5jVXRpbHMnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nID0gcmVxdWlyZSgnLi9yb3V0ZXJXYXJuaW5nJyk7XG5cbnZhciBfcm91dGVyV2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3V0ZXJXYXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbkhvb2soaG9vaywgcm91dGUsIGFzeW5jQXJpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBob29rLmFwcGx5KHJvdXRlLCBhcmdzKTtcblxuICAgIGlmIChob29rLmxlbmd0aCA8IGFzeW5jQXJpdHkpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgIC8vIEFzc3VtZSBob29rIGV4ZWN1dGVzIHN5bmNocm9ub3VzbHkgYW5kXG4gICAgICAvLyBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNhbGxiYWNrLlxuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEVudGVySG9va3Mocm91dGVzKSB7XG4gIHJldHVybiByb3V0ZXMucmVkdWNlKGZ1bmN0aW9uIChob29rcywgcm91dGUpIHtcbiAgICBpZiAocm91dGUub25FbnRlcikgaG9va3MucHVzaChjcmVhdGVUcmFuc2l0aW9uSG9vayhyb3V0ZS5vbkVudGVyLCByb3V0ZSwgMykpO1xuXG4gICAgcmV0dXJuIGhvb2tzO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIGdldENoYW5nZUhvb2tzKHJvdXRlcykge1xuICByZXR1cm4gcm91dGVzLnJlZHVjZShmdW5jdGlvbiAoaG9va3MsIHJvdXRlKSB7XG4gICAgaWYgKHJvdXRlLm9uQ2hhbmdlKSBob29rcy5wdXNoKGNyZWF0ZVRyYW5zaXRpb25Ib29rKHJvdXRlLm9uQ2hhbmdlLCByb3V0ZSwgNCkpO1xuICAgIHJldHVybiBob29rcztcbiAgfSwgW10pO1xufVxuXG5mdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9va3MobGVuZ3RoLCBpdGVyLCBjYWxsYmFjaykge1xuICBpZiAoIWxlbmd0aCkge1xuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJlZGlyZWN0SW5mbyA9IHZvaWQgMDtcbiAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbiwgZGVwcmVjYXRlZFBhdGhuYW1lLCBkZXByZWNhdGVkUXVlcnkpIHtcbiAgICBpZiAoZGVwcmVjYXRlZFBhdGhuYW1lKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ2ByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGhuYW1lLCBxdWVyeSkgaXMgZGVwcmVjYXRlZDsgdXNlIGByZXBsYWNlKGxvY2F0aW9uKWAgd2l0aCBhIGxvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZC4gaHR0cDovL3RpbnkuY2Mvcm91dGVyLWlzQWN0aXZlZGVwcmVjYXRlZCcpIDogdm9pZCAwO1xuICAgICAgcmVkaXJlY3RJbmZvID0ge1xuICAgICAgICBwYXRobmFtZTogZGVwcmVjYXRlZFBhdGhuYW1lLFxuICAgICAgICBxdWVyeTogZGVwcmVjYXRlZFF1ZXJ5LFxuICAgICAgICBzdGF0ZTogbG9jYXRpb25cbiAgICAgIH07XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWRpcmVjdEluZm8gPSBsb2NhdGlvbjtcbiAgfVxuXG4gICgwLCBfQXN5bmNVdGlscy5sb29wQXN5bmMpKGxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBuZXh0LCBkb25lKSB7XG4gICAgaXRlcihpbmRleCwgcmVwbGFjZSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgfHwgcmVkaXJlY3RJbmZvKSB7XG4gICAgICAgIGRvbmUoZXJyb3IsIHJlZGlyZWN0SW5mbyk7IC8vIE5vIG5lZWQgdG8gY29udGludWUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBSdW5zIGFsbCBvbkVudGVyIGhvb2tzIGluIHRoZSBnaXZlbiBhcnJheSBvZiByb3V0ZXMgaW4gb3JkZXJcbiAqIHdpdGggb25FbnRlcihuZXh0U3RhdGUsIHJlcGxhY2UsIGNhbGxiYWNrKSBhbmQgY2FsbHNcbiAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdEluZm8pIHdoZW4gZmluaXNoZWQuIFRoZSBmaXJzdCBob29rXG4gKiB0byB1c2UgcmVwbGFjZSBzaG9ydC1jaXJjdWl0cyB0aGUgbG9vcC5cbiAqXG4gKiBJZiBhIGhvb2sgbmVlZHMgdG8gcnVuIGFzeW5jaHJvbm91c2x5LCBpdCBtYXkgdXNlIHRoZSBjYWxsYmFja1xuICogZnVuY3Rpb24uIEhvd2V2ZXIsIGRvaW5nIHNvIHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gcGF1c2UsXG4gKiB3aGljaCBjb3VsZCBsZWFkIHRvIGEgbm9uLXJlc3BvbnNpdmUgVUkgaWYgdGhlIGhvb2sgaXMgc2xvdy5cbiAqL1xuZnVuY3Rpb24gcnVuRW50ZXJIb29rcyhyb3V0ZXMsIG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcbiAgdmFyIGhvb2tzID0gZ2V0RW50ZXJIb29rcyhyb3V0ZXMpO1xuICByZXR1cm4gcnVuVHJhbnNpdGlvbkhvb2tzKGhvb2tzLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlLCBuZXh0KSB7XG4gICAgaG9va3NbaW5kZXhdKG5leHRTdGF0ZSwgcmVwbGFjZSwgbmV4dCk7XG4gIH0sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBSdW5zIGFsbCBvbkNoYW5nZSBob29rcyBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2Ygcm91dGVzIGluIG9yZGVyXG4gKiB3aXRoIG9uQ2hhbmdlKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCByZXBsYWNlLCBjYWxsYmFjaykgYW5kIGNhbGxzXG4gKiBjYWxsYmFjayhlcnJvciwgcmVkaXJlY3RJbmZvKSB3aGVuIGZpbmlzaGVkLiBUaGUgZmlyc3QgaG9va1xuICogdG8gdXNlIHJlcGxhY2Ugc2hvcnQtY2lyY3VpdHMgdGhlIGxvb3AuXG4gKlxuICogSWYgYSBob29rIG5lZWRzIHRvIHJ1biBhc3luY2hyb25vdXNseSwgaXQgbWF5IHVzZSB0aGUgY2FsbGJhY2tcbiAqIGZ1bmN0aW9uLiBIb3dldmVyLCBkb2luZyBzbyB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIHBhdXNlLFxuICogd2hpY2ggY291bGQgbGVhZCB0byBhIG5vbi1yZXNwb25zaXZlIFVJIGlmIHRoZSBob29rIGlzIHNsb3cuXG4gKi9cbmZ1bmN0aW9uIHJ1bkNoYW5nZUhvb2tzKHJvdXRlcywgc3RhdGUsIG5leHRTdGF0ZSwgY2FsbGJhY2spIHtcbiAgdmFyIGhvb2tzID0gZ2V0Q2hhbmdlSG9va3Mocm91dGVzKTtcbiAgcmV0dXJuIHJ1blRyYW5zaXRpb25Ib29rcyhob29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZSwgbmV4dCkge1xuICAgIGhvb2tzW2luZGV4XShzdGF0ZSwgbmV4dFN0YXRlLCByZXBsYWNlLCBuZXh0KTtcbiAgfSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFJ1bnMgYWxsIG9uTGVhdmUgaG9va3MgaW4gdGhlIGdpdmVuIGFycmF5IG9mIHJvdXRlcyBpbiBvcmRlci5cbiAqL1xuZnVuY3Rpb24gcnVuTGVhdmVIb29rcyhyb3V0ZXMsIHByZXZTdGF0ZSkge1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHJvdXRlc1tpXS5vbkxlYXZlKSByb3V0ZXNbaV0ub25MZWF2ZS5jYWxsKHJvdXRlc1tpXSwgcHJldlN0YXRlKTtcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL1RyYW5zaXRpb25VdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1JvdXRlckNvbnRleHQgPSByZXF1aXJlKCcuL1JvdXRlckNvbnRleHQnKTtcblxudmFyIF9Sb3V0ZXJDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlckNvbnRleHQpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcgPSByZXF1aXJlKCcuL3JvdXRlcldhcm5pbmcnKTtcblxudmFyIF9yb3V0ZXJXYXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcldhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBtaWRkbGV3YXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChtaWRkbGV3YXJlLCBpbmRleCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkobWlkZGxld2FyZS5yZW5kZXJSb3V0ZXJDb250ZXh0IHx8IG1pZGRsZXdhcmUucmVuZGVyUm91dGVDb21wb25lbnQsICdUaGUgbWlkZGxld2FyZSBzcGVjaWZpZWQgYXQgaW5kZXggJyArIGluZGV4ICsgJyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgJyArICdhIHZhbGlkIFJlYWN0IFJvdXRlciBtaWRkbGV3YXJlLicpIDogdm9pZCAwO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHdpdGhDb250ZXh0ID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmUucmVuZGVyUm91dGVyQ29udGV4dDtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICB2YXIgd2l0aENvbXBvbmVudCA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgIHJldHVybiBtaWRkbGV3YXJlLnJlbmRlclJvdXRlQ29tcG9uZW50O1xuICB9KS5maWx0ZXIoQm9vbGVhbik7XG5cbiAgdmFyIG1ha2VDcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gbWFrZUNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgdmFyIGJhc2VDcmVhdGVFbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gX3JlYWN0LmNyZWF0ZUVsZW1lbnQgOiBhcmd1bWVudHNbMF07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQsIHByb3BzKSB7XG4gICAgICByZXR1cm4gd2l0aENvbXBvbmVudC5yZWR1Y2VSaWdodChmdW5jdGlvbiAocHJldmlvdXMsIHJlbmRlclJvdXRlQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiByZW5kZXJSb3V0ZUNvbXBvbmVudChwcmV2aW91cywgcHJvcHMpO1xuICAgICAgfSwgYmFzZUNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBwcm9wcykpO1xuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChyZW5kZXJQcm9wcykge1xuICAgIHJldHVybiB3aXRoQ29udGV4dC5yZWR1Y2VSaWdodChmdW5jdGlvbiAocHJldmlvdXMsIHJlbmRlclJvdXRlckNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZW5kZXJSb3V0ZXJDb250ZXh0KHByZXZpb3VzLCByZW5kZXJQcm9wcyk7XG4gICAgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlckNvbnRleHQyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCByZW5kZXJQcm9wcywge1xuICAgICAgY3JlYXRlRWxlbWVudDogbWFrZUNyZWF0ZUVsZW1lbnQocmVuZGVyUHJvcHMuY3JlYXRlRWxlbWVudClcbiAgICB9KSkpO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvYXBwbHlSb3V0ZXJNaWRkbGV3YXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gcmVxdWlyZSgnaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVCcm93c2VySGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVCcm93c2VySGlzdG9yeSk7XG5cbnZhciBfY3JlYXRlUm91dGVySGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlUm91dGVySGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZVJvdXRlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlUm91dGVySGlzdG9yeSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfY3JlYXRlUm91dGVySGlzdG9yeTIuZGVmYXVsdCkoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5Mi5kZWZhdWx0KTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2Jyb3dzZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbmZ1bmN0aW9uIHJvdXRlUGFyYW1zQ2hhbmdlZChyb3V0ZSwgcHJldlN0YXRlLCBuZXh0U3RhdGUpIHtcbiAgaWYgKCFyb3V0ZS5wYXRoKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIHBhcmFtTmFtZXMgPSAoMCwgX1BhdHRlcm5VdGlscy5nZXRQYXJhbU5hbWVzKShyb3V0ZS5wYXRoKTtcblxuICByZXR1cm4gcGFyYW1OYW1lcy5zb21lKGZ1bmN0aW9uIChwYXJhbU5hbWUpIHtcbiAgICByZXR1cm4gcHJldlN0YXRlLnBhcmFtc1twYXJhbU5hbWVdICE9PSBuZXh0U3RhdGUucGFyYW1zW3BhcmFtTmFtZV07XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHsgbGVhdmVSb3V0ZXMsIGNoYW5nZVJvdXRlcywgZW50ZXJSb3V0ZXMgfSBkZXRlcm1pbmVkIGJ5XG4gKiB0aGUgY2hhbmdlIGZyb20gcHJldlN0YXRlIHRvIG5leHRTdGF0ZS4gV2UgbGVhdmUgcm91dGVzIGlmIGVpdGhlclxuICogMSkgdGhleSBhcmUgbm90IGluIHRoZSBuZXh0IHN0YXRlIG9yIDIpIHRoZXkgYXJlIGluIHRoZSBuZXh0IHN0YXRlXG4gKiBidXQgdGhlaXIgcGFyYW1zIGhhdmUgY2hhbmdlZCAoaS5lLiAvdXNlcnMvMTIzID0+IC91c2Vycy80NTYpLlxuICpcbiAqIGxlYXZlUm91dGVzIGFyZSBvcmRlcmVkIHN0YXJ0aW5nIGF0IHRoZSBsZWFmIHJvdXRlIG9mIHRoZSB0cmVlXG4gKiB3ZSdyZSBsZWF2aW5nIHVwIHRvIHRoZSBjb21tb24gcGFyZW50IHJvdXRlLiBlbnRlclJvdXRlcyBhcmUgb3JkZXJlZFxuICogZnJvbSB0aGUgdG9wIG9mIHRoZSB0cmVlIHdlJ3JlIGVudGVyaW5nIGRvd24gdG8gdGhlIGxlYWYgcm91dGUuXG4gKlxuICogY2hhbmdlUm91dGVzIGFyZSBhbnkgcm91dGVzIHRoYXQgZGlkbid0IGxlYXZlIG9yIGVudGVyIGR1cmluZ1xuICogdGhlIHRyYW5zaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVDaGFuZ2VkUm91dGVzKHByZXZTdGF0ZSwgbmV4dFN0YXRlKSB7XG4gIHZhciBwcmV2Um91dGVzID0gcHJldlN0YXRlICYmIHByZXZTdGF0ZS5yb3V0ZXM7XG4gIHZhciBuZXh0Um91dGVzID0gbmV4dFN0YXRlLnJvdXRlcztcblxuICB2YXIgbGVhdmVSb3V0ZXMgPSB2b2lkIDAsXG4gICAgICBjaGFuZ2VSb3V0ZXMgPSB2b2lkIDAsXG4gICAgICBlbnRlclJvdXRlcyA9IHZvaWQgMDtcbiAgaWYgKHByZXZSb3V0ZXMpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudElzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgbGVhdmVSb3V0ZXMgPSBwcmV2Um91dGVzLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgaWYgKHBhcmVudElzTGVhdmluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpc0xlYXZpbmcgPSBuZXh0Um91dGVzLmluZGV4T2Yocm91dGUpID09PSAtMSB8fCByb3V0ZVBhcmFtc0NoYW5nZWQocm91dGUsIHByZXZTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgICAgICAgICBpZiAoaXNMZWF2aW5nKSBwYXJlbnRJc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBpc0xlYXZpbmc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBvbkxlYXZlIGhvb2tzIHN0YXJ0IGF0IHRoZSBsZWFmIHJvdXRlLlxuICAgICAgbGVhdmVSb3V0ZXMucmV2ZXJzZSgpO1xuXG4gICAgICBlbnRlclJvdXRlcyA9IFtdO1xuICAgICAgY2hhbmdlUm91dGVzID0gW107XG5cbiAgICAgIG5leHRSb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgdmFyIGlzTmV3ID0gcHJldlJvdXRlcy5pbmRleE9mKHJvdXRlKSA9PT0gLTE7XG4gICAgICAgIHZhciBwYXJhbXNDaGFuZ2VkID0gbGVhdmVSb3V0ZXMuaW5kZXhPZihyb3V0ZSkgIT09IC0xO1xuXG4gICAgICAgIGlmIChpc05ldyB8fCBwYXJhbXNDaGFuZ2VkKSBlbnRlclJvdXRlcy5wdXNoKHJvdXRlKTtlbHNlIGNoYW5nZVJvdXRlcy5wdXNoKHJvdXRlKTtcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH0gZWxzZSB7XG4gICAgbGVhdmVSb3V0ZXMgPSBbXTtcbiAgICBjaGFuZ2VSb3V0ZXMgPSBbXTtcbiAgICBlbnRlclJvdXRlcyA9IG5leHRSb3V0ZXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlYXZlUm91dGVzOiBsZWF2ZVJvdXRlcyxcbiAgICBjaGFuZ2VSb3V0ZXM6IGNoYW5nZVJvdXRlcyxcbiAgICBlbnRlclJvdXRlczogZW50ZXJSb3V0ZXNcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY29tcHV0ZUNoYW5nZWRSb3V0ZXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9jb21wdXRlQ2hhbmdlZFJvdXRlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Bc3luY1V0aWxzID0gcmVxdWlyZSgnLi9Bc3luY1V0aWxzJyk7XG5cbnZhciBfbWFrZVN0YXRlV2l0aExvY2F0aW9uID0gcmVxdWlyZSgnLi9tYWtlU3RhdGVXaXRoTG9jYXRpb24nKTtcblxudmFyIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFrZVN0YXRlV2l0aExvY2F0aW9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50c0ZvclJvdXRlKG5leHRTdGF0ZSwgcm91dGUsIGNhbGxiYWNrKSB7XG4gIGlmIChyb3V0ZS5jb21wb25lbnQgfHwgcm91dGUuY29tcG9uZW50cykge1xuICAgIGNhbGxiYWNrKG51bGwsIHJvdXRlLmNvbXBvbmVudCB8fCByb3V0ZS5jb21wb25lbnRzKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZ2V0Q29tcG9uZW50ID0gcm91dGUuZ2V0Q29tcG9uZW50IHx8IHJvdXRlLmdldENvbXBvbmVudHM7XG4gIGlmICghZ2V0Q29tcG9uZW50KSB7XG4gICAgY2FsbGJhY2soKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbG9jYXRpb24gPSBuZXh0U3RhdGUubG9jYXRpb247XG5cbiAgdmFyIG5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShuZXh0U3RhdGUsIGxvY2F0aW9uKTtcblxuICBnZXRDb21wb25lbnQuY2FsbChyb3V0ZSwgbmV4dFN0YXRlV2l0aExvY2F0aW9uLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgZmV0Y2hlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIHRoZSBnaXZlbiByb3V0ZXJcbiAqIHN0YXRlIGFuZCBjYWxscyBjYWxsYmFjayhlcnJvciwgY29tcG9uZW50cykgd2hlbiBmaW5pc2hlZC5cbiAqXG4gKiBOb3RlOiBUaGlzIG9wZXJhdGlvbiBtYXkgZmluaXNoIHN5bmNocm9ub3VzbHkgaWYgbm8gcm91dGVzIGhhdmUgYW5cbiAqIGFzeW5jaHJvbm91cyBnZXRDb21wb25lbnRzIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50cyhuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG4gICgwLCBfQXN5bmNVdGlscy5tYXBBc3luYykobmV4dFN0YXRlLnJvdXRlcywgZnVuY3Rpb24gKHJvdXRlLCBpbmRleCwgY2FsbGJhY2spIHtcbiAgICBnZXRDb21wb25lbnRzRm9yUm91dGUobmV4dFN0YXRlLCByb3V0ZSwgY2FsbGJhY2spO1xuICB9LCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGdldENvbXBvbmVudHM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9nZXRDb21wb25lbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgYW4gb2JqZWN0IG9mIHBhcmFtcyB0aGUgZ2l2ZW4gcm91dGUgY2FyZXMgYWJvdXQgZnJvbVxuICogdGhlIGdpdmVuIHBhcmFtcyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGdldFJvdXRlUGFyYW1zKHJvdXRlLCBwYXJhbXMpIHtcbiAgdmFyIHJvdXRlUGFyYW1zID0ge307XG5cbiAgaWYgKCFyb3V0ZS5wYXRoKSByZXR1cm4gcm91dGVQYXJhbXM7XG5cbiAgKDAsIF9QYXR0ZXJuVXRpbHMuZ2V0UGFyYW1OYW1lcykocm91dGUucGF0aCkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBwKSkge1xuICAgICAgcm91dGVQYXJhbXNbcF0gPSBwYXJhbXNbcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcm91dGVQYXJhbXM7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGdldFJvdXRlUGFyYW1zO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvZ2V0Um91dGVQYXJhbXMuanNcbi8vIG1vZHVsZSBpZCA9IDEzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlSGFzaEhpc3RvcnkgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi9jcmVhdGVIYXNoSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5KTtcblxudmFyIF9jcmVhdGVSb3V0ZXJIaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVSb3V0ZXJIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlUm91dGVySGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVSb3V0ZXJIaXN0b3J5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9jcmVhdGVSb3V0ZXJIaXN0b3J5Mi5kZWZhdWx0KShfY3JlYXRlSGFzaEhpc3RvcnkyLmRlZmF1bHQpO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvaGFzaEhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDEzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBpc0FjdGl2ZTtcblxudmFyIF9QYXR0ZXJuVXRpbHMgPSByZXF1aXJlKCcuL1BhdHRlcm5VdGlscycpO1xuXG5mdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gZGVlcEVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpKSA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBwIGluIGEpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIHApKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYVtwXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChiW3BdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFkZWVwRXF1YWwoYVtwXSwgYltwXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBwYXRobmFtZSBtYXRjaGVzIHRoZSBzdXBwbGllZCBvbmUsIG5ldCBvZlxuICogbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2ggbm9ybWFsaXphdGlvbi4gVGhpcyBpcyBzdWZmaWNpZW50IGZvciBhblxuICogaW5kZXhPbmx5IHJvdXRlIG1hdGNoLlxuICovXG5mdW5jdGlvbiBwYXRoSXNBY3RpdmUocGF0aG5hbWUsIGN1cnJlbnRQYXRobmFtZSkge1xuICAvLyBOb3JtYWxpemUgbGVhZGluZyBzbGFzaCBmb3IgY29uc2lzdGVuY3kuIExlYWRpbmcgc2xhc2ggb24gcGF0aG5hbWUgaGFzXG4gIC8vIGFscmVhZHkgYmVlbiBub3JtYWxpemVkIGluIGlzQWN0aXZlLiBTZWUgY2F2ZWF0IHRoZXJlLlxuICBpZiAoY3VycmVudFBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgY3VycmVudFBhdGhuYW1lID0gJy8nICsgY3VycmVudFBhdGhuYW1lO1xuICB9XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBlbmQgb2YgYm90aCBwYXRoIG5hbWVzIHRvby4gTWF5YmUgYC9mb28vYCBzaG91bGRuJ3Qgc2hvd1xuICAvLyBgL2Zvb2AgYXMgYWN0aXZlLCBidXQgaW4gdGhpcyBjYXNlLCB3ZSB3b3VsZCBhbHJlYWR5IGhhdmUgZmFpbGVkIHRoZVxuICAvLyBtYXRjaC5cbiAgaWYgKHBhdGhuYW1lLmNoYXJBdChwYXRobmFtZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgcGF0aG5hbWUgKz0gJy8nO1xuICB9XG4gIGlmIChjdXJyZW50UGF0aG5hbWUuY2hhckF0KGN1cnJlbnRQYXRobmFtZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgY3VycmVudFBhdGhuYW1lICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiBjdXJyZW50UGF0aG5hbWUgPT09IHBhdGhuYW1lO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcGF0aG5hbWUgbWF0Y2hlcyB0aGUgYWN0aXZlIHJvdXRlcyBhbmQgcGFyYW1zLlxuICovXG5mdW5jdGlvbiByb3V0ZUlzQWN0aXZlKHBhdGhuYW1lLCByb3V0ZXMsIHBhcmFtcykge1xuICB2YXIgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZSxcbiAgICAgIHBhcmFtTmFtZXMgPSBbXSxcbiAgICAgIHBhcmFtVmFsdWVzID0gW107XG5cbiAgLy8gZm9yLi4ub2Ygd291bGQgd29yayBoZXJlIGJ1dCBpdCdzIHByb2JhYmx5IHNsb3dlciBwb3N0LXRyYW5zcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb3V0ZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XG4gICAgdmFyIHBhdHRlcm4gPSByb3V0ZS5wYXRoIHx8ICcnO1xuXG4gICAgaWYgKHBhdHRlcm4uY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWU7XG4gICAgICBwYXJhbU5hbWVzID0gW107XG4gICAgICBwYXJhbVZhbHVlcyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPT0gbnVsbCAmJiBwYXR0ZXJuKSB7XG4gICAgICB2YXIgbWF0Y2hlZCA9ICgwLCBfUGF0dGVyblV0aWxzLm1hdGNoUGF0dGVybikocGF0dGVybiwgcmVtYWluaW5nUGF0aG5hbWUpO1xuICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkLnJlbWFpbmluZ1BhdGhuYW1lO1xuICAgICAgICBwYXJhbU5hbWVzID0gW10uY29uY2F0KHBhcmFtTmFtZXMsIG1hdGNoZWQucGFyYW1OYW1lcyk7XG4gICAgICAgIHBhcmFtVmFsdWVzID0gW10uY29uY2F0KHBhcmFtVmFsdWVzLCBtYXRjaGVkLnBhcmFtVmFsdWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSAnJykge1xuICAgICAgICAvLyBXZSBoYXZlIGFuIGV4YWN0IG1hdGNoIG9uIHRoZSByb3V0ZS4gSnVzdCBjaGVjayB0aGF0IGFsbCB0aGUgcGFyYW1zXG4gICAgICAgIC8vIG1hdGNoLlxuICAgICAgICAvLyBGSVhNRTogVGhpcyBkb2Vzbid0IHdvcmsgb24gcmVwZWF0ZWQgcGFyYW1zLlxuICAgICAgICByZXR1cm4gcGFyYW1OYW1lcy5ldmVyeShmdW5jdGlvbiAocGFyYW1OYW1lLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcocGFyYW1WYWx1ZXNbaW5kZXhdKSA9PT0gU3RyaW5nKHBhcmFtc1twYXJhbU5hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhbGwga2V5L3ZhbHVlIHBhaXJzIGluIHRoZSBnaXZlbiBxdWVyeSBhcmVcbiAqIGN1cnJlbnRseSBhY3RpdmUuXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5SXNBY3RpdmUocXVlcnksIGFjdGl2ZVF1ZXJ5KSB7XG4gIGlmIChhY3RpdmVRdWVyeSA9PSBudWxsKSByZXR1cm4gcXVlcnkgPT0gbnVsbDtcblxuICBpZiAocXVlcnkgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgcmV0dXJuIGRlZXBFcXVhbChxdWVyeSwgYWN0aXZlUXVlcnkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIDxMaW5rPiB0byB0aGUgZ2l2ZW4gcGF0aG5hbWUvcXVlcnkgY29tYmluYXRpb24gaXNcbiAqIGN1cnJlbnRseSBhY3RpdmUuXG4gKi9cbmZ1bmN0aW9uIGlzQWN0aXZlKF9yZWYsIGluZGV4T25seSwgY3VycmVudExvY2F0aW9uLCByb3V0ZXMsIHBhcmFtcykge1xuICB2YXIgcGF0aG5hbWUgPSBfcmVmLnBhdGhuYW1lO1xuICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24gPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFRPRE86IFRoaXMgaXMgYSBiaXQgdWdseS4gSXQga2VlcHMgYXJvdW5kIHN1cHBvcnQgZm9yIHRyZWF0aW5nIHBhdGhuYW1lc1xuICAvLyB3aXRob3V0IHByZWNlZGluZyBzbGFzaGVzIGFzIGFic29sdXRlIHBhdGhzLCBidXQgcG9zc2libHkgYWxzbyB3b3Jrc1xuICAvLyBhcm91bmQgdGhlIHNhbWUgcXVpcmtzIHdpdGggYmFzZW5hbWVzIGFzIGluIG1hdGNoUm91dGVzLlxuICBpZiAocGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9XG5cbiAgaWYgKCFwYXRoSXNBY3RpdmUocGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAvLyBUaGUgcGF0aCBjaGVjayBpcyBuZWNlc3NhcnkgYW5kIHN1ZmZpY2llbnQgZm9yIGluZGV4T25seSwgYnV0IG90aGVyd2lzZVxuICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gY2hlY2sgdGhlIHJvdXRlcy5cbiAgICBpZiAoaW5kZXhPbmx5IHx8ICFyb3V0ZUlzQWN0aXZlKHBhdGhuYW1lLCByb3V0ZXMsIHBhcmFtcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcXVlcnlJc0FjdGl2ZShxdWVyeSwgY3VycmVudExvY2F0aW9uLnF1ZXJ5KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL2lzQWN0aXZlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi9BY3Rpb25zJyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlTWVtb3J5SGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTWVtb3J5SGlzdG9yeSk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX1JvdXRlVXRpbHMgPSByZXF1aXJlKCcuL1JvdXRlVXRpbHMnKTtcblxudmFyIF9Sb3V0ZXJVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVyVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIEEgaGlnaC1sZXZlbCBBUEkgdG8gYmUgdXNlZCBmb3Igc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gbWF0Y2hlcyBhIGxvY2F0aW9uIHRvIGEgc2V0IG9mIHJvdXRlcyBhbmQgY2FsbHNcbiAqIGNhbGxiYWNrKGVycm9yLCByZWRpcmVjdExvY2F0aW9uLCByZW5kZXJQcm9wcykgd2hlbiBmaW5pc2hlZC5cbiAqXG4gKiBOb3RlOiBZb3UgcHJvYmFibHkgZG9uJ3Qgd2FudCB0byB1c2UgdGhpcyBpbiBhIGJyb3dzZXIgdW5sZXNzIHlvdSdyZSB1c2luZ1xuICogc2VydmVyLXNpZGUgcmVuZGVyaW5nIHdpdGggYXN5bmMgcm91dGVzLlxuICovXG5mdW5jdGlvbiBtYXRjaChfcmVmLCBjYWxsYmFjaykge1xuICB2YXIgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcbiAgdmFyIHJvdXRlcyA9IF9yZWYucm91dGVzO1xuICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uO1xuXG4gIHZhciBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnaGlzdG9yeScsICdyb3V0ZXMnLCAnbG9jYXRpb24nXSk7XG5cbiAgIShoaXN0b3J5IHx8IGxvY2F0aW9uKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsICdtYXRjaCBuZWVkcyBhIGhpc3Rvcnkgb3IgYSBsb2NhdGlvbicpIDogKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKGZhbHNlKSA6IHZvaWQgMDtcblxuICBoaXN0b3J5ID0gaGlzdG9yeSA/IGhpc3RvcnkgOiAoMCwgX2NyZWF0ZU1lbW9yeUhpc3RvcnkyLmRlZmF1bHQpKG9wdGlvbnMpO1xuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KShoaXN0b3J5LCAoMCwgX1JvdXRlVXRpbHMuY3JlYXRlUm91dGVzKShyb3V0ZXMpKTtcblxuICB2YXIgdW5saXN0ZW4gPSB2b2lkIDA7XG5cbiAgaWYgKGxvY2F0aW9uKSB7XG4gICAgLy8gQWxsb3cgbWF0Y2goeyBsb2NhdGlvbjogJy90aGUvcGF0aCcsIC4uLiB9KVxuICAgIGxvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihsb2NhdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gUGljayB1cCB0aGUgbG9jYXRpb24gZnJvbSB0aGUgaGlzdG9yeSB2aWEgc3luY2hyb25vdXMgaGlzdG9yeS5saXN0ZW5cbiAgICAvLyBjYWxsIGlmIG5lZWRlZC5cbiAgICB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChoaXN0b3J5TG9jYXRpb24pIHtcbiAgICAgIGxvY2F0aW9uID0gaGlzdG9yeUxvY2F0aW9uO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJvdXRlciA9ICgwLCBfUm91dGVyVXRpbHMuY3JlYXRlUm91dGVyT2JqZWN0KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG4gIGhpc3RvcnkgPSAoMCwgX1JvdXRlclV0aWxzLmNyZWF0ZVJvdXRpbmdIaXN0b3J5KShoaXN0b3J5LCB0cmFuc2l0aW9uTWFuYWdlcik7XG5cbiAgdHJhbnNpdGlvbk1hbmFnZXIubWF0Y2gobG9jYXRpb24sIGZ1bmN0aW9uIChlcnJvciwgcmVkaXJlY3RMb2NhdGlvbiwgbmV4dFN0YXRlKSB7XG4gICAgY2FsbGJhY2soZXJyb3IsIHJlZGlyZWN0TG9jYXRpb24gJiYgcm91dGVyLmNyZWF0ZUxvY2F0aW9uKHJlZGlyZWN0TG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UpLCBuZXh0U3RhdGUgJiYgX2V4dGVuZHMoe30sIG5leHRTdGF0ZSwge1xuICAgICAgaGlzdG9yeTogaGlzdG9yeSxcbiAgICAgIHJvdXRlcjogcm91dGVyLFxuICAgICAgbWF0Y2hDb250ZXh0OiB7IGhpc3Rvcnk6IGhpc3RvcnksIHRyYW5zaXRpb25NYW5hZ2VyOiB0cmFuc2l0aW9uTWFuYWdlciwgcm91dGVyOiByb3V0ZXIgfVxuICAgIH0pKTtcblxuICAgIC8vIERlZmVyIHJlbW92aW5nIHRoZSBsaXN0ZW5lciB0byBoZXJlIHRvIHByZXZlbnQgRE9NIGhpc3RvcmllcyBmcm9tIGhhdmluZ1xuICAgIC8vIHRvIHVud2luZCBET00gZXZlbnQgbGlzdGVuZXJzIHVubmVjZXNzYXJpbHksIGluIGNhc2UgY2FsbGJhY2sgcmVuZGVycyBhXG4gICAgLy8gPFJvdXRlcj4gYW5kIGF0dGFjaGVzIGFub3RoZXIgaGlzdG9yeSBsaXN0ZW5lci5cbiAgICBpZiAodW5saXN0ZW4pIHtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi9tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gMTM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoUm91dGVzO1xuXG52YXIgX0FzeW5jVXRpbHMgPSByZXF1aXJlKCcuL0FzeW5jVXRpbHMnKTtcblxudmFyIF9tYWtlU3RhdGVXaXRoTG9jYXRpb24gPSByZXF1aXJlKCcuL21ha2VTdGF0ZVdpdGhMb2NhdGlvbicpO1xuXG52YXIgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYWtlU3RhdGVXaXRoTG9jYXRpb24pO1xuXG52YXIgX1BhdHRlcm5VdGlscyA9IHJlcXVpcmUoJy4vUGF0dGVyblV0aWxzJyk7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbnZhciBfUm91dGVVdGlscyA9IHJlcXVpcmUoJy4vUm91dGVVdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRDaGlsZFJvdXRlcyhyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBjYWxsYmFjaykge1xuICBpZiAocm91dGUuY2hpbGRSb3V0ZXMpIHtcbiAgICByZXR1cm4gW251bGwsIHJvdXRlLmNoaWxkUm91dGVzXTtcbiAgfVxuICBpZiAoIXJvdXRlLmdldENoaWxkUm91dGVzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIHN5bmMgPSB0cnVlLFxuICAgICAgcmVzdWx0ID0gdm9pZCAwO1xuXG4gIHZhciBwYXJ0aWFsTmV4dFN0YXRlID0ge1xuICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICBwYXJhbXM6IGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcylcbiAgfTtcblxuICB2YXIgcGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiA9ICgwLCBfbWFrZVN0YXRlV2l0aExvY2F0aW9uMi5kZWZhdWx0KShwYXJ0aWFsTmV4dFN0YXRlLCBsb2NhdGlvbik7XG5cbiAgcm91dGUuZ2V0Q2hpbGRSb3V0ZXMocGFydGlhbE5leHRTdGF0ZVdpdGhMb2NhdGlvbiwgZnVuY3Rpb24gKGVycm9yLCBjaGlsZFJvdXRlcykge1xuICAgIGNoaWxkUm91dGVzID0gIWVycm9yICYmICgwLCBfUm91dGVVdGlscy5jcmVhdGVSb3V0ZXMpKGNoaWxkUm91dGVzKTtcbiAgICBpZiAoc3luYykge1xuICAgICAgcmVzdWx0ID0gW2Vycm9yLCBjaGlsZFJvdXRlc107XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2soZXJyb3IsIGNoaWxkUm91dGVzKTtcbiAgfSk7XG5cbiAgc3luYyA9IGZhbHNlO1xuICByZXR1cm4gcmVzdWx0OyAvLyBNaWdodCBiZSB1bmRlZmluZWQuXG59XG5cbmZ1bmN0aW9uIGdldEluZGV4Um91dGUocm91dGUsIGxvY2F0aW9uLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgY2FsbGJhY2spIHtcbiAgaWYgKHJvdXRlLmluZGV4Um91dGUpIHtcbiAgICBjYWxsYmFjayhudWxsLCByb3V0ZS5pbmRleFJvdXRlKTtcbiAgfSBlbHNlIGlmIChyb3V0ZS5nZXRJbmRleFJvdXRlKSB7XG4gICAgdmFyIHBhcnRpYWxOZXh0U3RhdGUgPSB7XG4gICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICBwYXJhbXM6IGNyZWF0ZVBhcmFtcyhwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcylcbiAgICB9O1xuXG4gICAgdmFyIHBhcnRpYWxOZXh0U3RhdGVXaXRoTG9jYXRpb24gPSAoMCwgX21ha2VTdGF0ZVdpdGhMb2NhdGlvbjIuZGVmYXVsdCkocGFydGlhbE5leHRTdGF0ZSwgbG9jYXRpb24pO1xuXG4gICAgcm91dGUuZ2V0SW5kZXhSb3V0ZShwYXJ0aWFsTmV4dFN0YXRlV2l0aExvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcbiAgICAgIGNhbGxiYWNrKGVycm9yLCAhZXJyb3IgJiYgKDAsIF9Sb3V0ZVV0aWxzLmNyZWF0ZVJvdXRlcykoaW5kZXhSb3V0ZSlbMF0pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHJvdXRlLmNoaWxkUm91dGVzKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXRobGVzcyA9IHJvdXRlLmNoaWxkUm91dGVzLmZpbHRlcihmdW5jdGlvbiAoY2hpbGRSb3V0ZSkge1xuICAgICAgICByZXR1cm4gIWNoaWxkUm91dGUucGF0aDtcbiAgICAgIH0pO1xuXG4gICAgICAoMCwgX0FzeW5jVXRpbHMubG9vcEFzeW5jKShwYXRobGVzcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgICAgICBnZXRJbmRleFJvdXRlKHBhdGhsZXNzW2luZGV4XSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcbiAgICAgICAgICBpZiAoZXJyb3IgfHwgaW5kZXhSb3V0ZSkge1xuICAgICAgICAgICAgdmFyIHJvdXRlcyA9IFtwYXRobGVzc1tpbmRleF1dLmNvbmNhdChBcnJheS5pc0FycmF5KGluZGV4Um91dGUpID8gaW5kZXhSb3V0ZSA6IFtpbmRleFJvdXRlXSk7XG4gICAgICAgICAgICBkb25lKGVycm9yLCByb3V0ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJvdXRlcykge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByb3V0ZXMpO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSBlbHNlIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2lnblBhcmFtcyhwYXJhbXMsIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzKSB7XG4gIHJldHVybiBwYXJhbU5hbWVzLnJlZHVjZShmdW5jdGlvbiAocGFyYW1zLCBwYXJhbU5hbWUsIGluZGV4KSB7XG4gICAgdmFyIHBhcmFtVmFsdWUgPSBwYXJhbVZhbHVlcyAmJiBwYXJhbVZhbHVlc1tpbmRleF07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXNbcGFyYW1OYW1lXSkpIHtcbiAgICAgIHBhcmFtc1twYXJhbU5hbWVdLnB1c2gocGFyYW1WYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwYXJhbU5hbWUgaW4gcGFyYW1zKSB7XG4gICAgICBwYXJhbXNbcGFyYW1OYW1lXSA9IFtwYXJhbXNbcGFyYW1OYW1lXSwgcGFyYW1WYWx1ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCBwYXJhbXMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJhbXMocGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpIHtcbiAgcmV0dXJuIGFzc2lnblBhcmFtcyh7fSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpO1xufVxuXG5mdW5jdGlvbiBtYXRjaFJvdXRlRGVlcChyb3V0ZSwgbG9jYXRpb24sIHJlbWFpbmluZ1BhdGhuYW1lLCBwYXJhbU5hbWVzLCBwYXJhbVZhbHVlcywgY2FsbGJhY2spIHtcbiAgdmFyIHBhdHRlcm4gPSByb3V0ZS5wYXRoIHx8ICcnO1xuXG4gIGlmIChwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICBwYXJhbU5hbWVzID0gW107XG4gICAgcGFyYW1WYWx1ZXMgPSBbXTtcbiAgfVxuXG4gIC8vIE9ubHkgdHJ5IHRvIG1hdGNoIHRoZSBwYXRoIGlmIHRoZSByb3V0ZSBhY3R1YWxseSBoYXMgYSBwYXR0ZXJuLCBhbmQgaWZcbiAgLy8gd2UncmUgbm90IGp1c3Qgc2VhcmNoaW5nIGZvciBwb3RlbnRpYWwgbmVzdGVkIGFic29sdXRlIHBhdGhzLlxuICBpZiAocmVtYWluaW5nUGF0aG5hbWUgIT09IG51bGwgJiYgcGF0dGVybikge1xuICAgIHRyeSB7XG4gICAgICB2YXIgbWF0Y2hlZCA9ICgwLCBfUGF0dGVyblV0aWxzLm1hdGNoUGF0dGVybikocGF0dGVybiwgcmVtYWluaW5nUGF0aG5hbWUpO1xuICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkLnJlbWFpbmluZ1BhdGhuYW1lO1xuICAgICAgICBwYXJhbU5hbWVzID0gW10uY29uY2F0KHBhcmFtTmFtZXMsIG1hdGNoZWQucGFyYW1OYW1lcyk7XG4gICAgICAgIHBhcmFtVmFsdWVzID0gW10uY29uY2F0KHBhcmFtVmFsdWVzLCBtYXRjaGVkLnBhcmFtVmFsdWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgIH1cblxuICAgIC8vIEJ5IGFzc3VtcHRpb24sIHBhdHRlcm4gaXMgbm9uLWVtcHR5IGhlcmUsIHdoaWNoIGlzIHRoZSBwcmVyZXF1aXNpdGUgZm9yXG4gICAgLy8gYWN0dWFsbHkgdGVybWluYXRpbmcgYSBtYXRjaC5cbiAgICBpZiAocmVtYWluaW5nUGF0aG5hbWUgPT09ICcnKSB7XG4gICAgICB2YXIgX3JldDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHtcbiAgICAgICAgICByb3V0ZXM6IFtyb3V0ZV0sXG4gICAgICAgICAgcGFyYW1zOiBjcmVhdGVQYXJhbXMocGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgZ2V0SW5kZXhSb3V0ZShyb3V0ZSwgbG9jYXRpb24sIHBhcmFtTmFtZXMsIHBhcmFtVmFsdWVzLCBmdW5jdGlvbiAoZXJyb3IsIGluZGV4Um91dGUpIHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5kZXhSb3V0ZSkpIHtcbiAgICAgICAgICAgICAgdmFyIF9tYXRjaCRyb3V0ZXM7XG5cbiAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoaW5kZXhSb3V0ZS5ldmVyeShmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXJvdXRlLnBhdGg7XG4gICAgICAgICAgICAgIH0pLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAoX21hdGNoJHJvdXRlcyA9IG1hdGNoLnJvdXRlcykucHVzaC5hcHBseShfbWF0Y2gkcm91dGVzLCBpbmRleFJvdXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXhSb3V0ZSkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gKDAsIF9yb3V0ZXJXYXJuaW5nMi5kZWZhdWx0KSghaW5kZXhSb3V0ZS5wYXRoLCAnSW5kZXggcm91dGVzIHNob3VsZCBub3QgaGF2ZSBwYXRocycpIDogdm9pZCAwO1xuICAgICAgICAgICAgICBtYXRjaC5yb3V0ZXMucHVzaChpbmRleFJvdXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgbWF0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2OiB2b2lkIDBcbiAgICAgICAgfTtcbiAgICAgIH0oKTtcblxuICAgICAgaWYgKCh0eXBlb2YgX3JldDIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQyKSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0Mi52O1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZW1haW5pbmdQYXRobmFtZSAhPSBudWxsIHx8IHJvdXRlLmNoaWxkUm91dGVzKSB7XG4gICAgLy8gRWl0aGVyIGEpIHRoaXMgcm91dGUgbWF0Y2hlZCBhdCBsZWFzdCBzb21lIG9mIHRoZSBwYXRoIG9yIGIpXG4gICAgLy8gd2UgZG9uJ3QgaGF2ZSB0byBsb2FkIHRoaXMgcm91dGUncyBjaGlsZHJlbiBhc3luY2hyb25vdXNseS4gSW5cbiAgICAvLyBlaXRoZXIgY2FzZSBjb250aW51ZSBjaGVja2luZyBmb3IgbWF0Y2hlcyBpbiB0aGUgc3VidHJlZS5cbiAgICB2YXIgb25DaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIG9uQ2hpbGRSb3V0ZXMoZXJyb3IsIGNoaWxkUm91dGVzKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZFJvdXRlcykge1xuICAgICAgICAvLyBDaGVjayB0aGUgY2hpbGQgcm91dGVzIHRvIHNlZSBpZiBhbnkgb2YgdGhlbSBtYXRjaC5cbiAgICAgICAgbWF0Y2hSb3V0ZXMoY2hpbGRSb3V0ZXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoZXJyb3IsIG1hdGNoKSB7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgLy8gQSBjaGlsZCByb3V0ZSBtYXRjaGVkISBBdWdtZW50IHRoZSBtYXRjaCBhbmQgcGFzcyBpdCB1cCB0aGUgc3RhY2suXG4gICAgICAgICAgICBtYXRjaC5yb3V0ZXMudW5zaGlmdChyb3V0ZSk7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtYXRjaCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc3VsdCA9IGdldENoaWxkUm91dGVzKHJvdXRlLCBsb2NhdGlvbiwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIG9uQ2hpbGRSb3V0ZXMpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIG9uQ2hpbGRSb3V0ZXMuYXBwbHkodW5kZWZpbmVkLCByZXN1bHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgbWF0Y2hlcyB0aGUgZ2l2ZW4gbG9jYXRpb24gdG8gYSBzZXQgb2Ygcm91dGVzIGFuZCBjYWxsc1xuICogY2FsbGJhY2soZXJyb3IsIHN0YXRlKSB3aGVuIGZpbmlzaGVkLiBUaGUgc3RhdGUgb2JqZWN0IHdpbGwgaGF2ZSB0aGVcbiAqIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqIC0gcm91dGVzICAgICAgIEFuIGFycmF5IG9mIHJvdXRlcyB0aGF0IG1hdGNoZWQsIGluIGhpZXJhcmNoaWNhbCBvcmRlclxuICogLSBwYXJhbXMgICAgICAgQW4gb2JqZWN0IG9mIFVSTCBwYXJhbWV0ZXJzXG4gKlxuICogTm90ZTogVGhpcyBvcGVyYXRpb24gbWF5IGZpbmlzaCBzeW5jaHJvbm91c2x5IGlmIG5vIHJvdXRlcyBoYXZlIGFuXG4gKiBhc3luY2hyb25vdXMgZ2V0Q2hpbGRSb3V0ZXMgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBtYXRjaFJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uLCBjYWxsYmFjaywgcmVtYWluaW5nUGF0aG5hbWUpIHtcbiAgdmFyIHBhcmFtTmFtZXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1s0XTtcbiAgdmFyIHBhcmFtVmFsdWVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbNV07XG5cbiAgaWYgKHJlbWFpbmluZ1BhdGhuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBUT0RPOiBUaGlzIGlzIGEgbGl0dGxlIGJpdCB1Z2x5LCBidXQgaXQgd29ya3MgYXJvdW5kIGEgcXVpcmsgaW4gaGlzdG9yeVxuICAgIC8vIHRoYXQgc3RyaXBzIHRoZSBsZWFkaW5nIHNsYXNoIGZyb20gcGF0aG5hbWVzIHdoZW4gdXNpbmcgYmFzZW5hbWVzIHdpdGhcbiAgICAvLyB0cmFpbGluZyBzbGFzaGVzLlxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICAgICAgcGF0aG5hbWU6ICcvJyArIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgfVxuXG4gICgwLCBfQXN5bmNVdGlscy5sb29wQXN5bmMpKHJvdXRlcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgIG1hdGNoUm91dGVEZWVwKHJvdXRlc1tpbmRleF0sIGxvY2F0aW9uLCByZW1haW5pbmdQYXRobmFtZSwgcGFyYW1OYW1lcywgcGFyYW1WYWx1ZXMsIGZ1bmN0aW9uIChlcnJvciwgbWF0Y2gpIHtcbiAgICAgIGlmIChlcnJvciB8fCBtYXRjaCkge1xuICAgICAgICBkb25lKGVycm9yLCBtYXRjaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIGNhbGxiYWNrKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWFjdC1yb3V0ZXIvbGliL21hdGNoUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3VzZVF1ZXJpZXMgPSByZXF1aXJlKCdoaXN0b3J5L2xpYi91c2VRdWVyaWVzJyk7XG5cbnZhciBfdXNlUXVlcmllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VRdWVyaWVzKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfcm91dGVyV2FybmluZyA9IHJlcXVpcmUoJy4vcm91dGVyV2FybmluZycpO1xuXG52YXIgX3JvdXRlcldhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVyV2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNyZWF0ZUhpc3RvcnkgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGVcbiAqIGhpc3Rvcnkgb2JqZWN0cyB0aGF0IGtub3cgYWJvdXQgcm91dGluZy5cbiAqXG4gKiBFbmhhbmNlcyBoaXN0b3J5IG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBsaXN0ZW4oKGVycm9yLCBuZXh0U3RhdGUpID0+IHt9KVxuICogLSBsaXN0ZW5CZWZvcmVMZWF2aW5nUm91dGUocm91dGUsIChuZXh0TG9jYXRpb24pID0+IHt9KVxuICogLSBtYXRjaChsb2NhdGlvbiwgKGVycm9yLCByZWRpcmVjdExvY2F0aW9uLCBuZXh0U3RhdGUpID0+IHt9KVxuICogLSBpc0FjdGl2ZShwYXRobmFtZSwgcXVlcnksIGluZGV4T25seT1mYWxzZSlcbiAqL1xuZnVuY3Rpb24gdXNlUm91dGVzKGNyZWF0ZUhpc3RvcnkpIHtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfcm91dGVyV2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdgdXNlUm91dGVzYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcmAgaW5zdGVhZC4nKSA6IHZvaWQgMDtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICB2YXIgcm91dGVzID0gX3JlZi5yb3V0ZXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ3JvdXRlcyddKTtcblxuICAgIHZhciBoaXN0b3J5ID0gKDAsIF91c2VRdWVyaWVzMi5kZWZhdWx0KShjcmVhdGVIaXN0b3J5KShvcHRpb25zKTtcbiAgICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KShoaXN0b3J5LCByb3V0ZXMpO1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwgdHJhbnNpdGlvbk1hbmFnZXIpO1xuICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB1c2VSb3V0ZXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVhY3Qtcm91dGVyL2xpYi91c2VSb3V0ZXMuanNcbi8vIG1vZHVsZSBpZCA9IDEzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHdpdGhSb3V0ZXI7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9ob2lzdE5vblJlYWN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG5cbnZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuXG52YXIgX1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vUHJvcFR5cGVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xufVxuXG5mdW5jdGlvbiB3aXRoUm91dGVyKFdyYXBwZWRDb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgdmFyIHdpdGhSZWYgPSBvcHRpb25zICYmIG9wdGlvbnMud2l0aFJlZjtcblxuICB2YXIgV2l0aFJvdXRlciA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdXaXRoUm91dGVyJyxcblxuICAgIGNvbnRleHRUeXBlczogeyByb3V0ZXI6IF9Qcm9wVHlwZXMucm91dGVyU2hhcGUgfSxcbiAgICBwcm9wVHlwZXM6IHsgcm91dGVyOiBfUHJvcFR5cGVzLnJvdXRlclNoYXBlIH0sXG5cbiAgICBnZXRXcmFwcGVkSW5zdGFuY2U6IGZ1bmN0aW9uIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICF3aXRoUmVmID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/ICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShmYWxzZSwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ2B7IHdpdGhSZWY6IHRydWUgfWAgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgd2l0aFJvdXRlcigpIGNhbGwuJykgOiAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgICByZXR1cm4gdGhpcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnByb3BzLnJvdXRlciB8fCB0aGlzLmNvbnRleHQucm91dGVyO1xuICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcm91dGVyOiByb3V0ZXIgfSk7XG5cbiAgICAgIGlmICh3aXRoUmVmKSB7XG4gICAgICAgIHByb3BzLnJlZiA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgX3RoaXMud3JhcHBlZEluc3RhbmNlID0gYztcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHByb3BzKTtcbiAgICB9XG4gIH0pO1xuXG4gIFdpdGhSb3V0ZXIuZGlzcGxheU5hbWUgPSAnd2l0aFJvdXRlcignICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG4gIFdpdGhSb3V0ZXIuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cbiAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyLmRlZmF1bHQpKFdpdGhSb3V0ZXIsIFdyYXBwZWRDb21wb25lbnQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlYWN0LXJvdXRlci9saWIvd2l0aFJvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMTM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucHJpbnRCdWZmZXIgPSBwcmludEJ1ZmZlcjtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbnZhciBfZGlmZiA9IHJlcXVpcmUoJy4vZGlmZicpO1xuXG52YXIgX2RpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfVxuXG4vKipcbiAqIEdldCBsb2cgbGV2ZWwgc3RyaW5nIGJhc2VkIG9uIHN1cHBsaWVkIHBhcmFtc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IGxldmVsIC0gY29uc29sZVtsZXZlbF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gLSBzZWxlY3RlZCBhY3Rpb25cbiAqIEBwYXJhbSB7YXJyYXl9IHBheWxvYWQgLSBzZWxlY3RlZCBwYXlsb2FkXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGxvZyBlbnRyeSB0eXBlXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gbGV2ZWxcbiAqL1xuZnVuY3Rpb24gZ2V0TG9nTGV2ZWwobGV2ZWwsIGFjdGlvbiwgcGF5bG9hZCwgdHlwZSkge1xuICBzd2l0Y2ggKHR5cGVvZiBsZXZlbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobGV2ZWwpKSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiB0eXBlb2YgbGV2ZWxbdHlwZV0gPT09ICdmdW5jdGlvbicgPyBsZXZlbFt0eXBlXS5hcHBseShsZXZlbCwgX3RvQ29uc3VtYWJsZUFycmF5KHBheWxvYWQpKSA6IGxldmVsW3R5cGVdO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBsZXZlbChhY3Rpb24pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbGV2ZWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRpdGxlRm9ybWF0dGVyKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wO1xuICB2YXIgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCB0aW1lLCB0b29rKSB7XG4gICAgdmFyIHBhcnRzID0gWydhY3Rpb24nXTtcbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBwYXJ0cy5wdXNoKCdAICcgKyB0aW1lKTtcbiAgICB9XG4gICAgcGFydHMucHVzaChhY3Rpb24udHlwZSk7XG4gICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcoaW4gJyArIHRvb2sudG9GaXhlZCgyKSArICcgbXMpJyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKCcgJyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByaW50QnVmZmVyKGJ1ZmZlciwgb3B0aW9ucykge1xuICB2YXIgbG9nZ2VyID0gb3B0aW9ucy5sb2dnZXI7XG4gIHZhciBhY3Rpb25UcmFuc2Zvcm1lciA9IG9wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXI7XG4gIHZhciBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPSBvcHRpb25zLnRpdGxlRm9ybWF0dGVyO1xuICB2YXIgdGl0bGVGb3JtYXR0ZXIgPSBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSA6IF9vcHRpb25zJHRpdGxlRm9ybWF0dDtcbiAgdmFyIGNvbGxhcHNlZCA9IG9wdGlvbnMuY29sbGFwc2VkO1xuICB2YXIgY29sb3JzID0gb3B0aW9ucy5jb2xvcnM7XG4gIHZhciBsZXZlbCA9IG9wdGlvbnMubGV2ZWw7XG4gIHZhciBkaWZmID0gb3B0aW9ucy5kaWZmO1xuXG4gIGJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uIChsb2dFbnRyeSwga2V5KSB7XG4gICAgdmFyIHN0YXJ0ZWQgPSBsb2dFbnRyeS5zdGFydGVkO1xuICAgIHZhciBzdGFydGVkVGltZSA9IGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lO1xuICAgIHZhciBhY3Rpb24gPSBsb2dFbnRyeS5hY3Rpb247XG4gICAgdmFyIHByZXZTdGF0ZSA9IGxvZ0VudHJ5LnByZXZTdGF0ZTtcbiAgICB2YXIgZXJyb3IgPSBsb2dFbnRyeS5lcnJvcjtcbiAgICB2YXIgdG9vayA9IGxvZ0VudHJ5LnRvb2s7XG4gICAgdmFyIG5leHRTdGF0ZSA9IGxvZ0VudHJ5Lm5leHRTdGF0ZTtcblxuICAgIHZhciBuZXh0RW50cnkgPSBidWZmZXJba2V5ICsgMV07XG5cbiAgICBpZiAobmV4dEVudHJ5KSB7XG4gICAgICBuZXh0U3RhdGUgPSBuZXh0RW50cnkucHJldlN0YXRlO1xuICAgICAgdG9vayA9IG5leHRFbnRyeS5zdGFydGVkIC0gc3RhcnRlZDtcbiAgICB9XG5cbiAgICAvLyBNZXNzYWdlXG4gICAgdmFyIGZvcm1hdHRlZEFjdGlvbiA9IGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgdmFyIGlzQ29sbGFwc2VkID0gdHlwZW9mIGNvbGxhcHNlZCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbGxhcHNlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH0sIGFjdGlvbikgOiBjb2xsYXBzZWQ7XG5cbiAgICB2YXIgZm9ybWF0dGVkVGltZSA9ICgwLCBfaGVscGVycy5mb3JtYXRUaW1lKShzdGFydGVkVGltZSk7XG4gICAgdmFyIHRpdGxlQ1NTID0gY29sb3JzLnRpdGxlID8gJ2NvbG9yOiAnICsgY29sb3JzLnRpdGxlKGZvcm1hdHRlZEFjdGlvbikgKyAnOycgOiBudWxsO1xuICAgIHZhciB0aXRsZSA9IHRpdGxlRm9ybWF0dGVyKGZvcm1hdHRlZEFjdGlvbiwgZm9ybWF0dGVkVGltZSwgdG9vayk7XG5cbiAgICAvLyBSZW5kZXJcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICAgIGlmIChjb2xvcnMudGl0bGUpIGxvZ2dlci5ncm91cENvbGxhcHNlZCgnJWMgJyArIHRpdGxlLCB0aXRsZUNTUyk7ZWxzZSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQodGl0bGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cCh0aXRsZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmxvZyh0aXRsZSk7XG4gICAgfVxuXG4gICAgdmFyIHByZXZTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW3ByZXZTdGF0ZV0sICdwcmV2U3RhdGUnKTtcbiAgICB2YXIgYWN0aW9uTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbZm9ybWF0dGVkQWN0aW9uXSwgJ2FjdGlvbicpO1xuICAgIHZhciBlcnJvckxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Vycm9yLCBwcmV2U3RhdGVdLCAnZXJyb3InKTtcbiAgICB2YXIgbmV4dFN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbbmV4dFN0YXRlXSwgJ25leHRTdGF0ZScpO1xuXG4gICAgaWYgKHByZXZTdGF0ZUxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLnByZXZTdGF0ZSkgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgnJWMgcHJldiBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5wcmV2U3RhdGUocHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgcHJldlN0YXRlKTtlbHNlIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJ3ByZXYgc3RhdGUnLCBwcmV2U3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25MZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5hY3Rpb24pIGxvZ2dlclthY3Rpb25MZXZlbF0oJyVjIGFjdGlvbicsICdjb2xvcjogJyArIGNvbG9ycy5hY3Rpb24oZm9ybWF0dGVkQWN0aW9uKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkQWN0aW9uKTtlbHNlIGxvZ2dlclthY3Rpb25MZXZlbF0oJ2FjdGlvbicsIGZvcm1hdHRlZEFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yICYmIGVycm9yTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuZXJyb3IpIGxvZ2dlcltlcnJvckxldmVsXSgnJWMgZXJyb3InLCAnY29sb3I6ICcgKyBjb2xvcnMuZXJyb3IoZXJyb3IsIHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGVycm9yKTtlbHNlIGxvZ2dlcltlcnJvckxldmVsXSgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuXG4gICAgaWYgKG5leHRTdGF0ZUxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLm5leHRTdGF0ZSkgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnJWMgbmV4dCBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5uZXh0U3RhdGUobmV4dFN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgbmV4dFN0YXRlKTtlbHNlIGxvZ2dlcltuZXh0U3RhdGVMZXZlbF0oJ25leHQgc3RhdGUnLCBuZXh0U3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChkaWZmKSB7XG4gICAgICAoMCwgX2RpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBsb2dnZXIsIGlzQ29sbGFwc2VkKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmxvZygn4oCU4oCUIGxvZyBlbmQg4oCU4oCUJyk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9jb3JlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGxldmVsOiBcImxvZ1wiLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGxvZ0Vycm9yczogdHJ1ZSxcbiAgY29sbGFwc2VkOiB1bmRlZmluZWQsXG4gIHByZWRpY2F0ZTogdW5kZWZpbmVkLFxuICBkdXJhdGlvbjogZmFsc2UsXG4gIHRpbWVzdGFtcDogdHJ1ZSxcbiAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfSxcbiAgYWN0aW9uVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb247XG4gIH0sXG4gIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH0sXG4gIGNvbG9yczoge1xuICAgIHRpdGxlOiBmdW5jdGlvbiB0aXRsZSgpIHtcbiAgICAgIHJldHVybiBcImluaGVyaXRcIjtcbiAgICB9LFxuICAgIHByZXZTdGF0ZTogZnVuY3Rpb24gcHJldlN0YXRlKCkge1xuICAgICAgcmV0dXJuIFwiIzlFOUU5RVwiO1xuICAgIH0sXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCIjMDNBOUY0XCI7XG4gICAgfSxcbiAgICBuZXh0U3RhdGU6IGZ1bmN0aW9uIG5leHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBcIiM0Q0FGNTBcIjtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgIHJldHVybiBcIiNGMjA0MDRcIjtcbiAgICB9XG4gIH0sXG4gIGRpZmY6IGZhbHNlLFxuICBkaWZmUHJlZGljYXRlOiB1bmRlZmluZWQsXG5cbiAgLy8gRGVwcmVjYXRlZCBvcHRpb25zXG4gIHRyYW5zZm9ybWVyOiB1bmRlZmluZWRcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9kZWZhdWx0cy5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmZMb2dnZXI7XG5cbnZhciBfZGVlcERpZmYgPSByZXF1aXJlKCdkZWVwLWRpZmYnKTtcblxudmFyIF9kZWVwRGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGl0Yml0L2RpZmYjZGlmZmVyZW5jZXNcbnZhciBkaWN0aW9uYXJ5ID0ge1xuICAnRSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdDSEFOR0VEOidcbiAgfSxcbiAgJ04nOiB7XG4gICAgY29sb3I6ICcjNENBRjUwJyxcbiAgICB0ZXh0OiAnQURERUQ6J1xuICB9LFxuICAnRCc6IHtcbiAgICBjb2xvcjogJyNGNDQzMzYnLFxuICAgIHRleHQ6ICdERUxFVEVEOidcbiAgfSxcbiAgJ0EnOiB7XG4gICAgY29sb3I6ICcjMjE5NkYzJyxcbiAgICB0ZXh0OiAnQVJSQVk6J1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHlsZShraW5kKSB7XG4gIHJldHVybiAnY29sb3I6ICcgKyBkaWN0aW9uYXJ5W2tpbmRdLmNvbG9yICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZGlmZikge1xuICB2YXIga2luZCA9IGRpZmYua2luZDtcbiAgdmFyIHBhdGggPSBkaWZmLnBhdGg7XG4gIHZhciBsaHMgPSBkaWZmLmxocztcbiAgdmFyIHJocyA9IGRpZmYucmhzO1xuICB2YXIgaW5kZXggPSBkaWZmLmluZGV4O1xuICB2YXIgaXRlbSA9IGRpZmYuaXRlbTtcblxuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlICdFJzpcbiAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIGxocyArICcg4oaSICcgKyByaHM7XG4gICAgY2FzZSAnTic6XG4gICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyByaHM7XG4gICAgY2FzZSAnRCc6XG4gICAgICByZXR1cm4gJycgKyBwYXRoLmpvaW4oJy4nKTtcbiAgICBjYXNlICdBJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMb2dnZXIocHJldlN0YXRlLCBuZXdTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCkge1xuICB2YXIgZGlmZiA9ICgwLCBfZGVlcERpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV3U3RhdGUpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJ2RpZmYnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmdyb3VwKCdkaWZmJyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygnZGlmZicpO1xuICB9XG5cbiAgaWYgKGRpZmYpIHtcbiAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBraW5kID0gZWxlbS5raW5kO1xuXG4gICAgICB2YXIgb3V0cHV0ID0gcmVuZGVyKGVsZW0pO1xuXG4gICAgICBsb2dnZXIubG9nKCclYyAnICsgZGljdGlvbmFyeVtraW5kXS50ZXh0LCBzdHlsZShraW5kKSwgb3V0cHV0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbm8gZGlmZiDigJTigJQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgZGlmZiBlbmQg4oCU4oCUICcpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcmVkdXgtbG9nZ2VyL2xpYi9kaWZmLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbnZhciBfZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbnZhciBfZGVmYXVsdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmYXVsdHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgbG9nZ2VyIHdpdGggZm9sbG93aW5nIG9wdGlvbnNcbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIGxvZ2dlclxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gb3B0aW9ucy5sZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZHVyYXRpb24gLSBwcmludCBkdXJhdGlvbiBvZiBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy50aW1lc3RhbXAgLSBwcmludCB0aW1lc3RhbXAgd2l0aCBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmNvbG9ycyAtIGN1c3RvbSBjb2xvcnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmxvZ2dlciAtIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgY29uc29sZWAgQVBJXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMubG9nRXJyb3JzIC0gc2hvdWxkIGVycm9ycyBpbiBhY3Rpb24gZXhlY3V0aW9uIGJlIGNhdWdodCwgbG9nZ2VkLCBhbmQgcmUtdGhyb3duP1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmNvbGxhcHNlZCAtIGlzIGdyb3VwIGNvbGxhcHNlZD9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5wcmVkaWNhdGUgLSBjb25kaXRpb24gd2hpY2ggcmVzb2x2ZXMgbG9nZ2VyIGJlaGF2aW9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gc3RhdGUgYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGFjdGlvbiBiZWZvcmUgcHJpbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBlcnJvciBiZWZvcmUgcHJpbnRcbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGxvZ2dlciBtaWRkbGV3YXJlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcigpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgbG9nZ2VyT3B0aW9ucyA9IF9leHRlbmRzKHt9LCBfZGVmYXVsdHMyLmRlZmF1bHQsIG9wdGlvbnMpO1xuXG4gIHZhciBsb2dnZXIgPSBsb2dnZXJPcHRpb25zLmxvZ2dlcjtcbiAgdmFyIHRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy50cmFuc2Zvcm1lcjtcbiAgdmFyIHN0YXRlVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnN0YXRlVHJhbnNmb3JtZXI7XG4gIHZhciBlcnJvclRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyO1xuICB2YXIgcHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5wcmVkaWNhdGU7XG4gIHZhciBsb2dFcnJvcnMgPSBsb2dnZXJPcHRpb25zLmxvZ0Vycm9ycztcbiAgdmFyIGRpZmZQcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLmRpZmZQcmVkaWNhdGU7XG5cbiAgLy8gUmV0dXJuIGlmICdjb25zb2xlJyBvYmplY3QgaXMgbm90IGRlZmluZWRcblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1lcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ09wdGlvbiBcXCd0cmFuc2Zvcm1lclxcJyBpcyBkZXByZWNhdGVkLCB1c2UgXFwnc3RhdGVUcmFuc2Zvcm1lclxcJyBpbnN0ZWFkIScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxuXG4gIHZhciBsb2dCdWZmZXIgPSBbXTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgLy8gRXhpdCBlYXJseSBpZiBwcmVkaWNhdGUgZnVuY3Rpb24gcmV0dXJucyAnZmFsc2UnXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlID09PSAnZnVuY3Rpb24nICYmICFwcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ0VudHJ5ID0ge307XG4gICAgICAgIGxvZ0J1ZmZlci5wdXNoKGxvZ0VudHJ5KTtcblxuICAgICAgICBsb2dFbnRyeS5zdGFydGVkID0gX2hlbHBlcnMudGltZXIubm93KCk7XG4gICAgICAgIGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgbG9nRW50cnkucHJldlN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcbiAgICAgICAgbG9nRW50cnkuYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAobG9nRXJyb3JzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRW50cnkuZXJyb3IgPSBlcnJvclRyYW5zZm9ybWVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nRW50cnkudG9vayA9IF9oZWxwZXJzLnRpbWVyLm5vdygpIC0gbG9nRW50cnkuc3RhcnRlZDtcbiAgICAgICAgbG9nRW50cnkubmV4dFN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcblxuICAgICAgICB2YXIgZGlmZiA9IGxvZ2dlck9wdGlvbnMuZGlmZiAmJiB0eXBlb2YgZGlmZlByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGRpZmZQcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikgOiBsb2dnZXJPcHRpb25zLmRpZmY7XG5cbiAgICAgICAgKDAsIF9jb3JlLnByaW50QnVmZmVyKShsb2dCdWZmZXIsIF9leHRlbmRzKHt9LCBsb2dnZXJPcHRpb25zLCB7IGRpZmY6IGRpZmYgfSkpO1xuICAgICAgICBsb2dCdWZmZXIubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAobG9nRW50cnkuZXJyb3IpIHRocm93IGxvZ0VudHJ5LmVycm9yO1xuICAgICAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTG9nZ2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3JlZHV4LWxvZ2dlci9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHRodW5rO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZWR1eC10aHVuay9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHR9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFlQ0FZQUFBQk5DaHdwQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5RnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU5TMWpNREUwSURjNUxqRTFNVFE0TVN3Z01qQXhNeTh3TXk4eE15MHhNam93T1RveE5TQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTkRJQ2hYYVc1a2IzZHpLU0lnZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRHBGUmpBd1JEVXhRVE00UlRBeE1VVTJRVVJFTUVRM1EwTXdRamxCUkRjMFJpSWdlRzF3VFUwNlJHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEcEZSakF3UkRVeFFqTTRSVEF4TVVVMlFVUkVNRVEzUTBNd1FqbEJSRGMwUmlJK0lEeDRiWEJOVFRwRVpYSnBkbVZrUm5KdmJTQnpkRkpsWmpwcGJuTjBZVzVqWlVsRVBTSjRiWEF1YVdsa09rVkdNREJFTlRFNE16aEZNREV4UlRaQlJFUXdSRGREUXpCQ09VRkVOelJHSWlCemRGSmxaanBrYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2tWR01EQkVOVEU1TXpoRk1ERXhSVFpCUkVRd1JEZERRekJDT1VGRU56UkdJaTgrSUR3dmNtUm1Pa1JsYzJOeWFYQjBhVzl1UGlBOEwzSmtaanBTUkVZK0lEd3ZlRHA0YlhCdFpYUmhQaUE4UDNod1lXTnJaWFFnWlc1a1BTSnlJajgrTWNkZGhRQUFBY2hKUkVGVWVOcmtsN2xMQTBFWXhaTk5GRHN0N08yMHNCQkZWTVRDSTE2VktUd0tHeXY5RDBRRTY5amFXZ1ZCVVR3d2JoT05pcUNGUWNGR0M2MVVzREdOZHFKSWZCKzh3TEN3c3JQSElEandJenV6eDN2emZYTWxidHQyekVCcEFzdGdnUFVUc0FEdWt3YkUyMEVCMUNsdGFkQUx1aXdEQnA3QkM2OGZRQXZJMDFCR0RKUUQ0bFk2d0FoNEJmM2dEalNDRGJESVoxSlJwVURFajBBTjZBSFhOSEVLbXNGbTVVRTFCWEdmdUluWGduMXd3M2FKUko4U0NTa0ZLNktlaS9nV21BYmZ5djJTWXVKZFVoRm1DanJCNFMvaUNkREtkSWlKQnBtR2xrSHhkWERCZ1ZtaWtaaGxTRnhHL2hUNEFHL3F5NVloOFVubVhIcC9HWmFCd09KQkRJUWk3dGRBYU9KU2RLZGhteUwrQlE0Y3k3RlRmQmdVWGI1VjloT0JXekFQbmtBVnA5WTV2Nk1qcnAwQzZYR0tvVjdsVWpySDViV2JVMHhiWE1kQW1udjZEdXVmTkxMRStwb2ZjUjBENC96Tk85cXo0SkZqU1Z2Y3F3RTVPQXd4L0h1T2V4S0pqRjl4cndiR1FEVTQ0eHBlRDJiQkxudWU1ZVpTOUxPZ2VKbUdFMHB2Q3hSTHNFM09kY2ZLbmgrNkFRbi9JSzlIRlNNeUZyYkJWZENkTE9reC9KWGVpMmpPdWFORmFVQWlNQk8ycUk2QmxhalA3Q2IrRi94dEEwbm43dlR2SXZBandBRDVkSk11WWh6WSt3QUFBQUJKUlU1RXJrSmdnZz09XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWFnZXMvRWRpdEVudHJ5LnBuZ1xuLy8gbW9kdWxlIGlkID0gMTQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUM0QUFBQXVDQVlBQUFCWHVTczNBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFCbUpMUjBRQUFBQUFBQUQ1UTd0L0FBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFFbjBsRVFWUm8zczJheTI4YlZSU0h2N2wreFE4YzJ6TXBxZzRGQWpza0hnSUpVS0dsRkZhRkJTcnNvZUloVkNwQWJQZ2JRQUlCUWtXaUNJVjlZZFh1a0tBc2loQVBBVUtzb0VrRlY1VmEyM0dpMkVuOEdMTVlqMnRQYmNmemNNSlB5aUl6OTU3NzNaTjc1NXg3Ymd4Q1NtdGRBQTREOXdNUEFIY0N4ZDVQRXFnQjE0QVY0RGZnQitCckVWa0xNNjRSRURZRkhBZE9BRWVBaEU4VGJlQWI0QXZnckloc3p4UmNhNTBHWGdYZUJtNE80N0VCWFFIZUEwNkx5R2JrNEZycnA0Q1BnZHNqQXZicUwrQk5FVGtmQ1hqUHl4OEFyOHdJMktzendCczdlWDhpdU5aNlAzQU9aK1B0cG40Q25oRVI3UnRjYTcySXM0RnUyMlZvVnl2QVVSRlpuaHBjYTMwTGNBRzRZNCtnWGYwREhCU1JmNzB2MUFqb0RQRGwvd0FhNEFCd3ZzYzBHUnhuSXo0NCtDQ1R5YkN3c0lCU2lsbktNQXhTcVpUMzhUM0FoeFBCdGRiSGdKZTl4ckxaTElsRUFzdXlaZ1p2R0FiRlloSFROSm1ibS9PK2ZrbHIvZlJRK3dIb09lQlBZUEdHMlNtRlpWbkU0M0hhN1RibGNobmJ0aU9EVmtwUktwVklKcFBZdGsybFVxSFZhbm1iclFCM3VaL0pRZmVkSEFVTllOczI1WEtaZHJ0TlBCNlAxUE94V0F6THNrZ21rM1E2SGNybDhpaG9jQUxmeVNHUDk3eDlDZGkvazJlaTlIdzhIc2MwVFdLeEdLMVdpMnExU3FmVG1kVGxLbkJBUkpxdTI0N3ZCQjIxNTVQSkpKWmxFWXZGYURhYlZDcVZuYUFCOWdIUHdmV2xjbUxhQWFPQVQ2VlNtS2FKVW9xdHJTMHFsWXFmdjl3TEFJYldlaDRuWC9hVm1nWmROdWwwbWtLaGdHRVlOQm9OYXJXYXIwa0RMV0NmQXA3d0N4M1U4N2xjam1LeGlHRVliR3hzQklHbXgzcFVBUThINmUwWFBwL1BrOC9uQVZoYlcyTjlmVDNvc0FBSEZYQnZHQXZUd0JjS0JYSzVITjF1bDlYVlZlcjFlcGdoQWU1V1JKQ1RqSU0zRElOU3FVUW1rNkhiN1ZLdFZ0bmNuUHFRTTBtTGh0YTZCc3hIWWMyN1lidmRMb2xFQXR1MnFWYXJOSnZOS0lZQldGZkFUVkZaODNvK2tVajBvMkdFMEFCNXhlZ01NYkRjSmVLcTIrMUdtdGU0WmhVUXFyNHhLRzgwbkVWdTA5TzZ3b24vb1RVcUdzNHFNUU91S1p6a0twVFM2VFNsVXFrZkRhdlZhbitKekFqK2tnTCtDR01obTgxT2pJWXpndjlkQVJlRDlzN244OHpQTzEvU1NkRndCdkRmRzcyaTVWVjg1aXVGUXFFZldHcTEybFNCSmFKOHZnVXNLQkdwQWQ5TzJ5dE1OSXpJOHhkRVpNM3R0VFJORDZWVS96RHJuZzIzdC8wVldpT0FYNExyd2Vjc08zd1dSNTBOZzBiREVQQlhnSy82NENMU0JONGQxOW8xUHJnMjIrMTJJT2lROE8rUE91V2Z4aWtCRE1tdHA3alJzRnd1VDNNMm5BWDhNazZabXlIdzNreE9lVnZIWXJHZ1o4TkE4S1pwRHVVNkEzcGRSTGJjWDI1b29iWCtGRTgxSzVWSytkNkVmdVZ1L0hxOVRxUFI4TDcrWEVSZUhId3dDanlERTVSQ25Zd2kxSS9BRVJFWm1zMmtNdk5GbkdycFhtb1pPRHhWbVJtZzEvQXhSbXpXWGRSbDRNbFIwR1BCZS9ETHdDSGc1ejJBL2hWNFZFVEdacTRUUDV5OTJSNENQdHRGNkRQQUkrTTg3Y3JQZGVFeDRDT2NtK05aNkRKd1NrVE9UZE00eUFYdGE4QmJURkVrblZKWGdYZUFUMlp5UWV1WndCendMUEE4OERnUTkybWloWE01dHNSdVhJbVBtVVFScC83NEVIQWZjQ3V3QUJTQUpzNC9JYXdDZitOczlGK0E3MFJrTmN5NC93RmRvRnZKSXV5bEhnQUFBQUJKUlU1RXJrSmdnZz09XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWFnZXMvY2xvc2UucG5nXG4vLyBtb2R1bGUgaWQgPSAxNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQURvMGxFUVZSNFh1MWJYVTdiUUJDZWNTSHRHK2tKNmtxeDB6ZUNoUE1LM0NBOVFjTUpDaWNvUFFGd0FzSUpTRThBdk1aSXBHK05IYW5oQklTM1lyZWVhdDFZeW8veHJqY0dyREo1akhkblpyOGRlMmEvMlVFbzRGZXJiVzRiaUo4QW9JV0kxUUpFUGlpQ2lNYUFlQkZGMGZGd2VIV3hyQzVjUm9CcE5xcVYxZFZEUkd3dkkwZDNMaEYxZ2pEY0g0MzZZMTBaU3dGZzI4MHpCR2pwS2k5aUhnRjBQYS8zVVZlV05nQ1c1YlFOeEJOZHhVWE9pNGgyZmQvdDZNalVCcUJ1TjM4Q2dEbW45QWFJdW9TbzdaSlppMENpS2lBS2ozczNOMjQwOEhydm53d0F5M0lhQnVMMWpFS2l5L3N3YkMzelBxb3VvRzQ1RjRDNE5UMCtJdHJ3ZmJldktpTVpwK1VCNHF2L3lqRE9wNVVSd0VmUDYzWHpHcUF6M3JhYkxRUTRtNTc3SjRwMmRLSkNZUURvR3FBRFFOb0c2T3BuQUo1N0I1NWJQM3VBMklHNjVYeW1QQ2tza1RtZi9ZbXNEQkJIT2p1YWUwNEIrcEZvUFBEZFk3UXRwNFAvOHZnWDl5T2lVd0hBN1dNZllNcUtyRGhZb1cwMyt3aXdYbFlqSDlNdUF2aU9JcXREeE01TEEwRXNub2phV2xIZ01YZmxxV1V6QUUrTmVObjBzUWVvN2toOEJBYll3akQ4OW1QVVYwNTR4RHdpV0JzTzNVdFZYV0pjcmVac0ljSmRuaU91b09oV1ZsYlhWMzZITjZvMktubkFOUHNqWWljQjdLZ1labHZPU1pJeEVsRS9DTU1kR1Y4dzRSblBFYkVoZ0JBWnB1ZTd1ekx3NG1nR0lPYkZwS3dxUzZRRWdHMDUxNGxCRTZOT1BkL05KRUxGUWw1WEtyZDVPWU0wcXUwK0NON0tnSnZQYUFYZ251OXV5SUJUQXFCdU4ybEdFTkhsd0hlM3M0US9RSnA4OWJ6ZVFkWTgyMjRlSU1DWHZHUkhHa3MwOEhyUzlVa0h4SWNsQm9BOWdGOEIvZ2JNZk03NUk4aFJnTU1nNXdHY0NIRW15S2x3QmdKOEZraXZJUE5oaUUrRGZCeG1Qb0FKRVdhRU1oQmdTb3c1UVNaRm1SVm1XdngvcUF2b1ZvYlNib0dxVklaS1Z4Z1JrVzRtcENsVWs1TG9PTDBZQXBBZW9PTGlUY3I5NFdldERDV0xFWjd3QnFDcVdxMU41bjB3RytZdmdMR3NKcGdHV3ZKZktRQ1FGU2VMZWw1YUR5aHFnVEk1REVCWnZ3R3luU3ZxT1hzQWU4QmlHMDFoVVdEaE9tMk9tRjZVaTh2a3pMOEM0aWFvNS9YaWUwWlpQN1ViSWdVMktja00wbm1lUnNHRDRpYXBBVkRiM0FQRE9KdzNUalF0QWtEdVRpMmRSV2JNRWJmREZwczNvMmgvTUx3Nmt1bFNBbUJ5ZFcyRWlHc3lnV1Y0VGtSM1FSaWFLbG1rRWdDVHZINmhWYTBNaTAyeklVOExueklBQ1FoQUpEcE1TdWtKWXVjQnNaMm5mekVYQUFLRStIV29WUGJpVnZtU05GcUlMejRBZElNZ09GSngrMm12K1F2ZkoyUU5CMXpsckFBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2ltYWdlcy9kZWxldGUucG5nXG4vLyBtb2R1bGUgaWQgPSAxNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQzRBQUFBdENBWUFBQURSTFZtWkFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBQUFBQUFBRDVRN3QvQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUVRVWxFUVZSbzNzMlpYWWhWVlJUSGYzY01telNWR3JXSEdxUEphQkxwT3lQeURFWWZLQkZGVkV4UkNrV1lUeG5SNkt5WHZ1ei9Fa1JJOVdDRmZSRkpocFBnbTJGeUZMUmlzaTh6RUhVd3BxSXA5V3JtYU0zMHNOZHhqamZIT2VmZU8zZnVlbG1zemY3NG5iM1gzV3V2ZFF0VUtHWjJEakFaT0F2b0I0cVNqbGM2NzBoU0tBUDBRdUJXNEhxZ0ZUaS9wTXNnOEF2d0xmQUY4TG1rNHBpQm05bE53RUlIenZQQng0R053R3BKZTJzR2JtYk53SExneGxUejMwQTNzQVBZQnh3Z3VNa0VvQW00RExnT21BMDArSmdCWUMzd2hxUWpvd3B1Wmd1QVRnY0MyQXU4RDJ5VWREVERSMDhEN2dZZUJLWjRjeSt3VE5LUG93SnVab3VCeDkwOERMd0dySk0wa0hjUk01c0lMQWJhQ1Nkd0RPaVVGRmNWM015V0FJKzV1UXZva05SYnlRNzV2RzNBQ3NJSm5nQ2VrclN0S3VCbWRpZnd2SnZkd05Jc2JwRURmaWF3RXBoTzJQbUZrdlpVQkc1bU00QVBnVVpnSi9CRU5hRkw0TjhDemdYMkFBL252ZnNiU3V4T2h5NEN5MGNER2tEU2J1Qlp3cDNmQWl6S084ZEpjRE83R2JqQnpWWFY4T2tSNERjRG05eGNaR2JubFFVT1BPcjZaK0NUMFlST3lldkF2NFJUYnM4TmJtWXR3RlhldGtyU2lWcFFTK29CTnJoNWw1azFaQjJiZEp6bitpL2dzMXBBcDZUTDlYVGd5cnpnaVc5dmw5UmZZL0R2Z0lNbEhKbkJXMTN2cURFMGtnWlQ2N1ptSGRmZ3YrWkpidStyTlhqSnVzMlp3Umw2L0FEMGpSSDRuNjZuWkIzUVFNaGNFcW5KYlhJYVNhTG0yWG5BMDZGMi9CaUJKK3NleXdOK01HVlBHeVB3cWE0UFpRYjNmREFaMERKRzRNbTZQWm5CWGYvZyt1cGFFM3UwVEFMUHpyemdYN21lWTJZVHNnNnVrbHhMS0c4QWZKa1hmQlBoaWRrSXpLOHgrRDJ1ZThtNzQ1TDJFMm9nQUkrWTJiaGFFSHVONW5ZM3V6eUtaZ2QzZWR0MU16bWZtQlhJMDhBNFFqTCtjWjZCSjhFbGRRT2IzVnhpWnBlTUpySG50bTF1dmlucGNGbmdMaThUMHJaRzRKVzhXVWtPNk5tRU5CSENGYmdtN3h5bmdFdjZsWkRoRHhCY1ptVzE0YzFzRnZDcWJ3N0FERUxSS0pmODcwY1l4M0ZQRkVVSGdMbUVTSHBMRkVWZngzSDhSeFdnYnlPYzZxUlVjd0dZRzBWUlh4ekh1N0xPZGFaSzFrUEFVb2JlTTZ1Qjk4cEpOTXhzS3ZBa3NNQ2Jpc0EyNEk1VXQwRkFrdFpWQk80TFJzQnpERDAzKzRDUGdBMlNmczhBUEJPNGwrQUt5Y3R2TjlBQjdBZWVBUjRvQno1THRiYkpkMzUrcXY4QW9UVDNEYUVRZWdnNENrd0VMZ0F1SlVURWkxSlQ5UVB2QU84bXhSOHpLd3dELzVLa3JvckFVeDl3T2FGd000OTh6OThpc0I3NFFGTGZhZVlkRG42RnBFOHJCazh0TkJtSWdEbUVPdmpGbkpvQUZBbFgzUGVFYUx4OXBQS2F3M2NBOTJlRnp3MCt6TUxqQ2RmYmtYTEswT1hBVndXOFd1THd5NEQ3U3VCZmxMUSszYmNtajZtc0VzY3hVUlJ0SmZ3aE5zdWJDMEJiRkVXL3hYSDhVMTJDbDhBM2xjQkhhZmk2QTg4S1gxYytYaXJ1ODUyRUlKYklBUEJDWGU1NElyN3pXd2hWZ0N1OHVRQmNVOWZnWjRCZlU5ZXVraFozbTNiZ0gyRHRmN1FPYkt1R0Z1R1BBQUFBQUVsRlRrU3VRbUNDXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWFnZXMvc2VhcmNoLnBuZ1xuLy8gbW9kdWxlIGlkID0gMTQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbihzZWxmKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6ICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmICdCbG9iJyBpbiBzZWxmICYmIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgICBdXG5cbiAgICB2YXIgaXNEYXRhVmlldyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXIuaXNWaWV3IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcmF0b3JcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgfSwgdGhpcylcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlKycsJyt2YWx1ZSA6IHZhbHVlXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKG5hbWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsgaXRlbXMucHVzaCh2YWx1ZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICAgIH1cbiAgICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgICAgfVxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICAgIGlmIChidWYuc2xpY2UpIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbiAgdmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiAobWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEpID8gdXBjYXNlZCA6IG1ldGhvZFxuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnVybCA9IGlucHV0XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgICAgfVxuICAgICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICAgIH1cbiAgICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIHJhd0hlYWRlcnMuc3BsaXQoJ1xcclxcbicpLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3doYXR3Zy1mZXRjaC9mZXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gMTUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRydWVcIlxuLy8gbW9kdWxlIGlkID0gMTUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=