{"version":3,"sources":["webpack:///0.94195106a7eb7460f100.hot-update.js","webpack:///./src/javascripts/containers/AccountEdit.js?d4cf"],"names":["webpackHotUpdate","92","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","mapStateToProps","state","userInfo","account","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactRouter","_config","_reactRedux","_account","AccountEdit","_Component","this","_this","getPrototypeOf","company","user_company","job","user_position","experience","user_experience","introduction","user_introduction","handleSubmit","bind","routerWillLeave","nextLocation","now","previous","console","log","tutorInfo","router","setRouteLeaveHook","route","editUserInfo","browserHistory","push","pathname","baseUrl","_this2","createElement","className","src","user_face","user_name","placeholder","onChange","e","setState","onClick","Component","withRouter","connect"],"mappings":"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","file":"0.94195106a7eb7460f100.hot-update.js","sourcesContent":["webpackHotUpdate(0,{\n\n/***/ 92:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(6);\n\t\n\tvar _config = __webpack_require__(5);\n\t\n\tvar _reactRedux = __webpack_require__(7);\n\t\n\tvar _account = __webpack_require__(12);\n\t\n\t__webpack_require__(156);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by zhushihao on 2016/6/24.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t\n\tvar AccountEdit = function (_Component) {\n\t  _inherits(AccountEdit, _Component);\n\t\n\t  function AccountEdit(props) {\n\t    _classCallCheck(this, AccountEdit);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AccountEdit).call(this, props));\n\t\n\t    _this.state = {\n\t      company: _this.props.userInfo.user_company,\n\t      job: _this.props.userInfo.user_position,\n\t      experience: _this.props.userInfo.user_experience,\n\t      introduction: _this.props.userInfo.user_introduction\n\t    };\n\t    _this.handleSubmit = _this.handleSubmit.bind(_this);\n\t    _this.routerWillLeave = _this.routerWillLeave.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AccountEdit, [{\n\t    key: 'routerWillLeave',\n\t    value: function routerWillLeave(nextLocation) {\n\t      // return false to prevent a transition w/o prompting the user,\n\t      // or return a string to allow the user to decide:\n\t      if (nextLocation.state == 'okay') {\n\t        return true;\n\t      }\n\t      var now = this.state;\n\t      var previous = this.props.userInfo;\n\t      if (now.company != previous.user_company || now.job != previous.user_position || now.introduction != previous.user_introduction) {\n\t        return '您所编辑的页面尚未保存，确认离开?';\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      // const {id} = this.props.params\n\t      // this.props.dispatch((id))\n\t      console.log(\"questionInfo===\" + this.props.tutorInfo);\n\t      this.props.router.setRouteLeaveHook(this.props.route, this.routerWillLeave);\n\t    }\n\t  }, {\n\t    key: 'handleSubmit',\n\t    value: function handleSubmit() {\n\t      this.props.editUserInfo(this.state.company, this.state.job, this.state.experience, this.state.introduction);\n\t      _reactRouter.browserHistory.push({ pathname: _config.baseUrl + \"account/IAskedList\", state: 'okay' });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var userInfo = this.props.userInfo;\n\t\n\t      return _react2.default.createElement(\n\t        'main',\n\t        { className: 'user edit' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'user-card-bg' },\n\t          _react2.default.createElement('img', { src: userInfo.user_face })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'user-card' },\n\t          _react2.default.createElement('img', { className: 'avatar', src: userInfo.user_face }),\n\t          _react2.default.createElement(\n\t            'h3',\n\t            { className: 'name' },\n\t            userInfo.user_name\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'form-group' },\n\t            _react2.default.createElement(\n\t              'label',\n\t              null,\n\t              '工作单位/学校：'\n\t            ),\n\t            _react2.default.createElement('input', {\n\t              placeholder: '您所在的公司/学校',\n\t              value: this.state.company,\n\t              onChange: function onChange(e) {\n\t                _this2.setState({ company: e.target.value });\n\t              }\n\t            })\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'form-group' },\n\t            _react2.default.createElement(\n\t              'label',\n\t              null,\n\t              '职  业/年  级：'\n\t            ),\n\t            _react2.default.createElement('input', {\n\t              placeholder: '输入您的职业类型',\n\t              value: this.state.job,\n\t              onChange: function onChange(e) {\n\t                _this2.setState({ job: e.target.value });\n\t              }\n\t            })\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'form-group self-intro-text' },\n\t            _react2.default.createElement(\n\t              'label',\n\t              null,\n\t              '您  的 介  绍： '\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'count' },\n\t              this.state.introduction.length,\n\t              ' / 100'\n\t            ),\n\t            _react2.default.createElement('textarea', {\n\t              placeholder: '写点什么让大家更了解你吧~',\n\t              value: this.state.introduction,\n\t              onChange: function onChange(e) {\n\t                if (e.target.value.length < 101 || e.target.value.length - _this2.state.introduction.length < 0) {\n\t                  _this2.setState({ introduction: e.target.value });\n\t                }\n\t              }\n\t            })\n\t          ),\n\t          _react2.default.createElement(\n\t            'a',\n\t            { className: 'bottom-btn', onClick: this.handleSubmit },\n\t            '完成'\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return AccountEdit;\n\t}(_react.Component);\n\t\n\tAccountEdit = (0, _reactRouter.withRouter)(AccountEdit);\n\t\n\tfunction mapStateToProps(state) {\n\t  return {\n\t    userInfo: state.account.userInfo\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, { editUserInfo: _account.editUserInfo })(AccountEdit);\n\n/***/ }\n\n})\n\n\n/** WEBPACK FOOTER **\n ** 0.94195106a7eb7460f100.hot-update.js\n **/","/**\r\n * Created by zhushihao on 2016/6/24.\r\n */\r\nimport React, {Component, PropTypes} from 'react'\r\nimport {browserHistory, withRouter} from 'react-router'\r\nimport {baseUrl} from '../api/config'\r\nimport {connect} from 'react-redux'\r\nimport {editUserInfo} from '../actions/account';\r\nimport '../../stylesheets/partials/modules/AccountEdit.scss'\r\n\r\nclass AccountEdit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      company: this.props.userInfo.user_company,\r\n      job: this.props.userInfo.user_position,\r\n      experience: this.props.userInfo.user_experience,\r\n      introduction: this.props.userInfo.user_introduction\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.routerWillLeave = this.routerWillLeave.bind(this);\r\n  }\r\n  routerWillLeave(nextLocation) {\r\n    // return false to prevent a transition w/o prompting the user,\r\n    // or return a string to allow the user to decide:\r\n\tif(nextLocation.state == 'okay'){\r\n\t\treturn true;\r\n\t}\r\n    const now = this.state;\r\n    const previous = this.props.userInfo;\r\n    if(now.company != previous.user_company || now.job != previous.user_position || now.introduction != previous.user_introduction){\r\n      return '您所编辑的页面尚未保存，确认离开?'\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    // const {id} = this.props.params\r\n    // this.props.dispatch((id))\r\n    console.log(\"questionInfo===\" + this.props.tutorInfo)\r\n    this.props.router.setRouteLeaveHook(this.props.route, this.routerWillLeave)\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.props.editUserInfo(this.state.company, this.state.job, this.state.experience, this.state.introduction);\r\n    browserHistory.push({pathname:baseUrl + \"account/IAskedList\", state:'okay'});\r\n  }\r\n\r\n  render() {\r\n    const {userInfo} = this.props;\r\n    return (\r\n      <main className=\"user edit\">\r\n        <div className=\"user-card-bg\">\r\n          <img src={userInfo.user_face}/>\r\n        </div>\r\n        <div className=\"user-card\">\r\n          <img className=\"avatar\" src={userInfo.user_face}/>\r\n          <h3 className=\"name\">\r\n            { userInfo.user_name }\r\n          </h3>\r\n          <div className=\"form-group\">\r\n            <label>工作单位/学校：</label>\r\n            <input\r\n              placeholder=\"您所在的公司/学校\"\r\n              value={this.state.company}\r\n              onChange={(e)=>{this.setState({company: e.target.value})}}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>职  业/年  级：</label>\r\n            <input\r\n              placeholder=\"输入您的职业类型\"\r\n              value={this.state.job}\r\n              onChange={(e)=>{this.setState({job: e.target.value})}}\r\n            />\r\n          </div>\r\n          <div className=\"form-group self-intro-text\">\r\n            <label>您  的 介  绍： </label>\r\n            <div className=\"count\">{this.state.introduction.length} / 100</div>\r\n            <textarea\r\n              placeholder=\"写点什么让大家更了解你吧~\"\r\n              value={this.state.introduction}\r\n              onChange={(e)=>{\r\n                  if(e.target.value.length < 101 || e.target.value.length - this.state.introduction.length < 0){\r\n                    this.setState({introduction: e.target.value})\r\n                  }\r\n                }}\r\n            />\r\n          </div>\r\n          <a className=\"bottom-btn\" onClick={this.handleSubmit}>完成</a>\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n}\r\nAccountEdit = withRouter(AccountEdit)\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    userInfo: state.account.userInfo\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps, {editUserInfo}\r\n)(AccountEdit)\n\n\n/** WEBPACK FOOTER **\n ** ./src/javascripts/containers/AccountEdit.js\n **/"],"sourceRoot":""}